/*! For license information please see main.e996c8c2.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},39:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=r(4421)},61:e=>{e.exports=function(e,t){return e<t}},143:e=>{var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},149:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}},219:(e,t,r)=>{"use strict";var n=r(3763),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return n.isMemo(e)?i:s[e.$$typeof]||o}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=i;var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,r,n){if("string"!==typeof r){if(f){var o=h(r);o&&o!==f&&e(t,o,n)}var i=d(r);u&&(i=i.concat(u(r)));for(var s=l(t),m=l(r),g=0;g<i.length;++g){var v=i[g];if(!a[v]&&(!n||!n[v])&&(!m||!m[v])&&(!s||!s[v])){var x=p(r,v);try{c(t,v,x)}catch(b){}}}}return t}},320:e=>{e.exports=function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},438:(e,t,r)=>{var n=r(2622);e.exports=function(e){return n(this,e).get(e)}},457:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n.A});var n=r(7868)},528:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler");Symbol.for("react.provider");var s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case i:case a:case d:case u:case f:return e;default:switch(e=e&&e.$$typeof){case l:case c:case h:case p:case s:return e;default:return t}}case n:return t}}}t.vM=c,t.lD=p},539:(e,t,r)=>{var n=r(9742),o=r(7498),a=r(3279);e.exports=function(e){return e&&e.length?n(e,a,o):void 0}},579:(e,t,r)=>{"use strict";e.exports=r(1153)},620:(e,t,r)=>{var n=r(6913),o=r(4052),a=r(2761);e.exports=function(e){return"string"==typeof e||!o(e)&&a(e)&&"[object String]"==n(e)}},643:(e,t,r)=>{var n=r(7676)("toUpperCase");e.exports=n},644:e=>{e.exports=function(e){return e!==e}},697:(e,t,r)=>{"use strict";var n=r(4994);t.A=void 0;var o=n(r(39)),a=r(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline")},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},715:e=>{var t="\\ud800-\\udfff",r="["+t+"]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",a="[^"+t+"]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+n+"|"+o+")"+"?",c="[\\ufe0e\\ufe0f]?",d=c+l+("(?:\\u200d(?:"+[a,i,s].join("|")+")"+c+l+")*"),u="(?:"+[a+n+"?",n,i,s,r].join("|")+")",p=RegExp(o+"(?="+o+")|"+u+d,"g");e.exports=function(e){return e.match(p)||[]}},755:(e,t,r)=>{var n=r(8895),o=r(7116);e.exports=function e(t,r,a,i,s){var l=-1,c=t.length;for(a||(a=o),s||(s=[]);++l<c;){var d=t[l];r>0&&a(d)?r>1?e(d,r-1,a,i,s):n(s,d):i||(s[s.length]=d)}return s}},793:e=>{e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},801:(e,t,r)=>{var n=r(1141),o=r(6686),a=r(9841),i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=s.test(e);return r||l.test(e)?c(e.slice(2),r?2:8):i.test(e)?NaN:+e}},869:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});r(5043);var n=r(3290),o=r(579);function a(e){const{styles:t,defaultTheme:r={}}=e,a="function"===typeof t?e=>{return t(void 0===(n=e)||null===n||0===Object.keys(n).length?r:e);var n}:t;return(0,o.jsx)(n.mL,{styles:a})}},914:(e,t,r)=>{var n=r(9841);e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},918:(e,t,r)=>{"use strict";function n(e){var t=Object.create(null);return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}r.d(t,{A:()=>n})},929:(e,t,r)=>{var n=r(3211),o=r(6571),a=r(9194),i=r(6686);e.exports=function(e,t,r){if(!i(r))return!1;var s=typeof t;return!!("number"==s?o(r)&&a(t,r.length):"string"==s&&t in r)&&n(r[t],e)}},950:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=r(3468).A},977:(e,t,r)=>{"use strict";var n=r(4994);t.A=void 0;var o=n(r(39)),a=r(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8z"}),"ArrowDownward")},1052:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(5043);function o(e){let{controlled:t,default:r,name:o,state:a="value"}=e;const{current:i}=n.useRef(void 0!==t),[s,l]=n.useState(r);return[i?t:s,n.useCallback((e=>{i||l(e)}),[])]}},1069:(e,t,r)=>{var n=r(8541);e.exports=function(e){return null==e?"":n(e)}},1132:(e,t,r)=>{"use strict";var n=r(4994);t.A=void 0;var o=n(r(39)),a=r(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download")},1141:(e,t,r)=>{var n=r(143),o=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(o,""):e}},1143:(e,t,r)=>{var n=r(3028)(Object.keys,Object);e.exports=n},1153:(e,t,r)=>{"use strict";var n=r(5043),o=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,a={},c=null,d=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,n)&&!l.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===a[n]&&(a[n]=t[n]);return{$$typeof:o,type:e,key:c,ref:d,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},1170:e=>{e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},1188:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,r))}},1268:(e,t,r)=>{var n=r(5428),o=r(7574),a=r(6832),i=a&&a.isTypedArray,s=i?o(i):n;e.exports=s},1310:e=>{e.exports=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}},1337:(e,t,r)=>{"use strict";var n=r(4994);t.A=void 0;var o=n(r(39)),a=r(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore")},1338:(e,t,r)=>{"use strict";var n=r(4994);t.A=void 0;var o=n(r(39)),a=r(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"CheckCircleOutline")},1340:(e,t,r)=>{var n=r(3211);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},1446:(e,t,r)=>{"use strict";var n=r(4994);t.A=void 0;var o=n(r(39)),a=r(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutlineOutlined")},1475:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(7123);const o=e=>(0,n.A)(e)&&"classes"!==e},1497:(e,t,r)=>{"use strict";var n=r(3218);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,r,o,a,i){if(i!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return r.PropTypes=r,r}},1558:e=>{e.exports=function(e,t,r){for(var n=-1,o=null==e?0:e.length;++n<o;)if(r(t,e[n]))return!0;return!1}},1629:(e,t,r)=>{var n=r(6913),o=r(6686);e.exports=function(e){if(!o(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1668:(e,t,r)=>{"use strict";function n(e){return e&&e.ownerDocument||document}r.d(t,{A:()=>n})},1714:(e,t,r)=>{var n=r(1340);e.exports=function(e,t){var r=this.__data__,o=n(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this}},1722:(e,t,r)=>{"use strict";r.d(t,{Rk:()=>n,SF:()=>o,sk:()=>a});function n(e,t,r){var n="";return r.split(" ").forEach((function(r){void 0!==e[r]?t.push(e[r]+";"):r&&(n+=r+" ")})),n}var o=function(e,t,r){var n=e.key+"-"+t.name;!1===r&&void 0===e.registered[n]&&(e.registered[n]=t.styles)},a=function(e,t,r){o(e,t,r);var n=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a=t;do{e.insert(t===a?"."+n:"",a,e.sheet,!0),a=a.next}while(void 0!==a)}}},1733:(e,t,r)=>{var n=r(1775),o=r(4664),a=r(9096);e.exports=function(e,t){var r={};return t=a(t,3),o(e,(function(e,o,a){n(r,o,t(e,o,a))})),r}},1775:(e,t,r)=>{var n=r(5654);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},1782:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(5043),o=r(4440);const a=function(e){const t=n.useRef(e);return(0,o.A)((()=>{t.current=e})),n.useRef((function(){return(0,t.current)(...arguments)})).current}},1897:(e,t,r)=>{"use strict";var n=r(4994);t.A=void 0;var o=n(r(39)),a=r(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M12.5 6.9c1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-.53.12-1.03.3-1.48.54l1.47 1.47c.41-.17.91-.27 1.51-.27M5.33 4.06 4.06 5.33 7.5 8.77c0 2.08 1.56 3.21 3.91 3.91l3.51 3.51c-.34.48-1.05.91-2.42.91-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c.96-.18 1.82-.55 2.45-1.12l2.22 2.22 1.27-1.27z"}),"MoneyOff")},1946:(e,t,r)=>{var n=r(1340);e.exports=function(e){return n(this.__data__,e)>-1}},2070:(e,t,r)=>{var n=r(7937)(r(6552),"Set");e.exports=n},2074:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}},2103:(e,t,r)=>{"use strict";var n=r(4994);t.A=void 0;var o=n(r(39)),a=r(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M21 8H3V4h18zm0 2H3v4h18zm0 6H3v4h18z"}),"TableRows")},2154:(e,t,r)=>{var n=r(5575),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(t,e)?t[e]:void 0}},2165:(e,t,r)=>{var n=r(5652);e.exports=function(e,t){var r;return n(e,(function(e,n,o){return!(r=t(e,n,o))})),!!r}},2177:(e,t,r)=>{"use strict";var n=r(4994);t.A=void 0;var o=n(r(39)),a=r(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person")},2322:(e,t,r)=>{var n=r(6913),o=r(5990),a=r(2761),i=Function.prototype,s=Object.prototype,l=i.toString,c=s.hasOwnProperty,d=l.call(Object);e.exports=function(e){if(!a(e)||"[object Object]"!=n(e))return!1;var t=o(e);if(null===t)return!0;var r=c.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&l.call(r)==d}},2372:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>a});var n=r(9386);const o={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function a(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const a=o[t];return a?`${r}-${a}`:`${n.A.generate(e)}-${t}`}},2374:(e,t,r)=>{"use strict";t.A=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(5043)),o=r(3174);function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}t.A=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=n.useContext(o.ThemeContext);return t&&(r=t,0!==Object.keys(r).length)?t:e;var r}},2427:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=r(1668).A},2456:(e,t,r)=>{"use strict";function n(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(((e,t)=>null==t?e:function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];e.apply(this,n),t.apply(this,n)}),(()=>{}))}r.d(t,{A:()=>n})},2505:(e,t,r)=>{"use strict";var n=r(4994);t.A=void 0;var o=n(r(39)),a=r(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},2520:(e,t,r)=>{var n=r(5816),o=r(9096),a=r(9140),i=Math.max;e.exports=function(e,t,r){var s=null==e?0:e.length;if(!s)return-1;var l=null==r?0:a(r);return l<0&&(l=i(s+l,0)),n(e,o(t,3),l)}},2532:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(2372);function o(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const o={};return t.forEach((t=>{o[t]=(0,n.Ay)(e,t,r)})),o}},2536:(e,t,r)=>{var n=r(149),o=r(2969),a=r(9096),i=r(8883),s=r(320),l=r(7574),c=r(5893),d=r(3279),u=r(4052);e.exports=function(e,t,r){t=t.length?n(t,(function(e){return u(e)?function(t){return o(t,1===e.length?e[0]:e)}:e})):[d];var p=-1;t=n(t,l(a));var h=i(e,(function(e,r,o){return{criteria:n(t,(function(t){return t(e)})),index:++p,value:e}}));return s(h,(function(e,t){return c(e,t,r)}))}},2541:e=>{e.exports=function(e){return function(){return e}}},2587:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},2597:(e,t,r)=>{var n=r(4052),o=r(9841),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!o(e))||(i.test(e)||!a.test(e)||null!=t&&e in Object(t))}},2622:(e,t,r)=>{var n=r(705);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},2662:(e,t,r)=>{var n=r(5575);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},2730:(e,t,r)=>{"use strict";var n=r(5043),o=r(8853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)i.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function m(e,t,r,n,o,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function x(e){return e[1].toUpperCase()}function b(e,t,r,n){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0!==o.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,o,n)&&(r=null),n||null===o?function(e){return!!u.call(f,e)||!u.call(h,e)&&(p.test(e)?f[e]=!0:(h[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=null===r?3!==o.type&&"":r:(t=o.attributeName,n=o.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(o=o.type)||4===o&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,x);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,x);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,x);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var y=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),k=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var T=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function N(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var $,z=Object.assign;function L(e){if(void 0===$)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);$=t&&t[1]||""}return"\n"+$+e}var B=!1;function F(e,t){if(!e||B)return"";B=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var o=c.stack.split("\n"),a=n.stack.split("\n"),i=o.length-1,s=a.length-1;1<=i&&0<=s&&o[i]!==a[s];)s--;for(;1<=i&&0<=s;i--,s--)if(o[i]!==a[s]){if(1!==i||1!==s)do{if(i--,0>--s||o[i]!==a[s]){var l="\n"+o[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?L(e):""}function _(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case w:return"Portal";case A:return"Profiler";case C:return"StrictMode";case P:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case O:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return U(e(t))}catch(r){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var o=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=G(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var r=t.checked;return z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function X(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=V(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Q(e,t);var r=V(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&Y(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&n&&(e[r].defaultSelected=!0)}else{for(r=""+V(r),t=null,o=0;o<e.length;o++){if(e[o].value===r)return e[o].selected=!0,void(n&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(a(92));if(te(r)){if(1<r.length)throw Error(a(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:V(r)}}function ae(e,t){var r=V(t.value),n=V(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction((function(){return de(e,t)}))}:de);function pe(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),o=me(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,o):e[r]=o}}Object.keys(he).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ve=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Se=null,Ce=null;function Ae(e){if(e=yo(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=wo(t),we(e.stateNode,e.type,t))}}function Ee(e){Se?Ce?Ce.push(e):Ce=[e]:Se=e}function ke(){if(Se){var e=Se,t=Ce;if(Ce=Se=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Oe(e,t){return e(t)}function Pe(){}var Ie=!1;function De(e,t,r){if(Ie)return e(t,r);Ie=!0;try{return Oe(e,t,r)}finally{Ie=!1,(null!==Se||null!==Ce)&&(Pe(),ke())}}function Me(e,t){var r=e.stateNode;if(null===r)return null;var n=wo(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(a(231,t,typeof r));return r}var Te=!1;if(d)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Te=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(de){Te=!1}function Ne(e,t,r,n,o,a,i,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var $e=!1,ze=null,Le=!1,Be=null,Fe={onError:function(e){$e=!0,ze=e}};function _e(e,t,r,n,o,a,i,s,l){$e=!1,ze=null,Ne.apply(Fe,arguments)}function Ue(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(Ue(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(a(188));return t!==e?null:e}for(var r=e,n=t;;){var o=r.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(n=o.return)){r=n;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===r)return Ve(o),e;if(i===n)return Ve(o),t;i=i.sibling}throw Error(a(188))}if(r.return!==n.return)r=o,n=i;else{for(var s=!1,l=o.child;l;){if(l===r){s=!0,r=o,n=i;break}if(l===n){s=!0,n=o,r=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===r){s=!0,r=i,n=o;break}if(l===n){s=!0,n=i,r=o;break}l=l.sibling}if(!s)throw Error(a(189))}}if(r.alternate!==n)throw Error(a(190))}if(3!==r.tag)throw Error(a(188));return r.stateNode.current===r?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var qe=o.unstable_scheduleCallback,Ye=o.unstable_cancelCallback,Ke=o.unstable_shouldYield,Xe=o.unstable_requestPaint,Qe=o.unstable_now,Je=o.unstable_getCurrentPriorityLevel,Ze=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,rt=o.unstable_LowPriority,nt=o.unstable_IdlePriority,ot=null,at=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,o=e.suspendedLanes,a=e.pingedLanes,i=268435455&r;if(0!==i){var s=i&~o;0!==s?n=ut(s):0!==(a&=i)&&(n=ut(a))}else 0!==(i=r&~o)?n=ut(i):0!==a&&(n=ut(a));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&o)&&((o=n&-n)>=(a=t&-t)||16===o&&0!==(4194240&a)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)o=1<<(r=31-it(t)),n|=e[r],t&=~o;return n}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function vt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=r}function xt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-it(r),o=1<<n;o&t|e[n]&t&&(e[n]|=t),r&=~o}}var bt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jt,wt,St,Ct,At,Et=!1,kt=[],Ot=null,Pt=null,It=null,Dt=new Map,Mt=new Map,Tt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nt(e,t){switch(e){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function $t(e,t,r,n,o,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[o]},null!==t&&(null!==(t=yo(t))&&wt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function zt(e){var t=bo(e.target);if(null!==t){var r=Ue(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=We(r)))return e.blockedOn=t,void At(e.priority,(function(){St(r)}))}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=yo(r))&&wt(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);ye=n,r.target.dispatchEvent(n),ye=null,t.shift()}return!0}function Bt(e,t,r){Lt(e)&&r.delete(t)}function Ft(){Et=!1,null!==Ot&&Lt(Ot)&&(Ot=null),null!==Pt&&Lt(Pt)&&(Pt=null),null!==It&&Lt(It)&&(It=null),Dt.forEach(Bt),Mt.forEach(Bt)}function _t(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ft)))}function Ut(e){function t(t){return _t(t,e)}if(0<kt.length){_t(kt[0],e);for(var r=1;r<kt.length;r++){var n=kt[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Ot&&_t(Ot,e),null!==Pt&&_t(Pt,e),null!==It&&_t(It,e),Dt.forEach(t),Mt.forEach(t),r=0;r<Tt.length;r++)(n=Tt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Tt.length&&null===(r=Tt[0]).blockedOn;)zt(r),null===r.blockedOn&&Tt.shift()}var Wt=y.ReactCurrentBatchConfig,Vt=!0;function Gt(e,t,r,n){var o=bt,a=Wt.transition;Wt.transition=null;try{bt=1,qt(e,t,r,n)}finally{bt=o,Wt.transition=a}}function Ht(e,t,r,n){var o=bt,a=Wt.transition;Wt.transition=null;try{bt=4,qt(e,t,r,n)}finally{bt=o,Wt.transition=a}}function qt(e,t,r,n){if(Vt){var o=Kt(e,t,r,n);if(null===o)Vn(e,t,n,Yt,r),Nt(e,n);else if(function(e,t,r,n,o){switch(t){case"focusin":return Ot=$t(Ot,e,t,r,n,o),!0;case"dragenter":return Pt=$t(Pt,e,t,r,n,o),!0;case"mouseover":return It=$t(It,e,t,r,n,o),!0;case"pointerover":var a=o.pointerId;return Dt.set(a,$t(Dt.get(a)||null,e,t,r,n,o)),!0;case"gotpointercapture":return a=o.pointerId,Mt.set(a,$t(Mt.get(a)||null,e,t,r,n,o)),!0}return!1}(o,e,t,r,n))n.stopPropagation();else if(Nt(e,n),4&t&&-1<Rt.indexOf(e)){for(;null!==o;){var a=yo(o);if(null!==a&&jt(a),null===(a=Kt(e,t,r,n))&&Vn(e,t,n,Yt,r),a===o)break;o=a}null!==o&&n.stopPropagation()}else Vn(e,t,n,null,r)}}var Yt=null;function Kt(e,t,r,n){if(Yt=null,null!==(e=bo(e=je(n))))if(null===(t=Ue(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case rt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Qt=null,Jt=null,Zt=null;function er(){if(Zt)return Zt;var e,t,r=Jt,n=r.length,o="value"in Qt?Qt.value:Qt.textContent,a=o.length;for(e=0;e<n&&r[e]===o[e];e++);var i=n-e;for(t=1;t<=i&&r[n-t]===o[a-t];t++);return Zt=o.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function nr(){return!1}function or(e){function t(t,r,n,o,a){for(var i in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(o):o[i]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var ar,ir,sr,lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=or(lr),dr=z({},lr,{view:0,detail:0}),ur=or(dr),pr=z({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sr&&(sr&&"mousemove"===e.type?(ar=e.screenX-sr.screenX,ir=e.screenY-sr.screenY):ir=ar=0,sr=e),ar)},movementY:function(e){return"movementY"in e?e.movementY:ir}}),hr=or(pr),fr=or(z({},pr,{dataTransfer:0})),mr=or(z({},dr,{relatedTarget:0})),gr=or(z({},lr,{animationName:0,elapsedTime:0,pseudoElement:0})),vr=z({},lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xr=or(vr),br=or(z({},lr,{data:0})),yr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wr[e])&&!!t[e]}function Cr(){return Sr}var Ar=z({},dr,{key:function(e){if(e.key){var t=yr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cr,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Er=or(Ar),kr=or(z({},pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Or=or(z({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cr})),Pr=or(z({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ir=z({},pr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dr=or(Ir),Mr=[9,13,27,32],Tr=d&&"CompositionEvent"in window,Rr=null;d&&"documentMode"in document&&(Rr=document.documentMode);var Nr=d&&"TextEvent"in window&&!Rr,$r=d&&(!Tr||Rr&&8<Rr&&11>=Rr),zr=String.fromCharCode(32),Lr=!1;function Br(e,t){switch(e){case"keyup":return-1!==Mr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var _r=!1;var Ur={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ur[e.type]:"textarea"===t}function Vr(e,t,r,n){Ee(n),0<(t=Hn(t,"onChange")).length&&(r=new cr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Gr=null,Hr=null;function qr(e){Ln(e,0)}function Yr(e){if(q(jo(e)))return e}function Kr(e,t){if("change"===e)return t}var Xr=!1;if(d){var Qr;if(d){var Jr="oninput"in document;if(!Jr){var Zr=document.createElement("div");Zr.setAttribute("oninput","return;"),Jr="function"===typeof Zr.oninput}Qr=Jr}else Qr=!1;Xr=Qr&&(!document.documentMode||9<document.documentMode)}function en(){Gr&&(Gr.detachEvent("onpropertychange",tn),Hr=Gr=null)}function tn(e){if("value"===e.propertyName&&Yr(Hr)){var t=[];Vr(t,Hr,e,je(e)),De(qr,t)}}function rn(e,t,r){"focusin"===e?(en(),Hr=r,(Gr=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yr(Hr)}function on(e,t){if("click"===e)return Yr(t)}function an(e,t){if("input"===e||"change"===e)return Yr(t)}var sn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ln(e,t){if(sn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var o=r[n];if(!u.call(t,o)||!sn(e[o],t[o]))return!1}return!0}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var r,n=cn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cn(n)}}function un(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?un(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pn(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=Y((e=t.contentWindow).document)}return t}function hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fn(e){var t=pn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&un(r.ownerDocument.documentElement,r)){if(null!==n&&hn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=r.textContent.length,a=Math.min(n.start,o);n=void 0===n.end?a:Math.min(n.end,o),!e.extend&&a>n&&(o=n,n=a,a=o),o=dn(r,a);var i=dn(r,n);o&&i&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mn=d&&"documentMode"in document&&11>=document.documentMode,gn=null,vn=null,xn=null,bn=!1;function yn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;bn||null==gn||gn!==Y(n)||("selectionStart"in(n=gn)&&hn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},xn&&ln(xn,n)||(xn=n,0<(n=Hn(vn,"onSelect")).length&&(t=new cr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=gn)))}function jn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var wn={animationend:jn("Animation","AnimationEnd"),animationiteration:jn("Animation","AnimationIteration"),animationstart:jn("Animation","AnimationStart"),transitionend:jn("Transition","TransitionEnd")},Sn={},Cn={};function An(e){if(Sn[e])return Sn[e];if(!wn[e])return e;var t,r=wn[e];for(t in r)if(r.hasOwnProperty(t)&&t in Cn)return Sn[e]=r[t];return e}d&&(Cn=document.createElement("div").style,"AnimationEvent"in window||(delete wn.animationend.animation,delete wn.animationiteration.animation,delete wn.animationstart.animation),"TransitionEvent"in window||delete wn.transitionend.transition);var En=An("animationend"),kn=An("animationiteration"),On=An("animationstart"),Pn=An("transitionend"),In=new Map,Dn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mn(e,t){In.set(e,t),l(t,[e])}for(var Tn=0;Tn<Dn.length;Tn++){var Rn=Dn[Tn];Mn(Rn.toLowerCase(),"on"+(Rn[0].toUpperCase()+Rn.slice(1)))}Mn(En,"onAnimationEnd"),Mn(kn,"onAnimationIteration"),Mn(On,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(Pn,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$n=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nn));function zn(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,o,i,s,l,c){if(_e.apply(this,arguments),$e){if(!$e)throw Error(a(198));var d=ze;$e=!1,ze=null,Le||(Le=!0,Be=d)}}(n,t,void 0,e),e.currentTarget=null}function Ln(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],o=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var s=n[i],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&o.isPropagationStopped())break e;zn(o,s,c),a=l}else for(i=0;i<n.length;i++){if(l=(s=n[i]).instance,c=s.currentTarget,s=s.listener,l!==a&&o.isPropagationStopped())break e;zn(o,s,c),a=l}}}if(Le)throw e=Be,Le=!1,Be=null,e}function Bn(e,t){var r=t[go];void 0===r&&(r=t[go]=new Set);var n=e+"__bubble";r.has(n)||(Wn(t,e,2,!1),r.add(n))}function Fn(e,t,r){var n=0;t&&(n|=4),Wn(r,e,n,t)}var _n="_reactListening"+Math.random().toString(36).slice(2);function Un(e){if(!e[_n]){e[_n]=!0,i.forEach((function(t){"selectionchange"!==t&&($n.has(t)||Fn(t,!1,e),Fn(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[_n]||(t[_n]=!0,Fn("selectionchange",!1,t))}}function Wn(e,t,r,n){switch(Xt(t)){case 1:var o=Gt;break;case 4:o=Ht;break;default:o=qt}r=o.bind(null,t,r,e),o=void 0,!Te||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),n?void 0!==o?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):void 0!==o?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function Vn(e,t,r,n,o){var a=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var i=n.tag;if(3===i||4===i){var s=n.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===i)for(i=n.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;i=i.return}for(;null!==s;){if(null===(i=bo(s)))return;if(5===(l=i.tag)||6===l){n=a=i;continue e}s=s.parentNode}}n=n.return}De((function(){var n=a,o=je(r),i=[];e:{var s=In.get(e);if(void 0!==s){var l=cr,c=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":l=Er;break;case"focusin":c="focus",l=mr;break;case"focusout":c="blur",l=mr;break;case"beforeblur":case"afterblur":l=mr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Or;break;case En:case kn:case On:l=gr;break;case Pn:l=Pr;break;case"scroll":l=ur;break;case"wheel":l=Dr;break;case"copy":case"cut":case"paste":l=xr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=kr}var d=0!==(4&t),u=!d&&"scroll"===e,p=d?null!==s?s+"Capture":null:s;d=[];for(var h,f=n;null!==f;){var m=(h=f).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==p&&(null!=(m=Me(f,p))&&d.push(Gn(f,m,h)))),u)break;f=f.return}0<d.length&&(s=new l(s,c,null,r,o),i.push({event:s,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||r===ye||!(c=r.relatedTarget||r.fromElement)||!bo(c)&&!c[mo])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=n,null!==(c=(c=r.relatedTarget||r.toElement)?bo(c):null)&&(c!==(u=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(d=hr,m="onMouseLeave",p="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(d=kr,m="onPointerLeave",p="onPointerEnter",f="pointer"),u=null==l?s:jo(l),h=null==c?s:jo(c),(s=new d(m,f+"leave",l,r,o)).target=u,s.relatedTarget=h,m=null,bo(o)===n&&((d=new d(p,f+"enter",c,r,o)).target=h,d.relatedTarget=u,m=d),u=m,l&&c)e:{for(p=c,f=0,h=d=l;h;h=qn(h))f++;for(h=0,m=p;m;m=qn(m))h++;for(;0<f-h;)d=qn(d),f--;for(;0<h-f;)p=qn(p),h--;for(;f--;){if(d===p||null!==p&&d===p.alternate)break e;d=qn(d),p=qn(p)}d=null}else d=null;null!==l&&Yn(i,s,l,d,!1),null!==c&&null!==u&&Yn(i,u,c,d,!0)}if("select"===(l=(s=n?jo(n):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Kr;else if(Wr(s))if(Xr)g=an;else{g=nn;var v=rn}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=on);switch(g&&(g=g(e,n))?Vr(i,g,r,o):(v&&v(e,s,n),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=n?jo(n):window,e){case"focusin":(Wr(v)||"true"===v.contentEditable)&&(gn=v,vn=n,xn=null);break;case"focusout":xn=vn=gn=null;break;case"mousedown":bn=!0;break;case"contextmenu":case"mouseup":case"dragend":bn=!1,yn(i,r,o);break;case"selectionchange":if(mn)break;case"keydown":case"keyup":yn(i,r,o)}var x;if(Tr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else _r?Br(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&($r&&"ko"!==r.locale&&(_r||"onCompositionStart"!==b?"onCompositionEnd"===b&&_r&&(x=er()):(Jt="value"in(Qt=o)?Qt.value:Qt.textContent,_r=!0)),0<(v=Hn(n,b)).length&&(b=new br(b,e,null,r,o),i.push({event:b,listeners:v}),x?b.data=x:null!==(x=Fr(r))&&(b.data=x))),(x=Nr?function(e,t){switch(e){case"compositionend":return Fr(t);case"keypress":return 32!==t.which?null:(Lr=!0,zr);case"textInput":return(e=t.data)===zr&&Lr?null:e;default:return null}}(e,r):function(e,t){if(_r)return"compositionend"===e||!Tr&&Br(e,t)?(e=er(),Zt=Jt=Qt=null,_r=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $r&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=Hn(n,"onBeforeInput")).length&&(o=new br("onBeforeInput","beforeinput",null,r,o),i.push({event:o,listeners:n}),o.data=x))}Ln(i,t)}))}function Gn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Hn(e,t){for(var r=t+"Capture",n=[];null!==e;){var o=e,a=o.stateNode;5===o.tag&&null!==a&&(o=a,null!=(a=Me(e,r))&&n.unshift(Gn(e,a,o)),null!=(a=Me(e,t))&&n.push(Gn(e,a,o))),e=e.return}return n}function qn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yn(e,t,r,n,o){for(var a=t._reactName,i=[];null!==r&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(null!==l&&l===n)break;5===s.tag&&null!==c&&(s=c,o?null!=(l=Me(r,a))&&i.unshift(Gn(r,l,s)):o||null!=(l=Me(r,a))&&i.push(Gn(r,l,s))),r=r.return}0!==i.length&&e.push({event:t,listeners:i})}var Kn=/\r\n?/g,Xn=/\u0000|\uFFFD/g;function Qn(e){return("string"===typeof e?e:""+e).replace(Kn,"\n").replace(Xn,"")}function Jn(e,t,r){if(t=Qn(t),Qn(e)!==t&&r)throw Error(a(425))}function Zn(){}var eo=null,to=null;function ro(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var no="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,ao="function"===typeof Promise?Promise:void 0,io="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ao?function(e){return ao.resolve(null).then(e).catch(so)}:no;function so(e){setTimeout((function(){throw e}))}function lo(e,t){var r=t,n=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&8===o.nodeType)if("/$"===(r=o.data)){if(0===n)return e.removeChild(o),void Ut(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=o}while(r);Ut(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var po=Math.random().toString(36).slice(2),ho="__reactFiber$"+po,fo="__reactProps$"+po,mo="__reactContainer$"+po,go="__reactEvents$"+po,vo="__reactListeners$"+po,xo="__reactHandles$"+po;function bo(e){var t=e[ho];if(t)return t;for(var r=e.parentNode;r;){if(t=r[mo]||r[ho]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=uo(e);null!==e;){if(r=e[ho])return r;e=uo(e)}return t}r=(e=r).parentNode}return null}function yo(e){return!(e=e[ho]||e[mo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function jo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wo(e){return e[fo]||null}var So=[],Co=-1;function Ao(e){return{current:e}}function Eo(e){0>Co||(e.current=So[Co],So[Co]=null,Co--)}function ko(e,t){Co++,So[Co]=e.current,e.current=t}var Oo={},Po=Ao(Oo),Io=Ao(!1),Do=Oo;function Mo(e,t){var r=e.type.contextTypes;if(!r)return Oo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o,a={};for(o in r)a[o]=t[o];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function To(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ro(){Eo(Io),Eo(Po)}function No(e,t,r){if(Po.current!==Oo)throw Error(a(168));ko(Po,t),ko(Io,r)}function $o(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var o in n=n.getChildContext())if(!(o in t))throw Error(a(108,W(e)||"Unknown",o));return z({},r,n)}function zo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Oo,Do=Po.current,ko(Po,e),ko(Io,Io.current),!0}function Lo(e,t,r){var n=e.stateNode;if(!n)throw Error(a(169));r?(e=$o(e,t,Do),n.__reactInternalMemoizedMergedChildContext=e,Eo(Io),Eo(Po),ko(Po,e)):Eo(Io),ko(Io,r)}var Bo=null,Fo=!1,_o=!1;function Uo(e){null===Bo?Bo=[e]:Bo.push(e)}function Wo(){if(!_o&&null!==Bo){_o=!0;var e=0,t=bt;try{var r=Bo;for(bt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}Bo=null,Fo=!1}catch(o){throw null!==Bo&&(Bo=Bo.slice(e+1)),qe(Ze,Wo),o}finally{bt=t,_o=!1}}return null}var Vo=[],Go=0,Ho=null,qo=0,Yo=[],Ko=0,Xo=null,Qo=1,Jo="";function Zo(e,t){Vo[Go++]=qo,Vo[Go++]=Ho,Ho=e,qo=t}function ea(e,t,r){Yo[Ko++]=Qo,Yo[Ko++]=Jo,Yo[Ko++]=Xo,Xo=e;var n=Qo;e=Jo;var o=32-it(n)-1;n&=~(1<<o),r+=1;var a=32-it(t)+o;if(30<a){var i=o-o%5;a=(n&(1<<i)-1).toString(32),n>>=i,o-=i,Qo=1<<32-it(t)+o|r<<o|n,Jo=a+e}else Qo=1<<a|r<<o|n,Jo=e}function ta(e){null!==e.return&&(Zo(e,1),ea(e,1,0))}function ra(e){for(;e===Ho;)Ho=Vo[--Go],Vo[Go]=null,qo=Vo[--Go],Vo[Go]=null;for(;e===Xo;)Xo=Yo[--Ko],Yo[Ko]=null,Jo=Yo[--Ko],Yo[Ko]=null,Qo=Yo[--Ko],Yo[Ko]=null}var na=null,oa=null,aa=!1,ia=null;function sa(e,t){var r=Dc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function la(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,oa=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,oa=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Xo?{id:Qo,overflow:Jo}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Dc(18,null,null,0)).stateNode=t,r.return=e,e.child=r,na=e,oa=null,!0);default:return!1}}function ca(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function da(e){if(aa){var t=oa;if(t){var r=t;if(!la(e,t)){if(ca(e))throw Error(a(418));t=co(r.nextSibling);var n=na;t&&la(e,t)?sa(n,r):(e.flags=-4097&e.flags|2,aa=!1,na=e)}}else{if(ca(e))throw Error(a(418));e.flags=-4097&e.flags|2,aa=!1,na=e}}}function ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function pa(e){if(e!==na)return!1;if(!aa)return ua(e),aa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ro(e.type,e.memoizedProps)),t&&(t=oa)){if(ca(e))throw ha(),Error(a(418));for(;t;)sa(e,t),t=co(t.nextSibling)}if(ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){oa=co(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}oa=null}}else oa=na?co(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=oa;e;)e=co(e.nextSibling)}function fa(){oa=na=null,aa=!1}function ma(e){null===ia?ia=[e]:ia.push(e)}var ga=y.ReactCurrentBatchConfig;function va(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(a(309));var n=r.stateNode}if(!n)throw Error(a(147,e));var o=n,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=o.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!r._owner)throw Error(a(290,e))}return e}function xa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ba(e){return(0,e._init)(e._payload)}function ya(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Tc(e,t)).index=0,e.sibling=null,e}function i(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=zc(r,e.mode,n)).return=e,t):((t=o(t,r)).return=e,t)}function c(e,t,r,n){var a=r.type;return a===S?u(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===M&&ba(a)===t.type)?((n=o(t,r.props)).ref=va(e,t,r),n.return=e,n):((n=Rc(r.type,r.key,r.props,null,e.mode,n)).ref=va(e,t,r),n.return=e,n)}function d(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Lc(r,e.mode,n)).return=e,t):((t=o(t,r.children||[])).return=e,t)}function u(e,t,r,n,a){return null===t||7!==t.tag?((t=Nc(r,e.mode,n,a)).return=e,t):((t=o(t,r)).return=e,t)}function p(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=zc(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(r=Rc(t.type,t.key,t.props,null,e.mode,r)).ref=va(e,null,t),r.return=e,r;case w:return(t=Lc(t,e.mode,r)).return=e,t;case M:return p(e,(0,t._init)(t._payload),r)}if(te(t)||N(t))return(t=Nc(t,e.mode,r,null)).return=e,t;xa(e,t)}return null}function h(e,t,r,n){var o=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==o?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case j:return r.key===o?c(e,t,r,n):null;case w:return r.key===o?d(e,t,r,n):null;case M:return h(e,t,(o=r._init)(r._payload),n)}if(te(r)||N(r))return null!==o?null:u(e,t,r,n,null);xa(e,r)}return null}function f(e,t,r,n,o){if("string"===typeof n&&""!==n||"number"===typeof n)return l(t,e=e.get(r)||null,""+n,o);if("object"===typeof n&&null!==n){switch(n.$$typeof){case j:return c(t,e=e.get(null===n.key?r:n.key)||null,n,o);case w:return d(t,e=e.get(null===n.key?r:n.key)||null,n,o);case M:return f(e,t,r,(0,n._init)(n._payload),o)}if(te(n)||N(n))return u(t,e=e.get(r)||null,n,o,null);xa(t,n)}return null}function m(o,a,s,l){for(var c=null,d=null,u=a,m=a=0,g=null;null!==u&&m<s.length;m++){u.index>m?(g=u,u=null):g=u.sibling;var v=h(o,u,s[m],l);if(null===v){null===u&&(u=g);break}e&&u&&null===v.alternate&&t(o,u),a=i(v,a,m),null===d?c=v:d.sibling=v,d=v,u=g}if(m===s.length)return r(o,u),aa&&Zo(o,m),c;if(null===u){for(;m<s.length;m++)null!==(u=p(o,s[m],l))&&(a=i(u,a,m),null===d?c=u:d.sibling=u,d=u);return aa&&Zo(o,m),c}for(u=n(o,u);m<s.length;m++)null!==(g=f(u,o,m,s[m],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?m:g.key),a=i(g,a,m),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach((function(e){return t(o,e)})),aa&&Zo(o,m),c}function g(o,s,l,c){var d=N(l);if("function"!==typeof d)throw Error(a(150));if(null==(l=d.call(l)))throw Error(a(151));for(var u=d=null,m=s,g=s=0,v=null,x=l.next();null!==m&&!x.done;g++,x=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=h(o,m,x.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(o,m),s=i(b,s,g),null===u?d=b:u.sibling=b,u=b,m=v}if(x.done)return r(o,m),aa&&Zo(o,g),d;if(null===m){for(;!x.done;g++,x=l.next())null!==(x=p(o,x.value,c))&&(s=i(x,s,g),null===u?d=x:u.sibling=x,u=x);return aa&&Zo(o,g),d}for(m=n(o,m);!x.done;g++,x=l.next())null!==(x=f(m,o,g,x.value,c))&&(e&&null!==x.alternate&&m.delete(null===x.key?g:x.key),s=i(x,s,g),null===u?d=x:u.sibling=x,u=x);return e&&m.forEach((function(e){return t(o,e)})),aa&&Zo(o,g),d}return function e(n,a,i,l){if("object"===typeof i&&null!==i&&i.type===S&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case j:e:{for(var c=i.key,d=a;null!==d;){if(d.key===c){if((c=i.type)===S){if(7===d.tag){r(n,d.sibling),(a=o(d,i.props.children)).return=n,n=a;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===M&&ba(c)===d.type){r(n,d.sibling),(a=o(d,i.props)).ref=va(n,d,i),a.return=n,n=a;break e}r(n,d);break}t(n,d),d=d.sibling}i.type===S?((a=Nc(i.props.children,n.mode,l,i.key)).return=n,n=a):((l=Rc(i.type,i.key,i.props,null,n.mode,l)).ref=va(n,a,i),l.return=n,n=l)}return s(n);case w:e:{for(d=i.key;null!==a;){if(a.key===d){if(4===a.tag&&a.stateNode.containerInfo===i.containerInfo&&a.stateNode.implementation===i.implementation){r(n,a.sibling),(a=o(a,i.children||[])).return=n,n=a;break e}r(n,a);break}t(n,a),a=a.sibling}(a=Lc(i,n.mode,l)).return=n,n=a}return s(n);case M:return e(n,a,(d=i._init)(i._payload),l)}if(te(i))return m(n,a,i,l);if(N(i))return g(n,a,i,l);xa(n,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==a&&6===a.tag?(r(n,a.sibling),(a=o(a,i)).return=n,n=a):(r(n,a),(a=zc(i,n.mode,l)).return=n,n=a),s(n)):r(n,a)}}var ja=ya(!0),wa=ya(!1),Sa=Ao(null),Ca=null,Aa=null,Ea=null;function ka(){Ea=Aa=Ca=null}function Oa(e){var t=Sa.current;Eo(Sa),e._currentValue=t}function Pa(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ia(e,t){Ca=e,Ea=Aa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Da(e){var t=e._currentValue;if(Ea!==e)if(e={context:e,memoizedValue:t,next:null},null===Aa){if(null===Ca)throw Error(a(308));Aa=e,Ca.dependencies={lanes:0,firstContext:e}}else Aa=Aa.next=e;return t}var Ma=null;function Ta(e){null===Ma?Ma=[e]:Ma.push(e)}function Ra(e,t,r,n){var o=t.interleaved;return null===o?(r.next=r,Ta(t)):(r.next=o.next,o.next=r),t.interleaved=r,Na(e,n)}function Na(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var $a=!1;function za(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function La(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ba(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fa(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Ol)){var o=n.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),n.pending=t,Na(e,r)}return null===(o=n.interleaved)?(t.next=t,Ta(n)):(t.next=o.next,o.next=t),n.interleaved=t,Na(e,r)}function _a(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,xt(e,r)}}function Ua(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var o=null,a=null;if(null!==(r=r.firstBaseUpdate)){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===a?o=a=i:a=a.next=i,r=r.next}while(null!==r);null===a?o=a=t:a=a.next=t}else o=a=t;return r={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Wa(e,t,r,n){var o=e.updateQueue;$a=!1;var a=o.firstBaseUpdate,i=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,c=l.next;l.next=null,null===i?a=c:i.next=c,i=l;var d=e.alternate;null!==d&&((s=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===s?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l))}if(null!==a){var u=o.baseState;for(i=0,d=c=l=null,s=a;;){var p=s.lane,h=s.eventTime;if((n&p)===p){null!==d&&(d=d.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,m=s;switch(p=t,h=r,m.tag){case 1:if("function"===typeof(f=m.payload)){u=f.call(h,u,p);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(p="function"===typeof(f=m.payload)?f.call(h,u,p):f)||void 0===p)break e;u=z({},u,p);break e;case 2:$a=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(p=o.effects)?o.effects=[s]:p.push(s))}else h={eventTime:h,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===d?(c=d=h,l=u):d=d.next=h,i|=p;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(p=s).next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}if(null===d&&(l=u),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=d,null!==(t=o.shared.interleaved)){o=t;do{i|=o.lane,o=o.next}while(o!==t)}else null===a&&(o.shared.lanes=0);$l|=i,e.lanes=i,e.memoizedState=u}}function Va(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(null!==o){if(n.callback=null,n=r,"function"!==typeof o)throw Error(a(191,o));o.call(n)}}}var Ga={},Ha=Ao(Ga),qa=Ao(Ga),Ya=Ao(Ga);function Ka(e){if(e===Ga)throw Error(a(174));return e}function Xa(e,t){switch(ko(Ya,t),ko(qa,e),ko(Ha,Ga),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Eo(Ha),ko(Ha,t)}function Qa(){Eo(Ha),Eo(qa),Eo(Ya)}function Ja(e){Ka(Ya.current);var t=Ka(Ha.current),r=le(t,e.type);t!==r&&(ko(qa,e),ko(Ha,r))}function Za(e){qa.current===e&&(Eo(Ha),Eo(qa))}var ei=Ao(0);function ti(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ri=[];function ni(){for(var e=0;e<ri.length;e++)ri[e]._workInProgressVersionPrimary=null;ri.length=0}var oi=y.ReactCurrentDispatcher,ai=y.ReactCurrentBatchConfig,ii=0,si=null,li=null,ci=null,di=!1,ui=!1,pi=0,hi=0;function fi(){throw Error(a(321))}function mi(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!sn(e[r],t[r]))return!1;return!0}function gi(e,t,r,n,o,i){if(ii=i,si=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oi.current=null===e||null===e.memoizedState?Zi:es,e=r(n,o),ui){i=0;do{if(ui=!1,pi=0,25<=i)throw Error(a(301));i+=1,ci=li=null,t.updateQueue=null,oi.current=ts,e=r(n,o)}while(ui)}if(oi.current=Ji,t=null!==li&&null!==li.next,ii=0,ci=li=si=null,di=!1,t)throw Error(a(300));return e}function vi(){var e=0!==pi;return pi=0,e}function xi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ci?si.memoizedState=ci=e:ci=ci.next=e,ci}function bi(){if(null===li){var e=si.alternate;e=null!==e?e.memoizedState:null}else e=li.next;var t=null===ci?si.memoizedState:ci.next;if(null!==t)ci=t,li=e;else{if(null===e)throw Error(a(310));e={memoizedState:(li=e).memoizedState,baseState:li.baseState,baseQueue:li.baseQueue,queue:li.queue,next:null},null===ci?si.memoizedState=ci=e:ci=ci.next=e}return ci}function yi(e,t){return"function"===typeof t?t(e):t}function ji(e){var t=bi(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=li,o=n.baseQueue,i=r.pending;if(null!==i){if(null!==o){var s=o.next;o.next=i.next,i.next=s}n.baseQueue=o=i,r.pending=null}if(null!==o){i=o.next,n=n.baseState;var l=s=null,c=null,d=i;do{var u=d.lane;if((ii&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var p={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=p,s=n):c=c.next=p,si.lanes|=u,$l|=u}d=d.next}while(null!==d&&d!==i);null===c?s=n:c.next=l,sn(n,t.memoizedState)||(bs=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(null!==(e=r.interleaved)){o=e;do{i=o.lane,si.lanes|=i,$l|=i,o=o.next}while(o!==e)}else null===o&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function wi(e){var t=bi(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=r.dispatch,o=r.pending,i=t.memoizedState;if(null!==o){r.pending=null;var s=o=o.next;do{i=e(i,s.action),s=s.next}while(s!==o);sn(i,t.memoizedState)||(bs=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Si(){}function Ci(e,t){var r=si,n=bi(),o=t(),i=!sn(n.memoizedState,o);if(i&&(n.memoizedState=o,bs=!0),n=n.queue,$i(ki.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||null!==ci&&1&ci.memoizedState.tag){if(r.flags|=2048,Di(9,Ei.bind(null,r,n,o,t),void 0,null),null===Pl)throw Error(a(349));0!==(30&ii)||Ai(r,t,o)}return o}function Ai(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=si.updateQueue)?(t={lastEffect:null,stores:null},si.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Ei(e,t,r,n){t.value=r,t.getSnapshot=n,Oi(t)&&Pi(e)}function ki(e,t,r){return r((function(){Oi(t)&&Pi(e)}))}function Oi(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!sn(e,r)}catch(n){return!0}}function Pi(e){var t=Na(e,1);null!==t&&rc(t,e,1,-1)}function Ii(e){var t=xi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:e},t.queue=e,e=e.dispatch=Yi.bind(null,si,e),[t.memoizedState,e]}function Di(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=si.updateQueue)?(t={lastEffect:null,stores:null},si.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Mi(){return bi().memoizedState}function Ti(e,t,r,n){var o=xi();si.flags|=e,o.memoizedState=Di(1|t,r,void 0,void 0===n?null:n)}function Ri(e,t,r,n){var o=bi();n=void 0===n?null:n;var a=void 0;if(null!==li){var i=li.memoizedState;if(a=i.destroy,null!==n&&mi(n,i.deps))return void(o.memoizedState=Di(t,r,a,n))}si.flags|=e,o.memoizedState=Di(1|t,r,a,n)}function Ni(e,t){return Ti(8390656,8,e,t)}function $i(e,t){return Ri(2048,8,e,t)}function zi(e,t){return Ri(4,2,e,t)}function Li(e,t){return Ri(4,4,e,t)}function Bi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fi(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Ri(4,4,Bi.bind(null,t,e),r)}function _i(){}function Ui(e,t){var r=bi();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&mi(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Wi(e,t){var r=bi();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&mi(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Vi(e,t,r){return 0===(21&ii)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=r):(sn(r,t)||(r=mt(),si.lanes|=r,$l|=r,e.baseState=!0),t)}function Gi(e,t){var r=bt;bt=0!==r&&4>r?r:4,e(!0);var n=ai.transition;ai.transition={};try{e(!1),t()}finally{bt=r,ai.transition=n}}function Hi(){return bi().memoizedState}function qi(e,t,r){var n=tc(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Ki(e))Xi(t,r);else if(null!==(r=Ra(e,t,r,n))){rc(r,e,n,ec()),Qi(r,t,n)}}function Yi(e,t,r){var n=tc(e),o={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ki(e))Xi(t,o);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,s=a(i,r);if(o.hasEagerState=!0,o.eagerState=s,sn(s,i)){var l=t.interleaved;return null===l?(o.next=o,Ta(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(c){}null!==(r=Ra(e,t,o,n))&&(rc(r,e,n,o=ec()),Qi(r,t,n))}}function Ki(e){var t=e.alternate;return e===si||null!==t&&t===si}function Xi(e,t){ui=di=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Qi(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,xt(e,r)}}var Ji={readContext:Da,useCallback:fi,useContext:fi,useEffect:fi,useImperativeHandle:fi,useInsertionEffect:fi,useLayoutEffect:fi,useMemo:fi,useReducer:fi,useRef:fi,useState:fi,useDebugValue:fi,useDeferredValue:fi,useTransition:fi,useMutableSource:fi,useSyncExternalStore:fi,useId:fi,unstable_isNewReconciler:!1},Zi={readContext:Da,useCallback:function(e,t){return xi().memoizedState=[e,void 0===t?null:t],e},useContext:Da,useEffect:Ni,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Ti(4194308,4,Bi.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ti(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ti(4,2,e,t)},useMemo:function(e,t){var r=xi();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=xi();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=qi.bind(null,si,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},xi().memoizedState=e},useState:Ii,useDebugValue:_i,useDeferredValue:function(e){return xi().memoizedState=e},useTransition:function(){var e=Ii(!1),t=e[0];return e=Gi.bind(null,e[1]),xi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=si,o=xi();if(aa){if(void 0===r)throw Error(a(407));r=r()}else{if(r=t(),null===Pl)throw Error(a(349));0!==(30&ii)||Ai(n,t,r)}o.memoizedState=r;var i={value:r,getSnapshot:t};return o.queue=i,Ni(ki.bind(null,n,i,e),[e]),n.flags|=2048,Di(9,Ei.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=xi(),t=Pl.identifierPrefix;if(aa){var r=Jo;t=":"+t+"R"+(r=(Qo&~(1<<32-it(Qo)-1)).toString(32)+r),0<(r=pi++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=hi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Da,useCallback:Ui,useContext:Da,useEffect:$i,useImperativeHandle:Fi,useInsertionEffect:zi,useLayoutEffect:Li,useMemo:Wi,useReducer:ji,useRef:Mi,useState:function(){return ji(yi)},useDebugValue:_i,useDeferredValue:function(e){return Vi(bi(),li.memoizedState,e)},useTransition:function(){return[ji(yi)[0],bi().memoizedState]},useMutableSource:Si,useSyncExternalStore:Ci,useId:Hi,unstable_isNewReconciler:!1},ts={readContext:Da,useCallback:Ui,useContext:Da,useEffect:$i,useImperativeHandle:Fi,useInsertionEffect:zi,useLayoutEffect:Li,useMemo:Wi,useReducer:wi,useRef:Mi,useState:function(){return wi(yi)},useDebugValue:_i,useDeferredValue:function(e){var t=bi();return null===li?t.memoizedState=e:Vi(t,li.memoizedState,e)},useTransition:function(){return[wi(yi)[0],bi().memoizedState]},useMutableSource:Si,useSyncExternalStore:Ci,useId:Hi,unstable_isNewReconciler:!1};function rs(e,t){if(e&&e.defaultProps){for(var r in t=z({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function ns(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:z({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var os={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ec(),o=tc(e),a=Ba(n,o);a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=Fa(e,a,o))&&(rc(t,e,o,n),_a(t,e,o))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ec(),o=tc(e),a=Ba(n,o);a.tag=1,a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=Fa(e,a,o))&&(rc(t,e,o,n),_a(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ec(),n=tc(e),o=Ba(r,n);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=Fa(e,o,n))&&(rc(t,e,n,r),_a(t,e,n))}};function as(e,t,r,n,o,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!ln(r,n)||!ln(o,a))}function is(e,t,r){var n=!1,o=Oo,a=t.contextType;return"object"===typeof a&&null!==a?a=Da(a):(o=To(t)?Do:Po.current,a=(n=null!==(n=t.contextTypes)&&void 0!==n)?Mo(e,o):Oo),t=new t(r,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=os,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function ss(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&os.enqueueReplaceState(t,t.state,null)}function ls(e,t,r,n){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs={},za(e);var a=t.contextType;"object"===typeof a&&null!==a?o.context=Da(a):(a=To(t)?Do:Po.current,o.context=Mo(e,a)),o.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ns(e,t,a,r),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&os.enqueueReplaceState(o,o.state,null),Wa(e,r,o,n),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var r="",n=t;do{r+=_(n),n=n.return}while(n);var o=r}catch(a){o="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:o,digest:null}}function ds(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function us(e,t){try{console.error(t.value)}catch(r){setTimeout((function(){throw r}))}}var ps="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,r){(r=Ba(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Vl||(Vl=!0,Gl=n),us(0,t)},r}function fs(e,t,r){(r=Ba(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var o=t.value;r.payload=function(){return n(o)},r.callback=function(){us(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(r.callback=function(){us(0,t),"function"!==typeof n&&(null===Hl?Hl=new Set([this]):Hl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function ms(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new ps;var o=new Set;n.set(t,o)}else void 0===(o=n.get(t))&&(o=new Set,n.set(t,o));o.has(r)||(o.add(r),e=Ac.bind(null,e,t,r),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vs(e,t,r,n,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Ba(-1,1)).tag=2,Fa(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var xs=y.ReactCurrentOwner,bs=!1;function ys(e,t,r,n){t.child=null===e?wa(t,null,r,n):ja(t,e.child,r,n)}function js(e,t,r,n,o){r=r.render;var a=t.ref;return Ia(t,o),n=gi(e,t,r,n,a,o),r=vi(),null===e||bs?(aa&&r&&ta(t),t.flags|=1,ys(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Vs(e,t,o))}function ws(e,t,r,n,o){if(null===e){var a=r.type;return"function"!==typeof a||Mc(a)||void 0!==a.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Rc(r.type,null,n,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,n,o))}if(a=e.child,0===(e.lanes&o)){var i=a.memoizedProps;if((r=null!==(r=r.compare)?r:ln)(i,n)&&e.ref===t.ref)return Vs(e,t,o)}return t.flags|=1,(e=Tc(a,n)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,r,n,o){if(null!==e){var a=e.memoizedProps;if(ln(a,n)&&e.ref===t.ref){if(bs=!1,t.pendingProps=n=a,0===(e.lanes&o))return t.lanes=e.lanes,Vs(e,t,o);0!==(131072&e.flags)&&(bs=!0)}}return Es(e,t,r,n,o)}function Cs(e,t,r){var n=t.pendingProps,o=n.children,a=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ko(Tl,Ml),Ml|=r;else{if(0===(1073741824&r))return e=null!==a?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ko(Tl,Ml),Ml|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==a?a.baseLanes:r,ko(Tl,Ml),Ml|=n}else null!==a?(n=a.baseLanes|r,t.memoizedState=null):n=r,ko(Tl,Ml),Ml|=n;return ys(e,t,o,r),t.child}function As(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Es(e,t,r,n,o){var a=To(r)?Do:Po.current;return a=Mo(t,a),Ia(t,o),r=gi(e,t,r,n,a,o),n=vi(),null===e||bs?(aa&&n&&ta(t),t.flags|=1,ys(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Vs(e,t,o))}function ks(e,t,r,n,o){if(To(r)){var a=!0;zo(t)}else a=!1;if(Ia(t,o),null===t.stateNode)Ws(e,t),is(t,r,n),ls(t,r,n,o),n=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,c=r.contextType;"object"===typeof c&&null!==c?c=Da(c):c=Mo(t,c=To(r)?Do:Po.current);var d=r.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==n||l!==c)&&ss(t,i,n,c),$a=!1;var p=t.memoizedState;i.state=p,Wa(t,n,i,o),l=t.memoizedState,s!==n||p!==l||Io.current||$a?("function"===typeof d&&(ns(t,r,d,n),l=t.memoizedState),(s=$a||as(t,r,s,n,p,l,c))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=c,n=s):("function"===typeof i.componentDidMount&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,La(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:rs(t.type,s),i.props=c,u=t.pendingProps,p=i.context,"object"===typeof(l=r.contextType)&&null!==l?l=Da(l):l=Mo(t,l=To(r)?Do:Po.current);var h=r.getDerivedStateFromProps;(d="function"===typeof h||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==u||p!==l)&&ss(t,i,n,l),$a=!1,p=t.memoizedState,i.state=p,Wa(t,n,i,o);var f=t.memoizedState;s!==u||p!==f||Io.current||$a?("function"===typeof h&&(ns(t,r,h,n),f=t.memoizedState),(c=$a||as(t,r,c,n,p,f,l)||!1)?(d||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(n,f,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(n,f,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=f),i.props=n,i.state=f,i.context=l,n=c):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Os(e,t,r,n,a,o)}function Os(e,t,r,n,o,a){As(e,t);var i=0!==(128&t.flags);if(!n&&!i)return o&&Lo(t,r,!1),Vs(e,t,a);n=t.stateNode,xs.current=t;var s=i&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&i?(t.child=ja(t,e.child,null,a),t.child=ja(t,null,s,a)):ys(e,t,s,a),t.memoizedState=n.state,o&&Lo(t,r,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?No(0,t.pendingContext,t.pendingContext!==t.context):t.context&&No(0,t.context,!1),Xa(e,t.containerInfo)}function Is(e,t,r,n,o){return fa(),ma(o),t.flags|=256,ys(e,t,r,n),t.child}var Ds,Ms,Ts,Rs,Ns={dehydrated:null,treeContext:null,retryLane:0};function $s(e){return{baseLanes:e,cachePool:null,transitions:null}}function zs(e,t,r){var n,o=t.pendingProps,i=ei.current,s=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&i)),n?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),ko(ei,1&i),null===e)return da(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=o.children,e=o.fallback,s?(o=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&o)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=$c(l,o,0,null),e=Nc(e,o,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=$s(r),t.memoizedState=Ns,e):Ls(t,l));if(null!==(i=e.memoizedState)&&null!==(n=i.dehydrated))return function(e,t,r,n,o,i,s){if(r)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,n=ds(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=n.fallback,o=t.mode,n=$c({mode:"visible",children:n.children},o,0,null),(i=Nc(i,o,s,null)).flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,0!==(1&t.mode)&&ja(t,e.child,null,s),t.child.memoizedState=$s(s),t.memoizedState=Ns,i);if(0===(1&t.mode))return Bs(e,t,s,null);if("$!"===o.data){if(n=o.nextSibling&&o.nextSibling.dataset)var l=n.dgst;return n=l,Bs(e,t,s,n=ds(i=Error(a(419)),n,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(n=Pl)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(n.suspendedLanes|s))?0:o)&&o!==i.retryLane&&(i.retryLane=o,Na(e,o),rc(n,e,o,-1))}return mc(),Bs(e,t,s,n=ds(Error(a(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=kc.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,oa=co(o.nextSibling),na=t,aa=!0,ia=null,null!==e&&(Yo[Ko++]=Qo,Yo[Ko++]=Jo,Yo[Ko++]=Xo,Qo=e.id,Jo=e.overflow,Xo=t),t=Ls(t,n.children),t.flags|=4096,t)}(e,t,l,o,n,i,r);if(s){s=o.fallback,l=t.mode,n=(i=e.child).sibling;var c={mode:"hidden",children:o.children};return 0===(1&l)&&t.child!==i?((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null):(o=Tc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==n?s=Tc(n,s):(s=Nc(s,l,r,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,l=null===(l=e.child.memoizedState)?$s(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~r,t.memoizedState=Ns,o}return e=(s=e.child).sibling,o=Tc(s,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=r),o.return=t,o.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=o,t.memoizedState=null,o}function Ls(e,t){return(t=$c({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,r,n){return null!==n&&ma(n),ja(t,e.child,null,r),(e=Ls(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fs(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Pa(e.return,t,r)}function _s(e,t,r,n,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=o)}function Us(e,t,r){var n=t.pendingProps,o=n.revealOrder,a=n.tail;if(ys(e,t,n.children,r),0!==(2&(n=ei.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fs(e,r,t);else if(19===e.tag)Fs(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ko(ei,n),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(r=t.child,o=null;null!==r;)null!==(e=r.alternate)&&null===ti(e)&&(o=r),r=r.sibling;null===(r=o)?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),_s(t,!1,o,r,a);break;case"backwards":for(r=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ti(e)){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}_s(t,!0,r,null,a);break;case"together":_s(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vs(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),$l|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(r=Tc(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Tc(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Gs(e,t){if(!aa)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Hs(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var o=e.child;null!==o;)r|=o.lanes|o.childLanes,n|=14680064&o.subtreeFlags,n|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function qs(e,t,r){var n=t.pendingProps;switch(ra(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hs(t),null;case 1:case 17:return To(t.type)&&Ro(),Hs(t),null;case 3:return n=t.stateNode,Qa(),Eo(Io),Eo(Po),ni(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(pa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ia&&(ic(ia),ia=null))),Ms(e,t),Hs(t),null;case 5:Za(t);var o=Ka(Ya.current);if(r=t.type,null!==e&&null!=t.stateNode)Ts(e,t,r,n,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(a(166));return Hs(t),null}if(e=Ka(Ha.current),pa(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[ho]=t,n[fo]=i,e=0!==(1&t.mode),r){case"dialog":Bn("cancel",n),Bn("close",n);break;case"iframe":case"object":case"embed":Bn("load",n);break;case"video":case"audio":for(o=0;o<Nn.length;o++)Bn(Nn[o],n);break;case"source":Bn("error",n);break;case"img":case"image":case"link":Bn("error",n),Bn("load",n);break;case"details":Bn("toggle",n);break;case"input":X(n,i),Bn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Bn("invalid",n);break;case"textarea":oe(n,i),Bn("invalid",n)}for(var l in xe(r,i),o=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?n.textContent!==c&&(!0!==i.suppressHydrationWarning&&Jn(n.textContent,c,e),o=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Jn(n.textContent,c,e),o=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Bn("scroll",n)}switch(r){case"input":H(n),Z(n,i,!0);break;case"textarea":H(n),ie(n);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(n.onclick=Zn)}n=o,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),"select"===r&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[ho]=t,e[fo]=n,Ds(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(r,n),r){case"dialog":Bn("cancel",e),Bn("close",e),o=n;break;case"iframe":case"object":case"embed":Bn("load",e),o=n;break;case"video":case"audio":for(o=0;o<Nn.length;o++)Bn(Nn[o],e);o=n;break;case"source":Bn("error",e),o=n;break;case"img":case"image":case"link":Bn("error",e),Bn("load",e),o=n;break;case"details":Bn("toggle",e),o=n;break;case"input":X(e,n),o=K(e,n),Bn("invalid",e);break;case"option":default:o=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=z({},n,{value:void 0}),Bn("invalid",e);break;case"textarea":oe(e,n),o=ne(e,n),Bn("invalid",e)}for(i in xe(r,o),c=o)if(c.hasOwnProperty(i)){var d=c[i];"style"===i?ge(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===i?"string"===typeof d?("textarea"!==r||""!==d)&&pe(e,d):"number"===typeof d&&pe(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(s.hasOwnProperty(i)?null!=d&&"onScroll"===i&&Bn("scroll",e):null!=d&&b(e,i,d,l))}switch(r){case"input":H(e),Z(e,n,!1);break;case"textarea":H(e),ie(e);break;case"option":null!=n.value&&e.setAttribute("value",""+V(n.value));break;case"select":e.multiple=!!n.multiple,null!=(i=n.value)?re(e,!!n.multiple,i,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Zn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hs(t),null;case 6:if(e&&null!=t.stateNode)Rs(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(a(166));if(r=Ka(Ya.current),Ka(Ha.current),pa(t)){if(n=t.stateNode,r=t.memoizedProps,n[ho]=t,(i=n.nodeValue!==r)&&null!==(e=na))switch(e.tag){case 3:Jn(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jn(n.nodeValue,r,0!==(1&e.mode))}i&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[ho]=t,t.stateNode=n}return Hs(t),null;case 13:if(Eo(ei),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(aa&&null!==oa&&0!==(1&t.mode)&&0===(128&t.flags))ha(),fa(),t.flags|=98560,i=!1;else if(i=pa(t),null!==n&&null!==n.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[ho]=t}else fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hs(t),i=!1}else null!==ia&&(ic(ia),ia=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ei.current)?0===Rl&&(Rl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Hs(t),null);case 4:return Qa(),Ms(e,t),null===e&&Un(t.stateNode.containerInfo),Hs(t),null;case 10:return Oa(t.type._context),Hs(t),null;case 19:if(Eo(ei),null===(i=t.memoizedState))return Hs(t),null;if(n=0!==(128&t.flags),null===(l=i.rendering))if(n)Gs(i,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ti(e))){for(t.flags|=128,Gs(i,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(i=r).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ko(ei,1&ei.current|2),t.child}e=e.sibling}null!==i.tail&&Qe()>Ul&&(t.flags|=128,n=!0,Gs(i,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=ti(l))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Gs(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!aa)return Hs(t),null}else 2*Qe()-i.renderingStartTime>Ul&&1073741824!==r&&(t.flags|=128,n=!0,Gs(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=i.last)?r.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Qe(),t.sibling=null,r=ei.current,ko(ei,n?1&r|2:1&r),t):(Hs(t),null);case 22:case 23:return uc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Ml)&&(Hs(t),6&t.subtreeFlags&&(t.flags|=8192)):Hs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ys(e,t){switch(ra(t),t.tag){case 1:return To(t.type)&&Ro(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qa(),Eo(Io),Eo(Po),ni(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Za(t),null;case 13:if(Eo(ei),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Eo(ei),null;case 4:return Qa(),null;case 10:return Oa(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Ds=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Ms=function(){},Ts=function(e,t,r,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,Ka(Ha.current);var a,i=null;switch(r){case"input":o=K(e,o),n=K(e,n),i=[];break;case"select":o=z({},o,{value:void 0}),n=z({},n,{value:void 0}),i=[];break;case"textarea":o=ne(e,o),n=ne(e,n),i=[];break;default:"function"!==typeof o.onClick&&"function"===typeof n.onClick&&(e.onclick=Zn)}for(d in xe(r,n),r=null,o)if(!n.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var l=o[d];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(s.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=null!=o?o[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(d,r)),r=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(s.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Bn("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}},Rs=function(e,t,r,n){r!==n&&(t.flags|=4)};var Ks=!1,Xs=!1,Qs="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){Cc(e,t,n)}else r.current=null}function el(e,t,r){try{r()}catch(n){Cc(e,t,n)}}var tl=!1;function rl(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var o=n=n.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,void 0!==a&&el(t,r,a)}o=o.next}while(o!==n)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ol(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ho],delete t[fo],delete t[go],delete t[vo],delete t[xo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Zn));else if(4!==n&&null!==(e=e.child))for(ll(e,t,r),e=e.sibling;null!==e;)ll(e,t,r),e=e.sibling}function cl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(cl(e,t,r),e=e.sibling;null!==e;)cl(e,t,r),e=e.sibling}var dl=null,ul=!1;function pl(e,t,r){for(r=r.child;null!==r;)hl(e,t,r),r=r.sibling}function hl(e,t,r){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(ot,r)}catch(s){}switch(r.tag){case 5:Xs||Zs(r,t);case 6:var n=dl,o=ul;dl=null,pl(e,t,r),ul=o,null!==(dl=n)&&(ul?(e=dl,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):dl.removeChild(r.stateNode));break;case 18:null!==dl&&(ul?(e=dl,r=r.stateNode,8===e.nodeType?lo(e.parentNode,r):1===e.nodeType&&lo(e,r),Ut(e)):lo(dl,r.stateNode));break;case 4:n=dl,o=ul,dl=r.stateNode.containerInfo,ul=!0,pl(e,t,r),dl=n,ul=o;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){o=n=n.next;do{var a=o,i=a.destroy;a=a.tag,void 0!==i&&(0!==(2&a)||0!==(4&a))&&el(r,t,i),o=o.next}while(o!==n)}pl(e,t,r);break;case 1:if(!Xs&&(Zs(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){Cc(r,t,s)}pl(e,t,r);break;case 21:pl(e,t,r);break;case 22:1&r.mode?(Xs=(n=Xs)||null!==r.memoizedState,pl(e,t,r),Xs=n):pl(e,t,r);break;default:pl(e,t,r)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Qs),t.forEach((function(t){var n=Oc.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function ml(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var o=r[n];try{var i=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(a(160));hl(i,s,o),dl=null,ul=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(d){Cc(o,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&n){try{rl(3,e,e.return),nl(3,e)}catch(g){Cc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Cc(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&n&&null!==r&&Zs(r,r.return);break;case 5:if(ml(t,e),vl(e),512&n&&null!==r&&Zs(r,r.return),32&e.flags){var o=e.stateNode;try{pe(o,"")}catch(g){Cc(e,e.return,g)}}if(4&n&&null!=(o=e.stateNode)){var i=e.memoizedProps,s=null!==r?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&Q(o,i),be(l,s);var d=be(l,i);for(s=0;s<c.length;s+=2){var u=c[s],p=c[s+1];"style"===u?ge(o,p):"dangerouslySetInnerHTML"===u?ue(o,p):"children"===u?pe(o,p):b(o,u,p,d)}switch(l){case"input":J(o,i);break;case"textarea":ae(o,i);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var f=i.value;null!=f?re(o,!!i.multiple,f,!1):h!==!!i.multiple&&(null!=i.defaultValue?re(o,!!i.multiple,i.defaultValue,!0):re(o,!!i.multiple,i.multiple?[]:"",!1))}o[fo]=i}catch(g){Cc(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&n){if(null===e.stateNode)throw Error(a(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(g){Cc(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(g){Cc(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(o=e.child).flags&&(i=null!==o.memoizedState,o.stateNode.isHidden=i,!i||null!==o.alternate&&null!==o.alternate.memoizedState||(_l=Qe())),4&n&&fl(e);break;case 22:if(u=null!==r&&null!==r.memoizedState,1&e.mode?(Xs=(d=Xs)||u,ml(t,e),Xs=d):ml(t,e),vl(e),8192&n){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Js=e,u=e.child;null!==u;){for(p=Js=u;null!==Js;){switch(f=(h=Js).child,h.tag){case 0:case 11:case 14:case 15:rl(4,h,h.return);break;case 1:Zs(h,h.return);var m=h.stateNode;if("function"===typeof m.componentWillUnmount){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Cc(n,r,g)}}break;case 5:Zs(h,h.return);break;case 22:if(null!==h.memoizedState){jl(p);continue}}null!==f?(f.return=h,Js=f):jl(p)}u=u.sibling}e:for(u=null,p=e;;){if(5===p.tag){if(null===u){u=p;try{o=p.stateNode,d?"function"===typeof(i=o.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=p.stateNode,s=void 0!==(c=p.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(g){Cc(e,e.return,g)}}}else if(6===p.tag){if(null===u)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(g){Cc(e,e.return,g)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ml(t,e),vl(e),4&n&&fl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(il(r)){var n=r;break e}r=r.return}throw Error(a(160))}switch(n.tag){case 5:var o=n.stateNode;32&n.flags&&(pe(o,""),n.flags&=-33),cl(e,sl(e),o);break;case 3:case 4:var i=n.stateNode.containerInfo;ll(e,sl(e),i);break;default:throw Error(a(161))}}catch(s){Cc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function xl(e,t,r){Js=e,bl(e,t,r)}function bl(e,t,r){for(var n=0!==(1&e.mode);null!==Js;){var o=Js,a=o.child;if(22===o.tag&&n){var i=null!==o.memoizedState||Ks;if(!i){var s=o.alternate,l=null!==s&&null!==s.memoizedState||Xs;s=Ks;var c=Xs;if(Ks=i,(Xs=l)&&!c)for(Js=o;null!==Js;)l=(i=Js).child,22===i.tag&&null!==i.memoizedState?wl(o):null!==l?(l.return=i,Js=l):wl(o);for(;null!==a;)Js=a,bl(a,t,r),a=a.sibling;Js=o,Ks=s,Xs=c}yl(e)}else 0!==(8772&o.subtreeFlags)&&null!==a?(a.return=o,Js=a):yl(e)}}function yl(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||nl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Xs)if(null===r)n.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:rs(t.type,r.memoizedProps);n.componentDidUpdate(o,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Va(t,i,n);break;case 3:var s=t.updateQueue;if(null!==s){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Va(t,s,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var p=u.dehydrated;null!==p&&Ut(p)}}}break;default:throw Error(a(163))}Xs||512&t.flags&&ol(t)}catch(h){Cc(t,t.return,h)}}if(t===e){Js=null;break}if(null!==(r=t.sibling)){r.return=t.return,Js=r;break}Js=t.return}}function jl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Js=r;break}Js=t.return}}function wl(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{nl(4,t)}catch(l){Cc(t,r,l)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var o=t.return;try{n.componentDidMount()}catch(l){Cc(t,o,l)}}var a=t.return;try{ol(t)}catch(l){Cc(t,a,l)}break;case 5:var i=t.return;try{ol(t)}catch(l){Cc(t,i,l)}}}catch(l){Cc(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var Sl,Cl=Math.ceil,Al=y.ReactCurrentDispatcher,El=y.ReactCurrentOwner,kl=y.ReactCurrentBatchConfig,Ol=0,Pl=null,Il=null,Dl=0,Ml=0,Tl=Ao(0),Rl=0,Nl=null,$l=0,zl=0,Ll=0,Bl=null,Fl=null,_l=0,Ul=1/0,Wl=null,Vl=!1,Gl=null,Hl=null,ql=!1,Yl=null,Kl=0,Xl=0,Ql=null,Jl=-1,Zl=0;function ec(){return 0!==(6&Ol)?Qe():-1!==Jl?Jl:Jl=Qe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Ol)&&0!==Dl?Dl&-Dl:null!==ga.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function rc(e,t,r,n){if(50<Xl)throw Xl=0,Ql=null,Error(a(185));vt(e,r,n),0!==(2&Ol)&&e===Pl||(e===Pl&&(0===(2&Ol)&&(zl|=r),4===Rl&&sc(e,Dl)),nc(e,n),1===r&&0===Ol&&0===(1&t.mode)&&(Ul=Qe()+500,Fo&&Wo()))}function nc(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-it(a),s=1<<i,l=o[i];-1===l?0!==(s&r)&&0===(s&n)||(o[i]=ht(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var n=pt(e,e===Pl?Dl:0);if(0===n)null!==r&&Ye(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Ye(r),1===t)0===e.tag?function(e){Fo=!0,Uo(e)}(lc.bind(null,e)):Uo(lc.bind(null,e)),io((function(){0===(6&Ol)&&Wo()})),r=null;else{switch(yt(n)){case 1:r=Ze;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=nt}r=Pc(r,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function oc(e,t){if(Jl=-1,Zl=0,0!==(6&Ol))throw Error(a(327));var r=e.callbackNode;if(wc()&&e.callbackNode!==r)return null;var n=pt(e,e===Pl?Dl:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=gc(e,n);else{t=n;var o=Ol;Ol|=2;var i=fc();for(Pl===e&&Dl===t||(Wl=null,Ul=Qe()+500,pc(e,t));;)try{xc();break}catch(l){hc(e,l)}ka(),Al.current=i,Ol=o,null!==Il?t=0:(Pl=null,Dl=0,t=Rl)}if(0!==t){if(2===t&&(0!==(o=ft(e))&&(n=o,t=ac(e,o))),1===t)throw r=Nl,pc(e,0),sc(e,n),nc(e,Qe()),r;if(6===t)sc(e,n);else{if(o=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var o=r[n],a=o.getSnapshot;o=o.value;try{if(!sn(a(),o))return!1}catch(s){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=gc(e,n))&&(0!==(i=ft(e))&&(n=i,t=ac(e,i))),1===t))throw r=Nl,pc(e,0),sc(e,n),nc(e,Qe()),r;switch(e.finishedWork=o,e.finishedLanes=n,t){case 0:case 1:throw Error(a(345));case 2:case 5:jc(e,Fl,Wl);break;case 3:if(sc(e,n),(130023424&n)===n&&10<(t=_l+500-Qe())){if(0!==pt(e,0))break;if(((o=e.suspendedLanes)&n)!==n){ec(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=no(jc.bind(null,e,Fl,Wl),t);break}jc(e,Fl,Wl);break;case 4:if(sc(e,n),(4194240&n)===n)break;for(t=e.eventTimes,o=-1;0<n;){var s=31-it(n);i=1<<s,(s=t[s])>o&&(o=s),n&=~i}if(n=o,10<(n=(120>(n=Qe()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Cl(n/1960))-n)){e.timeoutHandle=no(jc.bind(null,e,Fl,Wl),n);break}jc(e,Fl,Wl);break;default:throw Error(a(329))}}}return nc(e,Qe()),e.callbackNode===r?oc.bind(null,e):null}function ac(e,t){var r=Bl;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Fl,Fl=r,null!==t&&ic(t)),e}function ic(e){null===Fl?Fl=e:Fl.push.apply(Fl,e)}function sc(e,t){for(t&=~Ll,t&=~zl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-it(t),n=1<<r;e[r]=-1,t&=~n}}function lc(e){if(0!==(6&Ol))throw Error(a(327));wc();var t=pt(e,0);if(0===(1&t))return nc(e,Qe()),null;var r=gc(e,t);if(0!==e.tag&&2===r){var n=ft(e);0!==n&&(t=n,r=ac(e,n))}if(1===r)throw r=Nl,pc(e,0),sc(e,t),nc(e,Qe()),r;if(6===r)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,Fl,Wl),nc(e,Qe()),null}function cc(e,t){var r=Ol;Ol|=1;try{return e(t)}finally{0===(Ol=r)&&(Ul=Qe()+500,Fo&&Wo())}}function dc(e){null!==Yl&&0===Yl.tag&&0===(6&Ol)&&wc();var t=Ol;Ol|=1;var r=kl.transition,n=bt;try{if(kl.transition=null,bt=1,e)return e()}finally{bt=n,kl.transition=r,0===(6&(Ol=t))&&Wo()}}function uc(){Ml=Tl.current,Eo(Tl)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,oo(r)),null!==Il)for(r=Il.return;null!==r;){var n=r;switch(ra(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Ro();break;case 3:Qa(),Eo(Io),Eo(Po),ni();break;case 5:Za(n);break;case 4:Qa();break;case 13:case 19:Eo(ei);break;case 10:Oa(n.type._context);break;case 22:case 23:uc()}r=r.return}if(Pl=e,Il=e=Tc(e.current,null),Dl=Ml=t,Rl=0,Nl=null,Ll=zl=$l=0,Fl=Bl=null,null!==Ma){for(t=0;t<Ma.length;t++)if(null!==(n=(r=Ma[t]).interleaved)){r.interleaved=null;var o=n.next,a=r.pending;if(null!==a){var i=a.next;a.next=o,n.next=i}r.pending=n}Ma=null}return e}function hc(e,t){for(;;){var r=Il;try{if(ka(),oi.current=Ji,di){for(var n=si.memoizedState;null!==n;){var o=n.queue;null!==o&&(o.pending=null),n=n.next}di=!1}if(ii=0,ci=li=si=null,ui=!1,pi=0,El.current=null,null===r||null===r.return){Rl=1,Nl=t,Il=null;break}e:{var i=e,s=r.return,l=r,c=t;if(t=Dl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,p=u.tag;if(0===(1&u.mode)&&(0===p||11===p||15===p)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=gs(s);if(null!==f){f.flags&=-257,vs(f,s,l,0,t),1&f.mode&&ms(i,d,t),c=d;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ms(i,d,t),mc();break e}c=Error(a(426))}else if(aa&&1&l.mode){var v=gs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vs(v,s,l,0,t),ma(cs(c,l));break e}}i=c=cs(c,l),4!==Rl&&(Rl=2),null===Bl?Bl=[i]:Bl.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Ua(i,hs(0,c,t));break e;case 1:l=c;var x=i.type,b=i.stateNode;if(0===(128&i.flags)&&("function"===typeof x.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Hl||!Hl.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t,Ua(i,fs(i,l,t));break e}}i=i.return}while(null!==i)}yc(r)}catch(y){t=y,Il===r&&null!==r&&(Il=r=r.return);continue}break}}function fc(){var e=Al.current;return Al.current=Ji,null===e?Ji:e}function mc(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===Pl||0===(268435455&$l)&&0===(268435455&zl)||sc(Pl,Dl)}function gc(e,t){var r=Ol;Ol|=2;var n=fc();for(Pl===e&&Dl===t||(Wl=null,pc(e,t));;)try{vc();break}catch(o){hc(e,o)}if(ka(),Ol=r,Al.current=n,null!==Il)throw Error(a(261));return Pl=null,Dl=0,Rl}function vc(){for(;null!==Il;)bc(Il)}function xc(){for(;null!==Il&&!Ke();)bc(Il)}function bc(e){var t=Sl(e.alternate,e,Ml);e.memoizedProps=e.pendingProps,null===t?yc(e):Il=t,El.current=null}function yc(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=qs(r,t,Ml)))return void(Il=r)}else{if(null!==(r=Ys(r,t)))return r.flags&=32767,void(Il=r);if(null===e)return Rl=6,void(Il=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Il=t);Il=t=e}while(null!==t);0===Rl&&(Rl=5)}function jc(e,t,r){var n=bt,o=kl.transition;try{kl.transition=null,bt=1,function(e,t,r,n){do{wc()}while(null!==Yl);if(0!==(6&Ol))throw Error(a(327));r=e.finishedWork;var o=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-it(r),a=1<<o;t[o]=0,n[o]=-1,e[o]=-1,r&=~a}}(e,i),e===Pl&&(Il=Pl=null,Dl=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||ql||(ql=!0,Pc(tt,(function(){return wc(),null}))),i=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||i){i=kl.transition,kl.transition=null;var s=bt;bt=1;var l=Ol;Ol|=4,El.current=null,function(e,t){if(eo=Vt,hn(e=pn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var o=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch(j){r=null;break e}var s=0,l=-1,c=-1,d=0,u=0,p=e,h=null;t:for(;;){for(var f;p!==r||0!==o&&3!==p.nodeType||(l=s+o),p!==i||0!==n&&3!==p.nodeType||(c=s+n),3===p.nodeType&&(s+=p.nodeValue.length),null!==(f=p.firstChild);)h=p,p=f;for(;;){if(p===e)break t;if(h===r&&++d===o&&(l=s),h===i&&++u===n&&(c=s),null!==(f=p.nextSibling))break;h=(p=h).parentNode}p=f}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(to={focusedElem:e,selectionRange:r},Vt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:rs(t.type,g),v);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(a(163))}}catch(j){Cc(t,t.return,j)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}m=tl,tl=!1}(e,r),gl(r,e),fn(to),Vt=!!eo,to=eo=null,e.current=r,xl(r,e,o),Xe(),Ol=l,bt=s,kl.transition=i}else e.current=r;if(ql&&(ql=!1,Yl=e,Kl=o),i=e.pendingLanes,0===i&&(Hl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),nc(e,Qe()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)o=t[r],n(o.value,{componentStack:o.stack,digest:o.digest});if(Vl)throw Vl=!1,e=Gl,Gl=null,e;0!==(1&Kl)&&0!==e.tag&&wc(),i=e.pendingLanes,0!==(1&i)?e===Ql?Xl++:(Xl=0,Ql=e):Xl=0,Wo()}(e,t,r,n)}finally{kl.transition=o,bt=n}return null}function wc(){if(null!==Yl){var e=yt(Kl),t=kl.transition,r=bt;try{if(kl.transition=null,bt=16>e?16:e,null===Yl)var n=!1;else{if(e=Yl,Yl=null,Kl=0,0!==(6&Ol))throw Error(a(331));var o=Ol;for(Ol|=4,Js=e.current;null!==Js;){var i=Js,s=i.child;if(0!==(16&Js.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Js=d;null!==Js;){var u=Js;switch(u.tag){case 0:case 11:case 15:rl(8,u,i)}var p=u.child;if(null!==p)p.return=u,Js=p;else for(;null!==Js;){var h=(u=Js).sibling,f=u.return;if(al(u),u===d){Js=null;break}if(null!==h){h.return=f,Js=h;break}Js=f}}}var m=i.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Js=i}}if(0!==(2064&i.subtreeFlags)&&null!==s)s.return=i,Js=s;else e:for(;null!==Js;){if(0!==(2048&(i=Js).flags))switch(i.tag){case 0:case 11:case 15:rl(9,i,i.return)}var x=i.sibling;if(null!==x){x.return=i.return,Js=x;break e}Js=i.return}}var b=e.current;for(Js=b;null!==Js;){var y=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==y)y.return=s,Js=y;else e:for(s=b;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(w){Cc(l,l.return,w)}if(l===s){Js=null;break e}var j=l.sibling;if(null!==j){j.return=l.return,Js=j;break e}Js=l.return}}if(Ol=o,Wo(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(ot,e)}catch(w){}n=!0}return n}finally{bt=r,kl.transition=t}}return!1}function Sc(e,t,r){e=Fa(e,t=hs(0,t=cs(r,t),1),1),t=ec(),null!==e&&(vt(e,1,t),nc(e,t))}function Cc(e,t,r){if(3===e.tag)Sc(e,e,r);else for(;null!==t;){if(3===t.tag){Sc(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Hl||!Hl.has(n))){t=Fa(t,e=fs(t,e=cs(r,e),1),1),e=ec(),null!==t&&(vt(t,1,e),nc(t,e));break}}t=t.return}}function Ac(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&r,Pl===e&&(Dl&r)===r&&(4===Rl||3===Rl&&(130023424&Dl)===Dl&&500>Qe()-_l?pc(e,0):Ll|=r),nc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var r=ec();null!==(e=Na(e,t))&&(vt(e,t,r),nc(e,r))}function kc(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Ec(e,r)}function Oc(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;null!==o&&(r=o.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(a(314))}null!==n&&n.delete(t),Ec(e,r)}function Pc(e,t){return qe(e,t)}function Ic(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,r,n){return new Ic(e,t,r,n)}function Mc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Tc(e,t){var r=e.alternate;return null===r?((r=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Rc(e,t,r,n,o,i){var s=2;if(n=e,"function"===typeof e)Mc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Nc(r.children,o,i,t);case C:s=8,o|=8;break;case A:return(e=Dc(12,r,t,2|o)).elementType=A,e.lanes=i,e;case P:return(e=Dc(13,r,t,o)).elementType=P,e.lanes=i,e;case I:return(e=Dc(19,r,t,o)).elementType=I,e.lanes=i,e;case T:return $c(r,o,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case k:s=9;break e;case O:s=11;break e;case D:s=14;break e;case M:s=16,n=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Dc(s,r,t,o)).elementType=e,t.type=n,t.lanes=i,t}function Nc(e,t,r,n){return(e=Dc(7,e,n,t)).lanes=r,e}function $c(e,t,r,n){return(e=Dc(22,e,n,t)).elementType=T,e.lanes=r,e.stateNode={isHidden:!1},e}function zc(e,t,r){return(e=Dc(6,e,null,t)).lanes=r,e}function Lc(e,t,r){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,r,n,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Fc(e,t,r,n,o,a,i,s,l){return e=new Bc(e,t,r,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Dc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},za(a),e}function _c(e){if(!e)return Oo;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(To(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var r=e.type;if(To(r))return $o(e,r,t)}return t}function Uc(e,t,r,n,o,a,i,s,l){return(e=Fc(r,n,!0,e,0,a,0,s,l)).context=_c(null),r=e.current,(a=Ba(n=ec(),o=tc(r))).callback=void 0!==t&&null!==t?t:null,Fa(r,a,o),e.current.lanes=o,vt(e,o,n),nc(e,n),e}function Wc(e,t,r,n){var o=t.current,a=ec(),i=tc(o);return r=_c(r),null===t.context?t.context=r:t.pendingContext=r,(t=Ba(a,i)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Fa(o,t,i))&&(rc(e,o,i,a),_a(e,o,i)),i}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Hc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Sl=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Io.current)bs=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return bs=!1,function(e,t,r){switch(t.tag){case 3:Ps(t),fa();break;case 5:Ja(t);break;case 1:To(t.type)&&zo(t);break;case 4:Xa(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,o=t.memoizedProps.value;ko(Sa,n._currentValue),n._currentValue=o;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(ko(ei,1&ei.current),t.flags|=128,null):0!==(r&t.child.childLanes)?zs(e,t,r):(ko(ei,1&ei.current),null!==(e=Vs(e,t,r))?e.sibling:null);ko(ei,1&ei.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return Us(e,t,r);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),ko(ei,ei.current),n)break;return null;case 22:case 23:return t.lanes=0,Cs(e,t,r)}return Vs(e,t,r)}(e,t,r);bs=0!==(131072&e.flags)}else bs=!1,aa&&0!==(1048576&t.flags)&&ea(t,qo,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ws(e,t),e=t.pendingProps;var o=Mo(t,Po.current);Ia(t,r),o=gi(null,t,n,e,o,r);var i=vi();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,To(n)?(i=!0,zo(t)):i=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,za(t),o.updater=os,t.stateNode=o,o._reactInternals=t,ls(t,n,e,r),t=Os(null,t,n,!0,i,r)):(t.tag=0,aa&&i&&ta(t),ys(null,t,o,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,n=(o=n._init)(n._payload),t.type=n,o=t.tag=function(e){if("function"===typeof e)return Mc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===O)return 11;if(e===D)return 14}return 2}(n),e=rs(n,e),o){case 0:t=Es(null,t,n,e,r);break e;case 1:t=ks(null,t,n,e,r);break e;case 11:t=js(null,t,n,e,r);break e;case 14:t=ws(null,t,n,rs(n.type,e),r);break e}throw Error(a(306,n,""))}return t;case 0:return n=t.type,o=t.pendingProps,Es(e,t,n,o=t.elementType===n?o:rs(n,o),r);case 1:return n=t.type,o=t.pendingProps,ks(e,t,n,o=t.elementType===n?o:rs(n,o),r);case 3:e:{if(Ps(t),null===e)throw Error(a(387));n=t.pendingProps,o=(i=t.memoizedState).element,La(e,t),Wa(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated){if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Is(e,t,n,r,o=cs(Error(a(423)),t));break e}if(n!==o){t=Is(e,t,n,r,o=cs(Error(a(424)),t));break e}for(oa=co(t.stateNode.containerInfo.firstChild),na=t,aa=!0,ia=null,r=wa(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(fa(),n===o){t=Vs(e,t,r);break e}ys(e,t,n,r)}t=t.child}return t;case 5:return Ja(t),null===e&&da(t),n=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,s=o.children,ro(n,o)?s=null:null!==i&&ro(n,i)&&(t.flags|=32),As(e,t),ys(e,t,s,r),t.child;case 6:return null===e&&da(t),null;case 13:return zs(e,t,r);case 4:return Xa(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=ja(t,null,n,r):ys(e,t,n,r),t.child;case 11:return n=t.type,o=t.pendingProps,js(e,t,n,o=t.elementType===n?o:rs(n,o),r);case 7:return ys(e,t,t.pendingProps,r),t.child;case 8:case 12:return ys(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,ko(Sa,n._currentValue),n._currentValue=s,null!==i)if(sn(i.value,s)){if(i.children===o.children&&!Io.current){t=Vs(e,t,r);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){s=i.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===i.tag){(c=Ba(-1,r&-r)).tag=2;var d=i.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,null!==(c=i.alternate)&&(c.lanes|=r),Pa(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(10===i.tag)s=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(s=i.return))throw Error(a(341));s.lanes|=r,null!==(l=s.alternate)&&(l.lanes|=r),Pa(s,r,t),s=i.sibling}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===t){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}ys(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,n=t.pendingProps.children,Ia(t,r),n=n(o=Da(o)),t.flags|=1,ys(e,t,n,r),t.child;case 14:return o=rs(n=t.type,t.pendingProps),ws(e,t,n,o=rs(n.type,o),r);case 15:return Ss(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:rs(n,o),Ws(e,t),t.tag=1,To(n)?(e=!0,zo(t)):e=!1,Ia(t,r),is(t,n,o),ls(t,n,o,r),Os(null,t,n,!0,e,r);case 19:return Us(e,t,r);case 22:return Cs(e,t,r)}throw Error(a(156,t.tag))};var qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Kc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,r,n,o){var a=r._reactRootContainer;if(a){var i=a;if("function"===typeof o){var s=o;o=function(){var e=Vc(i);s.call(e)}}Wc(t,i,e,o)}else i=function(e,t,r,n,o){if(o){if("function"===typeof n){var a=n;n=function(){var e=Vc(i);a.call(e)}}var i=Uc(t,n,e,0,null,!1,0,"",Jc);return e._reactRootContainer=i,e[mo]=i.current,Un(8===e.nodeType?e.parentNode:e),dc(),i}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof n){var s=n;n=function(){var e=Vc(l);s.call(e)}}var l=Fc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[mo]=l.current,Un(8===e.nodeType?e.parentNode:e),dc((function(){Wc(t,l,r,n)})),l}(r,t,e,o,n);return Vc(i)}Kc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},Kc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Wc(null,e,null,null)})),t[mo]=null}},Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Tt.length&&0!==t&&t<Tt[r].priority;r++);Tt.splice(r,0,e),0===r&&zt(e)}},jt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ut(t.pendingLanes);0!==r&&(xt(t,1|r),nc(t,Qe()),0===(6&Ol)&&(Ul=Qe()+500,Wo()))}break;case 13:dc((function(){var t=Na(e,1);if(null!==t){var r=ec();rc(t,e,1,r)}})),Hc(e,1)}},wt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)rc(t,e,134217728,ec());Hc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),r=Na(e,t);if(null!==r)rc(r,e,t,ec());Hc(e,t)}},Ct=function(){return bt},At=function(e,t){var r=bt;try{return bt=e,t()}finally{bt=r}},we=function(e,t,r){switch(t){case"input":if(J(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var o=wo(n);if(!o)throw Error(a(90));q(n),J(n,o)}}}break;case"textarea":ae(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Oe=cc,Pe=dc;var ed={usingClientEntryPoint:!1,Events:[yo,jo,wo,Ee,ke,cc]},td={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{ot=nd.inject(rd),at=nd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var r=!1,n="",o=qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Fc(e,1,!1,null,0,r,0,n,o),e[mo]=t.current,Un(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,r){if(!Qc(t))throw Error(a(200));return Zc(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!Xc(e))throw Error(a(405));var n=null!=r&&r.hydratedSources||null,o=!1,i="",s=qc;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(o=!0),void 0!==r.identifierPrefix&&(i=r.identifierPrefix),void 0!==r.onRecoverableError&&(s=r.onRecoverableError)),t=Uc(t,null,e,1,null!=r?r:null,o,0,i,s),e[mo]=t.current,Un(e),n)for(e=0;e<n.length;e++)o=(o=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,o]:t.mutableSourceEagerHydrationData.push(r,o);return new Kc(t)},t.render=function(e,t,r){if(!Qc(t))throw Error(a(200));return Zc(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(a(40));return!!e._reactRootContainer&&(dc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[mo]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Qc(r))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zc(e,t,r,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,r)=>{var n=r(5193),o=r(2761),a=Object.prototype,i=a.hasOwnProperty,s=a.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(e){return o(e)&&i.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},2794:(e,t,r)=>{var n=r(9742),o=r(7498),a=r(9096);e.exports=function(e,t){return e&&e.length?n(e,a(t,2),o):void 0}},2866:(e,t,r)=>{var n=r(2969);e.exports=function(e){return function(t){return n(t,e)}}},2929:(e,t,r)=>{var n=r(6552).Uint8Array;e.exports=n},2954:(e,t,r)=>{"use strict";var n=r(4994);t.A=void 0;var o=n(r(39)),a=r(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload")},2969:(e,t,r)=>{var n=r(5324),o=r(914);e.exports=function(e,t){for(var r=0,a=(t=n(t,e)).length;null!=e&&r<a;)e=e[o(t[r++])];return r&&r==a?e:void 0}},3028:e=>{e.exports=function(e,t){return function(r){return e(t(r))}}},3030:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(8168);function o(e,t){const r=(0,n.A)({},t);return Object.keys(e).forEach((a=>{if(a.toString().match(/^(components|slots)$/))r[a]=(0,n.A)({},e[a],r[a]);else if(a.toString().match(/^(componentsProps|slotProps)$/)){const i=e[a]||{},s=t[a];r[a]={},s&&Object.keys(s)?i&&Object.keys(i)?(r[a]=(0,n.A)({},s),Object.keys(i).forEach((e=>{r[a][e]=o(i[e],s[e])}))):r[a]=s:r[a]=i}else void 0===r[a]&&(r[a]=e[a])})),r}},3097:(e,t,r)=>{var n=r(2969);e.exports=function(e,t,r){var o=null==e?void 0:n(e,t);return void 0===o?r:o}},3174:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalStyles:()=>w.A,StyledEngineProvider:()=>j,ThemeContext:()=>o.T,css:()=>v.AH,default:()=>S,internal_processStyles:()=>C,keyframes:()=>v.i7});var n=r(8168),o=r(9369),a=r(6598),i=r(9436),s=r(1722),l=r(5043),c=r(918),d=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,u=(0,c.A)((function(e){return d.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),p=function(e){return"theme"!==e},h=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?u:p},f=function(e,t,r){var n;if(t){var o=t.shouldForwardProp;n=e.__emotion_forwardProp&&o?function(t){return e.__emotion_forwardProp(t)&&o(t)}:o}return"function"!==typeof n&&r&&(n=e.__emotion_forwardProp),n},m=function(e){var t=e.cache,r=e.serialized,n=e.isStringTag;return(0,s.SF)(t,r,n),(0,i.s)((function(){return(0,s.sk)(t,r,n)})),null},g=function e(t,r){var i,c,d=t.__emotion_real===t,u=d&&t.__emotion_base||t;void 0!==r&&(i=r.label,c=r.target);var p=f(t,r,d),g=p||h(u),v=!g("as");return function(){var x=arguments,b=d&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==i&&b.push("label:"+i+";"),null==x[0]||void 0===x[0].raw)b.push.apply(b,x);else{var y=x[0];b.push(y[0]);for(var j=x.length,w=1;w<j;w++)b.push(x[w],y[w])}var S=(0,o.w)((function(e,t,r){var n=v&&e.as||u,i="",d=[],f=e;if(null==e.theme){for(var x in f={},e)f[x]=e[x];f.theme=l.useContext(o.T)}"string"===typeof e.className?i=(0,s.Rk)(t.registered,d,e.className):null!=e.className&&(i=e.className+" ");var y=(0,a.J)(b.concat(d),t.registered,f);i+=t.key+"-"+y.name,void 0!==c&&(i+=" "+c);var j=v&&void 0===p?h(n):g,w={};for(var S in e)v&&"as"===S||j(S)&&(w[S]=e[S]);return w.className=i,r&&(w.ref=r),l.createElement(l.Fragment,null,l.createElement(m,{cache:t,serialized:y,isStringTag:"string"===typeof n}),l.createElement(n,w))}));return S.displayName=void 0!==i?i:"Styled("+("string"===typeof u?u:u.displayName||u.name||"Component")+")",S.defaultProps=t.defaultProps,S.__emotion_real=S,S.__emotion_base=u,S.__emotion_styles=b,S.__emotion_forwardProp=p,Object.defineProperty(S,"toString",{value:function(){return"."+c}}),S.withComponent=function(t,o){return e(t,(0,n.A)({},r,o,{shouldForwardProp:f(S,o,!0)})).apply(void 0,b)},S}}.bind(null);["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){g[e]=g(e)}));var v=r(3290),x=r(3803),b=r(579);let y;function j(e){const{injectFirst:t,children:r}=e;return t&&y?(0,b.jsx)(o.C,{value:y,children:r}):r}"object"===typeof document&&(y=(0,x.A)({key:"css",prepend:!0}));var w=r(869);function S(e,t){return g(e,t)}const C=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}},3192:(e,t,r)=>{"use strict";var n=r(4994);t.A=void 0;var o=n(r(39)),a=r(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16"}),"MonetizationOn")},3204:(e,t,r)=>{var n=r(3343),o=r(2777),a=r(4052),i=r(4543),s=r(9194),l=r(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=a(e),d=!r&&o(e),u=!r&&!d&&i(e),p=!r&&!d&&!u&&l(e),h=r||d||u||p,f=h?n(e.length,String):[],m=f.length;for(var g in e)!t&&!c.call(e,g)||h&&("length"==g||u&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||f.push(g);return f}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3234:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n.A,extendSxProp:()=>o.A,unstable_createStyleFunctionSx:()=>n.k,unstable_defaultSxConfig:()=>a.A});var n=r(8812),o=r(8698),a=r(7758)},3253:(e,t,r)=>{"use strict";var n=r(4994);t.A=void 0;var o=n(r(39)),a=r(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"m18 7-1.41-1.41-6.34 6.34 1.41 1.41zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12zM.41 13.41 6 19l1.41-1.41L1.83 12z"}),"DoneAll")},3279:e=>{e.exports=function(e){return e}},3290:(e,t,r)=>{"use strict";r.d(t,{AH:()=>d,i7:()=>u,mL:()=>c});var n=r(9369),o=r(5043),a=r(1722),i=r(9436),s=r(6598),l=(r(3803),r(219),function(e,t){var r=arguments;if(null==t||!n.h.call(t,"css"))return o.createElement.apply(void 0,r);var a=r.length,i=new Array(a);i[0]=n.E,i[1]=(0,n.c)(e,t);for(var s=2;s<a;s++)i[s]=r[s];return o.createElement.apply(null,i)});!function(e){var t;t||(t=e.JSX||(e.JSX={}))}(l||(l={}));var c=(0,n.w)((function(e,t){var r=e.styles,l=(0,s.J)([r],void 0,o.useContext(n.T)),c=o.useRef();return(0,i.i)((function(){var e=t.key+"-global",r=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),n=!1,o=document.querySelector('style[data-emotion="'+e+" "+l.name+'"]');return t.sheet.tags.length&&(r.before=t.sheet.tags[0]),null!==o&&(n=!0,o.setAttribute("data-emotion",e),r.hydrate([o])),c.current=[r,n],function(){r.flush()}}),[t]),(0,i.i)((function(){var e=c.current,r=e[0];if(e[1])e[1]=!1;else{if(void 0!==l.next&&(0,a.sk)(t,l.next,!0),r.tags.length){var n=r.tags[r.tags.length-1].nextElementSibling;r.before=n,r.flush()}t.insert("",l,r,!1)}}),[t,l.name]),null}));function d(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.J)(t)}function u(){var e=d.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},3319:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=r(1782).A},3331:(e,t,r)=>{var n=r(9676),o=r(929),a=r(7303);e.exports=function(e){return function(t,r,i){return i&&"number"!=typeof i&&o(t,r,i)&&(r=i=void 0),t=a(t),void 0===r?(r=t,t=0):r=a(r),i=void 0===i?t<r?1:-1:a(i),n(t,r,i,e)}}},3343:e=>{e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},3358:(e,t,r)=>{var n=r(9096),o=r(4416);e.exports=function(e,t){return e&&e.length?o(e,n(t,2)):[]}},3366:(e,t,r)=>{var n=r(7894),o=r(9057);e.exports=function(e,t){return null!=e&&o(e,t,n)}},3375:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n="$$material"},3382:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l,getFunctionName:()=>a});var n=r(528);const o=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function a(e){const t=`${e}`.match(o);return t&&t[1]||""}function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.displayName||e.name||a(e)||t}function s(e,t,r){const n=i(t);return e.displayName||(""!==n?`${r}(${n})`:r)}function l(e){if(null!=e){if("string"===typeof e)return e;if("function"===typeof e)return i(e,"Component");if("object"===typeof e)switch(e.$$typeof){case n.vM:return s(e,e.render,"ForwardRef");case n.lD:return s(e,e.type,"memo");default:return}}}},3411:(e,t,r)=>{var n=r(149),o=r(9096),a=r(8883),i=r(4052);e.exports=function(e,t){return(i(e)?n:a)(e,o(t,3))}},3440:(e,t,r)=>{var n=r(6552)["__core-js_shared__"];e.exports=n},3462:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(5043),o=r(6564);function a(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.useMemo((()=>t.every((e=>null==e))?null:e=>{t.forEach((t=>{(0,o.A)(t,e)}))}),t)}},3468:(e,t,r)=>{"use strict";function n(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function n(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];clearTimeout(t),t=setTimeout((()=>{e.apply(this,o)}),r)}return n.clear=()=>{clearTimeout(t)},n}r.d(t,{A:()=>n})},3471:(e,t,r)=>{"use strict";var n=r(4994);t.A=void 0;var o=n(r(39)),a=r(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},3538:(e,t,r)=>{var n=r(755),o=r(3411);e.exports=function(e,t){return n(o(e,t),1)}},3574:(e,t,r)=>{"use strict";r.d(t,{A:()=>h});var n=r(5043),o=r(9303);let a=!0,i=!1;const s=new o.E,l={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function c(e){e.metaKey||e.altKey||e.ctrlKey||(a=!0)}function d(){a=!1}function u(){"hidden"===this.visibilityState&&i&&(a=!0)}function p(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(r){}return a||function(e){const{type:t,tagName:r}=e;return!("INPUT"!==r||!l[t]||e.readOnly)||"TEXTAREA"===r&&!e.readOnly||!!e.isContentEditable}(t)}const h=function(){const e=n.useCallback((e=>{var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",c,!0),t.addEventListener("mousedown",d,!0),t.addEventListener("pointerdown",d,!0),t.addEventListener("touchstart",d,!0),t.addEventListener("visibilitychange",u,!0))}),[]),t=n.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!p(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(i=!0,s.start(100,(()=>{i=!1})),t.current=!1,!0)},ref:e}}},3608:(e,t,r)=>{"use strict";var n=r(4994);t.A=void 0;var o=n(r(39)),a=r(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"}),"ArrowUpward")},3635:(e,t,r)=>{"use strict";var n=r(4994);t.A=void 0;var o=n(r(39)),a=r(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAlt")},3654:(e,t,r)=>{"use strict";r.d(t,{A:()=>l,b:()=>s});var n=r(5043),o=r(3030),a=r(579);const i=n.createContext(void 0);function s(e){let{props:t,name:r}=e;return function(e){const{theme:t,name:r,props:n}=e;if(!t||!t.components||!t.components[r])return n;const a=t.components[r];return a.defaultProps?(0,o.A)(a.defaultProps,n):a.styleOverrides||a.variants?n:(0,o.A)(a,n)}({props:t,name:r,theme:{components:n.useContext(i)}})}const l=function(e){let{value:t,children:r}=e;return(0,a.jsx)(i.Provider,{value:t,children:r})}},3668:(e,t,r)=>{var n=r(8902),o=r(2587),a=r(8114);e.exports=function(e,t,r,i,s,l){var c=1&r,d=e.length,u=t.length;if(d!=u&&!(c&&u>d))return!1;var p=l.get(e),h=l.get(t);if(p&&h)return p==t&&h==e;var f=-1,m=!0,g=2&r?new n:void 0;for(l.set(e,t),l.set(t,e);++f<d;){var v=e[f],x=t[f];if(i)var b=c?i(x,v,f,t,e,l):i(v,x,f,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!o(t,(function(e,t){if(!a(g,t)&&(v===e||s(v,e,r,i,l)))return g.push(t)}))){m=!1;break}}else if(v!==x&&!s(v,x,r,i,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},3709:(e,t,r)=>{"use strict";var n=r(4994);t.A=void 0;var o=n(r(39)),a=r(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3m-3 11H8v-5h8zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m-1-9H6v4h12z"}),"Print")},3713:(e,t,r)=>{var n=r(6140),o=r(1143),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return o(e);var t=[];for(var r in Object(e))a.call(e,r)&&"constructor"!=r&&t.push(r);return t}},3763:(e,t,r)=>{"use strict";e.exports=r(4983)},3781:(e,t,r)=>{var n=r(9417),o=r(8673);e.exports=function(e){for(var t=o(e),r=t.length;r--;){var a=t[r],i=e[a];t[r]=[a,i,n(i)]}return t}},3803:(e,t,r)=>{"use strict";r.d(t,{A:()=>oe});var n=function(){function e(e){var t=this;this._insertTag=function(e){var r;r=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,r),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var r=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{r.insertRule(e,r.cssRules.length)}catch(n){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),o=Math.abs,a=String.fromCharCode,i=Object.assign;function s(e){return e.trim()}function l(e,t,r){return e.replace(t,r)}function c(e,t){return e.indexOf(t)}function d(e,t){return 0|e.charCodeAt(t)}function u(e,t,r){return e.slice(t,r)}function p(e){return e.length}function h(e){return e.length}function f(e,t){return t.push(e),e}var m=1,g=1,v=0,x=0,b=0,y="";function j(e,t,r,n,o,a,i){return{value:e,root:t,parent:r,type:n,props:o,children:a,line:m,column:g,length:i,return:""}}function w(e,t){return i(j("",null,null,"",null,null,0),e,{length:-e.length},t)}function S(){return b=x>0?d(y,--x):0,g--,10===b&&(g=1,m--),b}function C(){return b=x<v?d(y,x++):0,g++,10===b&&(g=1,m++),b}function A(){return d(y,x)}function E(){return x}function k(e,t){return u(y,e,t)}function O(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function P(e){return m=g=1,v=p(y=e),x=0,[]}function I(e){return y="",e}function D(e){return s(k(x-1,R(91===e?e+2:40===e?e+1:e)))}function M(e){for(;(b=A())&&b<33;)C();return O(e)>2||O(b)>3?"":" "}function T(e,t){for(;--t&&C()&&!(b<48||b>102||b>57&&b<65||b>70&&b<97););return k(e,E()+(t<6&&32==A()&&32==C()))}function R(e){for(;C();)switch(b){case e:return x;case 34:case 39:34!==e&&39!==e&&R(b);break;case 40:41===e&&R(e);break;case 92:C()}return x}function N(e,t){for(;C()&&e+b!==57&&(e+b!==84||47!==A()););return"/*"+k(t,x-1)+"*"+a(47===e?e:C())}function $(e){for(;!O(A());)C();return k(e,x)}var z="-ms-",L="-moz-",B="-webkit-",F="comm",_="rule",U="decl",W="@keyframes";function V(e,t){for(var r="",n=h(e),o=0;o<n;o++)r+=t(e[o],o,e,t)||"";return r}function G(e,t,r,n){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case U:return e.return=e.return||e.value;case F:return"";case W:return e.return=e.value+"{"+V(e.children,n)+"}";case _:e.value=e.props.join(",")}return p(r=V(e.children,n))?e.return=e.value+"{"+r+"}":""}function H(e){return I(q("",null,null,null,[""],e=P(e),0,[0],e))}function q(e,t,r,n,o,i,s,u,h){for(var m=0,g=0,v=s,x=0,b=0,y=0,j=1,w=1,k=1,O=0,P="",I=o,R=i,z=n,L=P;w;)switch(y=O,O=C()){case 40:if(108!=y&&58==d(L,v-1)){-1!=c(L+=l(D(O),"&","&\f"),"&\f")&&(k=-1);break}case 34:case 39:case 91:L+=D(O);break;case 9:case 10:case 13:case 32:L+=M(y);break;case 92:L+=T(E()-1,7);continue;case 47:switch(A()){case 42:case 47:f(K(N(C(),E()),t,r),h);break;default:L+="/"}break;case 123*j:u[m++]=p(L)*k;case 125*j:case 59:case 0:switch(O){case 0:case 125:w=0;case 59+g:-1==k&&(L=l(L,/\f/g,"")),b>0&&p(L)-v&&f(b>32?X(L+";",n,r,v-1):X(l(L," ","")+";",n,r,v-2),h);break;case 59:L+=";";default:if(f(z=Y(L,t,r,m,g,o,u,P,I=[],R=[],v),i),123===O)if(0===g)q(L,t,z,z,I,i,v,u,R);else switch(99===x&&110===d(L,3)?100:x){case 100:case 108:case 109:case 115:q(e,z,z,n&&f(Y(e,z,z,0,0,o,u,P,o,I=[],v),R),o,R,v,u,n?I:R);break;default:q(L,z,z,z,[""],R,0,u,R)}}m=g=b=0,j=k=1,P=L="",v=s;break;case 58:v=1+p(L),b=y;default:if(j<1)if(123==O)--j;else if(125==O&&0==j++&&125==S())continue;switch(L+=a(O),O*j){case 38:k=g>0?1:(L+="\f",-1);break;case 44:u[m++]=(p(L)-1)*k,k=1;break;case 64:45===A()&&(L+=D(C())),x=A(),g=v=p(P=L+=$(E())),O++;break;case 45:45===y&&2==p(L)&&(j=0)}}return i}function Y(e,t,r,n,a,i,c,d,p,f,m){for(var g=a-1,v=0===a?i:[""],x=h(v),b=0,y=0,w=0;b<n;++b)for(var S=0,C=u(e,g+1,g=o(y=c[b])),A=e;S<x;++S)(A=s(y>0?v[S]+" "+C:l(C,/&\f/g,v[S])))&&(p[w++]=A);return j(e,t,r,0===a?_:d,p,f,m)}function K(e,t,r){return j(e,t,r,F,a(b),u(e,2,-2),0)}function X(e,t,r,n){return j(e,t,r,U,u(e,0,n),u(e,n+1,-1),n)}var Q=function(e,t,r){for(var n=0,o=0;n=o,o=A(),38===n&&12===o&&(t[r]=1),!O(o);)C();return k(e,x)},J=function(e,t){return I(function(e,t){var r=-1,n=44;do{switch(O(n)){case 0:38===n&&12===A()&&(t[r]=1),e[r]+=Q(x-1,t,r);break;case 2:e[r]+=D(n);break;case 4:if(44===n){e[++r]=58===A()?"&\f":"",t[r]=e[r].length;break}default:e[r]+=a(n)}}while(n=C());return e}(P(e),t))},Z=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,r=e.parent,n=e.column===r.column&&e.line===r.line;"rule"!==r.type;)if(!(r=r.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Z.get(r))&&!n){Z.set(e,!0);for(var o=[],a=J(t,o),i=r.props,s=0,l=0;s<a.length;s++)for(var c=0;c<i.length;c++,l++)e.props[l]=o[s]?a[s].replace(/&\f/g,i[c]):i[c]+" "+a[s]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function re(e,t){switch(function(e,t){return 45^d(e,0)?(((t<<2^d(e,0))<<2^d(e,1))<<2^d(e,2))<<2^d(e,3):0}(e,t)){case 5103:return B+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return B+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return B+e+L+e+z+e+e;case 6828:case 4268:return B+e+z+e+e;case 6165:return B+e+z+"flex-"+e+e;case 5187:return B+e+l(e,/(\w+).+(:[^]+)/,B+"box-$1$2"+z+"flex-$1$2")+e;case 5443:return B+e+z+"flex-item-"+l(e,/flex-|-self/,"")+e;case 4675:return B+e+z+"flex-line-pack"+l(e,/align-content|flex-|-self/,"")+e;case 5548:return B+e+z+l(e,"shrink","negative")+e;case 5292:return B+e+z+l(e,"basis","preferred-size")+e;case 6060:return B+"box-"+l(e,"-grow","")+B+e+z+l(e,"grow","positive")+e;case 4554:return B+l(e,/([^-])(transform)/g,"$1"+B+"$2")+e;case 6187:return l(l(l(e,/(zoom-|grab)/,B+"$1"),/(image-set)/,B+"$1"),e,"")+e;case 5495:case 3959:return l(e,/(image-set\([^]*)/,B+"$1$`$1");case 4968:return l(l(e,/(.+:)(flex-)?(.*)/,B+"box-pack:$3"+z+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+B+e+e;case 4095:case 3583:case 4068:case 2532:return l(e,/(.+)-inline(.+)/,B+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(p(e)-1-t>6)switch(d(e,t+1)){case 109:if(45!==d(e,t+4))break;case 102:return l(e,/(.+:)(.+)-([^]+)/,"$1"+B+"$2-$3$1"+L+(108==d(e,t+3)?"$3":"$2-$3"))+e;case 115:return~c(e,"stretch")?re(l(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==d(e,t+1))break;case 6444:switch(d(e,p(e)-3-(~c(e,"!important")&&10))){case 107:return l(e,":",":"+B)+e;case 101:return l(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+B+(45===d(e,14)?"inline-":"")+"box$3$1"+B+"$2$3$1"+z+"$2box$3")+e}break;case 5936:switch(d(e,t+11)){case 114:return B+e+z+l(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return B+e+z+l(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return B+e+z+l(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return B+e+z+e+e}return e}var ne=[function(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case U:e.return=re(e.value,e.length);break;case W:return V([w(e,{value:l(e.value,"@","@"+B)})],n);case _:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return V([w(e,{props:[l(t,/:(read-\w+)/,":-moz-$1")]})],n);case"::placeholder":return V([w(e,{props:[l(t,/:(plac\w+)/,":"+B+"input-$1")]}),w(e,{props:[l(t,/:(plac\w+)/,":-moz-$1")]}),w(e,{props:[l(t,/:(plac\w+)/,z+"input-$1")]})],n)}return""}))}}],oe=function(e){var t=e.key;if("css"===t){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var o,a,i=e.stylisPlugins||ne,s={},l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),r=1;r<t.length;r++)s[t[r]]=!0;l.push(e)}));var c,d,u=[G,(d=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&d(e)})],p=function(e){var t=h(e);return function(r,n,o,a){for(var i="",s=0;s<t;s++)i+=e[s](r,n,o,a)||"";return i}}([ee,te].concat(i,u));a=function(e,t,r,n){c=r,V(H(e?e+"{"+t.styles+"}":t.styles),p),n&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new n({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:a};return f.sheet.hydrate(l),f}},3815:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(9172);const o=function(e,t){return t?(0,n.A)(e,t,{clone:!1}):e}},3871:e=>{e.exports=function(e,t,r){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(o);++n<o;)a[n]=e[n+t];return a}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},3932:(e,t,r)=>{var n=r(396),o=r(2866),a=r(2597),i=r(914);e.exports=function(e){return a(e)?n(i(e)):o(e)}},3940:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(1668);function o(e){return(0,n.A)(e).defaultView||window}},3950:(e,t,r)=>{var n=r(6686),o=r(4757),a=r(801),i=Math.max,s=Math.min;e.exports=function(e,t,r){var l,c,d,u,p,h,f=0,m=!1,g=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function x(t){var r=l,n=c;return l=c=void 0,f=t,u=e.apply(n,r)}function b(e){var r=e-h;return void 0===h||r>=t||r<0||g&&e-f>=d}function y(){var e=o();if(b(e))return j(e);p=setTimeout(y,function(e){var r=t-(e-h);return g?s(r,d-(e-f)):r}(e))}function j(e){return p=void 0,v&&l?x(e):(l=c=void 0,u)}function w(){var e=o(),r=b(e);if(l=arguments,c=this,h=e,r){if(void 0===p)return function(e){return f=e,p=setTimeout(y,t),m?x(e):u}(h);if(g)return clearTimeout(p),p=setTimeout(y,t),x(h)}return void 0===p&&(p=setTimeout(y,t)),u}return t=a(t)||0,n(r)&&(m=!!r.leading,d=(g="maxWait"in r)?i(a(r.maxWait)||0,t):d,v="trailing"in r?!!r.trailing:v),w.cancel=function(){void 0!==p&&clearTimeout(p),f=0,l=h=c=p=void 0},w.flush=function(){return void 0===p?u:j(o())},w}},4020:e=>{e.exports=function(e,t,r){for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}},4044:(e,t,r)=>{"use strict";var n=r(4994);t.A=void 0;var o=n(r(39)),a=r(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"Payment")},4052:e=>{var t=Array.isArray;e.exports=t},4055:(e,t,r)=>{"use strict";var n=r(4994);t.A=void 0;var o=n(r(39)),a=r(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreHoriz")},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},4079:(e,t,r)=>{var n=r(8259),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,i=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,r,n,o){t.push(n?o.replace(a,"$1"):r||e)})),t}));e.exports=i},4160:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}},4190:(e,t,r)=>{var n=r(1340);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},4202:(e,t)=>{"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||f}function x(){}function b(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=v.prototype;var y=b.prototype=new x;y.constructor=b,m(y,v.prototype),y.isPureReactComponent=!0;var j=Array.isArray,w=Object.prototype.hasOwnProperty,S={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,n){var o,a={},i=null,s=null;if(null!=t)for(o in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)w.call(t,o)&&!C.hasOwnProperty(o)&&(a[o]=t[o]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===a[o]&&(a[o]=l[o]);return{$$typeof:r,type:e,key:i,ref:s,props:a,_owner:S.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var k=/\/+/g;function O(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,o,a,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case n:l=!0}}if(l)return i=i(l=e),e=""===a?"."+O(l,0):a,j(i)?(o="",null!=e&&(o=e.replace(k,"$&/")+"/"),P(i,t,o,"",(function(e){return e}))):null!=i&&(E(i)&&(i=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,o+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(k,"$&/")+"/")+e)),t.push(i)),1;if(l=0,a=""===a?".":a+":",j(e))for(var c=0;c<e.length;c++){var d=a+O(s=e[c],c);l+=P(s,t,o,d,i)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(s=e.next()).done;)l+=P(s=s.value,t,o,d=a+O(s,c++),i);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,r){if(null==e)return e;var n=[],o=0;return P(e,n,"","",(function(e){return t.call(r,e,o++)})),n}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},T={transition:null},R={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:T,ReactCurrentOwner:S};function N(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,r){I(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=o,t.Profiler=i,t.PureComponent=b,t.StrictMode=a,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=N,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),a=e.key,i=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,s=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!C.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];o.children=l}return{$$typeof:r,type:e.type,key:a,ref:i,props:o,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=A,t.createFactory=function(e){var t=A.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=T.transition;T.transition={};try{e()}finally{T.transition=t}},t.unstable_act=N,t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,r){return M.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,r){return M.current.useReducer(e,t,r)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return M.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return M.current.useTransition()},t.version="18.3.1"},4258:(e,t,r)=>{var n=r(5906)();e.exports=n},4262:(e,t,r)=>{var n=r(8895),o=r(4052);e.exports=function(e,t,r){var a=t(e);return o(e)?a:n(a,r(e))}},4318:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>d,p0:()=>s});var n=r(8587),o=r(8168);const a=["duration","easing","delay"],i={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},s={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function l(e){return`${Math.round(e)}ms`}function c(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function d(e){const t=(0,o.A)({},i,e.easing),r=(0,o.A)({},s,e.duration);return(0,o.A)({getAutoHeightDuration:c,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:i=r.standard,easing:s=t.easeInOut,delay:c=0}=o;(0,n.A)(o,a);return(Array.isArray(e)?e:[e]).map((e=>`${e} ${"string"===typeof i?i:l(i)} ${s} ${"string"===typeof c?c:l(c)}`)).join(",")}},e,{easing:t,duration:r})}},4329:(e,t,r)=>{"use strict";var n=r(4994);t.A=void 0;var o=n(r(39)),a=r(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save")},4391:(e,t,r)=>{"use strict";var n=r(7950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},4416:(e,t,r)=>{var n=r(8902),o=r(5866),a=r(1558),i=r(8114),s=r(8182),l=r(2074);e.exports=function(e,t,r){var c=-1,d=o,u=e.length,p=!0,h=[],f=h;if(r)p=!1,d=a;else if(u>=200){var m=t?null:s(e);if(m)return l(m);p=!1,d=i,f=new n}else f=t?[]:h;e:for(;++c<u;){var g=e[c],v=t?t(g):g;if(g=r||0!==g?g:0,p&&v===v){for(var x=f.length;x--;)if(f[x]===v)continue e;t&&f.push(v),h.push(g)}else d(f,v,r)||(f!==h&&f.push(v),h.push(g))}return h}},4421:(e,t,r)=>{"use strict";r.r(t),r.d(t,{capitalize:()=>o.A,createChainedFunction:()=>a,createSvgIcon:()=>i.A,debounce:()=>s.A,deprecatedPropType:()=>l,isMuiElement:()=>c.A,ownerDocument:()=>d.A,ownerWindow:()=>u.A,requirePropFactory:()=>p,setRef:()=>h,unstable_ClassNameGenerator:()=>j,unstable_useEnhancedEffect:()=>f.A,unstable_useId:()=>m.A,unsupportedProp:()=>g,useControlled:()=>v.A,useEventCallback:()=>x.A,useForkRef:()=>b.A,useIsFocusVisible:()=>y.A});var n=r(9386),o=r(6803);const a=r(2456).A;var i=r(9662),s=r(950);const l=function(e,t){return()=>null};var c=r(7328),d=r(2427),u=r(6078);r(8168);const p=function(e,t){return()=>null};const h=r(6564).A;var f=r(5013),m=r(5879);const g=function(e,t,r,n,o){return null};var v=r(4516),x=r(3319),b=r(5849),y=r(3574);const j={configure:e=>{n.A.configure(e)}}},4440:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(5043);const o="undefined"!==typeof window?n.useLayoutEffect:n.useEffect},4516:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=r(1052).A},4533:(e,t,r)=>{"use strict";var n=r(4994);t.A=void 0;var o=n(r(39)),a=r(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M4 10h3v7H4zm6.5 0h3v7h-3zM2 19h20v3H2zm15-9h3v7h-3zm-5-9L2 6v2h20V6z"}),"AccountBalance")},4535:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>s});var n=r(8052),o=r(5170),a=r(3375),i=r(1475);const s=(0,n.Ay)({themeId:a.A,defaultTheme:o.A,rootShouldForwardProp:i.A})},4543:(e,t,r)=>{e=r.nmd(e);var n=r(6552),o=r(14),a=t&&!t.nodeType&&t,i=a&&e&&!e.nodeType&&e,s=i&&i.exports===a?n.Buffer:void 0,l=(s?s.isBuffer:void 0)||o;e.exports=l},4545:(e,t,r)=>{var n=r(7160);e.exports=function(){this.__data__=new n,this.size=0}},4552:(e,t,r)=>{var n=r(9812),o=Object.prototype,a=o.hasOwnProperty,i=o.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(l){}var o=i.call(e);return n&&(t?e[s]=r:delete e[s]),o}},4597:(e,t,r)=>{var n=r(2587),o=r(9096),a=r(2165),i=r(4052),s=r(929);e.exports=function(e,t,r){var l=i(e)?n:a;return r&&s(e,t,r)&&(t=void 0),l(e,o(t,3))}},4634:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4664:(e,t,r)=>{var n=r(4258),o=r(8673);e.exports=function(e,t){return e&&n(e,t,o)}},4721:(e,t,r)=>{"use strict";var n=r(4994);t.A=void 0;var o=n(r(39)),a=r(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4"}),"AttachMoney")},4746:(e,t,r)=>{var n=r(5652);e.exports=function(e,t){var r=!0;return n(e,(function(e,n,o){return r=!!t(e,n,o)})),r}},4757:(e,t,r)=>{var n=r(6552);e.exports=function(){return n.Date.now()}},4802:(e,t,r)=>{"use strict";var n=r(4994);t.A=void 0;var o=n(r(39)),a=r(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},4816:(e,t,r)=>{var n=r(7251),o=r(7159),a=r(438),i=r(9394),s=r(6874);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=i,l.prototype.set=s,e.exports=l},4853:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(8587),o=r(8168);const a=["values","unit","step"],i=e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>(0,o.A)({},e,{[t.key]:t.val})),{})};function s(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:s=5}=e,l=(0,n.A)(e,a),c=i(t),d=Object.keys(c);function u(e){return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${r})`}function p(e){return`@media (max-width:${("number"===typeof t[e]?t[e]:e)-s/100}${r})`}function h(e,n){const o=d.indexOf(n);return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${r}) and (max-width:${(-1!==o&&"number"===typeof t[d[o]]?t[d[o]]:n)-s/100}${r})`}return(0,o.A)({keys:d,values:c,up:u,down:p,between:h,only:function(e){return d.indexOf(e)+1<d.length?h(e,d[d.indexOf(e)+1]):u(e)},not:function(e){const t=d.indexOf(e);return 0===t?u(d[1]):t===d.length-1?p(d[t]):h(e,d[d.indexOf(e)+1]).replace("@media","@media not all and")},unit:r},l)}},4893:e=>{e.exports=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r},e.exports.__esModule=!0,e.exports.default=e.exports},4906:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n=new class{constructor(){this.defaultConfig={width:"58mm",margin:"0 0 0 0",printerName:"",preview:!1,silent:!0,copies:1,timeOutPerLine:400}}isElectron(){return!!window.printerAPI}async getPrinters(){try{if(!this.isElectron())return{success:!1,printers:[],error:"Esta funcionalidad solo est\xe1 disponible en la aplicaci\xf3n de escritorio"};return await window.printerAPI.getPrinters()}catch(e){return console.error("Error al obtener impresoras:",e),{success:!1,printers:[],error:`Error: ${e instanceof Error?e.message:"Desconocido"}`}}}async getPrinterConfig(){try{if(!this.isElectron())return{success:!1,error:"Esta funcionalidad solo est\xe1 disponible en la aplicaci\xf3n de escritorio"};const e=await window.printerAPI.getPrinterConfig();return e.success&&!e.config&&(e.config=this.defaultConfig),e}catch(e){return console.error("Error al obtener configuraci\xf3n de impresora:",e),{success:!1,error:`Error: ${e instanceof Error?e.message:"Desconocido"}`}}}async savePrinterConfig(e){try{if(!this.isElectron())return{success:!1,error:"Esta funcionalidad solo est\xe1 disponible en la aplicaci\xf3n de escritorio"};return await window.printerAPI.savePrinterConfig(e)}catch(t){return console.error("Error al guardar configuraci\xf3n de impresora:",t),{success:!1,error:`Error: ${t instanceof Error?t.message:"Desconocido"}`}}}async printTest(){try{if(!this.isElectron())return{success:!1,error:"Esta funcionalidad solo est\xe1 disponible en la aplicaci\xf3n de escritorio"};const e=await this.getPrinterConfig();if(!e.success||!e.config)return{success:!1,error:"No hay configuraci\xf3n de impresora disponible"};const t=e.config;if(!t.printerName)return{success:!1,error:"No se ha seleccionado ninguna impresora"};const r=new Date,n={header:"PRUEBA DE IMPRESI\xd3N",lines:["Sistema de Servicios","-".repeat(32),`Impresora: ${t.printerName}`,`Fecha: ${r.toLocaleDateString()}`,`Hora: ${r.toLocaleTimeString()}`,"-".repeat(32),"Esta es una prueba de impresi\xf3n","utilizando electron-pos-printer"],total:"0 Gs.",barcode:"12345678",qr:"https://sistemaservicios.com",footer:"Fin de la prueba"};return await this.printTicket(n)}catch(e){return console.error("Error al realizar prueba de impresi\xf3n:",e),{success:!1,error:`Error: ${e instanceof Error?e.message:"Desconocido"}`}}}async printTicket(e){try{if(!this.isElectron())return{success:!1,error:"Esta funcionalidad solo est\xe1 disponible en la aplicaci\xf3n de escritorio"};return await window.printerAPI.printReceipt(e)}catch(t){return console.error("Error al imprimir ticket:",t),{success:!1,error:`Error: ${t instanceof Error?t.message:"Desconocido"}`}}}async printHTML(e){try{if(!this.isElectron())return{success:!1,error:"Esta funcionalidad solo est\xe1 disponible en la aplicaci\xf3n de escritorio"};const t=(new DOMParser).parseFromString(e,"text/html"),r=(t.body.textContent||"").split("\n").map((e=>e.trim())).filter((e=>e.length>0)),n={header:r[0]||"Ticket",lines:r.slice(1,-1),footer:r[r.length-1]};return await this.printTicket(n)}catch(t){return console.error("Error al imprimir HTML:",t),{success:!1,error:`Error: ${t instanceof Error?t.message:"Desconocido"}`}}}}},4983:(e,t)=>{"use strict";var r="function"===typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,i=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,u=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,f=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,v=r?Symbol.for("react.block"):60121,x=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,y=r?Symbol.for("react.scope"):60119;function j(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case d:case u:case a:case s:case i:case h:return e;default:switch(e=e&&e.$$typeof){case c:case p:case g:case m:case l:return e;default:return t}}case o:return t}}}function w(e){return j(e)===u}t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=l,t.Element=n,t.ForwardRef=p,t.Fragment=a,t.Lazy=g,t.Memo=m,t.Portal=o,t.Profiler=s,t.StrictMode=i,t.Suspense=h,t.isAsyncMode=function(e){return w(e)||j(e)===d},t.isConcurrentMode=w,t.isContextConsumer=function(e){return j(e)===c},t.isContextProvider=function(e){return j(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return j(e)===p},t.isFragment=function(e){return j(e)===a},t.isLazy=function(e){return j(e)===g},t.isMemo=function(e){return j(e)===m},t.isPortal=function(e){return j(e)===o},t.isProfiler=function(e){return j(e)===s},t.isStrictMode=function(e){return j(e)===i},t.isSuspense=function(e){return j(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===u||e===s||e===i||e===h||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===p||e.$$typeof===x||e.$$typeof===b||e.$$typeof===y||e.$$typeof===v)},t.typeOf=j},4989:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n.A,private_createBreakpoints:()=>o.A,unstable_applyStyles:()=>a.A});var n=r(8280),o=r(4853),a=r(9703)},4994:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},5013:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=r(4440).A},5029:(e,t,r)=>{var n=r(6989),o=r(3097),a=r(3366),i=r(2597),s=r(9417),l=r(1310),c=r(914);e.exports=function(e,t){return i(e)&&s(t)?l(c(e),t):function(r){var i=o(r,e);return void 0===i&&i===t?a(r,e):n(t,i,3)}}},5043:(e,t,r)=>{"use strict";e.exports=r(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5170:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=(0,r(7344).A)()},5173:(e,t,r)=>{e.exports=r(1497)()},5193:(e,t,r)=>{var n=r(6913),o=r(2761);e.exports=function(e){return o(e)&&"[object Arguments]"==n(e)}},5204:(e,t,r)=>{var n=r(7937)(r(6552),"Map");e.exports=n},5268:(e,t,r)=>{var n=r(9160);e.exports=function(e){return n(e)&&e!=+e}},5295:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}},5310:(e,t,r)=>{"use strict";var n=r(4994);t.A=void 0;var o=n(r(39)),a=r(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"}),"Notifications")},5311:(e,t,r)=>{"use strict";var n=r(4994);t.A=void 0;var o=n(r(39)),a=r(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"CreditCard")},5324:(e,t,r)=>{var n=r(4052),o=r(2597),a=r(4079),i=r(1069);e.exports=function(e,t){return n(e)?e:o(e,t)?[e]:a(i(e))}},5387:(e,t,r)=>{var n=r(7937)(r(6552),"Promise");e.exports=n},5428:(e,t,r)=>{var n=r(6913),o=r(6173),a=r(2761),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&o(e.length)&&!!i[n(e)]}},5538:(e,t,r)=>{var n=r(7160),o=r(4545),a=r(793),i=r(7760),s=r(3892),l=r(6788);function c(e){var t=this.__data__=new n(e);this.size=t.size}c.prototype.clear=o,c.prototype.delete=a,c.prototype.get=i,c.prototype.has=s,c.prototype.set=l,e.exports=c},5540:(e,t,r)=>{"use strict";var n=r(4994);t.A=void 0;var o=n(r(39)),a=r(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},5575:(e,t,r)=>{var n=r(7937)(Object,"create");e.exports=n},5636:(e,t,r)=>{var n=r(1170),o=Math.max;e.exports=function(e,t,r){return t=o(void 0===t?e.length-1:t,0),function(){for(var a=arguments,i=-1,s=o(a.length-t,0),l=Array(s);++i<s;)l[i]=a[t+i];i=-1;for(var c=Array(t+1);++i<t;)c[i]=a[i];return c[t]=r(l),n(e,this,c)}}},5647:(e,t,r)=>{var n=r(3279),o=r(5636),a=r(6350);e.exports=function(e,t){return a(o(e,t,n),e+"")}},5652:(e,t,r)=>{var n=r(4664),o=r(6516)(n);e.exports=o},5654:(e,t,r)=>{var n=r(7937),o=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=o},5713:e=>{e.exports=function(){}},5722:(e,t,r)=>{"use strict";var n=r(4994);t.A=void 0;var o=n(r(39)),a=r(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 16H5V10h14zM9 14H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2zm-8 4H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2z"}),"CalendarMonth")},5752:(e,t,r)=>{var n=r(9395),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,a,i,s){var l=1&r,c=n(e),d=c.length;if(d!=n(t).length&&!l)return!1;for(var u=d;u--;){var p=c[u];if(!(l?p in t:o.call(t,p)))return!1}var h=s.get(e),f=s.get(t);if(h&&f)return h==t&&f==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=l;++u<d;){var v=e[p=c[u]],x=t[p];if(a)var b=l?a(x,v,p,t,e,s):a(v,x,p,e,t,s);if(!(void 0===b?v===x||i(v,x,r,a,s):b)){m=!1;break}g||(g="constructor"==p)}if(m&&!g){var y=e.constructor,j=t.constructor;y==j||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof j&&j instanceof j||(m=!1)}return s.delete(e),s.delete(t),m}},5797:(e,t,r)=>{var n=r(4816);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],a=r.cache;if(a.has(o))return a.get(o);var i=e.apply(this,n);return r.cache=a.set(o,i)||a,i};return r.cache=new(o.Cache||n),r}o.Cache=n,e.exports=o},5816:e=>{e.exports=function(e,t,r,n){for(var o=e.length,a=r+(n?1:-1);n?a--:++a<o;)if(t(e[a],a,e))return a;return-1}},5844:(e,t,r)=>{"use strict";var n;r.d(t,{A:()=>s});var o=r(5043);let a=0;const i=(n||(n=r.t(o,2)))["useId".toString()];function s(e){if(void 0!==i){const t=i();return null!=e?e:t}return function(e){const[t,r]=o.useState(e),n=e||t;return o.useEffect((()=>{null==t&&(a+=1,r(`mui-${a}`))}),[t]),n}(e)}},5849:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=r(3462).A},5866:(e,t,r)=>{var n=r(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&n(e,t,0)>-1}},5879:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=r(5844).A},5893:(e,t,r)=>{var n=r(6599);e.exports=function(e,t,r){for(var o=-1,a=e.criteria,i=t.criteria,s=a.length,l=r.length;++o<s;){var c=n(a[o],i[o]);if(c)return o>=l?c:c*("desc"==r[o]?-1:1)}return e.index-t.index}},5906:e=>{e.exports=function(e){return function(t,r,n){for(var o=-1,a=Object(t),i=n(t),s=i.length;s--;){var l=i[e?s:++o];if(!1===r(a[l],l,a))break}return t}}},5967:e=>{e.exports=function(e){return e.split("")}},5990:(e,t,r)=>{var n=r(3028)(Object.getPrototypeOf,Object);e.exports=n},6078:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=r(3940).A},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},6350:(e,t,r)=>{var n=r(8325),o=r(6578)(n);e.exports=o},6360:(e,t,r)=>{"use strict";var n=r(4994);t.A=void 0;var o=n(r(39)),a=r(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")},6361:(e,t,r)=>{var n=r(6913),o=r(2761);e.exports=function(e){return!0===e||!1===e||o(e)&&"[object Boolean]"==n(e)}},6378:(e,t)=>{"use strict";var r,n=Symbol.for("react.element"),o=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case a:case s:case i:case p:case h:return e;default:switch(e=e&&e.$$typeof){case d:case c:case u:case m:case f:case l:return e;default:return t}}case o:return t}}}r=Symbol.for("react.module.reference"),t.isFragment=function(e){return v(e)===a}},6399:(e,t,r)=>{var n=r(5538),o=r(3668),a=r(9987),i=r(5752),s=r(6924),l=r(4052),c=r(4543),d=r(1268),u="[object Arguments]",p="[object Array]",h="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,m,g,v){var x=l(e),b=l(t),y=x?p:s(e),j=b?p:s(t),w=(y=y==u?h:y)==h,S=(j=j==u?h:j)==h,C=y==j;if(C&&c(e)){if(!c(t))return!1;x=!0,w=!1}if(C&&!w)return v||(v=new n),x||d(e)?o(e,t,r,m,g,v):a(e,t,y,r,m,g,v);if(!(1&r)){var A=w&&f.call(e,"__wrapped__"),E=S&&f.call(t,"__wrapped__");if(A||E){var k=A?e.value():e,O=E?t.value():t;return v||(v=new n),g(k,O,r,m,v)}}return!!C&&(v||(v=new n),i(e,t,r,m,g,v))}},6516:(e,t,r)=>{var n=r(6571);e.exports=function(e,t){return function(r,o){if(null==r)return r;if(!n(r))return e(r,o);for(var a=r.length,i=t?a:-1,s=Object(r);(t?i--:++i<a)&&!1!==o(s[i],i,s););return r}}},6531:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n.A});var n=r(1188)},6532:(e,t,r)=>{var n=r(5538),o=r(6989);e.exports=function(e,t,r,a){var i=r.length,s=i,l=!a;if(null==e)return!s;for(e=Object(e);i--;){var c=r[i];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<s;){var d=(c=r[i])[0],u=e[d],p=c[1];if(l&&c[2]){if(void 0===u&&!(d in e))return!1}else{var h=new n;if(a)var f=a(u,p,d,e,t,h);if(!(void 0===f?o(p,u,3,a,h):f))return!1}}return!0}},6552:(e,t,r)=>{var n=r(7105),o="object"==typeof self&&self&&self.Object===Object&&self,a=n||o||Function("return this")();e.exports=a},6564:(e,t,r)=>{"use strict";function n(e,t){"function"===typeof e?e(t):e&&(e.current=t)}r.d(t,{A:()=>n})},6571:(e,t,r)=>{var n=r(1629),o=r(6173);e.exports=function(e){return null!=e&&o(e.length)&&!n(e)}},6578:e=>{var t=Date.now;e.exports=function(e){var r=0,n=0;return function(){var o=t(),a=16-(o-n);if(n=o,a>0){if(++r>=800)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}},6598:(e,t,r)=>{"use strict";r.d(t,{J:()=>g});var n={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},o=r(918),a=!1,i=/[A-Z]|^ms/g,s=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!==typeof e},d=(0,o.A)((function(e){return l(e)?e:e.replace(i,"-$&").toLowerCase()})),u=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(s,(function(e,t,r){return f={name:t,styles:r,next:f},t}))}return 1===n[e]||l(e)||"number"!==typeof t||0===t?t:t+"px"},p="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function h(e,t,r){if(null==r)return"";var n=r;if(void 0!==n.__emotion_styles)return n;switch(typeof r){case"boolean":return"";case"object":var o=r;if(1===o.anim)return f={name:o.name,styles:o.styles,next:f},o.name;var i=r;if(void 0!==i.styles){var s=i.next;if(void 0!==s)for(;void 0!==s;)f={name:s.name,styles:s.styles,next:f},s=s.next;return i.styles+";"}return function(e,t,r){var n="";if(Array.isArray(r))for(var o=0;o<r.length;o++)n+=h(e,t,r[o])+";";else for(var i in r){var s=r[i];if("object"!==typeof s){var l=s;null!=t&&void 0!==t[l]?n+=i+"{"+t[l]+"}":c(l)&&(n+=d(i)+":"+u(i,l)+";")}else{if("NO_COMPONENT_SELECTOR"===i&&a)throw new Error(p);if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var f=h(e,t,s);switch(i){case"animation":case"animationName":n+=d(i)+":"+f+";";break;default:n+=i+"{"+f+"}"}}else for(var m=0;m<s.length;m++)c(s[m])&&(n+=d(i)+":"+u(i,s[m])+";")}}return n}(e,t,r);case"function":if(void 0!==e){var l=f,m=r(e);return f=l,h(e,t,m)}}var g=r;if(null==t)return g;var v=t[g];return void 0!==v?v:g}var f,m=/label:\s*([^\s;{]+)\s*(;|$)/g;function g(e,t,r){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n=!0,o="";f=void 0;var a=e[0];null==a||void 0===a.raw?(n=!1,o+=h(r,t,a)):o+=a[0];for(var i=1;i<e.length;i++){if(o+=h(r,t,e[i]),n)o+=a[i]}m.lastIndex=0;for(var s,l="";null!==(s=m.exec(o));)l+="-"+s[1];var c=function(e){for(var t,r=0,n=0,o=e.length;o>=4;++n,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(o){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)}(o)+l;return{name:c,styles:o,next:f}}},6599:(e,t,r)=>{var n=r(9841);e.exports=function(e,t){if(e!==t){var r=void 0!==e,o=null===e,a=e===e,i=n(e),s=void 0!==t,l=null===t,c=t===t,d=n(t);if(!l&&!d&&!i&&e>t||i&&s&&c&&!l&&!d||o&&s&&c||!r&&c||!a)return 1;if(!o&&!i&&!d&&e<t||d&&r&&a&&!o&&!i||l&&r&&a||!s&&a||!c)return-1}return 0}},6600:(e,t,r)=>{var n=r(7937)(r(6552),"WeakMap");e.exports=n},6604:(e,t,r)=>{var n=r(3331)();e.exports=n},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6723:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},n=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},o={p:n,P:function(e,t){var o,a=e.match(/(P+)(p+)?/)||[],i=a[1],s=a[2];if(!s)return r(e,t);switch(i){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;default:o=t.dateTime({width:"full"})}return o.replace("{{date}}",r(i,t)).replace("{{time}}",n(s,t))}};t.default=o,e.exports=t.default},6745:(e,t,r)=>{var n=r(9742),o=r(61),a=r(3279);e.exports=function(e){return e&&e.length?n(e,a,o):void 0}},6788:(e,t,r)=>{var n=r(7160),o=r(5204),a=r(4816);e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var i=r.__data__;if(!o||i.length<199)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new a(i)}return r.set(e,t),this.size=r.size,this}},6803:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=r(7598).A},6832:(e,t,r)=>{e=r.nmd(e);var n=r(7105),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,i=a&&a.exports===o&&n.process,s=function(){try{var e=a&&a.require&&a.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(t){}}();e.exports=s},6874:(e,t,r)=>{var n=r(2622);e.exports=function(e,t){var r=n(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this}},6913:(e,t,r)=>{var n=r(9812),o=r(4552),a=r(6095),i=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?o(e):a(e)}},6924:(e,t,r)=>{var n=r(7685),o=r(5204),a=r(5387),i=r(2070),s=r(6600),l=r(6913),c=r(6996),d="[object Map]",u="[object Promise]",p="[object Set]",h="[object WeakMap]",f="[object DataView]",m=c(n),g=c(o),v=c(a),x=c(i),b=c(s),y=l;(n&&y(new n(new ArrayBuffer(1)))!=f||o&&y(new o)!=d||a&&y(a.resolve())!=u||i&&y(new i)!=p||s&&y(new s)!=h)&&(y=function(e){var t=l(e),r="[object Object]"==t?e.constructor:void 0,n=r?c(r):"";if(n)switch(n){case m:return f;case g:return d;case v:return u;case x:return p;case b:return h}return t}),e.exports=y},6954:(e,t,r)=>{var n=r(1629),o=r(7857),a=r(6686),i=r(6996),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,d=l.toString,u=c.hasOwnProperty,p=RegExp("^"+d.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||o(e))&&(n(e)?p:s).test(i(e))}},6989:(e,t,r)=>{var n=r(6399),o=r(2761);e.exports=function e(t,r,a,i,s){return t===r||(null==t||null==r||!o(t)&&!o(r)?t!==t&&r!==r:n(t,r,a,i,e,s))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(r){}try{return e+""}catch(r){}}return""}},7002:(e,t,r)=>{var n=r(5295),o=r(4746),a=r(9096),i=r(4052),s=r(929);e.exports=function(e,t,r){var l=i(e)?n:o;return r&&s(e,t,r)&&(t=void 0),l(e,a(t,3))}},7030:(e,t,r)=>{"use strict";var n=r(4994);t.A=void 0;var o=n(r(39)),a=r(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"InfoOutlined")},7105:(e,t,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},7116:(e,t,r)=>{var n=r(9812),o=r(2777),a=r(4052),i=n?n.isConcatSpreadable:void 0;e.exports=function(e){return a(e)||o(e)||!!(i&&e&&e[i])}},7123:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}},7159:(e,t,r)=>{var n=r(2622);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,r)=>{var n=r(7563),o=r(9935),a=r(4190),i=r(1946),s=r(1714);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=i,l.prototype.set=s,e.exports=l},7162:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>s,BO:()=>i,Yn:()=>a});var n=r(7598),o=r(9751);function a(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&r){const r=`vars.${t}`.split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=r)return r}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function i(e,t,r){let n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r;return n="function"===typeof e?e(r):Array.isArray(e)?e[r]||o:a(e,r)||o,t&&(n=t(n,o,e)),n}const s=function(e){const{prop:t,cssProperty:r=e.prop,themeKey:s,transform:l}=e,c=e=>{if(null==e[t])return null;const c=e[t],d=a(e.theme,s)||{};return(0,o.NI)(e,c,(e=>{let o=i(d,l,e);return e===o&&"string"===typeof e&&(o=i(d,l,`${t}${"default"===e?"":(0,n.A)(e)}`,e)),!1===r?o:{[r]:o}}))};return c.propTypes={},c.filterProps=[t],c}},7234:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,o=e[n];if(!(0<a(o,t)))break e;e[n]=t,e[r]=o,r=n}}function n(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,o=e.length,i=o>>>1;n<i;){var s=2*(n+1)-1,l=e[s],c=s+1,d=e[c];if(0>a(l,r))c<o&&0>a(d,l)?(e[n]=d,e[c]=r,n=c):(e[n]=l,e[s]=r,n=s);else{if(!(c<o&&0>a(d,r)))break e;e[n]=d,e[c]=r,n=c}}}return t}function a(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],d=[],u=1,p=null,h=3,f=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=n(d);null!==t;){if(null===t.callback)o(d);else{if(!(t.startTime<=e))break;o(d),t.sortIndex=t.expirationTime,r(c,t)}t=n(d)}}function j(e){if(g=!1,y(e),!m)if(null!==n(c))m=!0,T(w);else{var t=n(d);null!==t&&R(j,t.startTime-e)}}function w(e,r){m=!1,g&&(g=!1,x(E),E=-1),f=!0;var a=h;try{for(y(r),p=n(c);null!==p&&(!(p.expirationTime>r)||e&&!P());){var i=p.callback;if("function"===typeof i){p.callback=null,h=p.priorityLevel;var s=i(p.expirationTime<=r);r=t.unstable_now(),"function"===typeof s?p.callback=s:p===n(c)&&o(c),y(r)}else o(c);p=n(c)}if(null!==p)var l=!0;else{var u=n(d);null!==u&&R(j,u.startTime-r),l=!1}return l}finally{p=null,h=a,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,C=!1,A=null,E=-1,k=5,O=-1;function P(){return!(t.unstable_now()-O<k)}function I(){if(null!==A){var e=t.unstable_now();O=e;var r=!0;try{r=A(!0,e)}finally{r?S():(C=!1,A=null)}}else C=!1}if("function"===typeof b)S=function(){b(I)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,M=D.port2;D.port1.onmessage=I,S=function(){M.postMessage(null)}}else S=function(){v(I,0)};function T(e){A=e,C||(C=!0,S())}function R(e,r){E=v((function(){e(t.unstable_now())}),r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,T(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var r=h;h=t;try{return e()}finally{h=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=h;h=e;try{return t()}finally{h=r}},t.unstable_scheduleCallback=function(e,o,a){var i=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:u++,callback:o,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>i?(e.sortIndex=a,r(d,e),null===n(c)&&e===n(d)&&(g?(x(E),E=-1):g=!0,R(j,a-i))):(e.sortIndex=s,r(c,e),m||f||(m=!0,T(w))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=h;return function(){var r=h;h=t;try{return e.apply(this,arguments)}finally{h=r}}}},7251:(e,t,r)=>{var n=r(8724),o=r(7160),a=r(5204);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(a||o),string:new n}}},7260:(e,t,r)=>{"use strict";var n=r(4994);t.A=void 0;var o=n(r(39)),a=r(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility")},7266:(e,t,r)=>{"use strict";var n=r(4994);t.X4=h,t.e$=f,t.tL=g,t.eM=function(e,t){const r=p(e),n=p(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)},t.a=m;var o=n(r(457)),a=n(r(6531));function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,a.default)(e,t,r)}function s(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(t);return r&&1===r[0].length&&(r=r.map((e=>e+e))),r?`rgb${4===r.length?"a":""}(${r.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", ")})`:""}function l(e){if(e.type)return e;if("#"===e.charAt(0))return l(s(e));const t=e.indexOf("("),r=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(r))throw new Error((0,o.default)(9,e));let n,a=e.substring(t+1,e.length-1);if("color"===r){if(a=a.split(" "),n=a.shift(),4===a.length&&"/"===a[3].charAt(0)&&(a[3]=a[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(n))throw new Error((0,o.default)(10,n))}else a=a.split(",");return a=a.map((e=>parseFloat(e))),{type:r,values:a,colorSpace:n}}const c=e=>{const t=l(e);return t.values.slice(0,3).map(((e,r)=>-1!==t.type.indexOf("hsl")&&0!==r?`${e}%`:e)).join(" ")};function d(e){const{type:t,colorSpace:r}=e;let{values:n}=e;return-1!==t.indexOf("rgb")?n=n.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),n=-1!==t.indexOf("color")?`${r} ${n.join(" ")}`:`${n.join(", ")}`,`${t}(${n})`}function u(e){e=l(e);const{values:t}=e,r=t[0],n=t[1]/100,o=t[2]/100,a=n*Math.min(o,1-o),i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+r/30)%12;return o-a*Math.max(Math.min(t-3,9-t,1),-1)};let s="rgb";const c=[Math.round(255*i(0)),Math.round(255*i(8)),Math.round(255*i(4))];return"hsla"===e.type&&(s+="a",c.push(t[3])),d({type:s,values:c})}function p(e){let t="hsl"===(e=l(e)).type||"hsla"===e.type?l(u(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function h(e,t){return e=l(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,d(e)}function f(e,t){if(e=l(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let r=0;r<3;r+=1)e.values[r]*=1-t;return d(e)}function m(e,t){if(e=l(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(-1!==e.type.indexOf("color"))for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return d(e)}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return p(e)>.5?f(e,t):m(e,t)}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function o(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function a(e,t,n,a,i){if("function"!==typeof n)throw new TypeError("The listener must be a function");var s=new o(n,a||e,i),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function i(e,t){0===--e._eventsCount?e._events=new n:delete e._events[t]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),s.prototype.eventNames=function(){var e,n,o=[];if(0===this._eventsCount)return o;for(n in e=this._events)t.call(e,n)&&o.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},s.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,a=n.length,i=new Array(a);o<a;o++)i[o]=n[o].fn;return i},s.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,o,a,i){var s=r?r+e:e;if(!this._events[s])return!1;var l,c,d=this._events[s],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,n),!0;case 4:return d.fn.call(d.context,t,n,o),!0;case 5:return d.fn.call(d.context,t,n,o,a),!0;case 6:return d.fn.call(d.context,t,n,o,a,i),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var p,h=d.length;for(c=0;c<h;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,n);break;case 4:d[c].fn.call(d[c].context,t,n,o);break;default:if(!l)for(p=1,l=new Array(u-1);p<u;p++)l[p-1]=arguments[p];d[c].fn.apply(d[c].context,l)}}return!0},s.prototype.on=function(e,t,r){return a(this,e,t,r,!1)},s.prototype.once=function(e,t,r){return a(this,e,t,r,!0)},s.prototype.removeListener=function(e,t,n,o){var a=r?r+e:e;if(!this._events[a])return this;if(!t)return i(this,a),this;var s=this._events[a];if(s.fn)s.fn!==t||o&&!s.once||n&&s.context!==n||i(this,a);else{for(var l=0,c=[],d=s.length;l<d;l++)(s[l].fn!==t||o&&!s[l].once||n&&s[l].context!==n)&&c.push(s[l]);c.length?this._events[a]=1===c.length?c[0]:c:i(this,a)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&i(this,t)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s},7303:(e,t,r)=>{var n=r(801),o=1/0;e.exports=function(e){return e?(e=n(e))===o||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},7328:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(5043);const o=function(e,t){var r,o;return n.isValidElement(e)&&-1!==t.indexOf(null!=(r=e.type.muiName)?r:null==(o=e.type)||null==(o=o._payload)||null==(o=o.value)?void 0:o.muiName)}},7344:(e,t,r)=>{"use strict";r.d(t,{A:()=>R});var n=r(8168),o=r(8587),a=r(7868),i=r(9172),s=r(7758),l=r(8812),c=r(8280);var d=r(7266);const u={black:"#000",white:"#fff"},p={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},h={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},f={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},m={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},g={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},v={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},x={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},b=["mode","contrastThreshold","tonalOffset"],y={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:u.white,default:u.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},j={text:{primary:u.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:u.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function w(e,t,r,n){const o=n.light||n,a=n.dark||1.5*n;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:"light"===t?e.light=(0,d.a)(e.main,o):"dark"===t&&(e.dark=(0,d.e$)(e.main,a)))}function S(e){const{mode:t="light",contrastThreshold:r=3,tonalOffset:s=.2}=e,l=(0,o.A)(e,b),c=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[200],light:g[50],dark:g[400]}:{main:g[700],light:g[400],dark:g[800]}}(t),S=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:h[200],light:h[50],dark:h[400]}:{main:h[500],light:h[300],dark:h[700]}}(t),C=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:f[500],light:f[300],dark:f[700]}:{main:f[700],light:f[400],dark:f[800]}}(t),A=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[400],light:v[300],dark:v[700]}:{main:v[700],light:v[500],dark:v[900]}}(t),E=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:x[400],light:x[300],dark:x[700]}:{main:x[800],light:x[500],dark:x[900]}}(t),k=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[400],light:m[300],dark:m[700]}:{main:"#ed6c02",light:m[500],dark:m[900]}}(t);function O(e){return(0,d.eM)(e,j.text.primary)>=r?j.text.primary:y.text.primary}const P=e=>{let{color:t,name:r,mainShade:o=500,lightShade:i=300,darkShade:l=700}=e;if(t=(0,n.A)({},t),!t.main&&t[o]&&(t.main=t[o]),!t.hasOwnProperty("main"))throw new Error((0,a.A)(11,r?` (${r})`:"",o));if("string"!==typeof t.main)throw new Error((0,a.A)(12,r?` (${r})`:"",JSON.stringify(t.main)));return w(t,"light",i,s),w(t,"dark",l,s),t.contrastText||(t.contrastText=O(t.main)),t},I={dark:j,light:y};return(0,i.A)((0,n.A)({common:(0,n.A)({},u),mode:t,primary:P({color:c,name:"primary"}),secondary:P({color:S,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:P({color:C,name:"error"}),warning:P({color:k,name:"warning"}),info:P({color:A,name:"info"}),success:P({color:E,name:"success"}),grey:p,contrastThreshold:r,getContrastText:O,augmentColor:P,tonalOffset:s},I[t]),l)}const C=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const A={textTransform:"uppercase"},E='"Roboto", "Helvetica", "Arial", sans-serif';function k(e,t){const r="function"===typeof t?t(e):t,{fontFamily:a=E,fontSize:s=14,fontWeightLight:l=300,fontWeightRegular:c=400,fontWeightMedium:d=500,fontWeightBold:u=700,htmlFontSize:p=16,allVariants:h,pxToRem:f}=r,m=(0,o.A)(r,C);const g=s/14,v=f||(e=>e/p*g+"rem"),x=(e,t,r,o,i)=>{return(0,n.A)({fontFamily:a,fontWeight:e,fontSize:v(t),lineHeight:r},a===E?{letterSpacing:(s=o/t,Math.round(1e5*s)/1e5)+"em"}:{},i,h);var s},b={h1:x(l,96,1.167,-1.5),h2:x(l,60,1.2,-.5),h3:x(c,48,1.167,0),h4:x(c,34,1.235,.25),h5:x(c,24,1.334,0),h6:x(d,20,1.6,.15),subtitle1:x(c,16,1.75,.15),subtitle2:x(d,14,1.57,.1),body1:x(c,16,1.5,.15),body2:x(c,14,1.43,.15),button:x(d,14,1.75,.4,A),caption:x(c,12,1.66,.4),overline:x(c,12,2.66,1,A),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,i.A)((0,n.A)({htmlFontSize:p,pxToRem:v,fontFamily:a,fontSize:s,fontWeightLight:l,fontWeightRegular:c,fontWeightMedium:d,fontWeightBold:u},b),m,{clone:!1})}function O(){return[`${arguments.length<=0?void 0:arguments[0]}px ${arguments.length<=1?void 0:arguments[1]}px ${arguments.length<=2?void 0:arguments[2]}px ${arguments.length<=3?void 0:arguments[3]}px rgba(0,0,0,0.2)`,`${arguments.length<=4?void 0:arguments[4]}px ${arguments.length<=5?void 0:arguments[5]}px ${arguments.length<=6?void 0:arguments[6]}px ${arguments.length<=7?void 0:arguments[7]}px rgba(0,0,0,0.14)`,`${arguments.length<=8?void 0:arguments[8]}px ${arguments.length<=9?void 0:arguments[9]}px ${arguments.length<=10?void 0:arguments[10]}px ${arguments.length<=11?void 0:arguments[11]}px rgba(0,0,0,0.12)`].join(",")}const P=["none",O(0,2,1,-1,0,1,1,0,0,1,3,0),O(0,3,1,-2,0,2,2,0,0,1,5,0),O(0,3,3,-2,0,3,4,0,0,1,8,0),O(0,2,4,-1,0,4,5,0,0,1,10,0),O(0,3,5,-1,0,5,8,0,0,1,14,0),O(0,3,5,-1,0,6,10,0,0,1,18,0),O(0,4,5,-2,0,7,10,1,0,2,16,1),O(0,5,5,-3,0,8,10,1,0,3,14,2),O(0,5,6,-3,0,9,12,1,0,3,16,2),O(0,6,6,-3,0,10,14,1,0,4,18,3),O(0,6,7,-4,0,11,15,1,0,4,20,3),O(0,7,8,-4,0,12,17,2,0,5,22,4),O(0,7,8,-4,0,13,19,2,0,5,24,4),O(0,7,9,-4,0,14,21,2,0,5,26,4),O(0,8,9,-5,0,15,22,2,0,6,28,5),O(0,8,10,-5,0,16,24,2,0,6,30,5),O(0,8,11,-5,0,17,26,2,0,6,32,5),O(0,9,11,-5,0,18,28,2,0,7,34,6),O(0,9,12,-6,0,19,29,2,0,7,36,6),O(0,10,13,-6,0,20,31,3,0,8,38,7),O(0,10,13,-6,0,21,33,3,0,8,40,7),O(0,10,14,-6,0,22,35,3,0,8,42,7),O(0,11,14,-7,0,23,36,3,0,9,44,8),O(0,11,15,-7,0,24,38,3,0,9,46,8)];var I=r(4318);const D={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},M=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function T(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:t={},palette:r={},transitions:d={},typography:u={}}=e,p=(0,o.A)(e,M);if(e.vars&&void 0===e.generateCssVars)throw new Error((0,a.A)(18));const h=S(r),f=(0,c.A)(e);let m=(0,i.A)(f,{mixins:(g=f.breakpoints,v=t,(0,n.A)({toolbar:{minHeight:56,[g.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[g.up("sm")]:{minHeight:64}}},v)),palette:h,shadows:P.slice(),typography:k(h,u),transitions:(0,I.Ay)(d),zIndex:(0,n.A)({},D)});var g,v;m=(0,i.A)(m,p);for(var x=arguments.length,b=new Array(x>1?x-1:0),y=1;y<x;y++)b[y-1]=arguments[y];return m=b.reduce(((e,t)=>(0,i.A)(e,t)),m),m.unstable_sxConfig=(0,n.A)({},s.A,null==p?void 0:p.unstable_sxConfig),m.unstable_sx=function(e){return(0,l.A)({sx:e,theme:this})},m}const R=T},7424:(e,t,r)=>{var n=r(755),o=r(2536),a=r(5647),i=r(929),s=a((function(e,t){if(null==e)return[];var r=t.length;return r>1&&i(e,t[0],t[1])?t=[]:r>2&&i(t[0],t[1],t[2])&&(t=[t[0]]),o(e,n(t,1),[])}));e.exports=s},7498:e=>{e.exports=function(e,t){return e>t}},7529:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,a=[];++r<n;){var i=e[r];t(i,r,e)&&(a[o++]=i)}return a}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7598:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(7868);function o(e){if("string"!==typeof e)throw new Error((0,n.A)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},7615:(e,t,r)=>{var n=r(5575);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},7676:(e,t,r)=>{var n=r(8189),o=r(6311),a=r(9115),i=r(1069);e.exports=function(e){return function(t){t=i(t);var r=o(t)?a(t):void 0,s=r?r[0]:t.charAt(0),l=r?n(r,1).join(""):t.slice(1);return s[e]()+l}}},7685:(e,t,r)=>{var n=r(7937)(r(6552),"DataView");e.exports=n},7707:(e,t,r)=>{"use strict";var n=r(4994);t.A=void 0;var o=n(r(39)),a=r(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M9 11H7v2h2zm4 0h-2v2h2zm4 0h-2v2h2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 16H5V9h14z"}),"DateRange")},7758:(e,t,r)=>{"use strict";r.d(t,{A:()=>R});var n=r(8604),o=r(7162),a=r(3815);const i=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const n=t.reduce(((e,t)=>(t.filterProps.forEach((r=>{e[r]=t})),e)),{}),o=e=>Object.keys(e).reduce(((t,r)=>n[r]?(0,a.A)(t,n[r](e)):t),{});return o.propTypes={},o.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),o};var s=r(9751);function l(e){return"number"!==typeof e?e:`${e}px solid`}function c(e,t){return(0,o.Ay)({prop:e,themeKey:"borders",transform:t})}const d=c("border",l),u=c("borderTop",l),p=c("borderRight",l),h=c("borderBottom",l),f=c("borderLeft",l),m=c("borderColor"),g=c("borderTopColor"),v=c("borderRightColor"),x=c("borderBottomColor"),b=c("borderLeftColor"),y=c("outline",l),j=c("outlineColor"),w=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=(0,n.MA)(e.theme,"shape.borderRadius",4,"borderRadius"),r=e=>({borderRadius:(0,n._W)(t,e)});return(0,s.NI)(e,e.borderRadius,r)}return null};w.propTypes={},w.filterProps=["borderRadius"];i(d,u,p,h,f,m,g,v,x,b,w,y,j);const S=e=>{if(void 0!==e.gap&&null!==e.gap){const t=(0,n.MA)(e.theme,"spacing",8,"gap"),r=e=>({gap:(0,n._W)(t,e)});return(0,s.NI)(e,e.gap,r)}return null};S.propTypes={},S.filterProps=["gap"];const C=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=(0,n.MA)(e.theme,"spacing",8,"columnGap"),r=e=>({columnGap:(0,n._W)(t,e)});return(0,s.NI)(e,e.columnGap,r)}return null};C.propTypes={},C.filterProps=["columnGap"];const A=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=(0,n.MA)(e.theme,"spacing",8,"rowGap"),r=e=>({rowGap:(0,n._W)(t,e)});return(0,s.NI)(e,e.rowGap,r)}return null};A.propTypes={},A.filterProps=["rowGap"];i(S,C,A,(0,o.Ay)({prop:"gridColumn"}),(0,o.Ay)({prop:"gridRow"}),(0,o.Ay)({prop:"gridAutoFlow"}),(0,o.Ay)({prop:"gridAutoColumns"}),(0,o.Ay)({prop:"gridAutoRows"}),(0,o.Ay)({prop:"gridTemplateColumns"}),(0,o.Ay)({prop:"gridTemplateRows"}),(0,o.Ay)({prop:"gridTemplateAreas"}),(0,o.Ay)({prop:"gridArea"}));function E(e,t){return"grey"===t?t:e}i((0,o.Ay)({prop:"color",themeKey:"palette",transform:E}),(0,o.Ay)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:E}),(0,o.Ay)({prop:"backgroundColor",themeKey:"palette",transform:E}));function k(e){return e<=1&&0!==e?100*e+"%":e}const O=(0,o.Ay)({prop:"width",transform:k}),P=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var r,n;const o=(null==(r=e.theme)||null==(r=r.breakpoints)||null==(r=r.values)?void 0:r[t])||s.zu[t];return o?"px"!==(null==(n=e.theme)||null==(n=n.breakpoints)?void 0:n.unit)?{maxWidth:`${o}${e.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:k(t)}};return(0,s.NI)(e,e.maxWidth,t)}return null};P.filterProps=["maxWidth"];const I=(0,o.Ay)({prop:"minWidth",transform:k}),D=(0,o.Ay)({prop:"height",transform:k}),M=(0,o.Ay)({prop:"maxHeight",transform:k}),T=(0,o.Ay)({prop:"minHeight",transform:k}),R=((0,o.Ay)({prop:"size",cssProperty:"width",transform:k}),(0,o.Ay)({prop:"size",cssProperty:"height",transform:k}),i(O,P,I,D,M,T,(0,o.Ay)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:l},borderTop:{themeKey:"borders",transform:l},borderRight:{themeKey:"borders",transform:l},borderBottom:{themeKey:"borders",transform:l},borderLeft:{themeKey:"borders",transform:l},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:l},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:w},color:{themeKey:"palette",transform:E},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:E},backgroundColor:{themeKey:"palette",transform:E},p:{style:n.Ms},pt:{style:n.Ms},pr:{style:n.Ms},pb:{style:n.Ms},pl:{style:n.Ms},px:{style:n.Ms},py:{style:n.Ms},padding:{style:n.Ms},paddingTop:{style:n.Ms},paddingRight:{style:n.Ms},paddingBottom:{style:n.Ms},paddingLeft:{style:n.Ms},paddingX:{style:n.Ms},paddingY:{style:n.Ms},paddingInline:{style:n.Ms},paddingInlineStart:{style:n.Ms},paddingInlineEnd:{style:n.Ms},paddingBlock:{style:n.Ms},paddingBlockStart:{style:n.Ms},paddingBlockEnd:{style:n.Ms},m:{style:n.Lc},mt:{style:n.Lc},mr:{style:n.Lc},mb:{style:n.Lc},ml:{style:n.Lc},mx:{style:n.Lc},my:{style:n.Lc},margin:{style:n.Lc},marginTop:{style:n.Lc},marginRight:{style:n.Lc},marginBottom:{style:n.Lc},marginLeft:{style:n.Lc},marginX:{style:n.Lc},marginY:{style:n.Lc},marginInline:{style:n.Lc},marginInlineStart:{style:n.Lc},marginInlineEnd:{style:n.Lc},marginBlock:{style:n.Lc},marginBlockStart:{style:n.Lc},marginBlockEnd:{style:n.Lc},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:S},rowGap:{style:A},columnGap:{style:C},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:k},maxWidth:{style:P},minWidth:{transform:k},height:{transform:k},maxHeight:{transform:k},minHeight:{transform:k},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7828:e=>{e.exports=function(){return[]}},7857:(e,t,r)=>{var n=r(3440),o=function(){var e=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!o&&o in e}},7868:(e,t,r)=>{"use strict";function n(e){let t="https://mui.com/production-error/?code="+e;for(let r=1;r<arguments.length;r+=1)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}r.d(t,{A:()=>n})},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7918:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n.A});var n=r(7598)},7937:(e,t,r)=>{var n=r(6954),o=r(4657);e.exports=function(e,t){var r=o(e,t);return n(r)?r:void 0}},7948:(e,t,r)=>{"use strict";var n=r(4994);t.A=void 0;var o=n(r(39)),a=r(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline")},7950:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(2730)},8052:(e,t,r)=>{"use strict";var n=r(4994);t.Ay=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:r=m,rootShouldForwardProp:n=f,slotShouldForwardProp:l=f}=e,d=e=>(0,c.default)((0,o.default)({},e,{theme:v((0,o.default)({},e,{defaultTheme:r,themeId:t}))}));return d.__mui_systemSx=!0,function(e){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:u,slot:h,skipVariantsResolver:m,skipSx:y,overridesResolver:j=x(g(h))}=c,w=(0,a.default)(c,p),S=void 0!==m?m:h&&"Root"!==h&&"root"!==h||!1,C=y||!1;let A=f;"Root"===h||"root"===h?A=n:h?A=l:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(A=void 0);const E=(0,i.default)(e,(0,o.default)({shouldForwardProp:A,label:undefined},w)),k=e=>"function"===typeof e&&e.__emotion_real!==e||(0,s.isPlainObject)(e)?n=>b(e,(0,o.default)({},n,{theme:v({theme:n.theme,defaultTheme:r,themeId:t})})):e,O=function(n){let a=k(n);for(var i=arguments.length,s=new Array(i>1?i-1:0),l=1;l<i;l++)s[l-1]=arguments[l];const c=s?s.map(k):[];u&&j&&c.push((e=>{const n=v((0,o.default)({},e,{defaultTheme:r,themeId:t}));if(!n.components||!n.components[u]||!n.components[u].styleOverrides)return null;const a=n.components[u].styleOverrides,i={};return Object.entries(a).forEach((t=>{let[r,a]=t;i[r]=b(a,(0,o.default)({},e,{theme:n}))})),j(e,i)})),u&&!S&&c.push((e=>{var n;const a=v((0,o.default)({},e,{defaultTheme:r,themeId:t}));return b({variants:null==a||null==(n=a.components)||null==(n=n[u])?void 0:n.variants},(0,o.default)({},e,{theme:a}))})),C||c.push(d);const p=c.length-s.length;if(Array.isArray(n)&&p>0){const e=new Array(p).fill("");a=[...n,...e],a.raw=[...n.raw,...e]}const h=E(a,...c);return e.muiName&&(h.muiName=e.muiName),h};return E.withConfig&&(O.withConfig=E.withConfig),O}};var o=n(r(4634)),a=n(r(4893)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(r(3174)),s=r(9482),l=(n(r(7918)),n(r(3382)),n(r(4989))),c=n(r(3234));const d=["ownerState"],u=["variants"],p=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}function f(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const m=(0,l.default)(),g=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function v(e){let{defaultTheme:t,theme:r,themeId:n}=e;return o=r,0===Object.keys(o).length?t:r[n]||r;var o}function x(e){return e?(t,r)=>r[e]:null}function b(e,t){let{ownerState:r}=t,n=(0,a.default)(t,d);const i="function"===typeof e?e((0,o.default)({ownerState:r},n)):e;if(Array.isArray(i))return i.flatMap((e=>b(e,(0,o.default)({ownerState:r},n))));if(i&&"object"===typeof i&&Array.isArray(i.variants)){const{variants:e=[]}=i;let t=(0,a.default)(i,u);return e.forEach((e=>{let a=!0;"function"===typeof e.props?a=e.props((0,o.default)({ownerState:r},n,r)):Object.keys(e.props).forEach((t=>{(null==r?void 0:r[t])!==e.props[t]&&n[t]!==e.props[t]&&(a=!1)})),a&&(Array.isArray(t)||(t=[t]),t.push("function"===typeof e.style?e.style((0,o.default)({ownerState:r},n,r)):e.style))})),t}return i}},8114:e=>{e.exports=function(e,t){return e.has(t)}},8168:(e,t,r)=>{"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(null,arguments)}r.d(t,{A:()=>n})},8182:(e,t,r)=>{var n=r(2070),o=r(5713),a=r(2074),i=n&&1/a(new n([,-0]))[1]==1/0?function(e){return new n(e)}:o;e.exports=i},8189:(e,t,r)=>{var n=r(3871);e.exports=function(e,t,r){var o=e.length;return r=void 0===r?o:r,!t&&r>=o?e:n(e,t,r)}},8206:(e,t,r)=>{"use strict";r.d(t,{b:()=>o});r(5043);var n=r(3654);r(579);function o(e){return(0,n.b)(e)}},8210:function(e,t,r){var n;!function(){"use strict";var o,a=1e9,i={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,l="[DecimalError] ",c=l+"Invalid argument: ",d=l+"Exponent out of range: ",u=Math.floor,p=Math.pow,h=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,f=1e7,m=9007199254740991,g=u(1286742750677284.5),v={};function x(e,t){var r,n,o,a,i,l,c,d,u=e.constructor,p=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),s?O(t,p):t;if(c=e.d,d=t.d,i=e.e,o=t.e,c=c.slice(),a=i-o){for(a<0?(n=c,a=-a,l=d.length):(n=d,o=i,l=c.length),a>(l=(i=Math.ceil(p/7))>l?i+1:l+1)&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for((l=c.length)-(a=d.length)<0&&(a=l,n=d,d=c,c=n),r=0;a;)r=(c[--a]=c[a]+d[a]+r)/f|0,c[a]%=f;for(r&&(c.unshift(r),++o),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=o,s?O(t,p):t}function b(e,t,r){if(e!==~~e||e<t||e>r)throw Error(c+e)}function y(e){var t,r,n,o=e.length-1,a="",i=e[0];if(o>0){for(a+=i,t=1;t<o;t++)(r=7-(n=e[t]+"").length)&&(a+=A(r)),a+=n;(r=7-(n=(i=e[t])+"").length)&&(a+=A(r))}else if(0===i)return"0";for(;i%10===0;)i/=10;return a+i}v.absoluteValue=v.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},v.comparedTo=v.cmp=function(e){var t,r,n,o,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(t=0,r=(n=a.d.length)<(o=e.d.length)?n:o;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===o?0:n>o^a.s<0?1:-1},v.decimalPlaces=v.dp=function(){var e=this,t=e.d.length-1,r=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)r--;return r<0?0:r},v.dividedBy=v.div=function(e){return j(this,new this.constructor(e))},v.dividedToIntegerBy=v.idiv=function(e){var t=this.constructor;return O(j(this,new t(e),0,1),t.precision)},v.equals=v.eq=function(e){return!this.cmp(e)},v.exponent=function(){return S(this)},v.greaterThan=v.gt=function(e){return this.cmp(e)>0},v.greaterThanOrEqualTo=v.gte=function(e){return this.cmp(e)>=0},v.isInteger=v.isint=function(){return this.e>this.d.length-2},v.isNegative=v.isneg=function(){return this.s<0},v.isPositive=v.ispos=function(){return this.s>0},v.isZero=function(){return 0===this.s},v.lessThan=v.lt=function(e){return this.cmp(e)<0},v.lessThanOrEqualTo=v.lte=function(e){return this.cmp(e)<1},v.logarithm=v.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(void 0===e)e=new n(10);else if((e=new n(e)).s<1||e.eq(o))throw Error(l+"NaN");if(r.s<1)throw Error(l+(r.s?"NaN":"-Infinity"));return r.eq(o)?new n(0):(s=!1,t=j(E(r,i),E(e,i),i),s=!0,O(t,a))},v.minus=v.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?P(t,e):x(t,(e.s=-e.s,e))},v.modulo=v.mod=function(e){var t,r=this,n=r.constructor,o=n.precision;if(!(e=new n(e)).s)throw Error(l+"NaN");return r.s?(s=!1,t=j(r,e,0,1).times(e),s=!0,r.minus(t)):O(new n(r),o)},v.naturalExponential=v.exp=function(){return w(this)},v.naturalLogarithm=v.ln=function(){return E(this)},v.negated=v.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},v.plus=v.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?x(t,e):P(t,(e.s=-e.s,e))},v.precision=v.sd=function(e){var t,r,n,o=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=S(o)+1,r=7*(n=o.d.length-1)+1,n=o.d[n]){for(;n%10==0;n/=10)r--;for(n=o.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},v.squareRoot=v.sqrt=function(){var e,t,r,n,o,a,i,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(l+"NaN")}for(e=S(c),s=!1,0==(o=Math.sqrt(+c))||o==1/0?(((t=y(c.d)).length+e)%2==0&&(t+="0"),o=Math.sqrt(t),e=u((e+1)/2)-(e<0||e%2),n=new d(t=o==1/0?"5e"+e:(t=o.toExponential()).slice(0,t.indexOf("e")+1)+e)):n=new d(o.toString()),o=i=(r=d.precision)+3;;)if(n=(a=n).plus(j(c,a,i+2)).times(.5),y(a.d).slice(0,i)===(t=y(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),o==i&&"4999"==t){if(O(a,r+1,0),a.times(a).eq(c)){n=a;break}}else if("9999"!=t)break;i+=4}return s=!0,O(n,r)},v.times=v.mul=function(e){var t,r,n,o,a,i,l,c,d,u=this,p=u.constructor,h=u.d,m=(e=new p(e)).d;if(!u.s||!e.s)return new p(0);for(e.s*=u.s,r=u.e+e.e,(c=h.length)<(d=m.length)&&(a=h,h=m,m=a,i=c,c=d,d=i),a=[],n=i=c+d;n--;)a.push(0);for(n=d;--n>=0;){for(t=0,o=c+n;o>n;)l=a[o]+m[n]*h[o-n-1]+t,a[o--]=l%f|0,t=l/f|0;a[o]=(a[o]+t)%f|0}for(;!a[--i];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,s?O(e,p.precision):e},v.toDecimalPlaces=v.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(b(e,0,a),void 0===t?t=n.rounding:b(t,0,8),O(r,e+S(r)+1,t))},v.toExponential=function(e,t){var r,n=this,o=n.constructor;return void 0===e?r=I(n,!0):(b(e,0,a),void 0===t?t=o.rounding:b(t,0,8),r=I(n=O(new o(n),e+1,t),!0,e+1)),r},v.toFixed=function(e,t){var r,n,o=this,i=o.constructor;return void 0===e?I(o):(b(e,0,a),void 0===t?t=i.rounding:b(t,0,8),r=I((n=O(new i(o),e+S(o)+1,t)).abs(),!1,e+S(n)+1),o.isneg()&&!o.isZero()?"-"+r:r)},v.toInteger=v.toint=function(){var e=this,t=e.constructor;return O(new t(e),S(e)+1,t.rounding)},v.toNumber=function(){return+this},v.toPower=v.pow=function(e){var t,r,n,a,i,c,d=this,p=d.constructor,h=+(e=new p(e));if(!e.s)return new p(o);if(!(d=new p(d)).s){if(e.s<1)throw Error(l+"Infinity");return d}if(d.eq(o))return d;if(n=p.precision,e.eq(o))return O(d,n);if(c=(t=e.e)>=(r=e.d.length-1),i=d.s,c){if((r=h<0?-h:h)<=m){for(a=new p(o),t=Math.ceil(n/7+4),s=!1;r%2&&D((a=a.times(d)).d,t),0!==(r=u(r/2));)D((d=d.times(d)).d,t);return s=!0,e.s<0?new p(o).div(a):O(a,n)}}else if(i<0)throw Error(l+"NaN");return i=i<0&&1&e.d[Math.max(t,r)]?-1:1,d.s=1,s=!1,a=e.times(E(d,n+12)),s=!0,(a=w(a)).s=i,a},v.toPrecision=function(e,t){var r,n,o=this,i=o.constructor;return void 0===e?n=I(o,(r=S(o))<=i.toExpNeg||r>=i.toExpPos):(b(e,1,a),void 0===t?t=i.rounding:b(t,0,8),n=I(o=O(new i(o),e,t),e<=(r=S(o))||r<=i.toExpNeg,e)),n},v.toSignificantDigits=v.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(b(e,1,a),void 0===t?t=r.rounding:b(t,0,8)),O(new r(this),e,t)},v.toString=v.valueOf=v.val=v.toJSON=function(){var e=this,t=S(e),r=e.constructor;return I(e,t<=r.toExpNeg||t>=r.toExpPos)};var j=function(){function e(e,t){var r,n=0,o=e.length;for(e=e.slice();o--;)r=e[o]*t+n,e[o]=r%f|0,n=r/f|0;return n&&e.unshift(n),e}function t(e,t,r,n){var o,a;if(r!=n)a=r>n?1:-1;else for(o=a=0;o<r;o++)if(e[o]!=t[o]){a=e[o]>t[o]?1:-1;break}return a}function r(e,t,r){for(var n=0;r--;)e[r]-=n,n=e[r]<t[r]?1:0,e[r]=n*f+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,o,a,i){var s,c,d,u,p,h,m,g,v,x,b,y,j,w,C,A,E,k,P=n.constructor,I=n.s==o.s?1:-1,D=n.d,M=o.d;if(!n.s)return new P(n);if(!o.s)throw Error(l+"Division by zero");for(c=n.e-o.e,E=M.length,C=D.length,g=(m=new P(I)).d=[],d=0;M[d]==(D[d]||0);)++d;if(M[d]>(D[d]||0)&&--c,(y=null==a?a=P.precision:i?a+(S(n)-S(o))+1:a)<0)return new P(0);if(y=y/7+2|0,d=0,1==E)for(u=0,M=M[0],y++;(d<C||u)&&y--;d++)j=u*f+(D[d]||0),g[d]=j/M|0,u=j%M|0;else{for((u=f/(M[0]+1)|0)>1&&(M=e(M,u),D=e(D,u),E=M.length,C=D.length),w=E,x=(v=D.slice(0,E)).length;x<E;)v[x++]=0;(k=M.slice()).unshift(0),A=M[0],M[1]>=f/2&&++A;do{u=0,(s=t(M,v,E,x))<0?(b=v[0],E!=x&&(b=b*f+(v[1]||0)),(u=b/A|0)>1?(u>=f&&(u=f-1),1==(s=t(p=e(M,u),v,h=p.length,x=v.length))&&(u--,r(p,E<h?k:M,h))):(0==u&&(s=u=1),p=M.slice()),(h=p.length)<x&&p.unshift(0),r(v,p,x),-1==s&&(s=t(M,v,E,x=v.length))<1&&(u++,r(v,E<x?k:M,x)),x=v.length):0===s&&(u++,v=[0]),g[d++]=u,s&&v[0]?v[x++]=D[w]||0:(v=[D[w]],x=1)}while((w++<C||void 0!==v[0])&&y--)}return g[0]||g.shift(),m.e=c,O(m,i?a+S(m)+1:a)}}();function w(e,t){var r,n,a,i,l,c=0,u=0,h=e.constructor,f=h.precision;if(S(e)>16)throw Error(d+S(e));if(!e.s)return new h(o);for(null==t?(s=!1,l=f):l=t,i=new h(.03125);e.abs().gte(.1);)e=e.times(i),u+=5;for(l+=Math.log(p(2,u))/Math.LN10*2+5|0,r=n=a=new h(o),h.precision=l;;){if(n=O(n.times(e),l),r=r.times(++c),y((i=a.plus(j(n,r,l))).d).slice(0,l)===y(a.d).slice(0,l)){for(;u--;)a=O(a.times(a),l);return h.precision=f,null==t?(s=!0,O(a,f)):a}a=i}}function S(e){for(var t=7*e.e,r=e.d[0];r>=10;r/=10)t++;return t}function C(e,t,r){if(t>e.LN10.sd())throw s=!0,r&&(e.precision=r),Error(l+"LN10 precision limit exceeded");return O(new e(e.LN10),t)}function A(e){for(var t="";e--;)t+="0";return t}function E(e,t){var r,n,a,i,c,d,u,p,h,f=1,m=e,g=m.d,v=m.constructor,x=v.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(o))return new v(0);if(null==t?(s=!1,p=x):p=t,m.eq(10))return null==t&&(s=!0),C(v,p);if(p+=10,v.precision=p,n=(r=y(g)).charAt(0),i=S(m),!(Math.abs(i)<15e14))return u=C(v,p+2,x).times(i+""),m=E(new v(n+"."+r.slice(1)),p-10).plus(u),v.precision=x,null==t?(s=!0,O(m,x)):m;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=y((m=m.times(e)).d)).charAt(0),f++;for(i=S(m),n>1?(m=new v("0."+r),i++):m=new v(n+"."+r.slice(1)),d=c=m=j(m.minus(o),m.plus(o),p),h=O(m.times(m),p),a=3;;){if(c=O(c.times(h),p),y((u=d.plus(j(c,new v(a),p))).d).slice(0,p)===y(d.d).slice(0,p))return d=d.times(2),0!==i&&(d=d.plus(C(v,p+2,x).times(i+""))),d=j(d,new v(f),p),v.precision=x,null==t?(s=!0,O(d,x)):d;d=u,a+=2}}function k(e,t){var r,n,o;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);)++n;for(o=t.length;48===t.charCodeAt(o-1);)--o;if(t=t.slice(n,o)){if(o-=n,r=r-n-1,e.e=u(r/7),e.d=[],n=(r+1)%7,r<0&&(n+=7),n<o){for(n&&e.d.push(+t.slice(0,n)),o-=7;n<o;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=o;for(;n--;)t+="0";if(e.d.push(+t),s&&(e.e>g||e.e<-g))throw Error(d+r)}else e.s=0,e.e=0,e.d=[0];return e}function O(e,t,r){var n,o,a,i,l,c,h,m,v=e.d;for(i=1,a=v[0];a>=10;a/=10)i++;if((n=t-i)<0)n+=7,o=t,h=v[m=0];else{if((m=Math.ceil((n+1)/7))>=(a=v.length))return e;for(h=a=v[m],i=1;a>=10;a/=10)i++;o=(n%=7)-7+i}if(void 0!==r&&(l=h/(a=p(10,i-o-1))%10|0,c=t<0||void 0!==v[m+1]||h%a,c=r<4?(l||c)&&(0==r||r==(e.s<0?3:2)):l>5||5==l&&(4==r||c||6==r&&(n>0?o>0?h/p(10,i-o):0:v[m-1])%10&1||r==(e.s<0?8:7))),t<1||!v[0])return c?(a=S(e),v.length=1,t=t-a-1,v[0]=p(10,(7-t%7)%7),e.e=u(-t/7)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(0==n?(v.length=m,a=1,m--):(v.length=m+1,a=p(10,7-n),v[m]=o>0?(h/p(10,i-o)%p(10,o)|0)*a:0),c)for(;;){if(0==m){(v[0]+=a)==f&&(v[0]=1,++e.e);break}if(v[m]+=a,v[m]!=f)break;v[m--]=0,a=1}for(n=v.length;0===v[--n];)v.pop();if(s&&(e.e>g||e.e<-g))throw Error(d+S(e));return e}function P(e,t){var r,n,o,a,i,l,c,d,u,p,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),s?O(t,m):t;if(c=e.d,p=t.d,n=t.e,d=e.e,c=c.slice(),i=d-n){for((u=i<0)?(r=c,i=-i,l=p.length):(r=p,n=d,l=c.length),i>(o=Math.max(Math.ceil(m/7),l)+2)&&(i=o,r.length=1),r.reverse(),o=i;o--;)r.push(0);r.reverse()}else{for((u=(o=c.length)<(l=p.length))&&(l=o),o=0;o<l;o++)if(c[o]!=p[o]){u=c[o]<p[o];break}i=0}for(u&&(r=c,c=p,p=r,t.s=-t.s),l=c.length,o=p.length-l;o>0;--o)c[l++]=0;for(o=p.length;o>i;){if(c[--o]<p[o]){for(a=o;a&&0===c[--a];)c[a]=f-1;--c[a],c[o]+=f}c[o]-=p[o]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(t.d=c,t.e=n,s?O(t,m):t):new h(0)}function I(e,t,r){var n,o=S(e),a=y(e.d),i=a.length;return t?(r&&(n=r-i)>0?a=a.charAt(0)+"."+a.slice(1)+A(n):i>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(o<0?"e":"e+")+o):o<0?(a="0."+A(-o-1)+a,r&&(n=r-i)>0&&(a+=A(n))):o>=i?(a+=A(o+1-i),r&&(n=r-o-1)>0&&(a=a+"."+A(n))):((n=o+1)<i&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-i)>0&&(o+1===i&&(a+="."),a+=A(n))),e.s<0?"-"+a:a}function D(e,t){if(e.length>t)return e.length=t,!0}function M(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,r,n,o=["precision",1,a,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<o.length;t+=3)if(void 0!==(n=e[r=o[t]])){if(!(u(n)===n&&n>=o[t+1]&&n<=o[t+2]))throw Error(c+r+": "+n);this[r]=n}if(void 0!==(n=e[r="LN10"])){if(n!=Math.LN10)throw Error(c+r+": "+n);this[r]=new this(n)}return this}i=function e(t){var r,n,o;function a(e){var t=this;if(!(t instanceof a))return new a(e);if(t.constructor=a,e instanceof a)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):k(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!h.test(e))throw Error(c+e);k(t,e)}if(a.prototype=v,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=e,a.config=a.set=M,void 0===t&&(t={}),t)for(o=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<o.length;)t.hasOwnProperty(n=o[r++])||(t[n]=this[n]);return a.config(t),a}(i),i.default=i.Decimal=i,o=new i(1),void 0===(n=function(){return i}.call(t,r,t,e))||(e.exports=n)}()},8242:(e,t,r)=>{"use strict";var n=r(4994);t.A=void 0;var o=n(r(39)),a=r(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList")},8259:(e,t,r)=>{var n=r(5797);e.exports=function(e){var t=n(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}},8280:(e,t,r)=>{"use strict";r.d(t,{A:()=>h});var n=r(8168),o=r(8587),a=r(9172),i=r(4853);const s={borderRadius:4};var l=r(8604);var c=r(8812),d=r(7758),u=r(9703);const p=["breakpoints","palette","spacing","shape"];const h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:r={},spacing:h,shape:f={}}=e,m=(0,o.A)(e,p),g=(0,i.A)(t),v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;const t=(0,l.LX)({spacing:e}),r=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(0===r.length?[1]:r).map((e=>{const r=t(e);return"number"===typeof r?`${r}px`:r})).join(" ")};return r.mui=!0,r}(h);let x=(0,a.A)({breakpoints:g,direction:"ltr",components:{},palette:(0,n.A)({mode:"light"},r),spacing:v,shape:(0,n.A)({},s,f)},m);x.applyStyles=u.A;for(var b=arguments.length,y=new Array(b>1?b-1:0),j=1;j<b;j++)y[j-1]=arguments[j];return x=y.reduce(((e,t)=>(0,a.A)(e,t)),x),x.unstable_sxConfig=(0,n.A)({},d.A,null==m?void 0:m.unstable_sxConfig),x.unstable_sx=function(e){return(0,c.A)({sx:e,theme:this})},x}},8325:(e,t,r)=>{var n=r(2541),o=r(5654),a=r(3279),i=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:a;e.exports=i},8387:(e,t,r)=>{"use strict";function n(e){var t,r,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=n(e[t]))&&(o&&(o+=" "),o+=r)}else for(r in e)e[r]&&(o&&(o+=" "),o+=r);return o}r.d(t,{A:()=>o});const o=function(){for(var e,t,r=0,o="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=n(e))&&(o&&(o+=" "),o+=t);return o}},8422:(e,t,r)=>{"use strict";var n=r(4994);t.A=void 0;var o=n(r(39)),a=r(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M18 17H6v-2h12zm0-4H6v-2h12zm0-4H6V7h12zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2z"}),"Receipt")},8468:(e,t,r)=>{var n=r(5816),o=r(644),a=r(4020);e.exports=function(e,t,r){return t===t?a(e,t,r):n(e,o,r)}},8521:(e,t,r)=>{"use strict";var n=r(4994);t.A=void 0;var o=n(r(39)),a=r(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M12 5.99 19.53 19H4.47zM12 2 1 21h22zm1 14h-2v2h2zm0-6h-2v4h2z"}),"WarningAmberOutlined")},8541:(e,t,r)=>{var n=r(9812),o=r(149),a=r(4052),i=r(9841),s=n?n.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return o(t,e)+"";if(i(t))return l?l.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}},8587:(e,t,r)=>{"use strict";function n(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}r.d(t,{A:()=>n})},8604:(e,t,r)=>{"use strict";r.d(t,{LX:()=>f,MA:()=>h,_W:()=>m,Lc:()=>x,Ms:()=>b});var n=r(9751),o=r(7162),a=r(3815);const i={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){const t={};return r=>(void 0===t[r]&&(t[r]=e(r)),t[r])}((e=>{if(e.length>2){if(!l[e])return[e];e=l[e]}const[t,r]=e.split(""),n=i[t],o=s[r]||"";return Array.isArray(o)?o.map((e=>n+e)):[n+o]})),d=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],u=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],p=[...d,...u];function h(e,t,r,n){var a;const i=null!=(a=(0,o.Yn)(e,t,!1))?a:r;return"number"===typeof i?e=>"string"===typeof e?e:i*e:Array.isArray(i)?e=>"string"===typeof e?e:i[e]:"function"===typeof i?i:()=>{}}function f(e){return h(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;const r=e(Math.abs(t));return t>=0?r:"number"===typeof r?-r:`-${r}`}function g(e,t,r,o){if(-1===t.indexOf(r))return null;const a=function(e,t){return r=>e.reduce(((e,n)=>(e[n]=m(t,r),e)),{})}(c(r),o),i=e[r];return(0,n.NI)(e,i,a)}function v(e,t){const r=f(e.theme);return Object.keys(e).map((n=>g(e,t,n,r))).reduce(a.A,{})}function x(e){return v(e,d)}function b(e){return v(e,u)}function y(e){return v(e,p)}x.propTypes={},x.filterProps=d,b.propTypes={},b.filterProps=u,y.propTypes={},y.filterProps=p},8610:(e,t,r)=>{"use strict";function n(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const n={};return Object.keys(e).forEach((o=>{n[o]=e[o].reduce(((e,n)=>{if(n){const o=t(n);""!==o&&e.push(o),r&&r[n]&&e.push(r[n])}return e}),[]).join(" ")})),n}r.d(t,{A:()=>n})},8673:(e,t,r)=>{var n=r(3204),o=r(3713),a=r(6571);e.exports=function(e){return a(e)?n(e):o(e)}},8698:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var n=r(8168),o=r(8587),a=r(9172),i=r(7758);const s=["sx"],l=e=>{var t,r;const n={systemProps:{},otherProps:{}},o=null!=(t=null==e||null==(r=e.theme)?void 0:r.unstable_sxConfig)?t:i.A;return Object.keys(e).forEach((t=>{o[t]?n.systemProps[t]=e[t]:n.otherProps[t]=e[t]})),n};function c(e){const{sx:t}=e,r=(0,o.A)(e,s),{systemProps:i,otherProps:c}=l(r);let d;return d=Array.isArray(t)?[i,...t]:"function"===typeof t?function(){const e=t(...arguments);return(0,a.Q)(e)?(0,n.A)({},i,e):i}:(0,n.A)({},i,t),(0,n.A)({},c,{sx:d})}},8724:(e,t,r)=>{var n=r(7615),o=r(5051),a=r(2154),i=r(8734),s=r(2662);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=i,l.prototype.set=s,e.exports=l},8734:(e,t,r)=>{var n=r(5575),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:o.call(t,e)}},8812:(e,t,r)=>{"use strict";r.d(t,{A:()=>d,k:()=>l});var n=r(7598),o=r(3815),a=r(7162),i=r(9751),s=r(7758);function l(){function e(e,t,r,o){const s={[e]:t,theme:r},l=o[e];if(!l)return{[e]:t};const{cssProperty:c=e,themeKey:d,transform:u,style:p}=l;if(null==t)return null;if("typography"===d&&"inherit"===t)return{[e]:t};const h=(0,a.Yn)(r,d)||{};if(p)return p(s);return(0,i.NI)(s,t,(t=>{let r=(0,a.BO)(h,u,t);return t===r&&"string"===typeof t&&(r=(0,a.BO)(h,u,`${e}${"default"===t?"":(0,n.A)(t)}`,t)),!1===c?r:{[c]:r}}))}return function t(r){var n;const{sx:a,theme:l={}}=r||{};if(!a)return null;const c=null!=(n=l.unstable_sxConfig)?n:s.A;function d(r){let n=r;if("function"===typeof r)n=r(l);else if("object"!==typeof r)return r;if(!n)return null;const a=(0,i.EU)(l.breakpoints),s=Object.keys(a);let d=a;return Object.keys(n).forEach((r=>{const a=(s=n[r],u=l,"function"===typeof s?s(u):s);var s,u;if(null!==a&&void 0!==a)if("object"===typeof a)if(c[r])d=(0,o.A)(d,e(r,a,l,c));else{const e=(0,i.NI)({theme:l},a,(e=>({[r]:e})));!function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const n=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),o=new Set(n);return t.every((e=>o.size===Object.keys(e).length))}(e,a)?d=(0,o.A)(d,e):d[r]=t({sx:a,theme:l})}else d=(0,o.A)(d,e(r,a,l,c))})),(0,i.vf)(s,d)}return Array.isArray(a)?a.map(d):d(a)}}const c=l();c.filterProps=["sx"];const d=c},8853:(e,t,r)=>{"use strict";e.exports=r(7234)},8883:(e,t,r)=>{var n=r(5652),o=r(6571);e.exports=function(e,t){var r=-1,a=o(e)?Array(e.length):[];return n(e,(function(e,n,o){a[++r]=t(e,n,o)})),a}},8895:e=>{e.exports=function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}},8902:(e,t,r)=>{var n=r(4816),o=r(6179),a=r(6704);function i(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}i.prototype.add=i.prototype.push=o,i.prototype.has=a,e.exports=i},8990:(e,t,r)=>{var n=r(9995)(r(2520));e.exports=n},9057:(e,t,r)=>{var n=r(5324),o=r(2777),a=r(4052),i=r(9194),s=r(6173),l=r(914);e.exports=function(e,t,r){for(var c=-1,d=(t=n(t,e)).length,u=!1;++c<d;){var p=l(t[c]);if(!(u=null!=e&&r(e,p)))break;e=e[p]}return u||++c!=d?u:!!(d=null==e?0:e.length)&&s(d)&&i(p,d)&&(a(e)||o(e))}},9062:(e,t,r)=>{"use strict";e.exports=r(6378)},9096:(e,t,r)=>{var n=r(9256),o=r(5029),a=r(3279),i=r(4052),s=r(3932);e.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?i(e)?o(e[0],e[1]):n(e):s(e)}},9115:(e,t,r)=>{var n=r(5967),o=r(6311),a=r(715);e.exports=function(e){return o(e)?a(e):n(e)}},9140:(e,t,r)=>{var n=r(7303);e.exports=function(e){var t=n(e),r=t%1;return t===t?r?t-r:t:0}},9160:(e,t,r)=>{var n=r(6913),o=r(2761);e.exports=function(e){return"number"==typeof e||o(e)&&"[object Number]"==n(e)}},9172:(e,t,r)=>{"use strict";r.d(t,{A:()=>s,Q:()=>a});var n=r(8168),o=r(5043);function a(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function i(e){if(o.isValidElement(e)||!a(e))return e;const t={};return Object.keys(e).forEach((r=>{t[r]=i(e[r])})),t}function s(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const l=r.clone?(0,n.A)({},e):e;return a(e)&&a(t)&&Object.keys(t).forEach((n=>{o.isValidElement(t[n])?l[n]=t[n]:a(t[n])&&Object.prototype.hasOwnProperty.call(e,n)&&a(e[n])?l[n]=s(e[n],t[n],r):r.clone?l[n]=a(t[n])?i(t[n]):t[n]:l[n]=t[n]})),l}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var n=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<r}},9256:(e,t,r)=>{var n=r(6532),o=r(3781),a=r(1310);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(r){return r===e||n(r,e,t)}}},9303:(e,t,r)=>{"use strict";r.d(t,{E:()=>i,A:()=>s});var n=r(5043);const o={};const a=[];class i{constructor(){this.currentId=null,this.clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new i}start(e,t){this.clear(),this.currentId=setTimeout((()=>{this.currentId=null,t()}),e)}}function s(){const e=function(e,t){const r=n.useRef(o);return r.current===o&&(r.current=e(t)),r}(i.create).current;var t;return t=e.disposeEffect,n.useEffect(t,a),e}},9364:(e,t,r)=>{var n=r(9742),o=r(9096),a=r(61);e.exports=function(e,t){return e&&e.length?n(e,o(t,2),a):void 0}},9369:(e,t,r)=>{"use strict";r.d(t,{C:()=>c,E:()=>g,T:()=>u,c:()=>f,h:()=>p,w:()=>d});var n=r(5043),o=r(3803),a=r(1722),i=r(6598),s=r(9436),l=n.createContext("undefined"!==typeof HTMLElement?(0,o.A)({key:"css"}):null),c=l.Provider,d=function(e){return(0,n.forwardRef)((function(t,r){var o=(0,n.useContext)(l);return e(t,o,r)}))},u=n.createContext({});var p={}.hasOwnProperty,h="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",f=function(e,t){var r={};for(var n in t)p.call(t,n)&&(r[n]=t[n]);return r[h]=e,r},m=function(e){var t=e.cache,r=e.serialized,n=e.isStringTag;return(0,a.SF)(t,r,n),(0,s.s)((function(){return(0,a.sk)(t,r,n)})),null},g=d((function(e,t,r){var o=e.css;"string"===typeof o&&void 0!==t.registered[o]&&(o=t.registered[o]);var s=e[h],l=[o],c="";"string"===typeof e.className?c=(0,a.Rk)(t.registered,l,e.className):null!=e.className&&(c=e.className+" ");var d=(0,i.J)(l,void 0,n.useContext(u));c+=t.key+"-"+d.name;var f={};for(var g in e)p.call(e,g)&&"css"!==g&&g!==h&&(f[g]=e[g]);return f.className=c,r&&(f.ref=r),n.createElement(n.Fragment,null,n.createElement(m,{cache:t,serialized:d,isStringTag:"string"===typeof s}),n.createElement(s,f))}))},9380:(e,t,r)=>{"use strict";var n=r(4994);t.A=void 0;var o=n(r(39)),a=r(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z"}),"Description")},9386:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});const n=e=>e,o=(()=>{let e=n;return{configure(t){e=t},generate:t=>e(t),reset(){e=n}}})()},9394:(e,t,r)=>{var n=r(2622);e.exports=function(e){return n(this,e).has(e)}},9395:(e,t,r)=>{var n=r(4262),o=r(9621),a=r(8673);e.exports=function(e){return n(e,a,o)}},9417:(e,t,r)=>{var n=r(6686);e.exports=function(e){return e===e&&!n(e)}},9436:(e,t,r)=>{"use strict";var n;r.d(t,{i:()=>s,s:()=>i});var o=r(5043),a=!!(n||(n=r.t(o,2))).useInsertionEffect&&(n||(n=r.t(o,2))).useInsertionEffect,i=a||function(e){return e()},s=a||o.useLayoutEffect},9482:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n.A,isPlainObject:()=>n.Q});var n=r(9172)},9621:(e,t,r)=>{var n=r(7529),o=r(7828),a=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(e){return null==e?[]:(e=Object(e),n(i(e),(function(t){return a.call(e,t)})))}:o;e.exports=s},9662:(e,t,r)=>{"use strict";r.d(t,{A:()=>b});var n=r(8168),o=r(5043),a=r(8587),i=r(8387),s=r(8610),l=r(6803),c=r(8206),d=r(4535),u=r(2532),p=r(2372);function h(e){return(0,p.Ay)("MuiSvgIcon",e)}(0,u.A)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var f=r(579);const m=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],g=(0,d.Ay)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,"inherit"!==r.color&&t[`color${(0,l.A)(r.color)}`],t[`fontSize${(0,l.A)(r.fontSize)}`]]}})((e=>{let{theme:t,ownerState:r}=e;var n,o,a,i,s,l,c,d,u,p,h,f,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:r.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(n=t.transitions)||null==(o=n.create)?void 0:o.call(n,"fill",{duration:null==(a=t.transitions)||null==(a=a.duration)?void 0:a.shorter}),fontSize:{inherit:"inherit",small:(null==(i=t.typography)||null==(s=i.pxToRem)?void 0:s.call(i,20))||"1.25rem",medium:(null==(l=t.typography)||null==(c=l.pxToRem)?void 0:c.call(l,24))||"1.5rem",large:(null==(d=t.typography)||null==(u=d.pxToRem)?void 0:u.call(d,35))||"2.1875rem"}[r.fontSize],color:null!=(p=null==(h=(t.vars||t).palette)||null==(h=h[r.color])?void 0:h.main)?p:{action:null==(f=(t.vars||t).palette)||null==(f=f.action)?void 0:f.active,disabled:null==(m=(t.vars||t).palette)||null==(m=m.action)?void 0:m.disabled,inherit:void 0}[r.color]}})),v=o.forwardRef((function(e,t){const r=(0,c.b)({props:e,name:"MuiSvgIcon"}),{children:d,className:u,color:p="inherit",component:v="svg",fontSize:x="medium",htmlColor:b,inheritViewBox:y=!1,titleAccess:j,viewBox:w="0 0 24 24"}=r,S=(0,a.A)(r,m),C=o.isValidElement(d)&&"svg"===d.type,A=(0,n.A)({},r,{color:p,component:v,fontSize:x,instanceFontSize:e.fontSize,inheritViewBox:y,viewBox:w,hasSvgAsChild:C}),E={};y||(E.viewBox=w);const k=(e=>{const{color:t,fontSize:r,classes:n}=e,o={root:["root","inherit"!==t&&`color${(0,l.A)(t)}`,`fontSize${(0,l.A)(r)}`]};return(0,s.A)(o,h,n)})(A);return(0,f.jsxs)(g,(0,n.A)({as:v,className:(0,i.A)(k.root,u),focusable:"false",color:b,"aria-hidden":!j||void 0,role:j?"img":void 0,ref:t},E,S,C&&d.props,{ownerState:A,children:[C?d.props.children:d,j?(0,f.jsx)("title",{children:j}):null]}))}));v.muiName="SvgIcon";const x=v;function b(e,t){function r(r,o){return(0,f.jsx)(x,(0,n.A)({"data-testid":`${t}Icon`,ref:o},r,{children:e}))}return r.muiName=x.muiName,o.memo(o.forwardRef(r))}},9676:e=>{var t=Math.ceil,r=Math.max;e.exports=function(e,n,o,a){for(var i=-1,s=r(t((n-e)/(o||1)),0),l=Array(s);s--;)l[a?s:++i]=e,e+=o;return l}},9686:e=>{e.exports=function(e){return null==e}},9703:(e,t,r)=>{"use strict";function n(e,t){const r=this;if(r.vars&&"function"===typeof r.getColorSchemeSelector){const n=r.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)");return{[n]:t}}return r.palette.mode===e?t:{}}r.d(t,{A:()=>n})},9742:(e,t,r)=>{var n=r(9841);e.exports=function(e,t,r){for(var o=-1,a=e.length;++o<a;){var i=e[o],s=t(i);if(null!=s&&(void 0===l?s===s&&!n(s):r(s,l)))var l=s,c=i}return c}},9751:(e,t,r)=>{"use strict";r.d(t,{EU:()=>s,NI:()=>i,iZ:()=>c,kW:()=>d,vf:()=>l,zu:()=>o});var n=r(9172);const o={xs:0,sm:600,md:900,lg:1200,xl:1536},a={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${o[e]}px)`};function i(e,t,r){const n=e.theme||{};if(Array.isArray(t)){const e=n.breakpoints||a;return t.reduce(((n,o,a)=>(n[e.up(e.keys[a])]=r(t[a]),n)),{})}if("object"===typeof t){const e=n.breakpoints||a;return Object.keys(t).reduce(((n,a)=>{if(-1!==Object.keys(e.values||o).indexOf(a)){n[e.up(a)]=r(t[a],a)}else{const e=a;n[e]=t[e]}return n}),{})}return r(t)}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return(null==(t=e.keys)?void 0:t.reduce(((t,r)=>(t[e.up(r)]={},t)),{}))||{}}function l(e,t){return e.reduce(((e,t)=>{const r=e[t];return(!r||0===Object.keys(r).length)&&delete e[t],e}),t)}function c(e){const t=s(e);for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];const i=[t,...o].reduce(((e,t)=>(0,n.A)(e,t)),{});return l(Object.keys(t),i)}function d(e){let{values:t,breakpoints:r,base:n}=e;const o=n||function(e,t){if("object"!==typeof e)return{};const r={},n=Object.keys(t);return Array.isArray(e)?n.forEach(((t,n)=>{n<e.length&&(r[t]=!0)})):n.forEach((t=>{null!=e[t]&&(r[t]=!0)})),r}(t,r),a=Object.keys(o);if(0===a.length)return t;let i;return a.reduce(((e,r,n)=>(Array.isArray(t)?(e[r]=null!=t[n]?t[n]:t[i],i=n):"object"===typeof t?(e[r]=null!=t[r]?t[r]:t[i],i=r):e[r]=t,e)),{})}},9792:(e,t,r)=>{"use strict";var n=r(4994);t.A=void 0;var o=n(r(39)),a=r(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l4 4 4-4H6c0-3.86 3.14-7 7-7s7 3.14 7 7-3.14 7-7 7c-1.9 0-3.62-.76-4.88-1.99L6.7 18.42C8.32 20.01 10.55 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m2 8v-1c0-1.1-.9-2-2-2s-2 .9-2 2v1c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1m-1 0h-2v-1c0-.55.45-1 1-1s1 .45 1 1z"}),"LockReset")},9812:(e,t,r)=>{var n=r(6552).Symbol;e.exports=n},9841:(e,t,r)=>{var n=r(6913),o=r(2761);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==n(e)}},9853:(e,t,r)=>{var n=r(6989);e.exports=function(e,t){return n(e,t)}},9889:(e,t,r)=>{var n=r(3950),o=r(6686);e.exports=function(e,t,r){var a=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(r)&&(a="leading"in r?!!r.leading:a,i="trailing"in r?!!r.trailing:i),n(e,t,{leading:a,maxWait:t,trailing:i})}},9935:(e,t,r)=>{var n=r(1340),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():o.call(t,r,1),--this.size,!0)}},9987:(e,t,r)=>{var n=r(9812),o=r(2929),a=r(3211),i=r(3668),s=r(4160),l=r(2074),c=n?n.prototype:void 0,d=c?c.valueOf:void 0;e.exports=function(e,t,r,n,c,u,p){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!u(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var f=1&n;if(h||(h=l),e.size!=t.size&&!f)return!1;var m=p.get(e);if(m)return m==t;n|=2,p.set(e,t);var g=i(h(e),h(t),n,c,u,p);return p.delete(e),g;case"[object Symbol]":if(d)return d.call(e)==d.call(t)}return!1}},9995:(e,t,r)=>{var n=r(9096),o=r(6571),a=r(8673);e.exports=function(e){return function(t,r,i){var s=Object(t);if(!o(t)){var l=n(r,3);t=a(t),r=function(e){return l(s[e],e,s)}}var c=e(t,r,i);return c>-1?s[l?t[c]:c]:void 0}}},9997:(e,t,r)=>{"use strict";var n=r(4994);t.A=void 0;var o=n(r(39)),a=r(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"m3.5 18.49 6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z"}),"ShowChart")}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"===typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"===typeof n.then)return n}var a=Object.create(null);r.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>i[e]=()=>n[e]));return i.default=()=>n,r.d(a,i),a}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e={};r.r(e),r.d(e,{hasBrowserEnv:()=>_l,hasStandardBrowserEnv:()=>Wl,hasStandardBrowserWebWorkerEnv:()=>Vl,navigator:()=>Ul,origin:()=>Gl});var t={};r.r(t),r.d(t,{scaleBand:()=>n$,scaleDiverging:()=>R_,scaleDivergingLog:()=>N_,scaleDivergingPow:()=>z_,scaleDivergingSqrt:()=>L_,scaleDivergingSymlog:()=>$_,scaleIdentity:()=>OL,scaleImplicit:()=>t$,scaleLinear:()=>kL,scaleLog:()=>zL,scaleOrdinal:()=>r$,scalePoint:()=>a$,scalePow:()=>HL,scaleQuantile:()=>oB,scaleQuantize:()=>aB,scaleRadial:()=>KL,scaleSequential:()=>k_,scaleSequentialLog:()=>O_,scaleSequentialPow:()=>I_,scaleSequentialQuantile:()=>M_,scaleSequentialSqrt:()=>D_,scaleSequentialSymlog:()=>P_,scaleSqrt:()=>qL,scaleSymlog:()=>_L,scaleThreshold:()=>iB,scaleTime:()=>S_,scaleUtc:()=>C_,tickFormat:()=>AL});var n,o,a=r(5043),i=r.t(a,2),s=r(4391);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}(o=n||(n={})).Pop="POP",o.Push="PUSH",o.Replace="REPLACE";const c="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function p(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,r,n){return void 0===r&&(r=null),l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:r,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function m(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function g(e,t,r,o){void 0===o&&(o={});let{window:a=document.defaultView,v5Compat:i=!1}=o,s=a.history,u=n.Pop,m=null,g=v();function v(){return(s.state||{idx:null}).idx}function x(){u=n.Pop;let e=v(),t=null==e?null:e-g;g=e,m&&m({action:u,location:y.location,delta:t})}function b(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,r="string"===typeof e?e:f(e);return r=r.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}null==g&&(g=0,s.replaceState(l({},s.state,{idx:g}),""));let y={get action(){return u},get location(){return e(a,s)},listen(e){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(c,x),m=e,()=>{a.removeEventListener(c,x),m=null}},createHref:e=>t(a,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){u=n.Push;let o=h(y.location,e,t);r&&r(o,e),g=v()+1;let l=p(o,g),c=y.createHref(o);try{s.pushState(l,"",c)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;a.location.assign(c)}i&&m&&m({action:u,location:y.location,delta:1})},replace:function(e,t){u=n.Replace;let o=h(y.location,e,t);r&&r(o,e),g=v();let a=p(o,g),l=y.createHref(o);s.replaceState(a,"",l),i&&m&&m({action:u,location:y.location,delta:0})},go:e=>s.go(e)};return y}var v,x;(x=v||(v={})).data="data",x.deferred="deferred",x.redirect="redirect",x.error="error";new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,r){return void 0===r&&(r="/"),y(e,t,r,!1)}function y(e,t,r,n){let o=R(("string"===typeof t?m(t):t).pathname||"/",r);if(null==o)return null;let a=j(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every(((e,r)=>e===t[r]));return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let i=null;for(let s=0;null==i&&s<a.length;++s){let e=T(o);i=D(a[s],e,n)}return i}function j(e,t,r,n){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===n&&(n="");let o=(e,o,a)=>{let i={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};i.relativePath.startsWith("/")&&(d(i.relativePath.startsWith(n),'Absolute route path "'+i.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(n.length));let s=B([n,i.relativePath]),l=r.concat(i);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),j(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:I(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let n of w(e.path))o(e,t,n);else o(e,t)})),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,o=r.endsWith("?"),a=r.replace(/\?$/,"");if(0===n.length)return o?[a,""]:[a];let i=w(n.join("/")),s=[];return s.push(...i.map((e=>""===e?a:[a,e].join("/")))),o&&s.push(...i),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const S=/^:[\w-]+$/,C=3,A=2,E=1,k=10,O=-2,P=e=>"*"===e;function I(e,t){let r=e.split("/"),n=r.length;return r.some(P)&&(n+=O),t&&(n+=A),r.filter((e=>!P(e))).reduce(((e,t)=>e+(S.test(t)?C:""===t?E:k)),n)}function D(e,t,r){void 0===r&&(r=!1);let{routesMeta:n}=e,o={},a="/",i=[];for(let s=0;s<n.length;++s){let e=n[s],l=s===n.length-1,c="/"===a?t:t.slice(a.length)||"/",d=M({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&r&&!n[n.length-1].route.index&&(d=M({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(o,d.params),i.push({params:o,pathname:B([a,d.pathname]),pathnameBase:F(B([a,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(a=B([a,d.pathnameBase]))}return i}function M(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(n.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))");let a=new RegExp(o,t?void 0:"i");return[a,n]}(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let a=o[0],i=a.replace(/(.)\/+$/,"$1"),s=o.slice(1);return{params:n.reduce(((e,t,r)=>{let{paramName:n,isOptional:o}=t;if("*"===n){let e=s[r]||"";i=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[r];return e[n]=o&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:a,pathnameBase:i,pattern:e}}function T(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function N(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function $(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function z(e,t){let r=$(e);return t?r.map(((e,t)=>t===r.length-1?e.pathname:e.pathnameBase)):r.map((e=>e.pathnameBase))}function L(e,t,r,n){let o;void 0===n&&(n=!1),"string"===typeof e?o=m(e):(o=l({},e),d(!o.pathname||!o.pathname.includes("?"),N("?","pathname","search",o)),d(!o.pathname||!o.pathname.includes("#"),N("#","pathname","hash",o)),d(!o.search||!o.search.includes("#"),N("#","search","hash",o)));let a,i=""===e||""===o.pathname,s=i?"/":o.pathname;if(null==s)a=r;else{let e=t.length-1;if(!n&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}a=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:r,search:n="",hash:o=""}="string"===typeof e?m(e):e,a=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)})),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:a,search:_(n),hash:U(o)}}(o,a),u=s&&"/"!==s&&s.endsWith("/"),p=(i||"."===s)&&r.endsWith("/");return c.pathname.endsWith("/")||!u&&!p||(c.pathname+="/"),c}const B=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function W(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const V=["post","put","patch","delete"],G=(new Set(V),["get",...V]);new Set(G),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H.apply(this,arguments)}const q=a.createContext(null);const Y=a.createContext(null);const K=a.createContext(null);const X=a.createContext(null);const Q=a.createContext({outlet:null,matches:[],isDataRoute:!1});const J=a.createContext(null);function Z(){return null!=a.useContext(X)}function ee(){return Z()||d(!1),a.useContext(X).location}function te(e){a.useContext(K).static||a.useLayoutEffect(e)}function re(){let{isDataRoute:e}=a.useContext(Q);return e?function(){let{router:e}=he(ue.UseNavigateStable),t=me(pe.UseNavigateStable),r=a.useRef(!1);return te((()=>{r.current=!0})),a.useCallback((function(n,o){void 0===o&&(o={}),r.current&&("number"===typeof n?e.navigate(n):e.navigate(n,H({fromRouteId:t},o)))}),[e,t])}():function(){Z()||d(!1);let e=a.useContext(q),{basename:t,future:r,navigator:n}=a.useContext(K),{matches:o}=a.useContext(Q),{pathname:i}=ee(),s=JSON.stringify(z(o,r.v7_relativeSplatPath)),l=a.useRef(!1);return te((()=>{l.current=!0})),a.useCallback((function(r,o){if(void 0===o&&(o={}),!l.current)return;if("number"===typeof r)return void n.go(r);let a=L(r,JSON.parse(s),i,"path"===o.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:B([t,a.pathname])),(o.replace?n.replace:n.push)(a,o.state,o)}),[t,n,s,i,e])}()}const ne=a.createContext(null);function oe(e,t){let{relative:r}=void 0===t?{}:t,{future:n}=a.useContext(K),{matches:o}=a.useContext(Q),{pathname:i}=ee(),s=JSON.stringify(z(o,n.v7_relativeSplatPath));return a.useMemo((()=>L(e,JSON.parse(s),i,"path"===r)),[e,s,i,r])}function ae(e,t,r,o){Z()||d(!1);let{navigator:i,static:s}=a.useContext(K),{matches:l}=a.useContext(Q),c=l[l.length-1],u=c?c.params:{},p=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let h,f=ee();if(t){var g;let e="string"===typeof t?m(t):t;"/"===p||(null==(g=e.pathname)?void 0:g.startsWith(p))||d(!1),h=e}else h=f;let v=h.pathname||"/",x=v;if("/"!==p){let e=p.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=!s&&r&&r.matches&&r.matches.length>0?r.matches:b(e,{pathname:x});let j=de(y&&y.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:B([p,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?p:B([p,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,r,o);return t&&j?a.createElement(X.Provider,{value:{location:H({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:n.Pop}},j):j}function ie(){let e=function(){var e;let t=a.useContext(J),r=fe(pe.UseRouteError),n=me(pe.UseRouteError);if(void 0!==t)return t;return null==(e=r.errors)?void 0:e[n]}(),t=W(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:n};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),r?a.createElement("pre",{style:o},r):null,null)}const se=a.createElement(ie,null);class le extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement(Q.Provider,{value:this.props.routeContext},a.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ce(e){let{routeContext:t,match:r,children:n}=e,o=a.useContext(q);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),a.createElement(Q.Provider,{value:t},n)}function de(e,t,r,n){var o;if(void 0===t&&(t=[]),void 0===r&&(r=null),void 0===n&&(n=null),null==e){var i;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(i=n)&&i.v7_partialHydration&&0===t.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let s=e,l=null==(o=r)?void 0:o.errors;if(null!=l){let e=s.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||d(!1),s=s.slice(0,Math.min(s.length,e+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let a=0;a<s.length;a++){let e=s[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=a),e.route.id){let{loaderData:t,errors:n}=r,o=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||o){c=!0,s=u>=0?s.slice(0,u+1):[s[0]];break}}}return s.reduceRight(((e,n,o)=>{let i,d=!1,p=null,h=null;var f;r&&(i=l&&n.route.id?l[n.route.id]:void 0,p=n.route.errorElement||se,c&&(u<0&&0===o?(f="route-fallback",!1||ge[f]||(ge[f]=!0),d=!0,h=null):u===o&&(d=!0,h=n.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,o+1)),g=()=>{let t;return t=i?p:d?h:n.route.Component?a.createElement(n.route.Component,null):n.route.element?n.route.element:e,a.createElement(ce,{match:n,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:t})};return r&&(n.route.ErrorBoundary||n.route.errorElement||0===o)?a.createElement(le,{location:r.location,revalidation:r.revalidation,component:p,error:i,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),pe=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(pe||{});function he(e){let t=a.useContext(q);return t||d(!1),t}function fe(e){let t=a.useContext(Y);return t||d(!1),t}function me(e){let t=function(){let e=a.useContext(Q);return e||d(!1),e}(),r=t.matches[t.matches.length-1];return r.route.id||d(!1),r.route.id}const ge={};function ve(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}i.startTransition;function xe(e){let{to:t,replace:r,state:n,relative:o}=e;Z()||d(!1);let{future:i,static:s}=a.useContext(K),{matches:l}=a.useContext(Q),{pathname:c}=ee(),u=re(),p=L(t,z(l,i.v7_relativeSplatPath),c,"path"===o),h=JSON.stringify(p);return a.useEffect((()=>u(JSON.parse(h),{replace:r,state:n,relative:o})),[u,h,o,r,n]),null}function be(e){return function(e){let t=a.useContext(Q).outlet;return t?a.createElement(ne.Provider,{value:e},t):t}(e.context)}function ye(e){d(!1)}function je(e){let{basename:t="/",children:r=null,location:o,navigationType:i=n.Pop,navigator:s,static:l=!1,future:c}=e;Z()&&d(!1);let u=t.replace(/^\/*/,"/"),p=a.useMemo((()=>({basename:u,navigator:s,static:l,future:H({v7_relativeSplatPath:!1},c)})),[u,c,s,l]);"string"===typeof o&&(o=m(o));let{pathname:h="/",search:f="",hash:g="",state:v=null,key:x="default"}=o,b=a.useMemo((()=>{let e=R(h,u);return null==e?null:{location:{pathname:e,search:f,hash:g,state:v,key:x},navigationType:i}}),[u,h,f,g,v,x,i]);return null==b?null:a.createElement(K.Provider,{value:p},a.createElement(X.Provider,{children:r,value:b}))}function we(e){let{children:t,location:r}=e;return ae(Se(t),r)}new Promise((()=>{}));a.Component;function Se(e,t){void 0===t&&(t=[]);let r=[];return a.Children.forEach(e,((e,n)=>{if(!a.isValidElement(e))return;let o=[...t,n];if(e.type===a.Fragment)return void r.push.apply(r,Se(e.props.children,o));e.type!==ye&&d(!1),e.props.index&&e.props.children&&d(!1);let i={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=Se(e.props.children,o)),r.push(i)})),r}var Ce=r(7950),Ae=r.t(Ce,2);function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ee.apply(this,arguments)}function ke(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Oe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(a0){}new Map;const Pe=i.startTransition;Ae.flushSync,i.useId;function Ie(e){let{basename:t,children:r,future:n,window:o}=e,i=a.useRef();var s;null==i.current&&(i.current=(void 0===(s={window:o,v5Compat:!0})&&(s={}),g((function(e,t){let{pathname:r,search:n,hash:o}=e.location;return h("",{pathname:r,search:n,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:f(t)}),null,s)));let l=i.current,[c,d]=a.useState({action:l.action,location:l.location}),{v7_startTransition:u}=n||{},p=a.useCallback((e=>{u&&Pe?Pe((()=>d(e))):d(e)}),[d,u]);return a.useLayoutEffect((()=>l.listen(p)),[l,p]),a.useEffect((()=>ve(n)),[n]),a.createElement(je,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:l,future:n})}const De="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Me=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=a.forwardRef((function(e,t){let r,{onClick:n,relative:o,reloadDocument:i,replace:s,state:l,target:c,to:u,preventScrollReset:p,viewTransition:h}=e,m=ke(e,Oe),{basename:g}=a.useContext(K),v=!1;if("string"===typeof u&&Me.test(u)&&(r=u,De))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),r=R(t.pathname,g);t.origin===e.origin&&null!=r?u=r+t.search+t.hash:v=!0}catch(a0){}let x=function(e,t){let{relative:r}=void 0===t?{}:t;Z()||d(!1);let{basename:n,navigator:o}=a.useContext(K),{hash:i,pathname:s,search:l}=oe(e,{relative:r}),c=s;return"/"!==n&&(c="/"===s?n:B([n,s])),o.createHref({pathname:c,search:l,hash:i})}(u,{relative:o}),b=function(e,t){let{target:r,replace:n,state:o,preventScrollReset:i,relative:s,viewTransition:l}=void 0===t?{}:t,c=re(),d=ee(),u=oe(e,{relative:s});return a.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let r=void 0!==n?n:f(d)===f(u);c(e,{replace:r,state:o,preventScrollReset:i,relative:s,viewTransition:l})}}),[d,c,u,n,o,r,e,i,s,l])}(u,{replace:s,state:l,target:c,preventScrollReset:p,relative:o,viewTransition:h});return a.createElement("a",Ee({},m,{href:r||x,onClick:v||i?n:function(e){n&&n(e),e.defaultPrevented||b(e)},ref:t,target:c}))}));var Re,Ne,$e,ze;(Ne=Re||(Re={})).UseScrollRestoration="useScrollRestoration",Ne.UseSubmit="useSubmit",Ne.UseSubmitFetcher="useSubmitFetcher",Ne.UseFetcher="useFetcher",Ne.useViewTransitionState="useViewTransitionState",(ze=$e||($e={})).UseFetcher="useFetcher",ze.UseFetchers="useFetchers",ze.UseScrollRestoration="useScrollRestoration";var Le=r(7344),Be=r(8168),Fe=r(8587);const _e=a.createContext(null);function Ue(){return a.useContext(_e)}const We="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";var Ve=r(579);const Ge=function(e){const{children:t,theme:r}=e,n=Ue(),o=a.useMemo((()=>{const e=null===n?r:function(e,t){if("function"===typeof t)return t(e);return(0,Be.A)({},e,t)}(n,r);return null!=e&&(e[We]=null!==n),e}),[r,n]);return(0,Ve.jsx)(_e.Provider,{value:o,children:t})};var He=r(9369);const qe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=a.useContext(He.T);return t&&(r=t,0!==Object.keys(r).length)?t:e;var r},Ye=["value"],Ke=a.createContext();const Xe=()=>{const e=a.useContext(Ke);return null!=e&&e},Qe=function(e){let{value:t}=e,r=(0,Fe.A)(e,Ye);return(0,Ve.jsx)(Ke.Provider,(0,Be.A)({value:null==t||t},r))};var Je=r(3654);const Ze={};function et(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return a.useMemo((()=>{const o=e&&t[e]||t;if("function"===typeof r){const a=r(o),i=e?(0,Be.A)({},t,{[e]:a}):a;return n?()=>i:i}return e?(0,Be.A)({},t,{[e]:r}):(0,Be.A)({},t,r)}),[e,t,r,n])}const tt=function(e){const{children:t,theme:r,themeId:n}=e,o=qe(Ze),a=Ue()||Ze,i=et(n,o,r),s=et(n,a,r,!0),l="rtl"===i.direction;return(0,Ve.jsx)(Ge,{theme:s,children:(0,Ve.jsx)(He.T.Provider,{value:i,children:(0,Ve.jsx)(Qe,{value:l,children:(0,Ve.jsx)(Je.A,{value:null==i?void 0:i.components,children:t})})})})};var rt=r(3375);const nt=["theme"];function ot(e){let{theme:t}=e,r=(0,Fe.A)(e,nt);const n=t[rt.A];let o=n||t;return"function"!==typeof t&&(n&&!n.vars?o=(0,Be.A)({},n,{vars:null}):t&&!t.vars&&(o=(0,Be.A)({},t,{vars:null}))),(0,Ve.jsx)(tt,(0,Be.A)({},r,{themeId:n?rt.A:void 0,theme:o}))}var at=r(8206),it=r(869),st=r(8280);const lt=(0,st.A)();const ct=function(){return qe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt)};const dt=function(e){let{styles:t,themeId:r,defaultTheme:n={}}=e;const o=ct(n),a="function"===typeof t?t(r&&o[r]||o):t;return(0,Ve.jsx)(it.A,{styles:a})};var ut=r(5170);const pt=function(e){return(0,Ve.jsx)(dt,(0,Be.A)({},e,{defaultTheme:ut.A,themeId:rt.A}))},ht=(e,t)=>(0,Be.A)({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),ft=e=>(0,Be.A)({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}});const mt=function(e){const t=(0,at.b)({props:e,name:"MuiCssBaseline"}),{children:r,enableColorScheme:n=!1}=t;return(0,Ve.jsxs)(a.Fragment,{children:[(0,Ve.jsx)(pt,{styles:e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var r;const n={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach((t=>{let[r,o]=t;var a;n[e.getColorSchemeSelector(r).replace(/\s*&/,"")]={colorScheme:null==(a=o.palette)?void 0:a.mode}}));let o=(0,Be.A)({html:ht(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:(0,Be.A)({margin:0},ft(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},n);const a=null==(r=e.components)||null==(r=r.MuiCssBaseline)?void 0:r.styleOverrides;return a&&(o=[o,a]),o}(e,n)}),r]})};function gt(){const e=ct(ut.A);return e[rt.A]||e}var vt=r(8387),xt=r(3174),bt=r(8812),yt=r(8698);const jt=["className","component"];var wt=r(9386),St=r(2532);const Ct=(0,St.A)("MuiBox",["root"]),At=(0,Le.A)(),Et=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:r,defaultClassName:n="MuiBox-root",generateClassName:o}=e,i=(0,xt.default)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(bt.A);return a.forwardRef((function(e,a){const s=ct(r),l=(0,yt.A)(e),{className:c,component:d="div"}=l,u=(0,Fe.A)(l,jt);return(0,Ve.jsx)(i,(0,Be.A)({as:d,ref:a,className:(0,vt.A)(c,o?o(n):n),theme:t&&s[t]||s},u))}))}({themeId:rt.A,defaultTheme:At,defaultClassName:Ct.root,generateClassName:wt.A.generate});var kt=r(8610),Ot=r(4535),Pt=r(6803),It=r(7266);const Dt=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)};var Mt=r(2372);function Tt(e){return(0,Mt.Ay)("MuiPaper",e)}(0,St.A)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Rt=["className","component","elevation","square","variant"],Nt=(0,Ot.Ay)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],!r.square&&t.rounded,"elevation"===r.variant&&t[`elevation${r.elevation}`]]}})((e=>{let{theme:t,ownerState:r}=e;var n;return(0,Be.A)({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!r.square&&{borderRadius:t.shape.borderRadius},"outlined"===r.variant&&{border:`1px solid ${(t.vars||t).palette.divider}`},"elevation"===r.variant&&(0,Be.A)({boxShadow:(t.vars||t).shadows[r.elevation]},!t.vars&&"dark"===t.palette.mode&&{backgroundImage:`linear-gradient(${(0,It.X4)("#fff",Dt(r.elevation))}, ${(0,It.X4)("#fff",Dt(r.elevation))})`},t.vars&&{backgroundImage:null==(n=t.vars.overlays)?void 0:n[r.elevation]}))})),$t=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiPaper"}),{className:n,component:o="div",elevation:a=1,square:i=!1,variant:s="elevation"}=r,l=(0,Fe.A)(r,Rt),c=(0,Be.A)({},r,{component:o,elevation:a,square:i,variant:s}),d=(e=>{const{square:t,elevation:r,variant:n,classes:o}=e,a={root:["root",n,!t&&"rounded","elevation"===n&&`elevation${r}`]};return(0,kt.A)(a,Tt,o)})(c);return(0,Ve.jsx)(Nt,(0,Be.A)({as:o,ownerState:c,className:(0,vt.A)(d.root,n),ref:t},l))}));function zt(e){return(0,Mt.Ay)("MuiAppBar",e)}(0,St.A)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const Lt=["className","color","enableColorOnDark","position"],Bt=(e,t)=>e?`${null==e?void 0:e.replace(")","")}, ${t})`:t,Ft=(0,Ot.Ay)($t,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`position${(0,Pt.A)(r.position)}`],t[`color${(0,Pt.A)(r.color)}`]]}})((e=>{let{theme:t,ownerState:r}=e;const n="light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[900];return(0,Be.A)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===r.position&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===r.position&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"sticky"===r.position&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"static"===r.position&&{position:"static"},"relative"===r.position&&{position:"relative"},!t.vars&&(0,Be.A)({},"default"===r.color&&{backgroundColor:n,color:t.palette.getContrastText(n)},r.color&&"default"!==r.color&&"inherit"!==r.color&&"transparent"!==r.color&&{backgroundColor:t.palette[r.color].main,color:t.palette[r.color].contrastText},"inherit"===r.color&&{color:"inherit"},"dark"===t.palette.mode&&!r.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===r.color&&(0,Be.A)({backgroundColor:"transparent",color:"inherit"},"dark"===t.palette.mode&&{backgroundImage:"none"})),t.vars&&(0,Be.A)({},"default"===r.color&&{"--AppBar-background":r.enableColorOnDark?t.vars.palette.AppBar.defaultBg:Bt(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":r.enableColorOnDark?t.vars.palette.text.primary:Bt(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},r.color&&!r.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":r.enableColorOnDark?t.vars.palette[r.color].main:Bt(t.vars.palette.AppBar.darkBg,t.vars.palette[r.color].main),"--AppBar-color":r.enableColorOnDark?t.vars.palette[r.color].contrastText:Bt(t.vars.palette.AppBar.darkColor,t.vars.palette[r.color].contrastText)},!["inherit","transparent"].includes(r.color)&&{backgroundColor:"var(--AppBar-background)"},{color:"inherit"===r.color?"inherit":"var(--AppBar-color)"},"transparent"===r.color&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))})),_t=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiAppBar"}),{className:n,color:o="primary",enableColorOnDark:a=!1,position:i="fixed"}=r,s=(0,Fe.A)(r,Lt),l=(0,Be.A)({},r,{color:o,position:i,enableColorOnDark:a}),c=(e=>{const{color:t,position:r,classes:n}=e,o={root:["root",`color${(0,Pt.A)(t)}`,`position${(0,Pt.A)(r)}`]};return(0,kt.A)(o,zt,n)})(l);return(0,Ve.jsx)(Ft,(0,Be.A)({square:!0,component:"header",ownerState:l,elevation:4,className:(0,vt.A)(c.root,n,"fixed"===i&&"mui-fixed"),ref:t},s))}));function Ut(e){return(0,Mt.Ay)("MuiToolbar",e)}(0,St.A)("MuiToolbar",["root","gutters","regular","dense"]);const Wt=["className","component","disableGutters","variant"],Vt=(0,Ot.Ay)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disableGutters&&t.gutters,t[r.variant]]}})((e=>{let{theme:t,ownerState:r}=e;return(0,Be.A)({position:"relative",display:"flex",alignItems:"center"},!r.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},"dense"===r.variant&&{minHeight:48})}),(e=>{let{theme:t,ownerState:r}=e;return"regular"===r.variant&&t.mixins.toolbar})),Gt=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiToolbar"}),{className:n,component:o="div",disableGutters:a=!1,variant:i="regular"}=r,s=(0,Fe.A)(r,Wt),l=(0,Be.A)({},r,{component:o,disableGutters:a,variant:i}),c=(e=>{const{classes:t,disableGutters:r,variant:n}=e,o={root:["root",!r&&"gutters",n]};return(0,kt.A)(o,Ut,t)})(l);return(0,Ve.jsx)(Vt,(0,Be.A)({as:o,className:(0,vt.A)(c.root,n),ref:t,ownerState:l},s))}));var Ht=r(5849),qt=r(3319),Yt=r(3574);function Kt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xt(e,t){return Xt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xt(e,t)}function Qt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Xt(e,t)}const Jt=a.createContext(null);function Zt(e,t){var r=Object.create(null);return e&&a.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return t&&(0,a.isValidElement)(e)?t(e):e}(e)})),r}function er(e,t,r){return null!=r[t]?r[t]:e.props[t]}function tr(e,t,r){var n=Zt(e.children),o=function(e,t){function r(r){return r in t?t[r]:e[r]}e=e||{},t=t||{};var n,o=Object.create(null),a=[];for(var i in e)i in t?a.length&&(o[i]=a,a=[]):a.push(i);var s={};for(var l in t){if(o[l])for(n=0;n<o[l].length;n++){var c=o[l][n];s[o[l][n]]=r(c)}s[l]=r(l)}for(n=0;n<a.length;n++)s[a[n]]=r(a[n]);return s}(t,n);return Object.keys(o).forEach((function(i){var s=o[i];if((0,a.isValidElement)(s)){var l=i in t,c=i in n,d=t[i],u=(0,a.isValidElement)(d)&&!d.props.in;!c||l&&!u?c||!l||u?c&&l&&(0,a.isValidElement)(d)&&(o[i]=(0,a.cloneElement)(s,{onExited:r.bind(null,s),in:d.props.in,exit:er(s,"exit",e),enter:er(s,"enter",e)})):o[i]=(0,a.cloneElement)(s,{in:!1}):o[i]=(0,a.cloneElement)(s,{onExited:r.bind(null,s),in:!0,exit:er(s,"exit",e),enter:er(s,"enter",e)})}})),o}var rr=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},nr=function(e){function t(t,r){var n,o=(n=e.call(this,t,r)||this).handleExited.bind(Kt(n));return n.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},n}Qt(t,e);var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var r,n,o=t.children,i=t.handleExited;return{children:t.firstRender?(r=e,n=i,Zt(r.children,(function(e){return(0,a.cloneElement)(e,{onExited:n.bind(null,e),in:!0,appear:er(e,"appear",r),enter:er(e,"enter",r),exit:er(e,"exit",r)})}))):tr(e,o,i),firstRender:!1}},r.handleExited=function(e,t){var r=Zt(this.props.children);e.key in r||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var r=(0,Be.A)({},t.children);return delete r[e.key],{children:r}})))},r.render=function(){var e=this.props,t=e.component,r=e.childFactory,n=(0,Fe.A)(e,["component","childFactory"]),o=this.state.contextValue,i=rr(this.state.children).map(r);return delete n.appear,delete n.enter,delete n.exit,null===t?a.createElement(Jt.Provider,{value:o},i):a.createElement(Jt.Provider,{value:o},a.createElement(t,n,i))},t}(a.Component);nr.propTypes={},nr.defaultProps={component:"div",childFactory:function(e){return e}};const or=nr;var ar=r(3290),ir=r(9303);const sr=function(e){const{className:t,classes:r,pulsate:n=!1,rippleX:o,rippleY:i,rippleSize:s,in:l,onExited:c,timeout:d}=e,[u,p]=a.useState(!1),h=(0,vt.A)(t,r.ripple,r.rippleVisible,n&&r.ripplePulsate),f={width:s,height:s,top:-s/2+i,left:-s/2+o},m=(0,vt.A)(r.child,u&&r.childLeaving,n&&r.childPulsate);return l||u||p(!0),a.useEffect((()=>{if(!l&&null!=c){const e=setTimeout(c,d);return()=>{clearTimeout(e)}}}),[c,l,d]),(0,Ve.jsx)("span",{className:h,style:f,children:(0,Ve.jsx)("span",{className:m})})};const lr=(0,St.A)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),cr=["center","classes","className"];let dr,ur,pr,hr,fr=e=>e;const mr=(0,ar.i7)(dr||(dr=fr`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),gr=(0,ar.i7)(ur||(ur=fr`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),vr=(0,ar.i7)(pr||(pr=fr`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),xr=(0,Ot.Ay)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),br=(0,Ot.Ay)(sr,{name:"MuiTouchRipple",slot:"Ripple"})(hr||(hr=fr`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),lr.rippleVisible,mr,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),lr.ripplePulsate,(e=>{let{theme:t}=e;return t.transitions.duration.shorter}),lr.child,lr.childLeaving,gr,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),lr.childPulsate,vr,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut})),yr=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiTouchRipple"}),{center:n=!1,classes:o={},className:i}=r,s=(0,Fe.A)(r,cr),[l,c]=a.useState([]),d=a.useRef(0),u=a.useRef(null);a.useEffect((()=>{u.current&&(u.current(),u.current=null)}),[l]);const p=a.useRef(!1),h=(0,ir.A)(),f=a.useRef(null),m=a.useRef(null),g=a.useCallback((e=>{const{pulsate:t,rippleX:r,rippleY:n,rippleSize:a,cb:i}=e;c((e=>[...e,(0,Ve.jsx)(br,{classes:{ripple:(0,vt.A)(o.ripple,lr.ripple),rippleVisible:(0,vt.A)(o.rippleVisible,lr.rippleVisible),ripplePulsate:(0,vt.A)(o.ripplePulsate,lr.ripplePulsate),child:(0,vt.A)(o.child,lr.child),childLeaving:(0,vt.A)(o.childLeaving,lr.childLeaving),childPulsate:(0,vt.A)(o.childPulsate,lr.childPulsate)},timeout:550,pulsate:t,rippleX:r,rippleY:n,rippleSize:a},d.current)])),d.current+=1,u.current=i}),[o]),v=a.useCallback((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:o=!1,center:a=n||t.pulsate,fakeElement:i=!1}=t;if("mousedown"===(null==e?void 0:e.type)&&p.current)return void(p.current=!1);"touchstart"===(null==e?void 0:e.type)&&(p.current=!0);const s=i?null:m.current,l=s?s.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,d,u;if(a||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(l.width/2),d=Math.round(l.height/2);else{const{clientX:t,clientY:r}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-l.left),d=Math.round(r-l.top)}if(a)u=Math.sqrt((2*l.width**2+l.height**2)/3),u%2===0&&(u+=1);else{const e=2*Math.max(Math.abs((s?s.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((s?s.clientHeight:0)-d),d)+2;u=Math.sqrt(e**2+t**2)}null!=e&&e.touches?null===f.current&&(f.current=()=>{g({pulsate:o,rippleX:c,rippleY:d,rippleSize:u,cb:r})},h.start(80,(()=>{f.current&&(f.current(),f.current=null)}))):g({pulsate:o,rippleX:c,rippleY:d,rippleSize:u,cb:r})}),[n,g,h]),x=a.useCallback((()=>{v({},{pulsate:!0})}),[v]),b=a.useCallback(((e,t)=>{if(h.clear(),"touchend"===(null==e?void 0:e.type)&&f.current)return f.current(),f.current=null,void h.start(0,(()=>{b(e,t)}));f.current=null,c((e=>e.length>0?e.slice(1):e)),u.current=t}),[h]);return a.useImperativeHandle(t,(()=>({pulsate:x,start:v,stop:b})),[x,v,b]),(0,Ve.jsx)(xr,(0,Be.A)({className:(0,vt.A)(lr.root,o.root,i),ref:m},s,{children:(0,Ve.jsx)(or,{component:null,exit:!0,children:l})}))}));function jr(e){return(0,Mt.Ay)("MuiButtonBase",e)}const wr=(0,St.A)("MuiButtonBase",["root","disabled","focusVisible"]),Sr=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Cr=(0,Ot.Ay)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${wr.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Ar=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiButtonBase"}),{action:n,centerRipple:o=!1,children:i,className:s,component:l="button",disabled:c=!1,disableRipple:d=!1,disableTouchRipple:u=!1,focusRipple:p=!1,LinkComponent:h="a",onBlur:f,onClick:m,onContextMenu:g,onDragLeave:v,onFocus:x,onFocusVisible:b,onKeyDown:y,onKeyUp:j,onMouseDown:w,onMouseLeave:S,onMouseUp:C,onTouchEnd:A,onTouchMove:E,onTouchStart:k,tabIndex:O=0,TouchRippleProps:P,touchRippleRef:I,type:D}=r,M=(0,Fe.A)(r,Sr),T=a.useRef(null),R=a.useRef(null),N=(0,Ht.A)(R,I),{isFocusVisibleRef:$,onFocus:z,onBlur:L,ref:B}=(0,Yt.A)(),[F,_]=a.useState(!1);c&&F&&_(!1),a.useImperativeHandle(n,(()=>({focusVisible:()=>{_(!0),T.current.focus()}})),[]);const[U,W]=a.useState(!1);a.useEffect((()=>{W(!0)}),[]);const V=U&&!d&&!c;function G(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u;return(0,qt.A)((n=>{t&&t(n);return!r&&R.current&&R.current[e](n),!0}))}a.useEffect((()=>{F&&p&&!d&&U&&R.current.pulsate()}),[d,p,F,U]);const H=G("start",w),q=G("stop",g),Y=G("stop",v),K=G("stop",C),X=G("stop",(e=>{F&&e.preventDefault(),S&&S(e)})),Q=G("start",k),J=G("stop",A),Z=G("stop",E),ee=G("stop",(e=>{L(e),!1===$.current&&_(!1),f&&f(e)}),!1),te=(0,qt.A)((e=>{T.current||(T.current=e.currentTarget),z(e),!0===$.current&&(_(!0),b&&b(e)),x&&x(e)})),re=()=>{const e=T.current;return l&&"button"!==l&&!("A"===e.tagName&&e.href)},ne=a.useRef(!1),oe=(0,qt.A)((e=>{p&&!ne.current&&F&&R.current&&" "===e.key&&(ne.current=!0,R.current.stop(e,(()=>{R.current.start(e)}))),e.target===e.currentTarget&&re()&&" "===e.key&&e.preventDefault(),y&&y(e),e.target===e.currentTarget&&re()&&"Enter"===e.key&&!c&&(e.preventDefault(),m&&m(e))})),ae=(0,qt.A)((e=>{p&&" "===e.key&&R.current&&F&&!e.defaultPrevented&&(ne.current=!1,R.current.stop(e,(()=>{R.current.pulsate(e)}))),j&&j(e),m&&e.target===e.currentTarget&&re()&&" "===e.key&&!e.defaultPrevented&&m(e)}));let ie=l;"button"===ie&&(M.href||M.to)&&(ie=h);const se={};"button"===ie?(se.type=void 0===D?"button":D,se.disabled=c):(M.href||M.to||(se.role="button"),c&&(se["aria-disabled"]=c));const le=(0,Ht.A)(t,B,T);const ce=(0,Be.A)({},r,{centerRipple:o,component:l,disabled:c,disableRipple:d,disableTouchRipple:u,focusRipple:p,tabIndex:O,focusVisible:F}),de=(e=>{const{disabled:t,focusVisible:r,focusVisibleClassName:n,classes:o}=e,a={root:["root",t&&"disabled",r&&"focusVisible"]},i=(0,kt.A)(a,jr,o);return r&&n&&(i.root+=` ${n}`),i})(ce);return(0,Ve.jsxs)(Cr,(0,Be.A)({as:ie,className:(0,vt.A)(de.root,s),ownerState:ce,onBlur:ee,onClick:m,onContextMenu:q,onFocus:te,onKeyDown:oe,onKeyUp:ae,onMouseDown:H,onMouseLeave:X,onMouseUp:K,onDragLeave:Y,onTouchEnd:J,onTouchMove:Z,onTouchStart:Q,ref:le,tabIndex:c?-1:O,type:D},se,M,{children:[i,V?(0,Ve.jsx)(yr,(0,Be.A)({ref:N,center:o},P)):null]}))}));function Er(e){return(0,Mt.Ay)("MuiIconButton",e)}const kr=(0,St.A)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Or=["edge","children","className","color","disabled","disableFocusRipple","size"],Pr=(0,Ot.Ay)(Ar,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,"default"!==r.color&&t[`color${(0,Pt.A)(r.color)}`],r.edge&&t[`edge${(0,Pt.A)(r.edge)}`],t[`size${(0,Pt.A)(r.size)}`]]}})((e=>{let{theme:t,ownerState:r}=e;return(0,Be.A)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!r.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,It.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===r.edge&&{marginLeft:"small"===r.size?-3:-12},"end"===r.edge&&{marginRight:"small"===r.size?-3:-12})}),(e=>{let{theme:t,ownerState:r}=e;var n;const o=null==(n=(t.vars||t).palette)?void 0:n[r.color];return(0,Be.A)({},"inherit"===r.color&&{color:"inherit"},"inherit"!==r.color&&"default"!==r.color&&(0,Be.A)({color:null==o?void 0:o.main},!r.disableRipple&&{"&:hover":(0,Be.A)({},o&&{backgroundColor:t.vars?`rgba(${o.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,It.X4)(o.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===r.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===r.size&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${kr.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})})),Ir=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiIconButton"}),{edge:n=!1,children:o,className:a,color:i="default",disabled:s=!1,disableFocusRipple:l=!1,size:c="medium"}=r,d=(0,Fe.A)(r,Or),u=(0,Be.A)({},r,{edge:n,color:i,disabled:s,disableFocusRipple:l,size:c}),p=(e=>{const{classes:t,disabled:r,color:n,edge:o,size:a}=e,i={root:["root",r&&"disabled","default"!==n&&`color${(0,Pt.A)(n)}`,o&&`edge${(0,Pt.A)(o)}`,`size${(0,Pt.A)(a)}`]};return(0,kt.A)(i,Er,t)})(u);return(0,Ve.jsx)(Pr,(0,Be.A)({className:(0,vt.A)(p.root,a),centerRipple:!0,focusRipple:!l,disabled:s,ref:t},d,{ownerState:u,children:o}))}));function Dr(e){return(0,Mt.Ay)("MuiTypography",e)}(0,St.A)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Mr=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Tr=(0,Ot.Ay)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],"inherit"!==r.align&&t[`align${(0,Pt.A)(r.align)}`],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})((e=>{let{theme:t,ownerState:r}=e;return(0,Be.A)({margin:0},"inherit"===r.variant&&{font:"inherit"},"inherit"!==r.variant&&t.typography[r.variant],"inherit"!==r.align&&{textAlign:r.align},r.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r.gutterBottom&&{marginBottom:"0.35em"},r.paragraph&&{marginBottom:16})})),Rr={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Nr={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},$r=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiTypography"}),n=(e=>Nr[e]||e)(r.color),o=(0,yt.A)((0,Be.A)({},r,{color:n})),{align:a="inherit",className:i,component:s,gutterBottom:l=!1,noWrap:c=!1,paragraph:d=!1,variant:u="body1",variantMapping:p=Rr}=o,h=(0,Fe.A)(o,Mr),f=(0,Be.A)({},o,{align:a,color:n,className:i,component:s,gutterBottom:l,noWrap:c,paragraph:d,variant:u,variantMapping:p}),m=s||(d?"p":p[u]||Rr[u])||"span",g=(e=>{const{align:t,gutterBottom:r,noWrap:n,paragraph:o,variant:a,classes:i}=e,s={root:["root",a,"inherit"!==e.align&&`align${(0,Pt.A)(t)}`,r&&"gutterBottom",n&&"noWrap",o&&"paragraph"]};return(0,kt.A)(s,Dr,i)})(f);return(0,Ve.jsx)(Tr,(0,Be.A)({as:m,ref:t,ownerState:f,className:(0,vt.A)(g.root,i)},h))}));const zr=function(e){return"string"===typeof e};const Lr=function(e,t,r){return void 0===e||zr(e)?t:(0,Be.A)({},t,{ownerState:(0,Be.A)({},t.ownerState,r)})};function Br(e){var t;return parseInt(a.version,10)>=19?(null==e||null==(t=e.props)?void 0:t.ref)||null:(null==e?void 0:e.ref)||null}const Fr=!1;var _r=function(e){return e.scrollTop},Ur="unmounted",Wr="exited",Vr="entering",Gr="entered",Hr="exiting",qr=function(e){function t(t,r){var n;n=e.call(this,t,r)||this;var o,a=r&&!r.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?a?(o=Wr,n.appearStatus=Vr):o=Gr:o=t.unmountOnExit||t.mountOnEnter?Ur:Wr,n.state={status:o},n.nextCallback=null,n}Qt(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Ur?{status:Wr}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var r=this.state.status;this.props.in?r!==Vr&&r!==Gr&&(t=Vr):r!==Vr&&r!==Gr||(t=Hr)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,r,n=this.props.timeout;return e=t=r=n,null!=n&&"number"!==typeof n&&(e=n.exit,t=n.enter,r=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:r}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Vr){if(this.props.unmountOnExit||this.props.mountOnEnter){var r=this.props.nodeRef?this.props.nodeRef.current:Ce.findDOMNode(this);r&&_r(r)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Wr&&this.setState({status:Ur})},r.performEnter=function(e){var t=this,r=this.props.enter,n=this.context?this.context.isMounting:e,o=this.props.nodeRef?[n]:[Ce.findDOMNode(this),n],a=o[0],i=o[1],s=this.getTimeouts(),l=n?s.appear:s.enter;!e&&!r||Fr?this.safeSetState({status:Gr},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,i),this.safeSetState({status:Vr},(function(){t.props.onEntering(a,i),t.onTransitionEnd(l,(function(){t.safeSetState({status:Gr},(function(){t.props.onEntered(a,i)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,r=this.getTimeouts(),n=this.props.nodeRef?void 0:Ce.findDOMNode(this);t&&!Fr?(this.props.onExit(n),this.safeSetState({status:Hr},(function(){e.props.onExiting(n),e.onTransitionEnd(r.exit,(function(){e.safeSetState({status:Wr},(function(){e.props.onExited(n)}))}))}))):this.safeSetState({status:Wr},(function(){e.props.onExited(n)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,r=!0;return this.nextCallback=function(n){r&&(r=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var r=this.props.nodeRef?this.props.nodeRef.current:Ce.findDOMNode(this),n=null==e&&!this.props.addEndListener;if(r&&!n){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],a=o[0],i=o[1];this.props.addEndListener(a,i)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===Ur)return null;var t=this.props,r=t.children,n=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,Fe.A)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return a.createElement(Jt.Provider,{value:null},"function"===typeof r?r(e,n):a.cloneElement(a.Children.only(r),n))},t}(a.Component);function Yr(){}qr.contextType=Jt,qr.propTypes={},qr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Yr,onEntering:Yr,onEntered:Yr,onExit:Yr,onExiting:Yr,onExited:Yr},qr.UNMOUNTED=Ur,qr.EXITED=Wr,qr.ENTERING=Vr,qr.ENTERED=Gr,qr.EXITING=Hr;const Kr=qr,Xr=e=>e.scrollTop;function Qr(e,t){var r,n;const{timeout:o,easing:a,style:i={}}=e;return{duration:null!=(r=i.transitionDuration)?r:"number"===typeof o?o:o[t.mode]||0,easing:null!=(n=i.transitionTimingFunction)?n:"object"===typeof a?a[t.mode]:a,delay:i.transitionDelay}}const Jr=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Zr(e){return`scale(${e}, ${e**2})`}const en={entering:{opacity:1,transform:Zr(1)},entered:{opacity:1,transform:"none"}},tn="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),rn=a.forwardRef((function(e,t){const{addEndListener:r,appear:n=!0,children:o,easing:i,in:s,onEnter:l,onEntered:c,onEntering:d,onExit:u,onExited:p,onExiting:h,style:f,timeout:m="auto",TransitionComponent:g=Kr}=e,v=(0,Fe.A)(e,Jr),x=(0,ir.A)(),b=a.useRef(),y=gt(),j=a.useRef(null),w=(0,Ht.A)(j,Br(o),t),S=e=>t=>{if(e){const r=j.current;void 0===t?e(r):e(r,t)}},C=S(d),A=S(((e,t)=>{Xr(e);const{duration:r,delay:n,easing:o}=Qr({style:f,timeout:m,easing:i},{mode:"enter"});let a;"auto"===m?(a=y.transitions.getAutoHeightDuration(e.clientHeight),b.current=a):a=r,e.style.transition=[y.transitions.create("opacity",{duration:a,delay:n}),y.transitions.create("transform",{duration:tn?a:.666*a,delay:n,easing:o})].join(","),l&&l(e,t)})),E=S(c),k=S(h),O=S((e=>{const{duration:t,delay:r,easing:n}=Qr({style:f,timeout:m,easing:i},{mode:"exit"});let o;"auto"===m?(o=y.transitions.getAutoHeightDuration(e.clientHeight),b.current=o):o=t,e.style.transition=[y.transitions.create("opacity",{duration:o,delay:r}),y.transitions.create("transform",{duration:tn?o:.666*o,delay:tn?r:r||.333*o,easing:n})].join(","),e.style.opacity=0,e.style.transform=Zr(.75),u&&u(e)})),P=S(p);return(0,Ve.jsx)(g,(0,Be.A)({appear:n,in:s,nodeRef:j,onEnter:A,onEntered:E,onEntering:C,onExit:O,onExited:P,onExiting:k,addEndListener:e=>{"auto"===m&&x.start(b.current||0,e),r&&r(j.current,e)},timeout:"auto"===m?null:m},v,{children:(e,t)=>a.cloneElement(o,(0,Be.A)({style:(0,Be.A)({opacity:0,transform:Zr(.75),visibility:"exited"!==e||s?void 0:"hidden"},en[e],f,o.props.style),ref:w},t))}))}));rn.muiSupportAuto=!0;const nn=rn;var on=r(2374),an=r(3462),sn=r(4440),ln=r(1668);function cn(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function dn(e){return e instanceof cn(e).Element||e instanceof Element}function un(e){return e instanceof cn(e).HTMLElement||e instanceof HTMLElement}function pn(e){return"undefined"!==typeof ShadowRoot&&(e instanceof cn(e).ShadowRoot||e instanceof ShadowRoot)}var hn=Math.max,fn=Math.min,mn=Math.round;function gn(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function vn(){return!/^((?!chrome|android).)*safari/i.test(gn())}function xn(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=!1);var n=e.getBoundingClientRect(),o=1,a=1;t&&un(e)&&(o=e.offsetWidth>0&&mn(n.width)/e.offsetWidth||1,a=e.offsetHeight>0&&mn(n.height)/e.offsetHeight||1);var i=(dn(e)?cn(e):window).visualViewport,s=!vn()&&r,l=(n.left+(s&&i?i.offsetLeft:0))/o,c=(n.top+(s&&i?i.offsetTop:0))/a,d=n.width/o,u=n.height/a;return{width:d,height:u,top:c,right:l+d,bottom:c+u,left:l,x:l,y:c}}function bn(e){var t=cn(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function yn(e){return e?(e.nodeName||"").toLowerCase():null}function jn(e){return((dn(e)?e.ownerDocument:e.document)||window.document).documentElement}function wn(e){return xn(jn(e)).left+bn(e).scrollLeft}function Sn(e){return cn(e).getComputedStyle(e)}function Cn(e){var t=Sn(e),r=t.overflow,n=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+o+n)}function An(e,t,r){void 0===r&&(r=!1);var n=un(t),o=un(t)&&function(e){var t=e.getBoundingClientRect(),r=mn(t.width)/e.offsetWidth||1,n=mn(t.height)/e.offsetHeight||1;return 1!==r||1!==n}(t),a=jn(t),i=xn(e,o,r),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&(("body"!==yn(t)||Cn(a))&&(s=function(e){return e!==cn(e)&&un(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:bn(e);var t}(t)),un(t)?((l=xn(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):a&&(l.x=wn(a))),{x:i.left+s.scrollLeft-l.x,y:i.top+s.scrollTop-l.y,width:i.width,height:i.height}}function En(e){var t=xn(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function kn(e){return"html"===yn(e)?e:e.assignedSlot||e.parentNode||(pn(e)?e.host:null)||jn(e)}function On(e){return["html","body","#document"].indexOf(yn(e))>=0?e.ownerDocument.body:un(e)&&Cn(e)?e:On(kn(e))}function Pn(e,t){var r;void 0===t&&(t=[]);var n=On(e),o=n===(null==(r=e.ownerDocument)?void 0:r.body),a=cn(n),i=o?[a].concat(a.visualViewport||[],Cn(n)?n:[]):n,s=t.concat(i);return o?s:s.concat(Pn(kn(i)))}function In(e){return["table","td","th"].indexOf(yn(e))>=0}function Dn(e){return un(e)&&"fixed"!==Sn(e).position?e.offsetParent:null}function Mn(e){for(var t=cn(e),r=Dn(e);r&&In(r)&&"static"===Sn(r).position;)r=Dn(r);return r&&("html"===yn(r)||"body"===yn(r)&&"static"===Sn(r).position)?t:r||function(e){var t=/firefox/i.test(gn());if(/Trident/i.test(gn())&&un(e)&&"fixed"===Sn(e).position)return null;var r=kn(e);for(pn(r)&&(r=r.host);un(r)&&["html","body"].indexOf(yn(r))<0;){var n=Sn(r);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return r;r=r.parentNode}return null}(e)||t}var Tn="top",Rn="bottom",Nn="right",$n="left",zn="auto",Ln=[Tn,Rn,Nn,$n],Bn="start",Fn="end",_n="viewport",Un="popper",Wn=Ln.reduce((function(e,t){return e.concat([t+"-"+Bn,t+"-"+Fn])}),[]),Vn=[].concat(Ln,[zn]).reduce((function(e,t){return e.concat([t,t+"-"+Bn,t+"-"+Fn])}),[]),Gn=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Hn(e){var t=new Map,r=new Set,n=[];function o(e){r.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!r.has(e)){var n=t.get(e);n&&o(n)}})),n.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){r.has(e.name)||o(e)})),n}function qn(e){var t;return function(){return t||(t=new Promise((function(r){Promise.resolve().then((function(){t=void 0,r(e())}))}))),t}}var Yn={placement:"bottom",modifiers:[],strategy:"absolute"};function Kn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function Xn(e){void 0===e&&(e={});var t=e,r=t.defaultModifiers,n=void 0===r?[]:r,o=t.defaultOptions,a=void 0===o?Yn:o;return function(e,t,r){void 0===r&&(r=a);var o={placement:"bottom",orderedModifiers:[],options:Object.assign({},Yn,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},i=[],s=!1,l={state:o,setOptions:function(r){var s="function"===typeof r?r(o.options):r;c(),o.options=Object.assign({},a,o.options,s),o.scrollParents={reference:dn(e)?Pn(e):e.contextElement?Pn(e.contextElement):[],popper:Pn(t)};var d=function(e){var t=Hn(e);return Gn.reduce((function(e,r){return e.concat(t.filter((function(e){return e.phase===r})))}),[])}(function(e){var t=e.reduce((function(e,t){var r=e[t.name];return e[t.name]=r?Object.assign({},r,t,{options:Object.assign({},r.options,t.options),data:Object.assign({},r.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(n,o.options.modifiers)));return o.orderedModifiers=d.filter((function(e){return e.enabled})),o.orderedModifiers.forEach((function(e){var t=e.name,r=e.options,n=void 0===r?{}:r,a=e.effect;if("function"===typeof a){var s=a({state:o,name:t,instance:l,options:n}),c=function(){};i.push(s||c)}})),l.update()},forceUpdate:function(){if(!s){var e=o.elements,t=e.reference,r=e.popper;if(Kn(t,r)){o.rects={reference:An(t,Mn(r),"fixed"===o.options.strategy),popper:En(r)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach((function(e){return o.modifiersData[e.name]=Object.assign({},e.data)}));for(var n=0;n<o.orderedModifiers.length;n++)if(!0!==o.reset){var a=o.orderedModifiers[n],i=a.fn,c=a.options,d=void 0===c?{}:c,u=a.name;"function"===typeof i&&(o=i({state:o,options:d,name:u,instance:l})||o)}else o.reset=!1,n=-1}}},update:qn((function(){return new Promise((function(e){l.forceUpdate(),e(o)}))})),destroy:function(){c(),s=!0}};if(!Kn(e,t))return l;function c(){i.forEach((function(e){return e()})),i=[]}return l.setOptions(r).then((function(e){!s&&r.onFirstUpdate&&r.onFirstUpdate(e)})),l}}var Qn={passive:!0};function Jn(e){return e.split("-")[0]}function Zn(e){return e.split("-")[1]}function eo(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function to(e){var t,r=e.reference,n=e.element,o=e.placement,a=o?Jn(o):null,i=o?Zn(o):null,s=r.x+r.width/2-n.width/2,l=r.y+r.height/2-n.height/2;switch(a){case Tn:t={x:s,y:r.y-n.height};break;case Rn:t={x:s,y:r.y+r.height};break;case Nn:t={x:r.x+r.width,y:l};break;case $n:t={x:r.x-n.width,y:l};break;default:t={x:r.x,y:r.y}}var c=a?eo(a):null;if(null!=c){var d="y"===c?"height":"width";switch(i){case Bn:t[c]=t[c]-(r[d]/2-n[d]/2);break;case Fn:t[c]=t[c]+(r[d]/2-n[d]/2)}}return t}var ro={top:"auto",right:"auto",bottom:"auto",left:"auto"};function no(e){var t,r=e.popper,n=e.popperRect,o=e.placement,a=e.variation,i=e.offsets,s=e.position,l=e.gpuAcceleration,c=e.adaptive,d=e.roundOffsets,u=e.isFixed,p=i.x,h=void 0===p?0:p,f=i.y,m=void 0===f?0:f,g="function"===typeof d?d({x:h,y:m}):{x:h,y:m};h=g.x,m=g.y;var v=i.hasOwnProperty("x"),x=i.hasOwnProperty("y"),b=$n,y=Tn,j=window;if(c){var w=Mn(r),S="clientHeight",C="clientWidth";if(w===cn(r)&&"static"!==Sn(w=jn(r)).position&&"absolute"===s&&(S="scrollHeight",C="scrollWidth"),o===Tn||(o===$n||o===Nn)&&a===Fn)y=Rn,m-=(u&&w===j&&j.visualViewport?j.visualViewport.height:w[S])-n.height,m*=l?1:-1;if(o===$n||(o===Tn||o===Rn)&&a===Fn)b=Nn,h-=(u&&w===j&&j.visualViewport?j.visualViewport.width:w[C])-n.width,h*=l?1:-1}var A,E=Object.assign({position:s},c&&ro),k=!0===d?function(e,t){var r=e.x,n=e.y,o=t.devicePixelRatio||1;return{x:mn(r*o)/o||0,y:mn(n*o)/o||0}}({x:h,y:m},cn(r)):{x:h,y:m};return h=k.x,m=k.y,l?Object.assign({},E,((A={})[y]=x?"0":"",A[b]=v?"0":"",A.transform=(j.devicePixelRatio||1)<=1?"translate("+h+"px, "+m+"px)":"translate3d("+h+"px, "+m+"px, 0)",A)):Object.assign({},E,((t={})[y]=x?m+"px":"",t[b]=v?h+"px":"",t.transform="",t))}var oo={left:"right",right:"left",bottom:"top",top:"bottom"};function ao(e){return e.replace(/left|right|bottom|top/g,(function(e){return oo[e]}))}var io={start:"end",end:"start"};function so(e){return e.replace(/start|end/g,(function(e){return io[e]}))}function lo(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&pn(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function co(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function uo(e,t,r){return t===_n?co(function(e,t){var r=cn(e),n=jn(e),o=r.visualViewport,a=n.clientWidth,i=n.clientHeight,s=0,l=0;if(o){a=o.width,i=o.height;var c=vn();(c||!c&&"fixed"===t)&&(s=o.offsetLeft,l=o.offsetTop)}return{width:a,height:i,x:s+wn(e),y:l}}(e,r)):dn(t)?function(e,t){var r=xn(e,!1,"fixed"===t);return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}(t,r):co(function(e){var t,r=jn(e),n=bn(e),o=null==(t=e.ownerDocument)?void 0:t.body,a=hn(r.scrollWidth,r.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),i=hn(r.scrollHeight,r.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),s=-n.scrollLeft+wn(e),l=-n.scrollTop;return"rtl"===Sn(o||r).direction&&(s+=hn(r.clientWidth,o?o.clientWidth:0)-a),{width:a,height:i,x:s,y:l}}(jn(e)))}function po(e,t,r,n){var o="clippingParents"===t?function(e){var t=Pn(kn(e)),r=["absolute","fixed"].indexOf(Sn(e).position)>=0&&un(e)?Mn(e):e;return dn(r)?t.filter((function(e){return dn(e)&&lo(e,r)&&"body"!==yn(e)})):[]}(e):[].concat(t),a=[].concat(o,[r]),i=a[0],s=a.reduce((function(t,r){var o=uo(e,r,n);return t.top=hn(o.top,t.top),t.right=fn(o.right,t.right),t.bottom=fn(o.bottom,t.bottom),t.left=hn(o.left,t.left),t}),uo(e,i,n));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function ho(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function fo(e,t){return t.reduce((function(t,r){return t[r]=e,t}),{})}function mo(e,t){void 0===t&&(t={});var r=t,n=r.placement,o=void 0===n?e.placement:n,a=r.strategy,i=void 0===a?e.strategy:a,s=r.boundary,l=void 0===s?"clippingParents":s,c=r.rootBoundary,d=void 0===c?_n:c,u=r.elementContext,p=void 0===u?Un:u,h=r.altBoundary,f=void 0!==h&&h,m=r.padding,g=void 0===m?0:m,v=ho("number"!==typeof g?g:fo(g,Ln)),x=p===Un?"reference":Un,b=e.rects.popper,y=e.elements[f?x:p],j=po(dn(y)?y:y.contextElement||jn(e.elements.popper),l,d,i),w=xn(e.elements.reference),S=to({reference:w,element:b,strategy:"absolute",placement:o}),C=co(Object.assign({},b,S)),A=p===Un?C:w,E={top:j.top-A.top+v.top,bottom:A.bottom-j.bottom+v.bottom,left:j.left-A.left+v.left,right:A.right-j.right+v.right},k=e.modifiersData.offset;if(p===Un&&k){var O=k[o];Object.keys(E).forEach((function(e){var t=[Nn,Rn].indexOf(e)>=0?1:-1,r=[Tn,Rn].indexOf(e)>=0?"y":"x";E[e]+=O[r]*t}))}return E}function go(e,t,r){return hn(e,fn(t,r))}function vo(e,t,r){return void 0===r&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function xo(e){return[Tn,Nn,Rn,$n].some((function(t){return e[t]>=0}))}var bo=Xn({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,r=e.instance,n=e.options,o=n.scroll,a=void 0===o||o,i=n.resize,s=void 0===i||i,l=cn(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach((function(e){e.addEventListener("scroll",r.update,Qn)})),s&&l.addEventListener("resize",r.update,Qn),function(){a&&c.forEach((function(e){e.removeEventListener("scroll",r.update,Qn)})),s&&l.removeEventListener("resize",r.update,Qn)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,r=e.name;t.modifiersData[r]=to({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,r=e.options,n=r.gpuAcceleration,o=void 0===n||n,a=r.adaptive,i=void 0===a||a,s=r.roundOffsets,l=void 0===s||s,c={placement:Jn(t.placement),variation:Zn(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,no(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,no(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var r=t.styles[e]||{},n=t.attributes[e]||{},o=t.elements[e];un(o)&&yn(o)&&(Object.assign(o.style,r),Object.keys(n).forEach((function(e){var t=n[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach((function(e){var n=t.elements[e],o=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:r[e]).reduce((function(e,t){return e[t]="",e}),{});un(n)&&yn(n)&&(Object.assign(n.style,a),Object.keys(o).forEach((function(e){n.removeAttribute(e)})))}))}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,r=e.options,n=e.name,o=r.offset,a=void 0===o?[0,0]:o,i=Vn.reduce((function(e,r){return e[r]=function(e,t,r){var n=Jn(e),o=[$n,Tn].indexOf(n)>=0?-1:1,a="function"===typeof r?r(Object.assign({},t,{placement:e})):r,i=a[0],s=a[1];return i=i||0,s=(s||0)*o,[$n,Nn].indexOf(n)>=0?{x:s,y:i}:{x:i,y:s}}(r,t.rects,a),e}),{}),s=i[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=i}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var o=r.mainAxis,a=void 0===o||o,i=r.altAxis,s=void 0===i||i,l=r.fallbackPlacements,c=r.padding,d=r.boundary,u=r.rootBoundary,p=r.altBoundary,h=r.flipVariations,f=void 0===h||h,m=r.allowedAutoPlacements,g=t.options.placement,v=Jn(g),x=l||(v===g||!f?[ao(g)]:function(e){if(Jn(e)===zn)return[];var t=ao(e);return[so(e),t,so(t)]}(g)),b=[g].concat(x).reduce((function(e,r){return e.concat(Jn(r)===zn?function(e,t){void 0===t&&(t={});var r=t,n=r.placement,o=r.boundary,a=r.rootBoundary,i=r.padding,s=r.flipVariations,l=r.allowedAutoPlacements,c=void 0===l?Vn:l,d=Zn(n),u=d?s?Wn:Wn.filter((function(e){return Zn(e)===d})):Ln,p=u.filter((function(e){return c.indexOf(e)>=0}));0===p.length&&(p=u);var h=p.reduce((function(t,r){return t[r]=mo(e,{placement:r,boundary:o,rootBoundary:a,padding:i})[Jn(r)],t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))}(t,{placement:r,boundary:d,rootBoundary:u,padding:c,flipVariations:f,allowedAutoPlacements:m}):r)}),[]),y=t.rects.reference,j=t.rects.popper,w=new Map,S=!0,C=b[0],A=0;A<b.length;A++){var E=b[A],k=Jn(E),O=Zn(E)===Bn,P=[Tn,Rn].indexOf(k)>=0,I=P?"width":"height",D=mo(t,{placement:E,boundary:d,rootBoundary:u,altBoundary:p,padding:c}),M=P?O?Nn:$n:O?Rn:Tn;y[I]>j[I]&&(M=ao(M));var T=ao(M),R=[];if(a&&R.push(D[k]<=0),s&&R.push(D[M]<=0,D[T]<=0),R.every((function(e){return e}))){C=E,S=!1;break}w.set(E,R)}if(S)for(var N=function(e){var t=b.find((function(t){var r=w.get(t);if(r)return r.slice(0,e).every((function(e){return e}))}));if(t)return C=t,"break"},$=f?3:1;$>0;$--){if("break"===N($))break}t.placement!==C&&(t.modifiersData[n]._skip=!0,t.placement=C,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name,o=r.mainAxis,a=void 0===o||o,i=r.altAxis,s=void 0!==i&&i,l=r.boundary,c=r.rootBoundary,d=r.altBoundary,u=r.padding,p=r.tether,h=void 0===p||p,f=r.tetherOffset,m=void 0===f?0:f,g=mo(t,{boundary:l,rootBoundary:c,padding:u,altBoundary:d}),v=Jn(t.placement),x=Zn(t.placement),b=!x,y=eo(v),j="x"===y?"y":"x",w=t.modifiersData.popperOffsets,S=t.rects.reference,C=t.rects.popper,A="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,E="number"===typeof A?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),k=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,O={x:0,y:0};if(w){if(a){var P,I="y"===y?Tn:$n,D="y"===y?Rn:Nn,M="y"===y?"height":"width",T=w[y],R=T+g[I],N=T-g[D],$=h?-C[M]/2:0,z=x===Bn?S[M]:C[M],L=x===Bn?-C[M]:-S[M],B=t.elements.arrow,F=h&&B?En(B):{width:0,height:0},_=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},U=_[I],W=_[D],V=go(0,S[M],F[M]),G=b?S[M]/2-$-V-U-E.mainAxis:z-V-U-E.mainAxis,H=b?-S[M]/2+$+V+W+E.mainAxis:L+V+W+E.mainAxis,q=t.elements.arrow&&Mn(t.elements.arrow),Y=q?"y"===y?q.clientTop||0:q.clientLeft||0:0,K=null!=(P=null==k?void 0:k[y])?P:0,X=T+H-K,Q=go(h?fn(R,T+G-K-Y):R,T,h?hn(N,X):N);w[y]=Q,O[y]=Q-T}if(s){var J,Z="x"===y?Tn:$n,ee="x"===y?Rn:Nn,te=w[j],re="y"===j?"height":"width",ne=te+g[Z],oe=te-g[ee],ae=-1!==[Tn,$n].indexOf(v),ie=null!=(J=null==k?void 0:k[j])?J:0,se=ae?ne:te-S[re]-C[re]-ie+E.altAxis,le=ae?te+S[re]+C[re]-ie-E.altAxis:oe,ce=h&&ae?function(e,t,r){var n=go(e,t,r);return n>r?r:n}(se,te,le):go(h?se:ne,te,h?le:oe);w[j]=ce,O[j]=ce-te}t.modifiersData[n]=O}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,r=e.state,n=e.name,o=e.options,a=r.elements.arrow,i=r.modifiersData.popperOffsets,s=Jn(r.placement),l=eo(s),c=[$n,Nn].indexOf(s)>=0?"height":"width";if(a&&i){var d=function(e,t){return ho("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:fo(e,Ln))}(o.padding,r),u=En(a),p="y"===l?Tn:$n,h="y"===l?Rn:Nn,f=r.rects.reference[c]+r.rects.reference[l]-i[l]-r.rects.popper[c],m=i[l]-r.rects.reference[l],g=Mn(a),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,x=f/2-m/2,b=d[p],y=v-u[c]-d[h],j=v/2-u[c]/2+x,w=go(b,j,y),S=l;r.modifiersData[n]=((t={})[S]=w,t.centerOffset=w-j,t)}},effect:function(e){var t=e.state,r=e.options.element,n=void 0===r?"[data-popper-arrow]":r;null!=n&&("string"!==typeof n||(n=t.elements.popper.querySelector(n)))&&lo(t.elements.popper,n)&&(t.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,r=e.name,n=t.rects.reference,o=t.rects.popper,a=t.modifiersData.preventOverflow,i=mo(t,{elementContext:"reference"}),s=mo(t,{altBoundary:!0}),l=vo(i,n),c=vo(s,o,a),d=xo(l),u=xo(c);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}}]});const yo=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const r={};return Object.keys(e).filter((r=>r.match(/^on[A-Z]/)&&"function"===typeof e[r]&&!t.includes(r))).forEach((t=>{r[t]=e[t]})),r};const jo=function(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((r=>{t[r]=e[r]})),t};const wo=function(e){const{getSlotProps:t,additionalProps:r,externalSlotProps:n,externalForwardedProps:o,className:a}=e;if(!t){const e=(0,vt.A)(null==r?void 0:r.className,a,null==o?void 0:o.className,null==n?void 0:n.className),t=(0,Be.A)({},null==r?void 0:r.style,null==o?void 0:o.style,null==n?void 0:n.style),i=(0,Be.A)({},r,o,n);return e.length>0&&(i.className=e),Object.keys(t).length>0&&(i.style=t),{props:i,internalRef:void 0}}const i=yo((0,Be.A)({},o,n)),s=jo(n),l=jo(o),c=t(i),d=(0,vt.A)(null==c?void 0:c.className,null==r?void 0:r.className,a,null==o?void 0:o.className,null==n?void 0:n.className),u=(0,Be.A)({},null==c?void 0:c.style,null==r?void 0:r.style,null==o?void 0:o.style,null==n?void 0:n.style),p=(0,Be.A)({},c,r,l,s);return d.length>0&&(p.className=d),Object.keys(u).length>0&&(p.style=u),{props:p,internalRef:c.ref}};const So=function(e,t,r){return"function"===typeof e?e(t,r):e},Co=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];const Ao=function(e){var t;const{elementType:r,externalSlotProps:n,ownerState:o,skipResolvingSlotProps:a=!1}=e,i=(0,Fe.A)(e,Co),s=a?{}:So(n,o),{props:l,internalRef:c}=wo((0,Be.A)({},i,{externalSlotProps:s})),d=(0,an.A)(c,null==s?void 0:s.ref,null==(t=e.additionalProps)?void 0:t.ref);return Lr(r,(0,Be.A)({},l,{ref:d}),o)};var Eo=r(6564);const ko=a.forwardRef((function(e,t){const{children:r,container:n,disablePortal:o=!1}=e,[i,s]=a.useState(null),l=(0,an.A)(a.isValidElement(r)?Br(r):null,t);if((0,sn.A)((()=>{o||s(function(e){return"function"===typeof e?e():e}(n)||document.body)}),[n,o]),(0,sn.A)((()=>{if(i&&!o)return(0,Eo.A)(t,i),()=>{(0,Eo.A)(t,null)}}),[t,i,o]),o){if(a.isValidElement(r)){const e={ref:l};return a.cloneElement(r,e)}return(0,Ve.jsx)(a.Fragment,{children:r})}return(0,Ve.jsx)(a.Fragment,{children:i?Ce.createPortal(r,i):i})}));function Oo(e){return(0,Mt.Ay)("MuiPopper",e)}(0,St.A)("MuiPopper",["root"]);const Po=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],Io=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Do(e){return"function"===typeof e?e():e}function Mo(e){return void 0!==e.nodeType}const To={},Ro=a.forwardRef((function(e,t){var r;const{anchorEl:n,children:o,direction:i,disablePortal:s,modifiers:l,open:c,placement:d,popperOptions:u,popperRef:p,slotProps:h={},slots:f={},TransitionProps:m}=e,g=(0,Fe.A)(e,Po),v=a.useRef(null),x=(0,an.A)(v,t),b=a.useRef(null),y=(0,an.A)(b,p),j=a.useRef(y);(0,sn.A)((()=>{j.current=y}),[y]),a.useImperativeHandle(p,(()=>b.current),[]);const w=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(d,i),[S,C]=a.useState(w),[A,E]=a.useState(Do(n));a.useEffect((()=>{b.current&&b.current.forceUpdate()})),a.useEffect((()=>{n&&E(Do(n))}),[n]),(0,sn.A)((()=>{if(!A||!c)return;let e=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:e=>{let{state:t}=e;C(t.placement)}}];null!=l&&(e=e.concat(l)),u&&null!=u.modifiers&&(e=e.concat(u.modifiers));const t=bo(A,v.current,(0,Be.A)({placement:w},u,{modifiers:e}));return j.current(t),()=>{t.destroy(),j.current(null)}}),[A,s,l,c,u,w]);const k={placement:S};null!==m&&(k.TransitionProps=m);const O=(e=>{const{classes:t}=e;return(0,kt.A)({root:["root"]},Oo,t)})(e),P=null!=(r=f.root)?r:"div",I=Ao({elementType:P,externalSlotProps:h.root,externalForwardedProps:g,additionalProps:{role:"tooltip",ref:x},ownerState:e,className:O.root});return(0,Ve.jsx)(P,(0,Be.A)({},I,{children:"function"===typeof o?o(k):o}))})),No=a.forwardRef((function(e,t){const{anchorEl:r,children:n,container:o,direction:i="ltr",disablePortal:s=!1,keepMounted:l=!1,modifiers:c,open:d,placement:u="bottom",popperOptions:p=To,popperRef:h,style:f,transition:m=!1,slotProps:g={},slots:v={}}=e,x=(0,Fe.A)(e,Io),[b,y]=a.useState(!0);if(!l&&!d&&(!m||b))return null;let j;if(o)j=o;else if(r){const e=Do(r);j=e&&Mo(e)?(0,ln.A)(e).body:(0,ln.A)(null).body}const w=d||!l||m&&!b?void 0:"none",S=m?{in:d,onEnter:()=>{y(!1)},onExited:()=>{y(!0)}}:void 0;return(0,Ve.jsx)(ko,{disablePortal:s,container:j,children:(0,Ve.jsx)(Ro,(0,Be.A)({anchorEl:r,direction:i,disablePortal:s,modifiers:c,ref:t,open:m?!b:d,placement:u,popperOptions:p,popperRef:h,slotProps:g,slots:v},x,{style:(0,Be.A)({position:"fixed",top:0,left:0,display:w},f),TransitionProps:S,children:n}))})})),$o=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],zo=(0,Ot.Ay)(No,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Lo=a.forwardRef((function(e,t){var r;const n=(0,on.A)(),o=(0,at.b)({props:e,name:"MuiPopper"}),{anchorEl:a,component:i,components:s,componentsProps:l,container:c,disablePortal:d,keepMounted:u,modifiers:p,open:h,placement:f,popperOptions:m,popperRef:g,transition:v,slots:x,slotProps:b}=o,y=(0,Fe.A)(o,$o),j=null!=(r=null==x?void 0:x.root)?r:null==s?void 0:s.Root,w=(0,Be.A)({anchorEl:a,container:c,disablePortal:d,keepMounted:u,modifiers:p,open:h,placement:f,popperOptions:m,popperRef:g,transition:v},y);return(0,Ve.jsx)(zo,(0,Be.A)({as:i,direction:null==n?void 0:n.direction,slots:{root:j},slotProps:null!=b?b:l},w,{ref:t}))}));var Bo=r(5879),Fo=r(4516);function _o(e){return(0,Mt.Ay)("MuiTooltip",e)}const Uo=(0,St.A)("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),Wo=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];const Vo=(0,Ot.Ay)(Lo,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.popper,!r.disableInteractive&&t.popperInteractive,r.arrow&&t.popperArrow,!r.open&&t.popperClose]}})((e=>{let{theme:t,ownerState:r,open:n}=e;return(0,Be.A)({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!r.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},r.arrow&&{[`&[data-popper-placement*="bottom"] .${Uo.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Uo.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Uo.arrow}`]:(0,Be.A)({},r.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Uo.arrow}`]:(0,Be.A)({},r.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})})),Go=(0,Ot.Ay)("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.tooltip,r.touch&&t.touch,r.arrow&&t.tooltipArrow,t[`tooltipPlacement${(0,Pt.A)(r.placement.split("-")[0])}`]]}})((e=>{let{theme:t,ownerState:r}=e;return(0,Be.A)({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:(0,It.X4)(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},r.arrow&&{position:"relative",margin:0},r.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:(n=16/14,Math.round(1e5*n)/1e5)+"em",fontWeight:t.typography.fontWeightRegular},{[`.${Uo.popper}[data-popper-placement*="left"] &`]:(0,Be.A)({transformOrigin:"right center"},r.isRtl?(0,Be.A)({marginLeft:"14px"},r.touch&&{marginLeft:"24px"}):(0,Be.A)({marginRight:"14px"},r.touch&&{marginRight:"24px"})),[`.${Uo.popper}[data-popper-placement*="right"] &`]:(0,Be.A)({transformOrigin:"left center"},r.isRtl?(0,Be.A)({marginRight:"14px"},r.touch&&{marginRight:"24px"}):(0,Be.A)({marginLeft:"14px"},r.touch&&{marginLeft:"24px"})),[`.${Uo.popper}[data-popper-placement*="top"] &`]:(0,Be.A)({transformOrigin:"center bottom",marginBottom:"14px"},r.touch&&{marginBottom:"24px"}),[`.${Uo.popper}[data-popper-placement*="bottom"] &`]:(0,Be.A)({transformOrigin:"center top",marginTop:"14px"},r.touch&&{marginTop:"24px"})});var n})),Ho=(0,Ot.Ay)("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})((e=>{let{theme:t}=e;return{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:(0,It.X4)(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}}));let qo=!1;const Yo=new ir.E;let Ko={x:0,y:0};function Xo(e,t){return function(r){for(var n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];t&&t(r,...o),e(r,...o)}}const Qo=a.forwardRef((function(e,t){var r,n,o,i,s,l,c,d,u,p,h,f,m,g,v,x,b,y,j;const w=(0,at.b)({props:e,name:"MuiTooltip"}),{arrow:S=!1,children:C,components:A={},componentsProps:E={},describeChild:k=!1,disableFocusListener:O=!1,disableHoverListener:P=!1,disableInteractive:I=!1,disableTouchListener:D=!1,enterDelay:M=100,enterNextDelay:T=0,enterTouchDelay:R=700,followCursor:N=!1,id:$,leaveDelay:z=0,leaveTouchDelay:L=1500,onClose:B,onOpen:F,open:_,placement:U="bottom",PopperComponent:W,PopperProps:V={},slotProps:G={},slots:H={},title:q,TransitionComponent:Y=nn,TransitionProps:K}=w,X=(0,Fe.A)(w,Wo),Q=a.isValidElement(C)?C:(0,Ve.jsx)("span",{children:C}),J=gt(),Z=Xe(),[ee,te]=a.useState(),[re,ne]=a.useState(null),oe=a.useRef(!1),ae=I||N,ie=(0,ir.A)(),se=(0,ir.A)(),le=(0,ir.A)(),ce=(0,ir.A)(),[de,ue]=(0,Fo.A)({controlled:_,default:!1,name:"Tooltip",state:"open"});let pe=de;const he=(0,Bo.A)($),fe=a.useRef(),me=(0,qt.A)((()=>{void 0!==fe.current&&(document.body.style.WebkitUserSelect=fe.current,fe.current=void 0),ce.clear()}));a.useEffect((()=>me),[me]);const ge=e=>{Yo.clear(),qo=!0,ue(!0),F&&!pe&&F(e)},ve=(0,qt.A)((e=>{Yo.start(800+z,(()=>{qo=!1})),ue(!1),B&&pe&&B(e),ie.start(J.transitions.duration.shortest,(()=>{oe.current=!1}))})),xe=e=>{oe.current&&"touchstart"!==e.type||(ee&&ee.removeAttribute("title"),se.clear(),le.clear(),M||qo&&T?se.start(qo?T:M,(()=>{ge(e)})):ge(e))},be=e=>{se.clear(),le.start(z,(()=>{ve(e)}))},{isFocusVisibleRef:ye,onBlur:je,onFocus:we,ref:Se}=(0,Yt.A)(),[,Ce]=a.useState(!1),Ae=e=>{je(e),!1===ye.current&&(Ce(!1),be(e))},Ee=e=>{ee||te(e.currentTarget),we(e),!0===ye.current&&(Ce(!0),xe(e))},ke=e=>{oe.current=!0;const t=Q.props;t.onTouchStart&&t.onTouchStart(e)},Oe=e=>{ke(e),le.clear(),ie.clear(),me(),fe.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",ce.start(R,(()=>{document.body.style.WebkitUserSelect=fe.current,xe(e)}))},Pe=e=>{Q.props.onTouchEnd&&Q.props.onTouchEnd(e),me(),le.start(L,(()=>{ve(e)}))};a.useEffect((()=>{if(pe)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){"Escape"!==e.key&&"Esc"!==e.key||ve(e)}}),[ve,pe]);const Ie=(0,Ht.A)(Br(Q),Se,te,t);q||0===q||(pe=!1);const De=a.useRef(),Me={},Te="string"===typeof q;k?(Me.title=pe||!Te||P?null:q,Me["aria-describedby"]=pe?he:null):(Me["aria-label"]=Te?q:null,Me["aria-labelledby"]=pe&&!Te?he:null);const Re=(0,Be.A)({},Me,X,Q.props,{className:(0,vt.A)(X.className,Q.props.className),onTouchStart:ke,ref:Ie},N?{onMouseMove:e=>{const t=Q.props;t.onMouseMove&&t.onMouseMove(e),Ko={x:e.clientX,y:e.clientY},De.current&&De.current.update()}}:{});const Ne={};D||(Re.onTouchStart=Oe,Re.onTouchEnd=Pe),P||(Re.onMouseOver=Xo(xe,Re.onMouseOver),Re.onMouseLeave=Xo(be,Re.onMouseLeave),ae||(Ne.onMouseOver=xe,Ne.onMouseLeave=be)),O||(Re.onFocus=Xo(Ee,Re.onFocus),Re.onBlur=Xo(Ae,Re.onBlur),ae||(Ne.onFocus=Ee,Ne.onBlur=Ae));const $e=a.useMemo((()=>{var e;let t=[{name:"arrow",enabled:Boolean(re),options:{element:re,padding:4}}];return null!=(e=V.popperOptions)&&e.modifiers&&(t=t.concat(V.popperOptions.modifiers)),(0,Be.A)({},V.popperOptions,{modifiers:t})}),[re,V]),ze=(0,Be.A)({},w,{isRtl:Z,arrow:S,disableInteractive:ae,placement:U,PopperComponentProp:W,touch:oe.current}),Le=(e=>{const{classes:t,disableInteractive:r,arrow:n,touch:o,placement:a}=e,i={popper:["popper",!r&&"popperInteractive",n&&"popperArrow"],tooltip:["tooltip",n&&"tooltipArrow",o&&"touch",`tooltipPlacement${(0,Pt.A)(a.split("-")[0])}`],arrow:["arrow"]};return(0,kt.A)(i,_o,t)})(ze),_e=null!=(r=null!=(n=H.popper)?n:A.Popper)?r:Vo,Ue=null!=(o=null!=(i=null!=(s=H.transition)?s:A.Transition)?i:Y)?o:nn,We=null!=(l=null!=(c=H.tooltip)?c:A.Tooltip)?l:Go,Ge=null!=(d=null!=(u=H.arrow)?u:A.Arrow)?d:Ho,He=Lr(_e,(0,Be.A)({},V,null!=(p=G.popper)?p:E.popper,{className:(0,vt.A)(Le.popper,null==V?void 0:V.className,null==(h=null!=(f=G.popper)?f:E.popper)?void 0:h.className)}),ze),qe=Lr(Ue,(0,Be.A)({},K,null!=(m=G.transition)?m:E.transition),ze),Ye=Lr(We,(0,Be.A)({},null!=(g=G.tooltip)?g:E.tooltip,{className:(0,vt.A)(Le.tooltip,null==(v=null!=(x=G.tooltip)?x:E.tooltip)?void 0:v.className)}),ze),Ke=Lr(Ge,(0,Be.A)({},null!=(b=G.arrow)?b:E.arrow,{className:(0,vt.A)(Le.arrow,null==(y=null!=(j=G.arrow)?j:E.arrow)?void 0:y.className)}),ze);return(0,Ve.jsxs)(a.Fragment,{children:[a.cloneElement(Q,Re),(0,Ve.jsx)(_e,(0,Be.A)({as:null!=W?W:Lo,placement:U,anchorEl:N?{getBoundingClientRect:()=>({top:Ko.y,left:Ko.x,right:Ko.x,bottom:Ko.y,width:0,height:0})}:ee,popperRef:De,open:!!ee&&pe,id:he,transition:!0},Ne,He,{popperOptions:$e,children:e=>{let{TransitionProps:t}=e;return(0,Ve.jsx)(Ue,(0,Be.A)({timeout:J.transitions.duration.shorter},t,qe,{children:(0,Ve.jsxs)(We,(0,Be.A)({},Ye,{children:[q,S?(0,Ve.jsx)(Ge,(0,Be.A)({},Ke,{ref:ne})):null]}))}))}}))]})})),Jo=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Zo(e){const t=[],r=[];return Array.from(e.querySelectorAll(Jo)).forEach(((e,n)=>{const o=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==o&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector(`input[type="radio"]${t}`);let r=t(`[name="${e.name}"]:checked`);return r||(r=t(`[name="${e.name}"]`)),r!==e}(e))}(e)&&(0===o?t.push(e):r.push({documentOrder:n,tabIndex:o,node:e}))})),r.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function ea(){return!0}const ta=function(e){const{children:t,disableAutoFocus:r=!1,disableEnforceFocus:n=!1,disableRestoreFocus:o=!1,getTabbable:i=Zo,isEnabled:s=ea,open:l}=e,c=a.useRef(!1),d=a.useRef(null),u=a.useRef(null),p=a.useRef(null),h=a.useRef(null),f=a.useRef(!1),m=a.useRef(null),g=(0,an.A)(Br(t),m),v=a.useRef(null);a.useEffect((()=>{l&&m.current&&(f.current=!r)}),[r,l]),a.useEffect((()=>{if(!l||!m.current)return;const e=(0,ln.A)(m.current);return m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),f.current&&m.current.focus()),()=>{o||(p.current&&p.current.focus&&(c.current=!0,p.current.focus()),p.current=null)}}),[l]),a.useEffect((()=>{if(!l||!m.current)return;const e=(0,ln.A)(m.current),t=t=>{v.current=t,!n&&s()&&"Tab"===t.key&&e.activeElement===m.current&&t.shiftKey&&(c.current=!0,u.current&&u.current.focus())},r=()=>{const t=m.current;if(null===t)return;if(!e.hasFocus()||!s()||c.current)return void(c.current=!1);if(t.contains(e.activeElement))return;if(n&&e.activeElement!==d.current&&e.activeElement!==u.current)return;if(e.activeElement!==h.current)h.current=null;else if(null!==h.current)return;if(!f.current)return;let r=[];if(e.activeElement!==d.current&&e.activeElement!==u.current||(r=i(m.current)),r.length>0){var o,a;const e=Boolean((null==(o=v.current)?void 0:o.shiftKey)&&"Tab"===(null==(a=v.current)?void 0:a.key)),t=r[0],n=r[r.length-1];"string"!==typeof t&&"string"!==typeof n&&(e?n.focus():t.focus())}else t.focus()};e.addEventListener("focusin",r),e.addEventListener("keydown",t,!0);const o=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&r()}),50);return()=>{clearInterval(o),e.removeEventListener("focusin",r),e.removeEventListener("keydown",t,!0)}}),[r,n,o,s,l,i]);const x=e=>{null===p.current&&(p.current=e.relatedTarget),f.current=!0};return(0,Ve.jsxs)(a.Fragment,{children:[(0,Ve.jsx)("div",{tabIndex:l?0:-1,onFocus:x,ref:d,"data-testid":"sentinelStart"}),a.cloneElement(t,{ref:g,onFocus:e=>{null===p.current&&(p.current=e.relatedTarget),f.current=!0,h.current=e.target;const r=t.props.onFocus;r&&r(e)}}),(0,Ve.jsx)("div",{tabIndex:l?0:-1,onFocus:x,ref:u,"data-testid":"sentinelEnd"})]})},ra=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],na={entering:{opacity:1},entered:{opacity:1}},oa=a.forwardRef((function(e,t){const r=gt(),n={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:i=!0,children:s,easing:l,in:c,onEnter:d,onEntered:u,onEntering:p,onExit:h,onExited:f,onExiting:m,style:g,timeout:v=n,TransitionComponent:x=Kr}=e,b=(0,Fe.A)(e,ra),y=a.useRef(null),j=(0,Ht.A)(y,Br(s),t),w=e=>t=>{if(e){const r=y.current;void 0===t?e(r):e(r,t)}},S=w(p),C=w(((e,t)=>{Xr(e);const n=Qr({style:g,timeout:v,easing:l},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),d&&d(e,t)})),A=w(u),E=w(m),k=w((e=>{const t=Qr({style:g,timeout:v,easing:l},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),h&&h(e)})),O=w(f);return(0,Ve.jsx)(x,(0,Be.A)({appear:i,in:c,nodeRef:y,onEnter:C,onEntered:A,onEntering:S,onExit:k,onExited:O,onExiting:E,addEndListener:e=>{o&&o(y.current,e)},timeout:v},b,{children:(e,t)=>a.cloneElement(s,(0,Be.A)({style:(0,Be.A)({opacity:0,visibility:"exited"!==e||c?void 0:"hidden"},na[e],g,s.props.style),ref:j},t))}))}));function aa(e){return(0,Mt.Ay)("MuiBackdrop",e)}(0,St.A)("MuiBackdrop",["root","invisible"]);const ia=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],sa=(0,Ot.Ay)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.invisible&&t.invisible]}})((e=>{let{ownerState:t}=e;return(0,Be.A)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),la=a.forwardRef((function(e,t){var r,n,o;const a=(0,at.b)({props:e,name:"MuiBackdrop"}),{children:i,className:s,component:l="div",components:c={},componentsProps:d={},invisible:u=!1,open:p,slotProps:h={},slots:f={},TransitionComponent:m=oa,transitionDuration:g}=a,v=(0,Fe.A)(a,ia),x=(0,Be.A)({},a,{component:l,invisible:u}),b=(e=>{const{classes:t,invisible:r}=e,n={root:["root",r&&"invisible"]};return(0,kt.A)(n,aa,t)})(x),y=null!=(r=h.root)?r:d.root;return(0,Ve.jsx)(m,(0,Be.A)({in:p,timeout:g},v,{children:(0,Ve.jsx)(sa,(0,Be.A)({"aria-hidden":!0},y,{as:null!=(n=null!=(o=f.root)?o:c.Root)?n:l,className:(0,vt.A)(b.root,s,null==y?void 0:y.className),ownerState:(0,Be.A)({},x,null==y?void 0:y.ownerState),classes:b,ref:t,children:i}))}))}));var ca=r(1782),da=r(2456),ua=r(3940);function pa(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function ha(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function fa(e){return parseInt((0,ua.A)(e).getComputedStyle(e).paddingRight,10)||0}function ma(e,t,r,n,o){const a=[t,r,...n];[].forEach.call(e.children,(e=>{const t=-1===a.indexOf(e),r=!function(e){const t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),r="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||r}(e);t&&r&&ha(e,o)}))}function ga(e,t){let r=-1;return e.some(((e,n)=>!!t(e)&&(r=n,!0))),r}function va(e,t){const r=[],n=e.container;if(!t.disableScrollLock){if(function(e){const t=(0,ln.A)(e);return t.body===e?(0,ua.A)(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(n)){const e=pa((0,ln.A)(n));r.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${fa(n)+e}px`;const t=(0,ln.A)(n).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{r.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight=`${fa(t)+e}px`}))}let e;if(n.parentNode instanceof DocumentFragment)e=(0,ln.A)(n).body;else{const t=n.parentElement,r=(0,ua.A)(n);e="HTML"===(null==t?void 0:t.nodeName)&&"scroll"===r.getComputedStyle(t).overflowY?t:n}r.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{r.forEach((e=>{let{value:t,el:r,property:n}=e;t?r.style.setProperty(n,t):r.style.removeProperty(n)}))}}const xa=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let r=this.modals.indexOf(e);if(-1!==r)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&ha(e.modalRef,!1);const n=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);ma(t,e.mount,e.modalRef,n,!0);const o=ga(this.containers,(e=>e.container===t));return-1!==o?(this.containers[o].modals.push(e),r):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:n}),r)}mount(e,t){const r=ga(this.containers,(t=>-1!==t.modals.indexOf(e))),n=this.containers[r];n.restore||(n.restore=va(n,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=this.modals.indexOf(e);if(-1===r)return r;const n=ga(this.containers,(t=>-1!==t.modals.indexOf(e))),o=this.containers[n];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(r,1),0===o.modals.length)o.restore&&o.restore(),e.modalRef&&ha(e.modalRef,t),ma(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(n,1);else{const e=o.modals[o.modals.length-1];e.modalRef&&ha(e.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};const ba=function(e){const{container:t,disableEscapeKeyDown:r=!1,disableScrollLock:n=!1,manager:o=xa,closeAfterTransition:i=!1,onTransitionEnter:s,onTransitionExited:l,children:c,onClose:d,open:u,rootRef:p}=e,h=a.useRef({}),f=a.useRef(null),m=a.useRef(null),g=(0,an.A)(m,p),[v,x]=a.useState(!u),b=function(e){return!!e&&e.props.hasOwnProperty("in")}(c);let y=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(y=!1);const j=()=>(h.current.modalRef=m.current,h.current.mount=f.current,h.current),w=()=>{o.mount(j(),{disableScrollLock:n}),m.current&&(m.current.scrollTop=0)},S=(0,ca.A)((()=>{const e=function(e){return"function"===typeof e?e():e}(t)||(0,ln.A)(f.current).body;o.add(j(),e),m.current&&w()})),C=a.useCallback((()=>o.isTopModal(j())),[o]),A=(0,ca.A)((e=>{f.current=e,e&&(u&&C()?w():m.current&&ha(m.current,y))})),E=a.useCallback((()=>{o.remove(j(),y)}),[y,o]);a.useEffect((()=>()=>{E()}),[E]),a.useEffect((()=>{u?S():b&&i||E()}),[u,E,b,i,S]);const k=e=>t=>{var n;null==(n=e.onKeyDown)||n.call(e,t),"Escape"===t.key&&229!==t.which&&C()&&(r||(t.stopPropagation(),d&&d(t,"escapeKeyDown")))},O=e=>t=>{var r;null==(r=e.onClick)||r.call(e,t),t.target===t.currentTarget&&d&&d(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=yo(e);delete r.onTransitionEnter,delete r.onTransitionExited;const n=(0,Be.A)({},r,t);return(0,Be.A)({role:"presentation"},n,{onKeyDown:k(n),ref:g})},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,Be.A)({"aria-hidden":!0},e,{onClick:O(e),open:u})},getTransitionProps:()=>({onEnter:(0,da.A)((()=>{x(!1),s&&s()}),null==c?void 0:c.props.onEnter),onExited:(0,da.A)((()=>{x(!0),l&&l(),i&&E()}),null==c?void 0:c.props.onExited)}),rootRef:g,portalRef:A,isTopModal:C,exited:v,hasTransition:b}};function ya(e){return(0,Mt.Ay)("MuiModal",e)}(0,St.A)("MuiModal",["root","hidden","backdrop"]);const ja=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],wa=(0,Ot.Ay)("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.open&&r.exited&&t.hidden]}})((e=>{let{theme:t,ownerState:r}=e;return(0,Be.A)({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!r.open&&r.exited&&{visibility:"hidden"})})),Sa=(0,Ot.Ay)(la,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),Ca=a.forwardRef((function(e,t){var r,n,o,i,s,l;const c=(0,at.b)({name:"MuiModal",props:e}),{BackdropComponent:d=Sa,BackdropProps:u,className:p,closeAfterTransition:h=!1,children:f,container:m,component:g,components:v={},componentsProps:x={},disableAutoFocus:b=!1,disableEnforceFocus:y=!1,disableEscapeKeyDown:j=!1,disablePortal:w=!1,disableRestoreFocus:S=!1,disableScrollLock:C=!1,hideBackdrop:A=!1,keepMounted:E=!1,onBackdropClick:k,open:O,slotProps:P,slots:I}=c,D=(0,Fe.A)(c,ja),M=(0,Be.A)({},c,{closeAfterTransition:h,disableAutoFocus:b,disableEnforceFocus:y,disableEscapeKeyDown:j,disablePortal:w,disableRestoreFocus:S,disableScrollLock:C,hideBackdrop:A,keepMounted:E}),{getRootProps:T,getBackdropProps:R,getTransitionProps:N,portalRef:$,isTopModal:z,exited:L,hasTransition:B}=ba((0,Be.A)({},M,{rootRef:t})),F=(0,Be.A)({},M,{exited:L}),_=(e=>{const{open:t,exited:r,classes:n}=e,o={root:["root",!t&&r&&"hidden"],backdrop:["backdrop"]};return(0,kt.A)(o,ya,n)})(F),U={};if(void 0===f.props.tabIndex&&(U.tabIndex="-1"),B){const{onEnter:e,onExited:t}=N();U.onEnter=e,U.onExited=t}const W=null!=(r=null!=(n=null==I?void 0:I.root)?n:v.Root)?r:wa,V=null!=(o=null!=(i=null==I?void 0:I.backdrop)?i:v.Backdrop)?o:d,G=null!=(s=null==P?void 0:P.root)?s:x.root,H=null!=(l=null==P?void 0:P.backdrop)?l:x.backdrop,q=Ao({elementType:W,externalSlotProps:G,externalForwardedProps:D,getSlotProps:T,additionalProps:{ref:t,as:g},ownerState:F,className:(0,vt.A)(p,null==G?void 0:G.className,null==_?void 0:_.root,!F.open&&F.exited&&(null==_?void 0:_.hidden))}),Y=Ao({elementType:V,externalSlotProps:H,additionalProps:u,getSlotProps:e=>R((0,Be.A)({},e,{onClick:t=>{k&&k(t),null!=e&&e.onClick&&e.onClick(t)}})),className:(0,vt.A)(null==H?void 0:H.className,null==u?void 0:u.className,null==_?void 0:_.backdrop),ownerState:F});return E||O||B&&!L?(0,Ve.jsx)(ko,{ref:$,container:m,disablePortal:w,children:(0,Ve.jsxs)(W,(0,Be.A)({},q,{children:[!A&&d?(0,Ve.jsx)(V,(0,Be.A)({},Y)):null,(0,Ve.jsx)(ta,{disableEnforceFocus:y,disableAutoFocus:b,disableRestoreFocus:S,isEnabled:z,open:O,children:a.cloneElement(f,U)})]}))}):null}));var Aa=r(950),Ea=r(6078);const ka=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Oa(e,t,r){var n;const o=function(e,t,r){const n=t.getBoundingClientRect(),o=r&&r.getBoundingClientRect(),a=(0,Ea.A)(t);let i;if(t.fakeTransform)i=t.fakeTransform;else{const e=a.getComputedStyle(t);i=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("transform")}let s=0,l=0;if(i&&"none"!==i&&"string"===typeof i){const e=i.split("(")[1].split(")")[0].split(",");s=parseInt(e[4],10),l=parseInt(e[5],10)}return"left"===e?o?`translateX(${o.right+s-n.left}px)`:`translateX(${a.innerWidth+s-n.left}px)`:"right"===e?o?`translateX(-${n.right-o.left-s}px)`:`translateX(-${n.left+n.width-s}px)`:"up"===e?o?`translateY(${o.bottom+l-n.top}px)`:`translateY(${a.innerHeight+l-n.top}px)`:o?`translateY(-${n.top-o.top+n.height-l}px)`:`translateY(-${n.top+n.height-l}px)`}(e,t,"function"===typeof(n=r)?n():n);o&&(t.style.webkitTransform=o,t.style.transform=o)}const Pa=a.forwardRef((function(e,t){const r=gt(),n={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:i,appear:s=!0,children:l,container:c,direction:d="down",easing:u=n,in:p,onEnter:h,onEntered:f,onEntering:m,onExit:g,onExited:v,onExiting:x,style:b,timeout:y=o,TransitionComponent:j=Kr}=e,w=(0,Fe.A)(e,ka),S=a.useRef(null),C=(0,Ht.A)(Br(l),S,t),A=e=>t=>{e&&(void 0===t?e(S.current):e(S.current,t))},E=A(((e,t)=>{Oa(d,e,c),Xr(e),h&&h(e,t)})),k=A(((e,t)=>{const n=Qr({timeout:y,style:b,easing:u},{mode:"enter"});e.style.webkitTransition=r.transitions.create("-webkit-transform",(0,Be.A)({},n)),e.style.transition=r.transitions.create("transform",(0,Be.A)({},n)),e.style.webkitTransform="none",e.style.transform="none",m&&m(e,t)})),O=A(f),P=A(x),I=A((e=>{const t=Qr({timeout:y,style:b,easing:u},{mode:"exit"});e.style.webkitTransition=r.transitions.create("-webkit-transform",t),e.style.transition=r.transitions.create("transform",t),Oa(d,e,c),g&&g(e)})),D=A((e=>{e.style.webkitTransition="",e.style.transition="",v&&v(e)})),M=a.useCallback((()=>{S.current&&Oa(d,S.current,c)}),[d,c]);return a.useEffect((()=>{if(p||"down"===d||"right"===d)return;const e=(0,Aa.A)((()=>{S.current&&Oa(d,S.current,c)})),t=(0,Ea.A)(S.current);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[d,p,c]),a.useEffect((()=>{p||M()}),[p,M]),(0,Ve.jsx)(j,(0,Be.A)({nodeRef:S,onEnter:E,onEntered:O,onEntering:k,onExit:I,onExited:D,onExiting:P,addEndListener:e=>{i&&i(S.current,e)},appear:s,in:p,timeout:y},w,{children:(e,t)=>a.cloneElement(l,(0,Be.A)({ref:C,style:(0,Be.A)({visibility:"exited"!==e||p?void 0:"hidden"},b,l.props.style)},t))}))}));var Ia=r(1475);function Da(e){return(0,Mt.Ay)("MuiDrawer",e)}(0,St.A)("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const Ma=["BackdropProps"],Ta=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],Ra=(e,t)=>{const{ownerState:r}=e;return[t.root,("permanent"===r.variant||"persistent"===r.variant)&&t.docked,t.modal]},Na=(0,Ot.Ay)(Ca,{name:"MuiDrawer",slot:"Root",overridesResolver:Ra})((e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.drawer}})),$a=(0,Ot.Ay)("div",{shouldForwardProp:Ia.A,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:Ra})({flex:"0 0 auto"}),za=(0,Ot.Ay)($t,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.paper,t[`paperAnchor${(0,Pt.A)(r.anchor)}`],"temporary"!==r.variant&&t[`paperAnchorDocked${(0,Pt.A)(r.anchor)}`]]}})((e=>{let{theme:t,ownerState:r}=e;return(0,Be.A)({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},"left"===r.anchor&&{left:0},"top"===r.anchor&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},"right"===r.anchor&&{right:0},"bottom"===r.anchor&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},"left"===r.anchor&&"temporary"!==r.variant&&{borderRight:`1px solid ${(t.vars||t).palette.divider}`},"top"===r.anchor&&"temporary"!==r.variant&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`},"right"===r.anchor&&"temporary"!==r.variant&&{borderLeft:`1px solid ${(t.vars||t).palette.divider}`},"bottom"===r.anchor&&"temporary"!==r.variant&&{borderTop:`1px solid ${(t.vars||t).palette.divider}`})})),La={left:"right",right:"left",top:"down",bottom:"up"};const Ba=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiDrawer"}),n=gt(),o=Xe(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{anchor:s="left",BackdropProps:l,children:c,className:d,elevation:u=16,hideBackdrop:p=!1,ModalProps:{BackdropProps:h}={},onClose:f,open:m=!1,PaperProps:g={},SlideProps:v,TransitionComponent:x=Pa,transitionDuration:b=i,variant:y="temporary"}=r,j=(0,Fe.A)(r.ModalProps,Ma),w=(0,Fe.A)(r,Ta),S=a.useRef(!1);a.useEffect((()=>{S.current=!0}),[]);const C=function(e,t){let{direction:r}=e;return"rtl"===r&&function(e){return-1!==["left","right"].indexOf(e)}(t)?La[t]:t}({direction:o?"rtl":"ltr"},s),A=s,E=(0,Be.A)({},r,{anchor:A,elevation:u,open:m,variant:y},w),k=(e=>{const{classes:t,anchor:r,variant:n}=e,o={root:["root"],docked:[("permanent"===n||"persistent"===n)&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${(0,Pt.A)(r)}`,"temporary"!==n&&`paperAnchorDocked${(0,Pt.A)(r)}`]};return(0,kt.A)(o,Da,t)})(E),O=(0,Ve.jsx)(za,(0,Be.A)({elevation:"temporary"===y?u:0,square:!0},g,{className:(0,vt.A)(k.paper,g.className),ownerState:E,children:c}));if("permanent"===y)return(0,Ve.jsx)($a,(0,Be.A)({className:(0,vt.A)(k.root,k.docked,d),ownerState:E,ref:t},w,{children:O}));const P=(0,Ve.jsx)(x,(0,Be.A)({in:m,direction:La[C],timeout:b,appear:S.current},v,{children:O}));return"persistent"===y?(0,Ve.jsx)($a,(0,Be.A)({className:(0,vt.A)(k.root,k.docked,d),ownerState:E,ref:t},w,{children:P})):(0,Ve.jsx)(Na,(0,Be.A)({BackdropProps:(0,Be.A)({},l,h,{transitionDuration:b}),className:(0,vt.A)(k.root,k.modal,d),open:m,ownerState:E,onClose:f,hideBackdrop:p,ref:t},w,j,{children:P}))}));const Fa=a.createContext({});function _a(e){return(0,Mt.Ay)("MuiList",e)}(0,St.A)("MuiList",["root","padding","dense","subheader"]);const Ua=["children","className","component","dense","disablePadding","subheader"],Wa=(0,Ot.Ay)("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disablePadding&&t.padding,r.dense&&t.dense,r.subheader&&t.subheader]}})((e=>{let{ownerState:t}=e;return(0,Be.A)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),Va=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiList"}),{children:n,className:o,component:i="ul",dense:s=!1,disablePadding:l=!1,subheader:c}=r,d=(0,Fe.A)(r,Ua),u=a.useMemo((()=>({dense:s})),[s]),p=(0,Be.A)({},r,{component:i,dense:s,disablePadding:l}),h=(e=>{const{classes:t,disablePadding:r,dense:n,subheader:o}=e,a={root:["root",!r&&"padding",n&&"dense",o&&"subheader"]};return(0,kt.A)(a,_a,t)})(p);return(0,Ve.jsx)(Fa.Provider,{value:u,children:(0,Ve.jsxs)(Wa,(0,Be.A)({as:i,className:(0,vt.A)(h.root,o),ref:t,ownerState:p},d,{children:[c,n]}))})}));var Ga=r(7328),Ha=r(5013);function qa(e){return(0,Mt.Ay)("MuiListItem",e)}const Ya=(0,St.A)("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);const Ka=(0,St.A)("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function Xa(e){return(0,Mt.Ay)("MuiListItemSecondaryAction",e)}(0,St.A)("MuiListItemSecondaryAction",["root","disableGutters"]);const Qa=["className"],Ja=(0,Ot.Ay)("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.disableGutters&&t.disableGutters]}})((e=>{let{ownerState:t}=e;return(0,Be.A)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})})),Za=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiListItemSecondaryAction"}),{className:n}=r,o=(0,Fe.A)(r,Qa),i=a.useContext(Fa),s=(0,Be.A)({},r,{disableGutters:i.disableGutters}),l=(e=>{const{disableGutters:t,classes:r}=e,n={root:["root",t&&"disableGutters"]};return(0,kt.A)(n,Xa,r)})(s);return(0,Ve.jsx)(Ja,(0,Be.A)({className:(0,vt.A)(l.root,n),ownerState:s,ref:t},o))}));Za.muiName="ListItemSecondaryAction";const ei=Za,ti=["className"],ri=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],ni=(0,Ot.Ay)("div",{name:"MuiListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,"flex-start"===r.alignItems&&t.alignItemsFlexStart,r.divider&&t.divider,!r.disableGutters&&t.gutters,!r.disablePadding&&t.padding,r.button&&t.button,r.hasSecondaryAction&&t.secondaryAction]}})((e=>{let{theme:t,ownerState:r}=e;return(0,Be.A)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!r.disablePadding&&(0,Be.A)({paddingTop:8,paddingBottom:8},r.dense&&{paddingTop:4,paddingBottom:4},!r.disableGutters&&{paddingLeft:16,paddingRight:16},!!r.secondaryAction&&{paddingRight:48}),!!r.secondaryAction&&{[`& > .${Ka.root}`]:{paddingRight:48}},{[`&.${Ya.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Ya.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,It.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Ya.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,It.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Ya.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},"flex-start"===r.alignItems&&{alignItems:"flex-start"},r.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},r.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ya.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,It.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,It.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}}},r.hasSecondaryAction&&{paddingRight:48})})),oi=(0,Ot.Ay)("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),ai=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiListItem"}),{alignItems:n="center",autoFocus:o=!1,button:i=!1,children:s,className:l,component:c,components:d={},componentsProps:u={},ContainerComponent:p="li",ContainerProps:{className:h}={},dense:f=!1,disabled:m=!1,disableGutters:g=!1,disablePadding:v=!1,divider:x=!1,focusVisibleClassName:b,secondaryAction:y,selected:j=!1,slotProps:w={},slots:S={}}=r,C=(0,Fe.A)(r.ContainerProps,ti),A=(0,Fe.A)(r,ri),E=a.useContext(Fa),k=a.useMemo((()=>({dense:f||E.dense||!1,alignItems:n,disableGutters:g})),[n,E.dense,f,g]),O=a.useRef(null);(0,Ha.A)((()=>{o&&O.current&&O.current.focus()}),[o]);const P=a.Children.toArray(s),I=P.length&&(0,Ga.A)(P[P.length-1],["ListItemSecondaryAction"]),D=(0,Be.A)({},r,{alignItems:n,autoFocus:o,button:i,dense:k.dense,disabled:m,disableGutters:g,disablePadding:v,divider:x,hasSecondaryAction:I,selected:j}),M=(e=>{const{alignItems:t,button:r,classes:n,dense:o,disabled:a,disableGutters:i,disablePadding:s,divider:l,hasSecondaryAction:c,selected:d}=e,u={root:["root",o&&"dense",!i&&"gutters",!s&&"padding",l&&"divider",a&&"disabled",r&&"button","flex-start"===t&&"alignItemsFlexStart",c&&"secondaryAction",d&&"selected"],container:["container"]};return(0,kt.A)(u,qa,n)})(D),T=(0,Ht.A)(O,t),R=S.root||d.Root||ni,N=w.root||u.root||{},$=(0,Be.A)({className:(0,vt.A)(M.root,N.className,l),disabled:m},A);let z=c||"li";return i&&($.component=c||"div",$.focusVisibleClassName=(0,vt.A)(Ya.focusVisible,b),z=Ar),I?(z=$.component||c?z:"div","li"===p&&("li"===z?z="div":"li"===$.component&&($.component="div")),(0,Ve.jsx)(Fa.Provider,{value:k,children:(0,Ve.jsxs)(oi,(0,Be.A)({as:p,className:(0,vt.A)(M.container,h),ref:T,ownerState:D},C,{children:[(0,Ve.jsx)(R,(0,Be.A)({},N,!zr(R)&&{as:z,ownerState:(0,Be.A)({},D,N.ownerState)},$,{children:P})),P.pop()]}))})):(0,Ve.jsx)(Fa.Provider,{value:k,children:(0,Ve.jsxs)(R,(0,Be.A)({},N,{as:z,ref:T},!zr(R)&&{ownerState:(0,Be.A)({},D,N.ownerState)},$,{children:[P,y&&(0,Ve.jsx)(ei,{children:y})]}))})}));function ii(e){return(0,Mt.Ay)("MuiListItemIcon",e)}const si=(0,St.A)("MuiListItemIcon",["root","alignItemsFlexStart"]),li=["className"],ci=(0,Ot.Ay)("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,"flex-start"===r.alignItems&&t.alignItemsFlexStart]}})((e=>{let{theme:t,ownerState:r}=e;return(0,Be.A)({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex"},"flex-start"===r.alignItems&&{marginTop:8})})),di=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiListItemIcon"}),{className:n}=r,o=(0,Fe.A)(r,li),i=a.useContext(Fa),s=(0,Be.A)({},r,{alignItems:i.alignItems}),l=(e=>{const{alignItems:t,classes:r}=e,n={root:["root","flex-start"===t&&"alignItemsFlexStart"]};return(0,kt.A)(n,ii,r)})(s);return(0,Ve.jsx)(ci,(0,Be.A)({className:(0,vt.A)(l.root,n),ownerState:s,ref:t},o))}));function ui(e){return(0,Mt.Ay)("MuiListItemText",e)}const pi=(0,St.A)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),hi=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],fi=(0,Ot.Ay)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${pi.primary}`]:t.primary},{[`& .${pi.secondary}`]:t.secondary},t.root,r.inset&&t.inset,r.primary&&r.secondary&&t.multiline,r.dense&&t.dense]}})((e=>{let{ownerState:t}=e;return(0,Be.A)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})})),mi=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiListItemText"}),{children:n,className:o,disableTypography:i=!1,inset:s=!1,primary:l,primaryTypographyProps:c,secondary:d,secondaryTypographyProps:u}=r,p=(0,Fe.A)(r,hi),{dense:h}=a.useContext(Fa);let f=null!=l?l:n,m=d;const g=(0,Be.A)({},r,{disableTypography:i,inset:s,primary:!!f,secondary:!!m,dense:h}),v=(e=>{const{classes:t,inset:r,primary:n,secondary:o,dense:a}=e,i={root:["root",r&&"inset",a&&"dense",n&&o&&"multiline"],primary:["primary"],secondary:["secondary"]};return(0,kt.A)(i,ui,t)})(g);return null==f||f.type===$r||i||(f=(0,Ve.jsx)($r,(0,Be.A)({variant:h?"body2":"body1",className:v.primary,component:null!=c&&c.variant?void 0:"span",display:"block"},c,{children:f}))),null==m||m.type===$r||i||(m=(0,Ve.jsx)($r,(0,Be.A)({variant:"body2",className:v.secondary,color:"text.secondary",display:"block"},u,{children:m}))),(0,Ve.jsxs)(fi,(0,Be.A)({className:(0,vt.A)(v.root,o),ownerState:g,ref:t},p,{children:[f,m]}))}));var gi=r(4318);function vi(e){return(0,Mt.Ay)("MuiCollapse",e)}(0,St.A)("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const xi=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],bi=(0,Ot.Ay)("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.orientation],"entered"===r.state&&t.entered,"exited"===r.state&&!r.in&&"0px"===r.collapsedSize&&t.hidden]}})((e=>{let{theme:t,ownerState:r}=e;return(0,Be.A)({height:0,overflow:"hidden",transition:t.transitions.create("height")},"horizontal"===r.orientation&&{height:"auto",width:0,transition:t.transitions.create("width")},"entered"===r.state&&(0,Be.A)({height:"auto",overflow:"visible"},"horizontal"===r.orientation&&{width:"auto"}),"exited"===r.state&&!r.in&&"0px"===r.collapsedSize&&{visibility:"hidden"})})),yi=(0,Ot.Ay)("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})((e=>{let{ownerState:t}=e;return(0,Be.A)({display:"flex",width:"100%"},"horizontal"===t.orientation&&{width:"auto",height:"100%"})})),ji=(0,Ot.Ay)("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})((e=>{let{ownerState:t}=e;return(0,Be.A)({width:"100%"},"horizontal"===t.orientation&&{width:"auto",height:"100%"})})),wi=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiCollapse"}),{addEndListener:n,children:o,className:i,collapsedSize:s="0px",component:l,easing:c,in:d,onEnter:u,onEntered:p,onEntering:h,onExit:f,onExited:m,onExiting:g,orientation:v="vertical",style:x,timeout:b=gi.p0.standard,TransitionComponent:y=Kr}=r,j=(0,Fe.A)(r,xi),w=(0,Be.A)({},r,{orientation:v,collapsedSize:s}),S=(e=>{const{orientation:t,classes:r}=e,n={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return(0,kt.A)(n,vi,r)})(w),C=gt(),A=(0,ir.A)(),E=a.useRef(null),k=a.useRef(),O="number"===typeof s?`${s}px`:s,P="horizontal"===v,I=P?"width":"height",D=a.useRef(null),M=(0,Ht.A)(t,D),T=e=>t=>{if(e){const r=D.current;void 0===t?e(r):e(r,t)}},R=()=>E.current?E.current[P?"clientWidth":"clientHeight"]:0,N=T(((e,t)=>{E.current&&P&&(E.current.style.position="absolute"),e.style[I]=O,u&&u(e,t)})),$=T(((e,t)=>{const r=R();E.current&&P&&(E.current.style.position="");const{duration:n,easing:o}=Qr({style:x,timeout:b,easing:c},{mode:"enter"});if("auto"===b){const t=C.transitions.getAutoHeightDuration(r);e.style.transitionDuration=`${t}ms`,k.current=t}else e.style.transitionDuration="string"===typeof n?n:`${n}ms`;e.style[I]=`${r}px`,e.style.transitionTimingFunction=o,h&&h(e,t)})),z=T(((e,t)=>{e.style[I]="auto",p&&p(e,t)})),L=T((e=>{e.style[I]=`${R()}px`,f&&f(e)})),B=T(m),F=T((e=>{const t=R(),{duration:r,easing:n}=Qr({style:x,timeout:b,easing:c},{mode:"exit"});if("auto"===b){const r=C.transitions.getAutoHeightDuration(t);e.style.transitionDuration=`${r}ms`,k.current=r}else e.style.transitionDuration="string"===typeof r?r:`${r}ms`;e.style[I]=O,e.style.transitionTimingFunction=n,g&&g(e)}));return(0,Ve.jsx)(y,(0,Be.A)({in:d,onEnter:N,onEntered:z,onEntering:$,onExit:L,onExited:B,onExiting:F,addEndListener:e=>{"auto"===b&&A.start(k.current||0,e),n&&n(D.current,e)},nodeRef:D,timeout:"auto"===b?null:b},j,{children:(e,t)=>(0,Ve.jsx)(bi,(0,Be.A)({as:l,className:(0,vt.A)(S.root,i,{entered:S.entered,exited:!d&&"0px"===O&&S.hidden}[e]),style:(0,Be.A)({[P?"minWidth":"minHeight"]:O},x),ref:M},t,{ownerState:(0,Be.A)({},w,{state:e}),children:(0,Ve.jsx)(yi,{ownerState:(0,Be.A)({},w,{state:e}),className:S.wrapper,ref:E,children:(0,Ve.jsx)(ji,{ownerState:(0,Be.A)({},w,{state:e}),className:S.wrapperInner,children:o})})}))}))}));wi.muiSupportAuto=!0;const Si=wi;function Ci(e){return(0,Mt.Ay)("MuiDivider",e)}const Ai=(0,St.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),Ei=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],ki=(0,Ot.Ay)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.absolute&&t.absolute,t[r.variant],r.light&&t.light,"vertical"===r.orientation&&t.vertical,r.flexItem&&t.flexItem,r.children&&t.withChildren,r.children&&"vertical"===r.orientation&&t.withChildrenVertical,"right"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignRight,"left"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignLeft]}})((e=>{let{theme:t,ownerState:r}=e;return(0,Be.A)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},r.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},r.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:(0,It.X4)(t.palette.divider,.08)},"inset"===r.variant&&{marginLeft:72},"middle"===r.variant&&"horizontal"===r.orientation&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},"middle"===r.variant&&"vertical"===r.orientation&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},"vertical"===r.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},r.flexItem&&{alignSelf:"stretch",height:"auto"})}),(e=>{let{ownerState:t}=e;return(0,Be.A)({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}})}),(e=>{let{theme:t,ownerState:r}=e;return(0,Be.A)({},r.children&&"vertical"!==r.orientation&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}})}),(e=>{let{theme:t,ownerState:r}=e;return(0,Be.A)({},r.children&&"vertical"===r.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}})}),(e=>{let{ownerState:t}=e;return(0,Be.A)({},"right"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})})),Oi=(0,Ot.Ay)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.wrapper,"vertical"===r.orientation&&t.wrapperVertical]}})((e=>{let{theme:t,ownerState:r}=e;return(0,Be.A)({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},"vertical"===r.orientation&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})})),Pi=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiDivider"}),{absolute:n=!1,children:o,className:a,component:i=(o?"div":"hr"),flexItem:s=!1,light:l=!1,orientation:c="horizontal",role:d=("hr"!==i?"separator":void 0),textAlign:u="center",variant:p="fullWidth"}=r,h=(0,Fe.A)(r,Ei),f=(0,Be.A)({},r,{absolute:n,component:i,flexItem:s,light:l,orientation:c,role:d,textAlign:u,variant:p}),m=(e=>{const{absolute:t,children:r,classes:n,flexItem:o,light:a,orientation:i,textAlign:s,variant:l}=e,c={root:["root",t&&"absolute",l,a&&"light","vertical"===i&&"vertical",o&&"flexItem",r&&"withChildren",r&&"vertical"===i&&"withChildrenVertical","right"===s&&"vertical"!==i&&"textAlignRight","left"===s&&"vertical"!==i&&"textAlignLeft"],wrapper:["wrapper","vertical"===i&&"wrapperVertical"]};return(0,kt.A)(c,Ci,n)})(f);return(0,Ve.jsx)(ki,(0,Be.A)({as:i,className:(0,vt.A)(m.root,a),role:d,ref:t,ownerState:f},h,{children:o?(0,Ve.jsx)(Oi,{className:m.wrapper,ownerState:f,children:o}):null}))}));Pi.muiSkipListHighlight=!0;const Ii=Pi;var Di=r(5844);function Mi(e){return(0,Mt.Ay)("MuiDialog",e)}const Ti=(0,St.A)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);const Ri=a.createContext({}),Ni=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],$i=(0,Ot.Ay)(la,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),zi=(0,Ot.Ay)(Ca,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),Li=(0,Ot.Ay)("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.container,t[`scroll${(0,Pt.A)(r.scroll)}`]]}})((e=>{let{ownerState:t}=e;return(0,Be.A)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===t.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===t.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})})),Bi=(0,Ot.Ay)($t,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.paper,t[`scrollPaper${(0,Pt.A)(r.scroll)}`],t[`paperWidth${(0,Pt.A)(String(r.maxWidth))}`],r.fullWidth&&t.paperFullWidth,r.fullScreen&&t.paperFullScreen]}})((e=>{let{theme:t,ownerState:r}=e;return(0,Be.A)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===r.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===r.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!r.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===r.maxWidth&&{maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${Ti.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},r.maxWidth&&"xs"!==r.maxWidth&&{maxWidth:`${t.breakpoints.values[r.maxWidth]}${t.breakpoints.unit}`,[`&.${Ti.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[r.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},r.fullWidth&&{width:"calc(100% - 64px)"},r.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Ti.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})})),Fi=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiDialog"}),n=gt(),o={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{"aria-describedby":i,"aria-labelledby":s,BackdropComponent:l,BackdropProps:c,children:d,className:u,disableEscapeKeyDown:p=!1,fullScreen:h=!1,fullWidth:f=!1,maxWidth:m="sm",onBackdropClick:g,onClick:v,onClose:x,open:b,PaperComponent:y=$t,PaperProps:j={},scroll:w="paper",TransitionComponent:S=oa,transitionDuration:C=o,TransitionProps:A}=r,E=(0,Fe.A)(r,Ni),k=(0,Be.A)({},r,{disableEscapeKeyDown:p,fullScreen:h,fullWidth:f,maxWidth:m,scroll:w}),O=(e=>{const{classes:t,scroll:r,maxWidth:n,fullWidth:o,fullScreen:a}=e,i={root:["root"],container:["container",`scroll${(0,Pt.A)(r)}`],paper:["paper",`paperScroll${(0,Pt.A)(r)}`,`paperWidth${(0,Pt.A)(String(n))}`,o&&"paperFullWidth",a&&"paperFullScreen"]};return(0,kt.A)(i,Mi,t)})(k),P=a.useRef(),I=(0,Di.A)(s),D=a.useMemo((()=>({titleId:I})),[I]);return(0,Ve.jsx)(zi,(0,Be.A)({className:(0,vt.A)(O.root,u),closeAfterTransition:!0,components:{Backdrop:$i},componentsProps:{backdrop:(0,Be.A)({transitionDuration:C,as:l},c)},disableEscapeKeyDown:p,onClose:x,open:b,ref:t,onClick:e=>{v&&v(e),P.current&&(P.current=null,g&&g(e),x&&x(e,"backdropClick"))},ownerState:k},E,{children:(0,Ve.jsx)(S,(0,Be.A)({appear:!0,in:b,timeout:C,role:"presentation"},A,{children:(0,Ve.jsx)(Li,{className:(0,vt.A)(O.container),onMouseDown:e=>{P.current=e.target===e.currentTarget},ownerState:k,children:(0,Ve.jsx)(Bi,(0,Be.A)({as:y,elevation:24,role:"dialog","aria-describedby":i,"aria-labelledby":I},j,{className:(0,vt.A)(O.paper,j.className),ownerState:k,children:(0,Ve.jsx)(Ri.Provider,{value:D,children:d})}))})}))}))}));function _i(e){return(0,Mt.Ay)("MuiDialogTitle",e)}const Ui=(0,St.A)("MuiDialogTitle",["root"]),Wi=["className","id"],Vi=(0,Ot.Ay)($r,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),Gi=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiDialogTitle"}),{className:n,id:o}=r,i=(0,Fe.A)(r,Wi),s=r,l=(e=>{const{classes:t}=e;return(0,kt.A)({root:["root"]},_i,t)})(s),{titleId:c=o}=a.useContext(Ri);return(0,Ve.jsx)(Vi,(0,Be.A)({component:"h2",className:(0,vt.A)(l.root,n),ownerState:s,ref:t,variant:"h6",id:null!=o?o:c},i))}));function Hi(e){return(0,Mt.Ay)("MuiDialogContent",e)}(0,St.A)("MuiDialogContent",["root","dividers"]);const qi=["className","dividers"],Yi=(0,Ot.Ay)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.dividers&&t.dividers]}})((e=>{let{theme:t,ownerState:r}=e;return(0,Be.A)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},r.dividers?{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}:{[`.${Ui.root} + &`]:{paddingTop:0}})})),Ki=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiDialogContent"}),{className:n,dividers:o=!1}=r,a=(0,Fe.A)(r,qi),i=(0,Be.A)({},r,{dividers:o}),s=(e=>{const{classes:t,dividers:r}=e,n={root:["root",r&&"dividers"]};return(0,kt.A)(n,Hi,t)})(i);return(0,Ve.jsx)(Yi,(0,Be.A)({className:(0,vt.A)(s.root,n),ownerState:i,ref:t},a))}));function Xi(e){return(0,Mt.Ay)("MuiDialogContentText",e)}(0,St.A)("MuiDialogContentText",["root"]);const Qi=["children","className"],Ji=(0,Ot.Ay)($r,{shouldForwardProp:e=>(0,Ia.A)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Zi=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiDialogContentText"}),{className:n}=r,o=(0,Fe.A)(r,Qi),a=(e=>{const{classes:t}=e,r=(0,kt.A)({root:["root"]},Xi,t);return(0,Be.A)({},t,r)})(o);return(0,Ve.jsx)(Ji,(0,Be.A)({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:o,className:(0,vt.A)(a.root,n)},r,{classes:a}))}));function es(e){return(0,Mt.Ay)("MuiDialogActions",e)}(0,St.A)("MuiDialogActions",["root","spacing"]);const ts=["className","disableSpacing"],rs=(0,Ot.Ay)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disableSpacing&&t.spacing]}})((e=>{let{ownerState:t}=e;return(0,Be.A)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})})),ns=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiDialogActions"}),{className:n,disableSpacing:o=!1}=r,a=(0,Fe.A)(r,ts),i=(0,Be.A)({},r,{disableSpacing:o}),s=(e=>{const{classes:t,disableSpacing:r}=e,n={root:["root",!r&&"spacing"]};return(0,kt.A)(n,es,t)})(i);return(0,Ve.jsx)(rs,(0,Be.A)({className:(0,vt.A)(s.root,n),ownerState:i,ref:t},a))}));var os=r(3030);function as(e){return(0,Mt.Ay)("MuiButton",e)}const is=(0,St.A)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);const ss=a.createContext({});const ls=a.createContext(void 0),cs=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],ds=e=>(0,Be.A)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),us=(0,Ot.Ay)(Ar,{shouldForwardProp:e=>(0,Ia.A)(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${(0,Pt.A)(r.color)}`],t[`size${(0,Pt.A)(r.size)}`],t[`${r.variant}Size${(0,Pt.A)(r.size)}`],"inherit"===r.color&&t.colorInherit,r.disableElevation&&t.disableElevation,r.fullWidth&&t.fullWidth]}})((e=>{let{theme:t,ownerState:r}=e;var n,o;const a="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],i="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return(0,Be.A)({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":(0,Be.A)({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,It.X4)(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===r.variant&&"inherit"!==r.color&&{backgroundColor:t.vars?`rgba(${t.vars.palette[r.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,It.X4)(t.palette[r.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===r.variant&&"inherit"!==r.color&&{border:`1px solid ${(t.vars||t).palette[r.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[r.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,It.X4)(t.palette[r.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===r.variant&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:i,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},"contained"===r.variant&&"inherit"!==r.color&&{backgroundColor:(t.vars||t).palette[r.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[r.color].main}}),"&:active":(0,Be.A)({},"contained"===r.variant&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${is.focusVisible}`]:(0,Be.A)({},"contained"===r.variant&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${is.disabled}`]:(0,Be.A)({color:(t.vars||t).palette.action.disabled},"outlined"===r.variant&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},"contained"===r.variant&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},"text"===r.variant&&{padding:"6px 8px"},"text"===r.variant&&"inherit"!==r.color&&{color:(t.vars||t).palette[r.color].main},"outlined"===r.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===r.variant&&"inherit"!==r.color&&{color:(t.vars||t).palette[r.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[r.color].mainChannel} / 0.5)`:`1px solid ${(0,It.X4)(t.palette[r.color].main,.5)}`},"contained"===r.variant&&{color:t.vars?t.vars.palette.text.primary:null==(n=(o=t.palette).getContrastText)?void 0:n.call(o,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:a,boxShadow:(t.vars||t).shadows[2]},"contained"===r.variant&&"inherit"!==r.color&&{color:(t.vars||t).palette[r.color].contrastText,backgroundColor:(t.vars||t).palette[r.color].main},"inherit"===r.color&&{color:"inherit",borderColor:"currentColor"},"small"===r.size&&"text"===r.variant&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},"large"===r.size&&"text"===r.variant&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},"small"===r.size&&"outlined"===r.variant&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},"large"===r.size&&"outlined"===r.variant&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},"small"===r.size&&"contained"===r.variant&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},"large"===r.size&&"contained"===r.variant&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},r.fullWidth&&{width:"100%"})}),(e=>{let{ownerState:t}=e;return t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${is.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${is.disabled}`]:{boxShadow:"none"}}})),ps=(0,Ot.Ay)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.startIcon,t[`iconSize${(0,Pt.A)(r.size)}`]]}})((e=>{let{ownerState:t}=e;return(0,Be.A)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},ds(t))})),hs=(0,Ot.Ay)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.endIcon,t[`iconSize${(0,Pt.A)(r.size)}`]]}})((e=>{let{ownerState:t}=e;return(0,Be.A)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},ds(t))})),fs=a.forwardRef((function(e,t){const r=a.useContext(ss),n=a.useContext(ls),o=(0,os.A)(r,e),i=(0,at.b)({props:o,name:"MuiButton"}),{children:s,color:l="primary",component:c="button",className:d,disabled:u=!1,disableElevation:p=!1,disableFocusRipple:h=!1,endIcon:f,focusVisibleClassName:m,fullWidth:g=!1,size:v="medium",startIcon:x,type:b,variant:y="text"}=i,j=(0,Fe.A)(i,cs),w=(0,Be.A)({},i,{color:l,component:c,disabled:u,disableElevation:p,disableFocusRipple:h,fullWidth:g,size:v,type:b,variant:y}),S=(e=>{const{color:t,disableElevation:r,fullWidth:n,size:o,variant:a,classes:i}=e,s={root:["root",a,`${a}${(0,Pt.A)(t)}`,`size${(0,Pt.A)(o)}`,`${a}Size${(0,Pt.A)(o)}`,`color${(0,Pt.A)(t)}`,r&&"disableElevation",n&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${(0,Pt.A)(o)}`],endIcon:["icon","endIcon",`iconSize${(0,Pt.A)(o)}`]},l=(0,kt.A)(s,as,i);return(0,Be.A)({},i,l)})(w),C=x&&(0,Ve.jsx)(ps,{className:S.startIcon,ownerState:w,children:x}),A=f&&(0,Ve.jsx)(hs,{className:S.endIcon,ownerState:w,children:f}),E=n||"";return(0,Ve.jsxs)(us,(0,Be.A)({ownerState:w,className:(0,vt.A)(r.className,S.root,d,E),component:c,disabled:u,focusRipple:!h,focusVisibleClassName:(0,vt.A)(S.focusVisible,m),ref:t,type:b},j,{classes:S,children:[C,s,A]}))}));var ms=r(9662);const gs=(0,ms.A)((0,Ve.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home"),vs=(0,ms.A)((0,Ve.jsx)("path",{d:"M4 10h3v7H4zm6.5 0h3v7h-3zM2 19h20v3H2zm15-9h3v7h-3zm-5-9L2 6v2h20V6z"}),"AccountBalance"),xs=(0,ms.A)((0,Ve.jsx)("path",{d:"M20 2H4c-1 0-2 .9-2 2v3.01c0 .72.43 1.34 1 1.69V20c0 1.1 1.1 2 2 2h14c.9 0 2-.9 2-2V8.7c.57-.35 1-.97 1-1.69V4c0-1.1-1-2-2-2m-5 12H9v-2h6zm5-7H4V4l16-.02z"}),"Inventory"),bs=(0,ms.A)((0,Ve.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),ys=(0,ms.A)((0,Ve.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16"}),"MonetizationOn"),js=(0,ms.A)((0,Ve.jsx)("path",{d:"M17 2H7c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m0 4H7V4h10zm3 16H4c-1.1 0-2-.9-2-2v-1h20v1c0 1.1-.9 2-2 2m-1.47-11.81C18.21 9.47 17.49 9 16.7 9H7.3c-.79 0-1.51.47-1.83 1.19L2 18h20zM9.5 16h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5m0-2h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5m0-2h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5m3 4h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5m0-2h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5m0-2h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5m3 4h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5m0-2h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5m0-2h-1c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h1c.28 0 .5.22.5.5s-.22.5-.5.5"}),"PointOfSale"),ws=(0,ms.A)((0,Ve.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-5.97 4.06L14.09 6l1.41 1.41L16.91 6l1.06 1.06-1.41 1.41 1.41 1.41-1.06 1.06-1.41-1.4-1.41 1.41-1.06-1.06 1.41-1.41zm-6.78.66h5v1.5h-5zM11.5 16h-2v2H8v-2H6v-1.5h2v-2h1.5v2h2zm6.5 1.25h-5v-1.5h5zm0-2.5h-5v-1.5h5z"}),"Calculate"),Ss=(0,ms.A)((0,Ve.jsx)("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4"}),"AttachMoney"),Cs=(0,ms.A)((0,Ve.jsx)("path",{d:"M12 12.75c1.63 0 3.07.39 4.24.9 1.08.48 1.76 1.56 1.76 2.73V18H6v-1.61c0-1.18.68-2.26 1.76-2.73 1.17-.52 2.61-.91 4.24-.91M4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58C.48 14.9 0 15.62 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29M20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m4 3.43c0-.81-.48-1.53-1.22-1.85-.85-.37-1.79-.58-2.78-.58-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24zM12 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3"}),"Groups"),As=(0,ms.A)((0,Ve.jsx)("path",{d:"M10.5 13H8v-3h2.5V7.5h3V10H16v3h-2.5v2.5h-3zM12 2 4 5v6.09c0 5.05 3.41 9.76 8 10.91 4.59-1.15 8-5.86 8-10.91V5z"}),"HealthAndSafety"),Es=(0,ms.A)((0,Ve.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),ks=(0,ms.A)((0,Ve.jsx)("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m0 4c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3m6 12H6v-1.4c0-2 4-3.1 6-3.1s6 1.1 6 3.1z"}),"AssignmentInd"),Os=(0,ms.A)((0,Ve.jsx)("path",{d:"M12.89 11.1c-1.78-.59-2.64-.96-2.64-1.9 0-1.02 1.11-1.39 1.81-1.39 1.31 0 1.79.99 1.9 1.34l1.58-.67c-.15-.45-.82-1.92-2.54-2.24V5h-2v1.26c-2.48.56-2.49 2.86-2.49 2.96 0 2.27 2.25 2.91 3.35 3.31 1.58.56 2.28 1.07 2.28 2.03 0 1.13-1.05 1.61-1.98 1.61-1.82 0-2.34-1.87-2.4-2.09l-1.66.67c.63 2.19 2.28 2.78 2.9 2.96V19h2v-1.24c.4-.09 2.9-.59 2.9-3.22 0-1.39-.61-2.61-3.01-3.44M3 21H1v-6h6v2H4.52c1.61 2.41 4.36 4 7.48 4 4.97 0 9-4.03 9-9h2c0 6.08-4.92 11-11 11-3.72 0-7.01-1.85-9-4.67zm-2-9C1 5.92 5.92 1 12 1c3.72 0 7.01 1.85 9 4.67V3h2v6h-6V7h2.48C17.87 4.59 15.12 3 12 3c-4.97 0-9 4.03-9 9z"}),"CurrencyExchange"),Ps=(0,ms.A)((0,Ve.jsx)("path",{d:"M20 2H4c-1 0-2 .9-2 2v3.01c0 .72.43 1.34 1 1.69V20c0 1.1 1.1 2 2 2h14c.9 0 2-.9 2-2V8.7c.57-.35 1-.97 1-1.69V4c0-1.1-1-2-2-2m-5 12H9v-2h6zm5-7H4V4h16z"}),"Inventory2"),Is=(0,ms.A)((0,Ve.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"CreditCard"),Ds=(0,ms.A)((0,Ve.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Image"),Ms=(0,ms.A)([(0,Ve.jsx)("path",{d:"m12 2-5.5 9h11z"},"0"),(0,Ve.jsx)("circle",{cx:"17.5",cy:"17.5",r:"4.5"},"1"),(0,Ve.jsx)("path",{d:"M3 13.5h8v8H3z"},"2")],"Category"),Ts=(0,ms.A)((0,Ve.jsx)("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"}),"Notifications"),Rs=(0,ms.A)((0,Ve.jsx)("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3m-3 11H8v-5h8zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m-1-9H6v4h12z"}),"Print"),Ns=(0,ms.A)((0,Ve.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),$s=(0,ms.A)((0,Ve.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout"),zs=(0,ms.A)((0,Ve.jsx)("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess"),Ls=(0,ms.A)((0,Ve.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");function Bs(e,t){return function(){return e.apply(t,arguments)}}const{toString:Fs}=Object.prototype,{getPrototypeOf:_s}=Object,Us=(Ws=Object.create(null),e=>{const t=Fs.call(e);return Ws[t]||(Ws[t]=t.slice(8,-1).toLowerCase())});var Ws;const Vs=e=>(e=e.toLowerCase(),t=>Us(t)===e),Gs=e=>t=>typeof t===e,{isArray:Hs}=Array,qs=Gs("undefined");const Ys=Vs("ArrayBuffer");const Ks=Gs("string"),Xs=Gs("function"),Qs=Gs("number"),Js=e=>null!==e&&"object"===typeof e,Zs=e=>{if("object"!==Us(e))return!1;const t=_s(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},el=Vs("Date"),tl=Vs("File"),rl=Vs("Blob"),nl=Vs("FileList"),ol=Vs("URLSearchParams"),[al,il,sl,ll]=["ReadableStream","Request","Response","Headers"].map(Vs);function cl(e,t){let r,n,{allOwnKeys:o=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Hs(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{const n=o?Object.getOwnPropertyNames(e):Object.keys(e),a=n.length;let i;for(r=0;r<a;r++)i=n[r],t.call(null,e[i],i,e)}}function dl(e,t){t=t.toLowerCase();const r=Object.keys(e);let n,o=r.length;for(;o-- >0;)if(n=r[o],t===n.toLowerCase())return n;return null}const ul="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,pl=e=>!qs(e)&&e!==ul;const hl=(fl="undefined"!==typeof Uint8Array&&_s(Uint8Array),e=>fl&&e instanceof fl);var fl;const ml=Vs("HTMLFormElement"),gl=(e=>{let{hasOwnProperty:t}=e;return(e,r)=>t.call(e,r)})(Object.prototype),vl=Vs("RegExp"),xl=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};cl(r,((r,o)=>{let a;!1!==(a=t(r,o,e))&&(n[o]=a||r)})),Object.defineProperties(e,n)};const bl=Vs("AsyncFunction"),yl=((e,t)=>{return e?setImmediate:t?(r=`axios@${Math.random()}`,n=[],ul.addEventListener("message",(e=>{let{source:t,data:o}=e;t===ul&&o===r&&n.length&&n.shift()()}),!1),e=>{n.push(e),ul.postMessage(r,"*")}):e=>setTimeout(e);var r,n})("function"===typeof setImmediate,Xs(ul.postMessage)),jl="undefined"!==typeof queueMicrotask?queueMicrotask.bind(ul):"undefined"!==typeof process&&process.nextTick||yl,wl={isArray:Hs,isArrayBuffer:Ys,isBuffer:function(e){return null!==e&&!qs(e)&&null!==e.constructor&&!qs(e.constructor)&&Xs(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Xs(e.append)&&("formdata"===(t=Us(e))||"object"===t&&Xs(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ys(e.buffer),t},isString:Ks,isNumber:Qs,isBoolean:e=>!0===e||!1===e,isObject:Js,isPlainObject:Zs,isReadableStream:al,isRequest:il,isResponse:sl,isHeaders:ll,isUndefined:qs,isDate:el,isFile:tl,isBlob:rl,isRegExp:vl,isFunction:Xs,isStream:e=>Js(e)&&Xs(e.pipe),isURLSearchParams:ol,isTypedArray:hl,isFileList:nl,forEach:cl,merge:function e(){const{caseless:t}=pl(this)&&this||{},r={},n=(n,o)=>{const a=t&&dl(r,o)||o;Zs(r[a])&&Zs(n)?r[a]=e(r[a],n):Zs(n)?r[a]=e({},n):Hs(n)?r[a]=n.slice():r[a]=n};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&cl(arguments[o],n);return r},extend:function(e,t,r){let{allOwnKeys:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return cl(t,((t,n)=>{r&&Xs(t)?e[n]=Bs(t,r):e[n]=t}),{allOwnKeys:n}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let o,a,i;const s={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),a=o.length;a-- >0;)i=o[a],n&&!n(i,e,t)||s[i]||(t[i]=e[i],s[i]=!0);e=!1!==r&&_s(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:Us,kindOfTest:Vs,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return-1!==n&&n===r},toArray:e=>{if(!e)return null;if(Hs(e))return e;let t=e.length;if(!Qs(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=r.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:ml,hasOwnProperty:gl,hasOwnProp:gl,reduceDescriptors:xl,freezeMethods:e=>{xl(e,((t,r)=>{if(Xs(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=e[r];Xs(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:(e,t)=>{const r={},n=e=>{e.forEach((e=>{r[e]=!0}))};return Hs(e)?n(e):n(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:dl,global:ul,isContextDefined:pl,isSpecCompliantForm:function(e){return!!(e&&Xs(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),r=(e,n)=>{if(Js(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const o=Hs(e)?[]:{};return cl(e,((e,t)=>{const a=r(e,n+1);!qs(a)&&(o[t]=a)})),t[n]=void 0,o}}return e};return r(e,0)},isAsyncFn:bl,isThenable:e=>e&&(Js(e)||Xs(e))&&Xs(e.then)&&Xs(e.catch),setImmediate:yl,asap:jl};function Sl(e,t,r,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o,this.status=o.status?o.status:null)}wl.inherits(Sl,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:wl.toJSONObject(this.config),code:this.code,status:this.status}}});const Cl=Sl.prototype,Al={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Al[e]={value:e}})),Object.defineProperties(Sl,Al),Object.defineProperty(Cl,"isAxiosError",{value:!0}),Sl.from=(e,t,r,n,o,a)=>{const i=Object.create(Cl);return wl.toFlatObject(e,i,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Sl.call(i,e.message,t,r,n,o),i.cause=e,i.name=e.name,a&&Object.assign(i,a),i};const El=Sl;function kl(e){return wl.isPlainObject(e)||wl.isArray(e)}function Ol(e){return wl.endsWith(e,"[]")?e.slice(0,-2):e}function Pl(e,t,r){return e?e.concat(t).map((function(e,t){return e=Ol(e),!r&&t?"["+e+"]":e})).join(r?".":""):t}const Il=wl.toFlatObject(wl,{},null,(function(e){return/^is[A-Z]/.test(e)}));const Dl=function(e,t,r){if(!wl.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(r=wl.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!wl.isUndefined(t[e])}))).metaTokens,o=r.visitor||c,a=r.dots,i=r.indexes,s=(r.Blob||"undefined"!==typeof Blob&&Blob)&&wl.isSpecCompliantForm(t);if(!wl.isFunction(o))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(wl.isDate(e))return e.toISOString();if(!s&&wl.isBlob(e))throw new El("Blob is not supported. Use a Buffer instead.");return wl.isArrayBuffer(e)||wl.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,r,o){let s=e;if(e&&!o&&"object"===typeof e)if(wl.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(wl.isArray(e)&&function(e){return wl.isArray(e)&&!e.some(kl)}(e)||(wl.isFileList(e)||wl.endsWith(r,"[]"))&&(s=wl.toArray(e)))return r=Ol(r),s.forEach((function(e,n){!wl.isUndefined(e)&&null!==e&&t.append(!0===i?Pl([r],n,a):null===i?r:r+"[]",l(e))})),!1;return!!kl(e)||(t.append(Pl(o,r,a),l(e)),!1)}const d=[],u=Object.assign(Il,{defaultVisitor:c,convertValue:l,isVisitable:kl});if(!wl.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!wl.isUndefined(r)){if(-1!==d.indexOf(r))throw Error("Circular reference detected in "+n.join("."));d.push(r),wl.forEach(r,(function(r,a){!0===(!(wl.isUndefined(r)||null===r)&&o.call(t,r,wl.isString(a)?a.trim():a,n,u))&&e(r,n?n.concat(a):[a])})),d.pop()}}(e),t};function Ml(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Tl(e,t){this._pairs=[],e&&Dl(e,this,t)}const Rl=Tl.prototype;Rl.append=function(e,t){this._pairs.push([e,t])},Rl.toString=function(e){const t=e?function(t){return e.call(this,t,Ml)}:Ml;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const Nl=Tl;function $l(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function zl(e,t,r){if(!t)return e;const n=r&&r.encode||$l;wl.isFunction(r)&&(r={serialize:r});const o=r&&r.serialize;let a;if(a=o?o(t,r):wl.isURLSearchParams(t)?t.toString():new Nl(t,r).toString(n),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const Ll=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){wl.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Bl={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Fl={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Nl,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},_l="undefined"!==typeof window&&"undefined"!==typeof document,Ul="object"===typeof navigator&&navigator||void 0,Wl=_l&&(!Ul||["ReactNative","NativeScript","NS"].indexOf(Ul.product)<0),Vl="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Gl=_l&&window.location.href||"http://localhost",Hl={...e,...Fl};const ql=function(e){function t(e,r,n,o){let a=e[o++];if("__proto__"===a)return!0;const i=Number.isFinite(+a),s=o>=e.length;if(a=!a&&wl.isArray(n)?n.length:a,s)return wl.hasOwnProp(n,a)?n[a]=[n[a],r]:n[a]=r,!i;n[a]&&wl.isObject(n[a])||(n[a]=[]);return t(e,r,n[a],o)&&wl.isArray(n[a])&&(n[a]=function(e){const t={},r=Object.keys(e);let n;const o=r.length;let a;for(n=0;n<o;n++)a=r[n],t[a]=e[a];return t}(n[a])),!i}if(wl.isFormData(e)&&wl.isFunction(e.entries)){const r={};return wl.forEachEntry(e,((e,n)=>{t(function(e){return wl.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,r,0)})),r}return null};const Yl={transitional:Bl,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,o=wl.isObject(e);o&&wl.isHTMLForm(e)&&(e=new FormData(e));if(wl.isFormData(e))return n?JSON.stringify(ql(e)):e;if(wl.isArrayBuffer(e)||wl.isBuffer(e)||wl.isStream(e)||wl.isFile(e)||wl.isBlob(e)||wl.isReadableStream(e))return e;if(wl.isArrayBufferView(e))return e.buffer;if(wl.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Dl(e,new Hl.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return Hl.isNode&&wl.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=wl.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Dl(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||n?(t.setContentType("application/json",!1),function(e,t,r){if(wl.isString(e))try{return(t||JSON.parse)(e),wl.trim(e)}catch(a0){if("SyntaxError"!==a0.name)throw a0}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Yl.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(wl.isResponse(e)||wl.isReadableStream(e))return e;if(e&&wl.isString(e)&&(r&&!this.responseType||n)){const r=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(a0){if(r){if("SyntaxError"===a0.name)throw El.from(a0,El.ERR_BAD_RESPONSE,this,null,this.response);throw a0}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Hl.classes.FormData,Blob:Hl.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};wl.forEach(["delete","get","head","post","put","patch"],(e=>{Yl.headers[e]={}}));const Kl=Yl,Xl=wl.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ql=Symbol("internals");function Jl(e){return e&&String(e).trim().toLowerCase()}function Zl(e){return!1===e||null==e?e:wl.isArray(e)?e.map(Zl):String(e)}function ec(e,t,r,n,o){return wl.isFunction(n)?n.call(this,t,r):(o&&(t=r),wl.isString(t)?wl.isString(n)?-1!==t.indexOf(n):wl.isRegExp(n)?n.test(t):void 0:void 0)}class tc{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function o(e,t,r){const o=Jl(t);if(!o)throw new Error("header name must be a non-empty string");const a=wl.findKey(n,o);(!a||void 0===n[a]||!0===r||void 0===r&&!1!==n[a])&&(n[a||t]=Zl(e))}const a=(e,t)=>wl.forEach(e,((e,r)=>o(e,r,t)));if(wl.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(wl.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let r,n,o;return e&&e.split("\n").forEach((function(e){o=e.indexOf(":"),r=e.substring(0,o).trim().toLowerCase(),n=e.substring(o+1).trim(),!r||t[r]&&Xl[r]||("set-cookie"===r?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)})),t})(e),t);else if(wl.isHeaders(e))for(const[i,s]of e.entries())o(s,i,r);else null!=e&&o(t,e,r);return this}get(e,t){if(e=Jl(e)){const r=wl.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}(e);if(wl.isFunction(t))return t.call(this,e,r);if(wl.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Jl(e)){const r=wl.findKey(this,e);return!(!r||void 0===this[r]||t&&!ec(0,this[r],r,t))}return!1}delete(e,t){const r=this;let n=!1;function o(e){if(e=Jl(e)){const o=wl.findKey(r,e);!o||t&&!ec(0,r[o],o,t)||(delete r[o],n=!0)}}return wl.isArray(e)?e.forEach(o):o(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;for(;r--;){const o=t[r];e&&!ec(0,this[o],o,e,!0)||(delete this[o],n=!0)}return n}normalize(e){const t=this,r={};return wl.forEach(this,((n,o)=>{const a=wl.findKey(r,o);if(a)return t[a]=Zl(n),void delete t[o];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,r)=>t.toUpperCase()+r))}(o):String(o).trim();i!==o&&delete t[o],t[i]=Zl(n),r[i]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return wl.forEach(this,((r,n)=>{null!=r&&!1!==r&&(t[n]=e&&wl.isArray(r)?r.join(", "):r)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,r]=e;return t+": "+r})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return n.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[Ql]=this[Ql]={accessors:{}}).accessors,r=this.prototype;function n(e){const n=Jl(e);t[n]||(!function(e,t){const r=wl.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+r,{value:function(e,r,o){return this[n].call(this,t,e,r,o)},configurable:!0})}))}(r,e),t[n]=!0)}return wl.isArray(e)?e.forEach(n):n(e),this}}tc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),wl.reduceDescriptors(tc.prototype,((e,t)=>{let{value:r}=e,n=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(e){this[n]=e}}})),wl.freezeMethods(tc);const rc=tc;function nc(e,t){const r=this||Kl,n=t||r,o=rc.from(n.headers);let a=n.data;return wl.forEach(e,(function(e){a=e.call(r,a,o.normalize(),t?t.status:void 0)})),o.normalize(),a}function oc(e){return!(!e||!e.__CANCEL__)}function ac(e,t,r){El.call(this,null==e?"canceled":e,El.ERR_CANCELED,t,r),this.name="CanceledError"}wl.inherits(ac,El,{__CANCEL__:!0});const ic=ac;function sc(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new El("Request failed with status code "+r.status,[El.ERR_BAD_REQUEST,El.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}const lc=function(e,t){e=e||10;const r=new Array(e),n=new Array(e);let o,a=0,i=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),c=n[i];o||(o=l),r[a]=s,n[a]=l;let d=i,u=0;for(;d!==a;)u+=r[d++],d%=e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),l-o<t)return;const p=c&&l-c;return p?Math.round(1e3*u/p):void 0}};const cc=function(e,t){let r,n,o=0,a=1e3/t;const i=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();o=a,r=null,n&&(clearTimeout(n),n=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-o;for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];t>=a?i(l,e):(r=l,n||(n=setTimeout((()=>{n=null,i(r)}),a-t)))},()=>r&&i(r)]},dc=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=0;const o=lc(50,250);return cc((r=>{const a=r.loaded,i=r.lengthComputable?r.total:void 0,s=a-n,l=o(s);n=a;e({loaded:a,total:i,progress:i?a/i:void 0,bytes:s,rate:l||void 0,estimated:l&&i&&a<=i?(i-a)/l:void 0,event:r,lengthComputable:null!=i,[t?"download":"upload"]:!0})}),r)},uc=(e,t)=>{const r=null!=e;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},pc=e=>function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return wl.asap((()=>e(...r)))},hc=Hl.hasStandardBrowserEnv?(fc=new URL(Hl.origin),mc=Hl.navigator&&/(msie|trident)/i.test(Hl.navigator.userAgent),e=>(e=new URL(e,Hl.origin),fc.protocol===e.protocol&&fc.host===e.host&&(mc||fc.port===e.port))):()=>!0;var fc,mc;const gc=Hl.hasStandardBrowserEnv?{write(e,t,r,n,o,a){const i=[e+"="+encodeURIComponent(t)];wl.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),wl.isString(n)&&i.push("path="+n),wl.isString(o)&&i.push("domain="+o),!0===a&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function vc(e,t,r){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(n||0==r)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const xc=e=>e instanceof rc?{...e}:e;function bc(e,t){t=t||{};const r={};function n(e,t,r,n){return wl.isPlainObject(e)&&wl.isPlainObject(t)?wl.merge.call({caseless:n},e,t):wl.isPlainObject(t)?wl.merge({},t):wl.isArray(t)?t.slice():t}function o(e,t,r,o){return wl.isUndefined(t)?wl.isUndefined(e)?void 0:n(void 0,e,0,o):n(e,t,0,o)}function a(e,t){if(!wl.isUndefined(t))return n(void 0,t)}function i(e,t){return wl.isUndefined(t)?wl.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function s(r,o,a){return a in t?n(r,o):a in e?n(void 0,r):void 0}const l={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:s,headers:(e,t,r)=>o(xc(e),xc(t),0,!0)};return wl.forEach(Object.keys(Object.assign({},e,t)),(function(n){const a=l[n]||o,i=a(e[n],t[n],n);wl.isUndefined(i)&&a!==s||(r[n]=i)})),r}const yc=e=>{const t=bc({},e);let r,{data:n,withXSRFToken:o,xsrfHeaderName:a,xsrfCookieName:i,headers:s,auth:l}=t;if(t.headers=s=rc.from(s),t.url=zl(vc(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),wl.isFormData(n))if(Hl.hasStandardBrowserEnv||Hl.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(r=s.getContentType())){const[e,...t]=r?r.split(";").map((e=>e.trim())).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}if(Hl.hasStandardBrowserEnv&&(o&&wl.isFunction(o)&&(o=o(t)),o||!1!==o&&hc(t.url))){const e=a&&i&&gc.read(i);e&&s.set(a,e)}return t},jc="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,r){const n=yc(e);let o=n.data;const a=rc.from(n.headers).normalize();let i,s,l,c,d,{responseType:u,onUploadProgress:p,onDownloadProgress:h}=n;function f(){c&&c(),d&&d(),n.cancelToken&&n.cancelToken.unsubscribe(i),n.signal&&n.signal.removeEventListener("abort",i)}let m=new XMLHttpRequest;function g(){if(!m)return;const n=rc.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());sc((function(e){t(e),f()}),(function(e){r(e),f()}),{data:u&&"text"!==u&&"json"!==u?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:n,config:e,request:m}),m=null}m.open(n.method.toUpperCase(),n.url,!0),m.timeout=n.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(r(new El("Request aborted",El.ECONNABORTED,e,m)),m=null)},m.onerror=function(){r(new El("Network Error",El.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const o=n.transitional||Bl;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),r(new El(t,o.clarifyTimeoutError?El.ETIMEDOUT:El.ECONNABORTED,e,m)),m=null},void 0===o&&a.setContentType(null),"setRequestHeader"in m&&wl.forEach(a.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),wl.isUndefined(n.withCredentials)||(m.withCredentials=!!n.withCredentials),u&&"json"!==u&&(m.responseType=n.responseType),h&&([l,d]=dc(h,!0),m.addEventListener("progress",l)),p&&m.upload&&([s,c]=dc(p),m.upload.addEventListener("progress",s),m.upload.addEventListener("loadend",c)),(n.cancelToken||n.signal)&&(i=t=>{m&&(r(!t||t.type?new ic(null,e,m):t),m.abort(),m=null)},n.cancelToken&&n.cancelToken.subscribe(i),n.signal&&(n.signal.aborted?i():n.signal.addEventListener("abort",i)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);v&&-1===Hl.protocols.indexOf(v)?r(new El("Unsupported protocol "+v+":",El.ERR_BAD_REQUEST,e)):m.send(o||null)}))},wc=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,n=new AbortController;const o=function(e){if(!r){r=!0,i();const t=e instanceof Error?e:this.reason;n.abort(t instanceof El?t:new ic(t instanceof Error?t.message:t))}};let a=t&&setTimeout((()=>{a=null,o(new El(`timeout ${t} of ms exceeded`,El.ETIMEDOUT))}),t);const i=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(o):e.removeEventListener("abort",o)})),e=null)};e.forEach((e=>e.addEventListener("abort",o)));const{signal:s}=n;return s.unsubscribe=()=>wl.asap(i),s}},Sc=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let n,o=0;for(;o<r;)n=o+t,yield e.slice(o,n),o=n},Cc=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:r}=await t.read();if(e)break;yield r}}finally{await t.cancel()}},Ac=(e,t,r,n)=>{const o=async function*(e,t){for await(const r of Cc(e))yield*Sc(r,t)}(e,t);let a,i=0,s=e=>{a||(a=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await o.next();if(t)return s(),void e.close();let a=n.byteLength;if(r){let e=i+=a;r(e)}e.enqueue(new Uint8Array(n))}catch(t){throw s(t),t}},cancel:e=>(s(e),o.return())},{highWaterMark:2})},Ec="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,kc=Ec&&"function"===typeof ReadableStream,Oc=Ec&&("function"===typeof TextEncoder?(Pc=new TextEncoder,e=>Pc.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Pc;const Ic=function(e){try{for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return!!e(...r)}catch(a0){return!1}},Dc=kc&&Ic((()=>{let e=!1;const t=new Request(Hl.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Mc=kc&&Ic((()=>wl.isReadableStream(new Response("").body))),Tc={stream:Mc&&(e=>e.body)};var Rc;Ec&&(Rc=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Tc[e]&&(Tc[e]=wl.isFunction(Rc[e])?t=>t[e]():(t,r)=>{throw new El(`Response type '${e}' is not supported`,El.ERR_NOT_SUPPORT,r)})})));const Nc=async(e,t)=>{const r=wl.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(wl.isBlob(e))return e.size;if(wl.isSpecCompliantForm(e)){const t=new Request(Hl.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return wl.isArrayBufferView(e)||wl.isArrayBuffer(e)?e.byteLength:(wl.isURLSearchParams(e)&&(e+=""),wl.isString(e)?(await Oc(e)).byteLength:void 0)})(t):r},$c={http:null,xhr:jc,fetch:Ec&&(async e=>{let{url:t,method:r,data:n,signal:o,cancelToken:a,timeout:i,onDownloadProgress:s,onUploadProgress:l,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:p}=yc(e);c=c?(c+"").toLowerCase():"text";let h,f=wc([o,a&&a.toAbortSignal()],i);const m=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let g;try{if(l&&Dc&&"get"!==r&&"head"!==r&&0!==(g=await Nc(d,n))){let e,r=new Request(t,{method:"POST",body:n,duplex:"half"});if(wl.isFormData(n)&&(e=r.headers.get("content-type"))&&d.setContentType(e),r.body){const[e,t]=uc(g,dc(pc(l)));n=Ac(r.body,65536,e,t)}}wl.isString(u)||(u=u?"include":"omit");const o="credentials"in Request.prototype;h=new Request(t,{...p,signal:f,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:o?u:void 0});let a=await fetch(h);const i=Mc&&("stream"===c||"response"===c);if(Mc&&(s||i&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=a[t]}));const t=wl.toFiniteNumber(a.headers.get("content-length")),[r,n]=s&&uc(t,dc(pc(s),!0))||[];a=new Response(Ac(a.body,65536,r,(()=>{n&&n(),m&&m()})),e)}c=c||"text";let v=await Tc[wl.findKey(Tc,c)||"text"](a,e);return!i&&m&&m(),await new Promise(((t,r)=>{sc(t,r,{data:v,headers:rc.from(a.headers),status:a.status,statusText:a.statusText,config:e,request:h})}))}catch(v){if(m&&m(),v&&"TypeError"===v.name&&/fetch/i.test(v.message))throw Object.assign(new El("Network Error",El.ERR_NETWORK,e,h),{cause:v.cause||v});throw El.from(v,v&&v.code,e,h)}})};wl.forEach($c,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(a0){}Object.defineProperty(e,"adapterName",{value:t})}}));const zc=e=>`- ${e}`,Lc=e=>wl.isFunction(e)||null===e||!1===e,Bc=e=>{e=wl.isArray(e)?e:[e];const{length:t}=e;let r,n;const o={};for(let a=0;a<t;a++){let t;if(r=e[a],n=r,!Lc(r)&&(n=$c[(t=String(r)).toLowerCase()],void 0===n))throw new El(`Unknown adapter '${t}'`);if(n)break;o[t||"#"+a]=n}if(!n){const e=Object.entries(o).map((e=>{let[t,r]=e;return`adapter ${t} `+(!1===r?"is not supported by the environment":"is not available in the build")}));let r=t?e.length>1?"since :\n"+e.map(zc).join("\n"):" "+zc(e[0]):"as no adapter specified";throw new El("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return n};function Fc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ic(null,e)}function _c(e){Fc(e),e.headers=rc.from(e.headers),e.data=nc.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Bc(e.adapter||Kl.adapter)(e).then((function(t){return Fc(e),t.data=nc.call(e,e.transformResponse,t),t.headers=rc.from(t.headers),t}),(function(t){return oc(t)||(Fc(e),t&&t.response&&(t.response.data=nc.call(e,e.transformResponse,t.response),t.response.headers=rc.from(t.response.headers))),Promise.reject(t)}))}const Uc="1.8.4",Wc={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Wc[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));const Vc={};Wc.transitional=function(e,t,r){function n(e,t){return"[Axios v1.8.4] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,o,a)=>{if(!1===e)throw new El(n(o," has been removed"+(t?" in "+t:"")),El.ERR_DEPRECATED);return t&&!Vc[o]&&(Vc[o]=!0,console.warn(n(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,o,a)}},Wc.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};const Gc={assertOptions:function(e,t,r){if("object"!==typeof e)throw new El("options must be an object",El.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let o=n.length;for(;o-- >0;){const a=n[o],i=t[a];if(i){const t=e[a],r=void 0===t||i(t,a,e);if(!0!==r)throw new El("option "+a+" must be "+r,El.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new El("Unknown option "+a,El.ERR_BAD_OPTION)}},validators:Wc},Hc=Gc.validators;class qc{constructor(e){this.defaults=e,this.interceptors={request:new Ll,response:new Ll}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{r.stack?t&&!String(r.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+t):r.stack=t}catch(a0){}}throw r}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=bc(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:o}=t;void 0!==r&&Gc.assertOptions(r,{silentJSONParsing:Hc.transitional(Hc.boolean),forcedJSONParsing:Hc.transitional(Hc.boolean),clarifyTimeoutError:Hc.transitional(Hc.boolean)},!1),null!=n&&(wl.isFunction(n)?t.paramsSerializer={serialize:n}:Gc.assertOptions(n,{encode:Hc.function,serialize:Hc.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Gc.assertOptions(t,{baseUrl:Hc.spelling("baseURL"),withXsrfToken:Hc.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=o&&wl.merge(o.common,o[t.method]);o&&wl.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete o[e]})),t.headers=rc.concat(a,o);const i=[];let s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let d,u=0;if(!s){const e=[_c.bind(this),void 0];for(e.unshift.apply(e,i),e.push.apply(e,l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=i.length;let p=t;for(u=0;u<d;){const e=i[u++],t=i[u++];try{p=e(p)}catch(h){t.call(this,h);break}}try{c=_c.call(this,p)}catch(h){return Promise.reject(h)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return zl(vc((e=bc(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}wl.forEach(["delete","get","head","options"],(function(e){qc.prototype[e]=function(t,r){return this.request(bc(r||{},{method:e,url:t,data:(r||{}).data}))}})),wl.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,o){return this.request(bc(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}qc.prototype[e]=t(),qc.prototype[e+"Form"]=t(!0)}));const Yc=qc;class Kc{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const r=this;this.promise.then((e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e,n,o){r.reason||(r.reason=new ic(e,n,o),t(r.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Kc((function(t){e=t})),cancel:e}}}const Xc=Kc;const Qc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Qc).forEach((e=>{let[t,r]=e;Qc[r]=t}));const Jc=Qc;const Zc=function e(t){const r=new Yc(t),n=Bs(Yc.prototype.request,r);return wl.extend(n,Yc.prototype,r,{allOwnKeys:!0}),wl.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(bc(t,r))},n}(Kl);Zc.Axios=Yc,Zc.CanceledError=ic,Zc.CancelToken=Xc,Zc.isCancel=oc,Zc.VERSION=Uc,Zc.toFormData=Dl,Zc.AxiosError=El,Zc.Cancel=Zc.CanceledError,Zc.all=function(e){return Promise.all(e)},Zc.spread=function(e){return function(t){return e.apply(null,t)}},Zc.isAxiosError=function(e){return wl.isObject(e)&&!0===e.isAxiosError},Zc.mergeConfig=bc,Zc.AxiosHeaders=rc,Zc.formToJSON=e=>ql(wl.isHTMLForm(e)?new FormData(e):e),Zc.getAdapter=Bc,Zc.HttpStatusCode=Jc,Zc.default=Zc;const ed=Zc;var td=r(9172),rd=r(7868),nd=r(3468);const od=["onChange","maxRows","minRows","style","value"];function ad(e){return parseInt(e,10)||0}const id={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function sd(e){return function(e){for(const t in e)return!1;return!0}(e)||0===e.outerHeightStyle&&!e.overflowing}const ld=a.forwardRef((function(e,t){const{onChange:r,maxRows:n,minRows:o=1,style:i,value:s}=e,l=(0,Fe.A)(e,od),{current:c}=a.useRef(null!=s),d=a.useRef(null),u=(0,an.A)(t,d),p=a.useRef(null),h=a.useRef(null),f=a.useCallback((()=>{const t=d.current,r=h.current;if(!t||!r)return;const a=(0,ua.A)(t).getComputedStyle(t);if("0px"===a.width)return{outerHeightStyle:0,overflowing:!1};r.style.width=a.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");const i=a.boxSizing,s=ad(a.paddingBottom)+ad(a.paddingTop),l=ad(a.borderBottomWidth)+ad(a.borderTopWidth),c=r.scrollHeight;r.value="x";const u=r.scrollHeight;let p=c;o&&(p=Math.max(Number(o)*u,p)),n&&(p=Math.min(Number(n)*u,p)),p=Math.max(p,u);return{outerHeightStyle:p+("border-box"===i?s+l:0),overflowing:Math.abs(p-c)<=1}}),[n,o,e.placeholder]),m=(0,ca.A)((()=>{const e=d.current,t=f();if(!e||!t||sd(t))return!1;const r=t.outerHeightStyle;return null!=p.current&&p.current!==r})),g=a.useCallback((()=>{const e=d.current,t=f();if(!e||!t||sd(t))return;const r=t.outerHeightStyle;p.current!==r&&(p.current=r,e.style.height=`${r}px`),e.style.overflow=t.overflowing?"hidden":""}),[f]),v=a.useRef(-1);(0,sn.A)((()=>{const e=(0,nd.A)(g),t=null==d?void 0:d.current;if(!t)return;const r=(0,ua.A)(t);let n;return r.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(n=new ResizeObserver((()=>{m()&&(n.unobserve(t),cancelAnimationFrame(v.current),g(),v.current=requestAnimationFrame((()=>{n.observe(t)})))})),n.observe(t)),()=>{e.clear(),cancelAnimationFrame(v.current),r.removeEventListener("resize",e),n&&n.disconnect()}}),[f,g,m]),(0,sn.A)((()=>{g()}));return(0,Ve.jsxs)(a.Fragment,{children:[(0,Ve.jsx)("textarea",(0,Be.A)({value:s,onChange:e=>{c||g(),r&&r(e)},ref:u,rows:o,style:i},l)),(0,Ve.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:h,tabIndex:-1,style:(0,Be.A)({},id,i,{paddingTop:0,paddingBottom:0})})]})}));function cd(e){let{props:t,states:r,muiFormControl:n}=e;return r.reduce(((e,r)=>(e[r]=t[r],n&&"undefined"===typeof t[r]&&(e[r]=n[r]),e)),{})}const dd=a.createContext(void 0);function ud(){return a.useContext(dd)}function pd(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function hd(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(pd(e.value)&&""!==e.value||t&&pd(e.defaultValue)&&""!==e.defaultValue)}function fd(e){return(0,Mt.Ay)("MuiInputBase",e)}const md=(0,St.A)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),gd=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],vd=(e,t)=>{const{ownerState:r}=e;return[t.root,r.formControl&&t.formControl,r.startAdornment&&t.adornedStart,r.endAdornment&&t.adornedEnd,r.error&&t.error,"small"===r.size&&t.sizeSmall,r.multiline&&t.multiline,r.color&&t[`color${(0,Pt.A)(r.color)}`],r.fullWidth&&t.fullWidth,r.hiddenLabel&&t.hiddenLabel]},xd=(e,t)=>{const{ownerState:r}=e;return[t.input,"small"===r.size&&t.inputSizeSmall,r.multiline&&t.inputMultiline,"search"===r.type&&t.inputTypeSearch,r.startAdornment&&t.inputAdornedStart,r.endAdornment&&t.inputAdornedEnd,r.hiddenLabel&&t.inputHiddenLabel]},bd=(0,Ot.Ay)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:vd})((e=>{let{theme:t,ownerState:r}=e;return(0,Be.A)({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${md.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},r.multiline&&(0,Be.A)({padding:"4px 0 5px"},"small"===r.size&&{paddingTop:1}),r.fullWidth&&{width:"100%"})})),yd=(0,Ot.Ay)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:xd})((e=>{let{theme:t,ownerState:r}=e;const n="light"===t.palette.mode,o=(0,Be.A)({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),a={opacity:"0 !important"},i=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return(0,Be.A)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${md.formControl} &`]:{"&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&:-ms-input-placeholder":a,"&::-ms-input-placeholder":a,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus:-ms-input-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${md.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===r.size&&{paddingTop:1},r.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===r.type&&{MozAppearance:"textfield"})})),jd=(0,Ve.jsx)(pt,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),wd=a.forwardRef((function(e,t){var r;const n=(0,at.b)({props:e,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:i,autoFocus:s,className:l,components:c={},componentsProps:d={},defaultValue:u,disabled:p,disableInjectingGlobalStyles:h,endAdornment:f,fullWidth:m=!1,id:g,inputComponent:v="input",inputProps:x={},inputRef:b,maxRows:y,minRows:j,multiline:w=!1,name:S,onBlur:C,onChange:A,onClick:E,onFocus:k,onKeyDown:O,onKeyUp:P,placeholder:I,readOnly:D,renderSuffix:M,rows:T,slotProps:R={},slots:N={},startAdornment:$,type:z="text",value:L}=n,B=(0,Fe.A)(n,gd),F=null!=x.value?x.value:L,{current:_}=a.useRef(null!=F),U=a.useRef(),W=a.useCallback((e=>{0}),[]),V=(0,Ht.A)(U,b,x.ref,W),[G,H]=a.useState(!1),q=ud();const Y=cd({props:n,muiFormControl:q,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Y.focused=q?q.focused:G,a.useEffect((()=>{!q&&p&&G&&(H(!1),C&&C())}),[q,p,G,C]);const K=q&&q.onFilled,X=q&&q.onEmpty,Q=a.useCallback((e=>{hd(e)?K&&K():X&&X()}),[K,X]);(0,Ha.A)((()=>{_&&Q({value:F})}),[F,Q,_]);a.useEffect((()=>{Q(U.current)}),[]);let J=v,Z=x;w&&"input"===J&&(Z=T?(0,Be.A)({type:void 0,minRows:T,maxRows:T},Z):(0,Be.A)({type:void 0,maxRows:y,minRows:j},Z),J=ld);a.useEffect((()=>{q&&q.setAdornedStart(Boolean($))}),[q,$]);const ee=(0,Be.A)({},n,{color:Y.color||"primary",disabled:Y.disabled,endAdornment:f,error:Y.error,focused:Y.focused,formControl:q,fullWidth:m,hiddenLabel:Y.hiddenLabel,multiline:w,size:Y.size,startAdornment:$,type:z}),te=(e=>{const{classes:t,color:r,disabled:n,error:o,endAdornment:a,focused:i,formControl:s,fullWidth:l,hiddenLabel:c,multiline:d,readOnly:u,size:p,startAdornment:h,type:f}=e,m={root:["root",`color${(0,Pt.A)(r)}`,n&&"disabled",o&&"error",l&&"fullWidth",i&&"focused",s&&"formControl",p&&"medium"!==p&&`size${(0,Pt.A)(p)}`,d&&"multiline",h&&"adornedStart",a&&"adornedEnd",c&&"hiddenLabel",u&&"readOnly"],input:["input",n&&"disabled","search"===f&&"inputTypeSearch",d&&"inputMultiline","small"===p&&"inputSizeSmall",c&&"inputHiddenLabel",h&&"inputAdornedStart",a&&"inputAdornedEnd",u&&"readOnly"]};return(0,kt.A)(m,fd,t)})(ee),re=N.root||c.Root||bd,ne=R.root||d.root||{},oe=N.input||c.Input||yd;return Z=(0,Be.A)({},Z,null!=(r=R.input)?r:d.input),(0,Ve.jsxs)(a.Fragment,{children:[!h&&jd,(0,Ve.jsxs)(re,(0,Be.A)({},ne,!zr(re)&&{ownerState:(0,Be.A)({},ee,ne.ownerState)},{ref:t,onClick:e=>{U.current&&e.currentTarget===e.target&&U.current.focus(),E&&E(e)}},B,{className:(0,vt.A)(te.root,ne.className,l,D&&"MuiInputBase-readOnly"),children:[$,(0,Ve.jsx)(dd.Provider,{value:null,children:(0,Ve.jsx)(oe,(0,Be.A)({ownerState:ee,"aria-invalid":Y.error,"aria-describedby":o,autoComplete:i,autoFocus:s,defaultValue:u,disabled:Y.disabled,id:g,onAnimationStart:e=>{Q("mui-auto-fill-cancel"===e.animationName?U.current:{value:"x"})},name:S,placeholder:I,readOnly:D,required:Y.required,rows:T,value:F,onKeyDown:O,onKeyUp:P,type:z},Z,!zr(oe)&&{as:J,ownerState:(0,Be.A)({},ee,Z.ownerState)},{ref:V,className:(0,vt.A)(te.input,Z.className,D&&"MuiInputBase-readOnly"),onBlur:e=>{C&&C(e),x.onBlur&&x.onBlur(e),q&&q.onBlur?q.onBlur(e):H(!1)},onChange:function(e){if(!_){const t=e.target||U.current;if(null==t)throw new Error((0,rd.A)(1));Q({value:t.value})}for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];x.onChange&&x.onChange(e,...r),A&&A(e,...r)},onFocus:e=>{Y.disabled?e.stopPropagation():(k&&k(e),x.onFocus&&x.onFocus(e),q&&q.onFocus?q.onFocus(e):H(!0))}}))}),f,M?M((0,Be.A)({},Y,{startAdornment:$})):null]}))]})}));function Sd(e){return(0,Mt.Ay)("MuiInput",e)}const Cd=(0,Be.A)({},md,(0,St.A)("MuiInput",["root","underline","input"])),Ad=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],Ed=(0,Ot.Ay)(bd,{shouldForwardProp:e=>(0,Ia.A)(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...vd(e,t),!r.disableUnderline&&t.underline]}})((e=>{let{theme:t,ownerState:r}=e;let n="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),(0,Be.A)({position:"relative"},r.formControl&&{"label + &":{marginTop:16}},!r.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Cd.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Cd.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Cd.disabled}, .${Cd.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Cd.disabled}:before`]:{borderBottomStyle:"dotted"}})})),kd=(0,Ot.Ay)(yd,{name:"MuiInput",slot:"Input",overridesResolver:xd})({}),Od=a.forwardRef((function(e,t){var r,n,o,a;const i=(0,at.b)({props:e,name:"MuiInput"}),{disableUnderline:s,components:l={},componentsProps:c,fullWidth:d=!1,inputComponent:u="input",multiline:p=!1,slotProps:h,slots:f={},type:m="text"}=i,g=(0,Fe.A)(i,Ad),v=(e=>{const{classes:t,disableUnderline:r}=e,n={root:["root",!r&&"underline"],input:["input"]},o=(0,kt.A)(n,Sd,t);return(0,Be.A)({},t,o)})(i),x={root:{ownerState:{disableUnderline:s}}},b=(null!=h?h:c)?(0,td.A)(null!=h?h:c,x):x,y=null!=(r=null!=(n=f.root)?n:l.Root)?r:Ed,j=null!=(o=null!=(a=f.input)?a:l.Input)?o:kd;return(0,Ve.jsx)(wd,(0,Be.A)({slots:{root:y,input:j},slotProps:b,fullWidth:d,inputComponent:u,multiline:p,ref:t,type:m},g,{classes:v}))}));Od.muiName="Input";const Pd=Od;function Id(e){return(0,Mt.Ay)("MuiFilledInput",e)}const Dd=(0,Be.A)({},md,(0,St.A)("MuiFilledInput",["root","underline","input"])),Md=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],Td=(0,Ot.Ay)(bd,{shouldForwardProp:e=>(0,Ia.A)(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...vd(e,t),!r.disableUnderline&&t.underline]}})((e=>{let{theme:t,ownerState:r}=e;var n;const o="light"===t.palette.mode,a=o?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=o?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=o?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=o?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return(0,Be.A)({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i}},[`&.${Dd.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i},[`&.${Dd.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:l}},!r.disableUnderline&&{"&::after":{borderBottom:`2px solid ${null==(n=(t.vars||t).palette[r.color||"primary"])?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Dd.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Dd.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:a}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Dd.disabled}, .${Dd.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Dd.disabled}:before`]:{borderBottomStyle:"dotted"}},r.startAdornment&&{paddingLeft:12},r.endAdornment&&{paddingRight:12},r.multiline&&(0,Be.A)({padding:"25px 12px 8px"},"small"===r.size&&{paddingTop:21,paddingBottom:4},r.hiddenLabel&&{paddingTop:16,paddingBottom:17},r.hiddenLabel&&"small"===r.size&&{paddingTop:8,paddingBottom:9}))})),Rd=(0,Ot.Ay)(yd,{name:"MuiFilledInput",slot:"Input",overridesResolver:xd})((e=>{let{theme:t,ownerState:r}=e;return(0,Be.A)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===r.size&&{paddingTop:21,paddingBottom:4},r.hiddenLabel&&{paddingTop:16,paddingBottom:17},r.startAdornment&&{paddingLeft:0},r.endAdornment&&{paddingRight:0},r.hiddenLabel&&"small"===r.size&&{paddingTop:8,paddingBottom:9},r.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})})),Nd=a.forwardRef((function(e,t){var r,n,o,a;const i=(0,at.b)({props:e,name:"MuiFilledInput"}),{components:s={},componentsProps:l,fullWidth:c=!1,inputComponent:d="input",multiline:u=!1,slotProps:p,slots:h={},type:f="text"}=i,m=(0,Fe.A)(i,Md),g=(0,Be.A)({},i,{fullWidth:c,inputComponent:d,multiline:u,type:f}),v=(e=>{const{classes:t,disableUnderline:r}=e,n={root:["root",!r&&"underline"],input:["input"]},o=(0,kt.A)(n,Id,t);return(0,Be.A)({},t,o)})(i),x={root:{ownerState:g},input:{ownerState:g}},b=(null!=p?p:l)?(0,td.A)(x,null!=p?p:l):x,y=null!=(r=null!=(n=h.root)?n:s.Root)?r:Td,j=null!=(o=null!=(a=h.input)?a:s.Input)?o:Rd;return(0,Ve.jsx)(wd,(0,Be.A)({slots:{root:y,input:j},componentsProps:b,fullWidth:c,inputComponent:d,multiline:u,ref:t,type:f},m,{classes:v}))}));Nd.muiName="Input";const $d=Nd;var zd;const Ld=["children","classes","className","label","notched"],Bd=(0,Ot.Ay)("fieldset",{shouldForwardProp:Ia.A})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Fd=(0,Ot.Ay)("legend",{shouldForwardProp:Ia.A})((e=>{let{ownerState:t,theme:r}=e;return(0,Be.A)({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:r.transitions.create("width",{duration:150,easing:r.transitions.easing.easeOut})},t.withLabel&&(0,Be.A)({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:r.transitions.create("max-width",{duration:50,easing:r.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:r.transitions.create("max-width",{duration:100,easing:r.transitions.easing.easeOut,delay:50})}))}));function _d(e){return(0,Mt.Ay)("MuiOutlinedInput",e)}const Ud=(0,Be.A)({},md,(0,St.A)("MuiOutlinedInput",["root","notchedOutline","input"])),Wd=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Vd=(0,Ot.Ay)(bd,{shouldForwardProp:e=>(0,Ia.A)(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:vd})((e=>{let{theme:t,ownerState:r}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,Be.A)({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Ud.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ud.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Ud.focused} .${Ud.notchedOutline}`]:{borderColor:(t.vars||t).palette[r.color].main,borderWidth:2},[`&.${Ud.error} .${Ud.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Ud.disabled} .${Ud.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},r.startAdornment&&{paddingLeft:14},r.endAdornment&&{paddingRight:14},r.multiline&&(0,Be.A)({padding:"16.5px 14px"},"small"===r.size&&{padding:"8.5px 14px"}))})),Gd=(0,Ot.Ay)((function(e){const{className:t,label:r,notched:n}=e,o=(0,Fe.A)(e,Ld),a=null!=r&&""!==r,i=(0,Be.A)({},e,{notched:n,withLabel:a});return(0,Ve.jsx)(Bd,(0,Be.A)({"aria-hidden":!0,className:t,ownerState:i},o,{children:(0,Ve.jsx)(Fd,{ownerState:i,children:a?(0,Ve.jsx)("span",{children:r}):zd||(zd=(0,Ve.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})((e=>{let{theme:t}=e;const r="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:r}})),Hd=(0,Ot.Ay)(yd,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:xd})((e=>{let{theme:t,ownerState:r}=e;return(0,Be.A)({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===r.size&&{padding:"8.5px 14px"},r.multiline&&{padding:0},r.startAdornment&&{paddingLeft:0},r.endAdornment&&{paddingRight:0})})),qd=a.forwardRef((function(e,t){var r,n,o,i,s;const l=(0,at.b)({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:d=!1,inputComponent:u="input",label:p,multiline:h=!1,notched:f,slots:m={},type:g="text"}=l,v=(0,Fe.A)(l,Wd),x=(e=>{const{classes:t}=e,r=(0,kt.A)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},_d,t);return(0,Be.A)({},t,r)})(l),b=ud(),y=cd({props:l,muiFormControl:b,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),j=(0,Be.A)({},l,{color:y.color||"primary",disabled:y.disabled,error:y.error,focused:y.focused,formControl:b,fullWidth:d,hiddenLabel:y.hiddenLabel,multiline:h,size:y.size,type:g}),w=null!=(r=null!=(n=m.root)?n:c.Root)?r:Vd,S=null!=(o=null!=(i=m.input)?i:c.Input)?o:Hd;return(0,Ve.jsx)(wd,(0,Be.A)({slots:{root:w,input:S},renderSuffix:e=>(0,Ve.jsx)(Gd,{ownerState:j,className:x.notchedOutline,label:null!=p&&""!==p&&y.required?s||(s=(0,Ve.jsxs)(a.Fragment,{children:[p,"\u2009","*"]})):p,notched:"undefined"!==typeof f?f:Boolean(e.startAdornment||e.filled||e.focused)}),fullWidth:d,inputComponent:u,multiline:h,ref:t,type:g},v,{classes:(0,Be.A)({},x,{notchedOutline:null})}))}));qd.muiName="Input";const Yd=qd;function Kd(e){return(0,Mt.Ay)("MuiFormLabel",e)}const Xd=(0,St.A)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Qd=["children","className","color","component","disabled","error","filled","focused","required"],Jd=(0,Ot.Ay)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return(0,Be.A)({},t.root,"secondary"===r.color&&t.colorSecondary,r.filled&&t.filled)}})((e=>{let{theme:t,ownerState:r}=e;return(0,Be.A)({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Xd.focused}`]:{color:(t.vars||t).palette[r.color].main},[`&.${Xd.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Xd.error}`]:{color:(t.vars||t).palette.error.main}})})),Zd=(0,Ot.Ay)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((e=>{let{theme:t}=e;return{[`&.${Xd.error}`]:{color:(t.vars||t).palette.error.main}}})),eu=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiFormLabel"}),{children:n,className:o,component:a="label"}=r,i=(0,Fe.A)(r,Qd),s=cd({props:r,muiFormControl:ud(),states:["color","required","focused","disabled","error","filled"]}),l=(0,Be.A)({},r,{color:s.color||"primary",component:a,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),c=(e=>{const{classes:t,color:r,focused:n,disabled:o,error:a,filled:i,required:s}=e,l={root:["root",`color${(0,Pt.A)(r)}`,o&&"disabled",a&&"error",i&&"filled",n&&"focused",s&&"required"],asterisk:["asterisk",a&&"error"]};return(0,kt.A)(l,Kd,t)})(l);return(0,Ve.jsxs)(Jd,(0,Be.A)({as:a,ownerState:l,className:(0,vt.A)(c.root,o),ref:t},i,{children:[n,s.required&&(0,Ve.jsxs)(Zd,{ownerState:l,"aria-hidden":!0,className:c.asterisk,children:["\u2009","*"]})]}))}));function tu(e){return(0,Mt.Ay)("MuiInputLabel",e)}(0,St.A)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const ru=["disableAnimation","margin","shrink","variant","className"],nu=(0,Ot.Ay)(eu,{shouldForwardProp:e=>(0,Ia.A)(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${Xd.asterisk}`]:t.asterisk},t.root,r.formControl&&t.formControl,"small"===r.size&&t.sizeSmall,r.shrink&&t.shrink,!r.disableAnimation&&t.animated,r.focused&&t.focused,t[r.variant]]}})((e=>{let{theme:t,ownerState:r}=e;return(0,Be.A)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},r.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===r.size&&{transform:"translate(0, 17px) scale(1)"},r.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!r.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===r.variant&&(0,Be.A)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===r.size&&{transform:"translate(12px, 13px) scale(1)"},r.shrink&&(0,Be.A)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===r.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===r.variant&&(0,Be.A)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===r.size&&{transform:"translate(14px, 9px) scale(1)"},r.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))})),ou=a.forwardRef((function(e,t){const r=(0,at.b)({name:"MuiInputLabel",props:e}),{disableAnimation:n=!1,shrink:o,className:a}=r,i=(0,Fe.A)(r,ru),s=ud();let l=o;"undefined"===typeof l&&s&&(l=s.filled||s.focused||s.adornedStart);const c=cd({props:r,muiFormControl:s,states:["size","variant","required","focused"]}),d=(0,Be.A)({},r,{disableAnimation:n,formControl:s,shrink:l,size:c.size,variant:c.variant,required:c.required,focused:c.focused}),u=(e=>{const{classes:t,formControl:r,size:n,shrink:o,disableAnimation:a,variant:i,required:s}=e,l={root:["root",r&&"formControl",!a&&"animated",o&&"shrink",n&&"normal"!==n&&`size${(0,Pt.A)(n)}`,i],asterisk:[s&&"asterisk"]},c=(0,kt.A)(l,tu,t);return(0,Be.A)({},t,c)})(d);return(0,Ve.jsx)(nu,(0,Be.A)({"data-shrink":l,ownerState:d,ref:t,className:(0,vt.A)(u.root,a)},i,{classes:u}))}));function au(e){return(0,Mt.Ay)("MuiFormControl",e)}(0,St.A)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const iu=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],su=(0,Ot.Ay)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return(0,Be.A)({},t.root,t[`margin${(0,Pt.A)(r.margin)}`],r.fullWidth&&t.fullWidth)}})((e=>{let{ownerState:t}=e;return(0,Be.A)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),lu=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiFormControl"}),{children:n,className:o,color:i="primary",component:s="div",disabled:l=!1,error:c=!1,focused:d,fullWidth:u=!1,hiddenLabel:p=!1,margin:h="none",required:f=!1,size:m="medium",variant:g="outlined"}=r,v=(0,Fe.A)(r,iu),x=(0,Be.A)({},r,{color:i,component:s,disabled:l,error:c,fullWidth:u,hiddenLabel:p,margin:h,required:f,size:m,variant:g}),b=(e=>{const{classes:t,margin:r,fullWidth:n}=e,o={root:["root","none"!==r&&`margin${(0,Pt.A)(r)}`,n&&"fullWidth"]};return(0,kt.A)(o,au,t)})(x),[y,j]=a.useState((()=>{let e=!1;return n&&a.Children.forEach(n,(t=>{if(!(0,Ga.A)(t,["Input","Select"]))return;const r=(0,Ga.A)(t,["Select"])?t.props.input:t;r&&r.props.startAdornment&&(e=!0)})),e})),[w,S]=a.useState((()=>{let e=!1;return n&&a.Children.forEach(n,(t=>{(0,Ga.A)(t,["Input","Select"])&&(hd(t.props,!0)||hd(t.props.inputProps,!0))&&(e=!0)})),e})),[C,A]=a.useState(!1);l&&C&&A(!1);const E=void 0===d||l?C:d;let k;const O=a.useMemo((()=>({adornedStart:y,setAdornedStart:j,color:i,disabled:l,error:c,filled:w,focused:E,fullWidth:u,hiddenLabel:p,size:m,onBlur:()=>{A(!1)},onEmpty:()=>{S(!1)},onFilled:()=>{S(!0)},onFocus:()=>{A(!0)},registerEffect:k,required:f,variant:g})),[y,i,l,c,w,E,u,p,k,f,m,g]);return(0,Ve.jsx)(dd.Provider,{value:O,children:(0,Ve.jsx)(su,(0,Be.A)({as:s,ownerState:x,className:(0,vt.A)(b.root,o),ref:t},v,{children:n}))})}));function cu(e){return(0,Mt.Ay)("MuiFormHelperText",e)}const du=(0,St.A)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var uu;const pu=["children","className","component","disabled","error","filled","focused","margin","required","variant"],hu=(0,Ot.Ay)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.size&&t[`size${(0,Pt.A)(r.size)}`],r.contained&&t.contained,r.filled&&t.filled]}})((e=>{let{theme:t,ownerState:r}=e;return(0,Be.A)({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${du.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${du.error}`]:{color:(t.vars||t).palette.error.main}},"small"===r.size&&{marginTop:4},r.contained&&{marginLeft:14,marginRight:14})})),fu=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiFormHelperText"}),{children:n,className:o,component:a="p"}=r,i=(0,Fe.A)(r,pu),s=cd({props:r,muiFormControl:ud(),states:["variant","size","disabled","error","filled","focused","required"]}),l=(0,Be.A)({},r,{component:a,contained:"filled"===s.variant||"outlined"===s.variant,variant:s.variant,size:s.size,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),c=(e=>{const{classes:t,contained:r,size:n,disabled:o,error:a,filled:i,focused:s,required:l}=e,c={root:["root",o&&"disabled",a&&"error",n&&`size${(0,Pt.A)(n)}`,r&&"contained",s&&"focused",i&&"filled",l&&"required"]};return(0,kt.A)(c,cu,t)})(l);return(0,Ve.jsx)(hu,(0,Be.A)({as:a,ownerState:l,className:(0,vt.A)(c.root,o),ref:t},i,{children:" "===n?uu||(uu=(0,Ve.jsx)("span",{className:"notranslate",children:"\u200b"})):n}))}));var mu=r(2427);const gu=pa,vu=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function xu(e,t,r){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:r?null:e.firstChild}function bu(e,t,r){return e===t?r?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:r?null:e.lastChild}function yu(e,t){if(void 0===t)return!0;let r=e.innerText;return void 0===r&&(r=e.textContent),r=r.trim().toLowerCase(),0!==r.length&&(t.repeating?r[0]===t.keys[0]:0===r.indexOf(t.keys.join("")))}function ju(e,t,r,n,o,a){let i=!1,s=o(e,t,!!t&&r);for(;s;){if(s===e.firstChild){if(i)return!1;i=!0}const t=!n&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&yu(s,a)&&!t)return s.focus(),!0;s=o(e,s,r)}return!1}const wu=a.forwardRef((function(e,t){const{actions:r,autoFocus:n=!1,autoFocusItem:o=!1,children:i,className:s,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:d,variant:u="selectedMenu"}=e,p=(0,Fe.A)(e,vu),h=a.useRef(null),f=a.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});(0,Ha.A)((()=>{n&&h.current.focus()}),[n]),a.useImperativeHandle(r,(()=>({adjustStyleForScrollbar:(e,t)=>{let{direction:r}=t;const n=!h.current.style.width;if(e.clientHeight<h.current.clientHeight&&n){const t=`${gu((0,mu.A)(e))}px`;h.current.style["rtl"===r?"paddingLeft":"paddingRight"]=t,h.current.style.width=`calc(100% + ${t})`}return h.current}})),[]);const m=(0,Ht.A)(h,t);let g=-1;a.Children.forEach(i,((e,t)=>{a.isValidElement(e)?(e.props.disabled||("selectedMenu"===u&&e.props.selected||-1===g)&&(g=t),g===t&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(g+=1,g>=i.length&&(g=-1))):g===t&&(g+=1,g>=i.length&&(g=-1))}));const v=a.Children.map(i,((e,t)=>{if(t===g){const t={};return o&&(t.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===u&&(t.tabIndex=0),a.cloneElement(e,t)}return e}));return(0,Ve.jsx)(Va,(0,Be.A)({role:"menu",ref:m,className:s,onKeyDown:e=>{const t=h.current,r=e.key,n=(0,mu.A)(t).activeElement;if("ArrowDown"===r)e.preventDefault(),ju(t,n,c,l,xu);else if("ArrowUp"===r)e.preventDefault(),ju(t,n,c,l,bu);else if("Home"===r)e.preventDefault(),ju(t,null,c,l,xu);else if("End"===r)e.preventDefault(),ju(t,null,c,l,bu);else if(1===r.length){const o=f.current,a=r.toLowerCase(),i=performance.now();o.keys.length>0&&(i-o.lastTime>500?(o.keys=[],o.repeating=!0,o.previousKeyMatched=!0):o.repeating&&a!==o.keys[0]&&(o.repeating=!1)),o.lastTime=i,o.keys.push(a);const s=n&&!o.repeating&&yu(n,o);o.previousKeyMatched&&(s||ju(t,n,!1,l,xu,o))?e.preventDefault():o.previousKeyMatched=!1}d&&d(e)},tabIndex:n?0:-1},p,{children:v}))}));function Su(e){return(0,Mt.Ay)("MuiPopover",e)}(0,St.A)("MuiPopover",["root","paper"]);const Cu=["onEntering"],Au=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Eu=["slotProps"];function ku(e,t){let r=0;return"number"===typeof t?r=t:"center"===t?r=e.height/2:"bottom"===t&&(r=e.height),r}function Ou(e,t){let r=0;return"number"===typeof t?r=t:"center"===t?r=e.width/2:"right"===t&&(r=e.width),r}function Pu(e){return[e.horizontal,e.vertical].map((e=>"number"===typeof e?`${e}px`:e)).join(" ")}function Iu(e){return"function"===typeof e?e():e}const Du=(0,Ot.Ay)(Ca,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Mu=(0,Ot.Ay)($t,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Tu=a.forwardRef((function(e,t){var r,n,o;const i=(0,at.b)({props:e,name:"MuiPopover"}),{action:s,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:d,anchorReference:u="anchorEl",children:p,className:h,container:f,elevation:m=8,marginThreshold:g=16,open:v,PaperProps:x={},slots:b,slotProps:y,transformOrigin:j={vertical:"top",horizontal:"left"},TransitionComponent:w=nn,transitionDuration:S="auto",TransitionProps:{onEntering:C}={},disableScrollLock:A=!1}=i,E=(0,Fe.A)(i.TransitionProps,Cu),k=(0,Fe.A)(i,Au),O=null!=(r=null==y?void 0:y.paper)?r:x,P=a.useRef(),I=(0,Ht.A)(P,O.ref),D=(0,Be.A)({},i,{anchorOrigin:c,anchorReference:u,elevation:m,marginThreshold:g,externalPaperSlotProps:O,transformOrigin:j,TransitionComponent:w,transitionDuration:S,TransitionProps:E}),M=(e=>{const{classes:t}=e;return(0,kt.A)({root:["root"],paper:["paper"]},Su,t)})(D),T=a.useCallback((()=>{if("anchorPosition"===u)return d;const e=Iu(l),t=(e&&1===e.nodeType?e:(0,mu.A)(P.current).body).getBoundingClientRect();return{top:t.top+ku(t,c.vertical),left:t.left+Ou(t,c.horizontal)}}),[l,c.horizontal,c.vertical,d,u]),R=a.useCallback((e=>({vertical:ku(e,j.vertical),horizontal:Ou(e,j.horizontal)})),[j.horizontal,j.vertical]),N=a.useCallback((e=>{const t={width:e.offsetWidth,height:e.offsetHeight},r=R(t);if("none"===u)return{top:null,left:null,transformOrigin:Pu(r)};const n=T();let o=n.top-r.vertical,a=n.left-r.horizontal;const i=o+t.height,s=a+t.width,c=(0,Ea.A)(Iu(l)),d=c.innerHeight-g,p=c.innerWidth-g;if(null!==g&&o<g){const e=o-g;o-=e,r.vertical+=e}else if(null!==g&&i>d){const e=i-d;o-=e,r.vertical+=e}if(null!==g&&a<g){const e=a-g;a-=e,r.horizontal+=e}else if(s>p){const e=s-p;a-=e,r.horizontal+=e}return{top:`${Math.round(o)}px`,left:`${Math.round(a)}px`,transformOrigin:Pu(r)}}),[l,u,T,R,g]),[$,z]=a.useState(v),L=a.useCallback((()=>{const e=P.current;if(!e)return;const t=N(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,z(!0)}),[N]);a.useEffect((()=>(A&&window.addEventListener("scroll",L),()=>window.removeEventListener("scroll",L))),[l,A,L]);a.useEffect((()=>{v&&L()})),a.useImperativeHandle(s,(()=>v?{updatePosition:()=>{L()}}:null),[v,L]),a.useEffect((()=>{if(!v)return;const e=(0,Aa.A)((()=>{L()})),t=(0,Ea.A)(l);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[l,v,L]);let B=S;"auto"!==S||w.muiSupportAuto||(B=void 0);const F=f||(l?(0,mu.A)(Iu(l)).body:void 0),_=null!=(n=null==b?void 0:b.root)?n:Du,U=null!=(o=null==b?void 0:b.paper)?o:Mu,W=Ao({elementType:U,externalSlotProps:(0,Be.A)({},O,{style:$?O.style:(0,Be.A)({},O.style,{opacity:0})}),additionalProps:{elevation:m,ref:I},ownerState:D,className:(0,vt.A)(M.paper,null==O?void 0:O.className)}),V=Ao({elementType:_,externalSlotProps:(null==y?void 0:y.root)||{},externalForwardedProps:k,additionalProps:{ref:t,slotProps:{backdrop:{invisible:!0}},container:F,open:v},ownerState:D,className:(0,vt.A)(M.root,h)}),{slotProps:G}=V,H=(0,Fe.A)(V,Eu);return(0,Ve.jsx)(_,(0,Be.A)({},H,!zr(_)&&{slotProps:G,disableScrollLock:A},{children:(0,Ve.jsx)(w,(0,Be.A)({appear:!0,in:v,onEntering:(e,t)=>{C&&C(e,t),L()},onExited:()=>{z(!1)},timeout:B},E,{children:(0,Ve.jsx)(U,(0,Be.A)({},W,{children:p}))}))}))}));function Ru(e){return(0,Mt.Ay)("MuiMenu",e)}(0,St.A)("MuiMenu",["root","paper","list"]);const Nu=["onEntering"],$u=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],zu={vertical:"top",horizontal:"right"},Lu={vertical:"top",horizontal:"left"},Bu=(0,Ot.Ay)(Tu,{shouldForwardProp:e=>(0,Ia.A)(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Fu=(0,Ot.Ay)(Mu,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),_u=(0,Ot.Ay)(wu,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),Uu=a.forwardRef((function(e,t){var r,n;const o=(0,at.b)({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:s,className:l,disableAutoFocusItem:c=!1,MenuListProps:d={},onClose:u,open:p,PaperProps:h={},PopoverClasses:f,transitionDuration:m="auto",TransitionProps:{onEntering:g}={},variant:v="selectedMenu",slots:x={},slotProps:b={}}=o,y=(0,Fe.A)(o.TransitionProps,Nu),j=(0,Fe.A)(o,$u),w=Xe(),S=(0,Be.A)({},o,{autoFocus:i,disableAutoFocusItem:c,MenuListProps:d,onEntering:g,PaperProps:h,transitionDuration:m,TransitionProps:y,variant:v}),C=(e=>{const{classes:t}=e;return(0,kt.A)({root:["root"],paper:["paper"],list:["list"]},Ru,t)})(S),A=i&&!c&&p,E=a.useRef(null);let k=-1;a.Children.map(s,((e,t)=>{a.isValidElement(e)&&(e.props.disabled||("selectedMenu"===v&&e.props.selected||-1===k)&&(k=t))}));const O=null!=(r=x.paper)?r:Fu,P=null!=(n=b.paper)?n:h,I=Ao({elementType:x.root,externalSlotProps:b.root,ownerState:S,className:[C.root,l]}),D=Ao({elementType:O,externalSlotProps:P,ownerState:S,className:C.paper});return(0,Ve.jsx)(Bu,(0,Be.A)({onClose:u,anchorOrigin:{vertical:"bottom",horizontal:w?"right":"left"},transformOrigin:w?zu:Lu,slots:{paper:O,root:x.root},slotProps:{root:I,paper:D},open:p,ref:t,transitionDuration:m,TransitionProps:(0,Be.A)({onEntering:(e,t)=>{E.current&&E.current.adjustStyleForScrollbar(e,{direction:w?"rtl":"ltr"}),g&&g(e,t)}},y),ownerState:S},j,{classes:f,children:(0,Ve.jsx)(_u,(0,Be.A)({onKeyDown:e=>{"Tab"===e.key&&(e.preventDefault(),u&&u(e,"tabKeyDown"))},actions:E,autoFocus:i&&(-1===k||c),autoFocusItem:A,variant:v},d,{className:(0,vt.A)(C.list,d.className),children:s}))}))}));function Wu(e){return(0,Mt.Ay)("MuiNativeSelect",e)}const Vu=(0,St.A)("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Gu=["className","disabled","error","IconComponent","inputRef","variant"],Hu=e=>{let{ownerState:t,theme:r}=e;return(0,Be.A)({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":(0,Be.A)({},r.vars?{backgroundColor:`rgba(${r.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:"light"===r.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${Vu.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(r.vars||r).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},"filled"===t.variant&&{"&&&":{paddingRight:32}},"outlined"===t.variant&&{borderRadius:(r.vars||r).shape.borderRadius,"&:focus":{borderRadius:(r.vars||r).shape.borderRadius},"&&&":{paddingRight:32}})},qu=(0,Ot.Ay)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Ia.A,overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.select,t[r.variant],r.error&&t.error,{[`&.${Vu.multiple}`]:t.multiple}]}})(Hu),Yu=e=>{let{ownerState:t,theme:r}=e;return(0,Be.A)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(r.vars||r).palette.action.active,[`&.${Vu.disabled}`]:{color:(r.vars||r).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},Ku=(0,Ot.Ay)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${(0,Pt.A)(r.variant)}`],r.open&&t.iconOpen]}})(Yu),Xu=a.forwardRef((function(e,t){const{className:r,disabled:n,error:o,IconComponent:i,inputRef:s,variant:l="standard"}=e,c=(0,Fe.A)(e,Gu),d=(0,Be.A)({},e,{disabled:n,variant:l,error:o}),u=(e=>{const{classes:t,variant:r,disabled:n,multiple:o,open:a,error:i}=e,s={select:["select",r,n&&"disabled",o&&"multiple",i&&"error"],icon:["icon",`icon${(0,Pt.A)(r)}`,a&&"iconOpen",n&&"disabled"]};return(0,kt.A)(s,Wu,t)})(d);return(0,Ve.jsxs)(a.Fragment,{children:[(0,Ve.jsx)(qu,(0,Be.A)({ownerState:d,className:(0,vt.A)(u.select,r),disabled:n,ref:s||t},c)),e.multiple?null:(0,Ve.jsx)(Ku,{as:i,ownerState:d,className:u.icon})]})}));var Qu=r(7123);function Ju(e){return(0,Mt.Ay)("MuiSelect",e)}const Zu=(0,St.A)("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var ep;const tp=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],rp=(0,Ot.Ay)("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`&.${Zu.select}`]:t.select},{[`&.${Zu.select}`]:t[r.variant]},{[`&.${Zu.error}`]:t.error},{[`&.${Zu.multiple}`]:t.multiple}]}})(Hu,{[`&.${Zu.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),np=(0,Ot.Ay)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${(0,Pt.A)(r.variant)}`],r.open&&t.iconOpen]}})(Yu),op=(0,Ot.Ay)("input",{shouldForwardProp:e=>(0,Qu.A)(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function ap(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function ip(e){return null==e||"string"===typeof e&&!e.trim()}const sp=a.forwardRef((function(e,t){var r;const{"aria-describedby":n,"aria-label":o,autoFocus:i,autoWidth:s,children:l,className:c,defaultOpen:d,defaultValue:u,disabled:p,displayEmpty:h,error:f=!1,IconComponent:m,inputRef:g,labelId:v,MenuProps:x={},multiple:b,name:y,onBlur:j,onChange:w,onClose:S,onFocus:C,onOpen:A,open:E,readOnly:k,renderValue:O,SelectDisplayProps:P={},tabIndex:I,value:D,variant:M="standard"}=e,T=(0,Fe.A)(e,tp),[R,N]=(0,Fo.A)({controlled:D,default:u,name:"Select"}),[$,z]=(0,Fo.A)({controlled:E,default:d,name:"Select"}),L=a.useRef(null),B=a.useRef(null),[F,_]=a.useState(null),{current:U}=a.useRef(null!=E),[W,V]=a.useState(),G=(0,Ht.A)(t,g),H=a.useCallback((e=>{B.current=e,e&&_(e)}),[]),q=null==F?void 0:F.parentNode;a.useImperativeHandle(G,(()=>({focus:()=>{B.current.focus()},node:L.current,value:R})),[R]),a.useEffect((()=>{d&&$&&F&&!U&&(V(s?null:q.clientWidth),B.current.focus())}),[F,s]),a.useEffect((()=>{i&&B.current.focus()}),[i]),a.useEffect((()=>{if(!v)return;const e=(0,mu.A)(B.current).getElementById(v);if(e){const t=()=>{getSelection().isCollapsed&&B.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}}),[v]);const Y=(e,t)=>{e?A&&A(t):S&&S(t),U||(V(s?null:q.clientWidth),z(e))},K=a.Children.toArray(l),X=e=>t=>{let r;if(t.currentTarget.hasAttribute("tabindex")){if(b){r=Array.isArray(R)?R.slice():[];const t=R.indexOf(e.props.value);-1===t?r.push(e.props.value):r.splice(t,1)}else r=e.props.value;if(e.props.onClick&&e.props.onClick(t),R!==r&&(N(r),w)){const n=t.nativeEvent||t,o=new n.constructor(n.type,n);Object.defineProperty(o,"target",{writable:!0,value:{value:r,name:y}}),w(o,e)}b||Y(!1,t)}},Q=null!==F&&$;let J,Z;delete T["aria-invalid"];const ee=[];let te=!1,re=!1;(hd({value:R})||h)&&(O?J=O(R):te=!0);const ne=K.map((e=>{if(!a.isValidElement(e))return null;let t;if(b){if(!Array.isArray(R))throw new Error((0,rd.A)(2));t=R.some((t=>ap(t,e.props.value))),t&&te&&ee.push(e.props.children)}else t=ap(R,e.props.value),t&&te&&(Z=e.props.children);return t&&(re=!0),a.cloneElement(e,{"aria-selected":t?"true":"false",onClick:X(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));te&&(J=b?0===ee.length?null:ee.reduce(((e,t,r)=>(e.push(t),r<ee.length-1&&e.push(", "),e)),[]):Z);let oe,ae=W;!s&&U&&F&&(ae=q.clientWidth),oe="undefined"!==typeof I?I:p?null:0;const ie=P.id||(y?`mui-component-select-${y}`:void 0),se=(0,Be.A)({},e,{variant:M,value:R,open:Q,error:f}),le=(e=>{const{classes:t,variant:r,disabled:n,multiple:o,open:a,error:i}=e,s={select:["select",r,n&&"disabled",o&&"multiple",i&&"error"],icon:["icon",`icon${(0,Pt.A)(r)}`,a&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return(0,kt.A)(s,Ju,t)})(se),ce=(0,Be.A)({},x.PaperProps,null==(r=x.slotProps)?void 0:r.paper),de=(0,Di.A)();return(0,Ve.jsxs)(a.Fragment,{children:[(0,Ve.jsx)(rp,(0,Be.A)({ref:H,tabIndex:oe,role:"combobox","aria-controls":de,"aria-disabled":p?"true":void 0,"aria-expanded":Q?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[v,ie].filter(Boolean).join(" ")||void 0,"aria-describedby":n,onKeyDown:e=>{if(!k){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),Y(!0,e))}},onMouseDown:p||k?null:e=>{0===e.button&&(e.preventDefault(),B.current.focus(),Y(!0,e))},onBlur:e=>{!Q&&j&&(Object.defineProperty(e,"target",{writable:!0,value:{value:R,name:y}}),j(e))},onFocus:C},P,{ownerState:se,className:(0,vt.A)(P.className,le.select,c),id:ie,children:ip(J)?ep||(ep=(0,Ve.jsx)("span",{className:"notranslate",children:"\u200b"})):J})),(0,Ve.jsx)(op,(0,Be.A)({"aria-invalid":f,value:Array.isArray(R)?R.join(","):R,name:y,ref:L,"aria-hidden":!0,onChange:e=>{const t=K.find((t=>t.props.value===e.target.value));void 0!==t&&(N(t.props.value),w&&w(e,t))},tabIndex:-1,disabled:p,className:le.nativeInput,autoFocus:i,ownerState:se},T)),(0,Ve.jsx)(np,{as:m,className:le.icon,ownerState:se}),(0,Ve.jsx)(Uu,(0,Be.A)({id:`menu-${y||""}`,anchorEl:q,open:Q,onClose:e=>{Y(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},x,{MenuListProps:(0,Be.A)({"aria-labelledby":v,role:"listbox","aria-multiselectable":b?"true":void 0,disableListWrap:!0,id:de},x.MenuListProps),slotProps:(0,Be.A)({},x.slotProps,{paper:(0,Be.A)({},ce,{style:(0,Be.A)({minWidth:ae},null!=ce?ce.style:null)})}),children:ne}))]})})),lp=(0,ms.A)((0,Ve.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),cp=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],dp=["root"],up={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>(0,Ia.A)(e)&&"variant"!==e,slot:"Root"},pp=(0,Ot.Ay)(Pd,up)(""),hp=(0,Ot.Ay)(Yd,up)(""),fp=(0,Ot.Ay)($d,up)(""),mp=a.forwardRef((function(e,t){const r=(0,at.b)({name:"MuiSelect",props:e}),{autoWidth:n=!1,children:o,classes:i={},className:s,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:d=lp,id:u,input:p,inputProps:h,label:f,labelId:m,MenuProps:g,multiple:v=!1,native:x=!1,onClose:b,onOpen:y,open:j,renderValue:w,SelectDisplayProps:S,variant:C="outlined"}=r,A=(0,Fe.A)(r,cp),E=x?Xu:sp,k=cd({props:r,muiFormControl:ud(),states:["variant","error"]}),O=k.variant||C,P=(0,Be.A)({},r,{variant:O,classes:i}),I=(e=>{const{classes:t}=e;return t})(P),D=(0,Fe.A)(I,dp),M=p||{standard:(0,Ve.jsx)(pp,{ownerState:P}),outlined:(0,Ve.jsx)(hp,{label:f,ownerState:P}),filled:(0,Ve.jsx)(fp,{ownerState:P})}[O],T=(0,Ht.A)(t,Br(M));return(0,Ve.jsx)(a.Fragment,{children:a.cloneElement(M,(0,Be.A)({inputComponent:E,inputProps:(0,Be.A)({children:o,error:k.error,IconComponent:d,variant:O,type:void 0,multiple:v},x?{id:u}:{autoWidth:n,defaultOpen:l,displayEmpty:c,labelId:m,MenuProps:g,onClose:b,onOpen:y,open:j,renderValue:w,SelectDisplayProps:(0,Be.A)({id:u},S)},h,{classes:h?(0,td.A)(D,h.classes):D},p?p.props.inputProps:{})},(v&&x||c)&&"outlined"===O?{notched:!0}:{},{ref:T,className:(0,vt.A)(M.props.className,s,I.root)},!p&&{variant:O},A))})}));mp.muiName="Select";const gp=mp;function vp(e){return(0,Mt.Ay)("MuiTextField",e)}(0,St.A)("MuiTextField",["root"]);const xp=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],bp={standard:Pd,filled:$d,outlined:Yd},yp=(0,Ot.Ay)(lu,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),jp=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiTextField"}),{autoComplete:n,autoFocus:o=!1,children:a,className:i,color:s="primary",defaultValue:l,disabled:c=!1,error:d=!1,FormHelperTextProps:u,fullWidth:p=!1,helperText:h,id:f,InputLabelProps:m,inputProps:g,InputProps:v,inputRef:x,label:b,maxRows:y,minRows:j,multiline:w=!1,name:S,onBlur:C,onChange:A,onFocus:E,placeholder:k,required:O=!1,rows:P,select:I=!1,SelectProps:D,type:M,value:T,variant:R="outlined"}=r,N=(0,Fe.A)(r,xp),$=(0,Be.A)({},r,{autoFocus:o,color:s,disabled:c,error:d,fullWidth:p,multiline:w,required:O,select:I,variant:R}),z=(e=>{const{classes:t}=e;return(0,kt.A)({root:["root"]},vp,t)})($);const L={};"outlined"===R&&(m&&"undefined"!==typeof m.shrink&&(L.notched=m.shrink),L.label=b),I&&(D&&D.native||(L.id=void 0),L["aria-describedby"]=void 0);const B=(0,Di.A)(f),F=h&&B?`${B}-helper-text`:void 0,_=b&&B?`${B}-label`:void 0,U=bp[R],W=(0,Ve.jsx)(U,(0,Be.A)({"aria-describedby":F,autoComplete:n,autoFocus:o,defaultValue:l,fullWidth:p,multiline:w,name:S,rows:P,maxRows:y,minRows:j,type:M,value:T,id:B,inputRef:x,onBlur:C,onChange:A,onFocus:E,placeholder:k,inputProps:g},L,v));return(0,Ve.jsxs)(yp,(0,Be.A)({className:(0,vt.A)(z.root,i),disabled:c,error:d,fullWidth:p,ref:t,required:O,color:s,variant:R,ownerState:$},N,{children:[null!=b&&""!==b&&(0,Ve.jsx)(ou,(0,Be.A)({htmlFor:B,id:_},m,{children:b})),I?(0,Ve.jsx)(gp,(0,Be.A)({"aria-describedby":F,id:B,labelId:_,value:T,input:W},D,{children:a})):W,h&&(0,Ve.jsx)(fu,(0,Be.A)({id:F},u,{children:h}))]}))}));function wp(e){return(0,Mt.Ay)("MuiInputAdornment",e)}const Sp=(0,St.A)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var Cp;const Ap=["children","className","component","disablePointerEvents","disableTypography","position","variant"],Ep=(0,Ot.Ay)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`position${(0,Pt.A)(r.position)}`],!0===r.disablePointerEvents&&t.disablePointerEvents,t[r.variant]]}})((e=>{let{theme:t,ownerState:r}=e;return(0,Be.A)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},"filled"===r.variant&&{[`&.${Sp.positionStart}&:not(.${Sp.hiddenLabel})`]:{marginTop:16}},"start"===r.position&&{marginRight:8},"end"===r.position&&{marginLeft:8},!0===r.disablePointerEvents&&{pointerEvents:"none"})})),kp=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiInputAdornment"}),{children:n,className:o,component:i="div",disablePointerEvents:s=!1,disableTypography:l=!1,position:c,variant:d}=r,u=(0,Fe.A)(r,Ap),p=ud()||{};let h=d;d&&p.variant,p&&!h&&(h=p.variant);const f=(0,Be.A)({},r,{hiddenLabel:p.hiddenLabel,size:p.size,disablePointerEvents:s,position:c,variant:h}),m=(e=>{const{classes:t,disablePointerEvents:r,hiddenLabel:n,position:o,size:a,variant:i}=e,s={root:["root",r&&"disablePointerEvents",o&&`position${(0,Pt.A)(o)}`,i,n&&"hiddenLabel",a&&`size${(0,Pt.A)(a)}`]};return(0,kt.A)(s,wp,t)})(f);return(0,Ve.jsx)(dd.Provider,{value:null,children:(0,Ve.jsx)(Ep,(0,Be.A)({as:i,ownerState:f,className:(0,vt.A)(m.root,o),ref:t},u,{children:"string"!==typeof n||l?(0,Ve.jsxs)(a.Fragment,{children:["start"===c?Cp||(Cp=(0,Ve.jsx)("span",{className:"notranslate",children:"\u200b"})):null,n]}):(0,Ve.jsx)($r,{color:"text.secondary",children:n})}))})}));function Op(e){return(0,Mt.Ay)("MuiTableContainer",e)}(0,St.A)("MuiTableContainer",["root"]);const Pp=["className","component"],Ip=(0,Ot.Ay)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),Dp=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiTableContainer"}),{className:n,component:o="div"}=r,a=(0,Fe.A)(r,Pp),i=(0,Be.A)({},r,{component:o}),s=(e=>{const{classes:t}=e;return(0,kt.A)({root:["root"]},Op,t)})(i);return(0,Ve.jsx)(Ip,(0,Be.A)({ref:t,as:o,className:(0,vt.A)(s.root,n),ownerState:i},a))}));const Mp=a.createContext();function Tp(e){return(0,Mt.Ay)("MuiTable",e)}(0,St.A)("MuiTable",["root","stickyHeader"]);const Rp=["className","component","padding","size","stickyHeader"],Np=(0,Ot.Ay)("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.stickyHeader&&t.stickyHeader]}})((e=>{let{theme:t,ownerState:r}=e;return(0,Be.A)({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,Be.A)({},t.typography.body2,{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},r.stickyHeader&&{borderCollapse:"separate"})})),$p="table",zp=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiTable"}),{className:n,component:o=$p,padding:i="normal",size:s="medium",stickyHeader:l=!1}=r,c=(0,Fe.A)(r,Rp),d=(0,Be.A)({},r,{component:o,padding:i,size:s,stickyHeader:l}),u=(e=>{const{classes:t,stickyHeader:r}=e,n={root:["root",r&&"stickyHeader"]};return(0,kt.A)(n,Tp,t)})(d),p=a.useMemo((()=>({padding:i,size:s,stickyHeader:l})),[i,s,l]);return(0,Ve.jsx)(Mp.Provider,{value:p,children:(0,Ve.jsx)(Np,(0,Be.A)({as:o,role:o===$p?null:"table",ref:t,className:(0,vt.A)(u.root,n),ownerState:d},c))})}));const Lp=a.createContext();function Bp(e){return(0,Mt.Ay)("MuiTableHead",e)}(0,St.A)("MuiTableHead",["root"]);const Fp=["className","component"],_p=(0,Ot.Ay)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),Up={variant:"head"},Wp="thead",Vp=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiTableHead"}),{className:n,component:o=Wp}=r,a=(0,Fe.A)(r,Fp),i=(0,Be.A)({},r,{component:o}),s=(e=>{const{classes:t}=e;return(0,kt.A)({root:["root"]},Bp,t)})(i);return(0,Ve.jsx)(Lp.Provider,{value:Up,children:(0,Ve.jsx)(_p,(0,Be.A)({as:o,className:(0,vt.A)(s.root,n),ref:t,role:o===Wp?null:"rowgroup",ownerState:i},a))})}));function Gp(e){return(0,Mt.Ay)("MuiTableRow",e)}const Hp=(0,St.A)("MuiTableRow",["root","selected","hover","head","footer"]),qp=["className","component","hover","selected"],Yp=(0,Ot.Ay)("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.head&&t.head,r.footer&&t.footer]}})((e=>{let{theme:t}=e;return{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${Hp.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${Hp.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,It.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,It.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}}})),Kp="tr",Xp=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiTableRow"}),{className:n,component:o=Kp,hover:i=!1,selected:s=!1}=r,l=(0,Fe.A)(r,qp),c=a.useContext(Lp),d=(0,Be.A)({},r,{component:o,hover:i,selected:s,head:c&&"head"===c.variant,footer:c&&"footer"===c.variant}),u=(e=>{const{classes:t,selected:r,hover:n,head:o,footer:a}=e,i={root:["root",r&&"selected",n&&"hover",o&&"head",a&&"footer"]};return(0,kt.A)(i,Gp,t)})(d);return(0,Ve.jsx)(Yp,(0,Be.A)({as:o,ref:t,className:(0,vt.A)(u.root,n),role:o===Kp?null:"row",ownerState:d},l))}));function Qp(e){return(0,Mt.Ay)("MuiTableCell",e)}const Jp=(0,St.A)("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),Zp=["align","className","component","padding","scope","size","sortDirection","variant"],eh=(0,Ot.Ay)("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`size${(0,Pt.A)(r.size)}`],"normal"!==r.padding&&t[`padding${(0,Pt.A)(r.padding)}`],"inherit"!==r.align&&t[`align${(0,Pt.A)(r.align)}`],r.stickyHeader&&t.stickyHeader]}})((e=>{let{theme:t,ownerState:r}=e;return(0,Be.A)({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid\n    ${"light"===t.palette.mode?(0,It.a)((0,It.X4)(t.palette.divider,1),.88):(0,It.e$)((0,It.X4)(t.palette.divider,1),.68)}`,textAlign:"left",padding:16},"head"===r.variant&&{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},"body"===r.variant&&{color:(t.vars||t).palette.text.primary},"footer"===r.variant&&{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},"small"===r.size&&{padding:"6px 16px",[`&.${Jp.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},"checkbox"===r.padding&&{width:48,padding:"0 0 0 4px"},"none"===r.padding&&{padding:0},"left"===r.align&&{textAlign:"left"},"center"===r.align&&{textAlign:"center"},"right"===r.align&&{textAlign:"right",flexDirection:"row-reverse"},"justify"===r.align&&{textAlign:"justify"},r.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default})})),th=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiTableCell"}),{align:n="inherit",className:o,component:i,padding:s,scope:l,size:c,sortDirection:d,variant:u}=r,p=(0,Fe.A)(r,Zp),h=a.useContext(Mp),f=a.useContext(Lp),m=f&&"head"===f.variant;let g;g=i||(m?"th":"td");let v=l;"td"===g?v=void 0:!v&&m&&(v="col");const x=u||f&&f.variant,b=(0,Be.A)({},r,{align:n,component:g,padding:s||(h&&h.padding?h.padding:"normal"),size:c||(h&&h.size?h.size:"medium"),sortDirection:d,stickyHeader:"head"===x&&h&&h.stickyHeader,variant:x}),y=(e=>{const{classes:t,variant:r,align:n,padding:o,size:a,stickyHeader:i}=e,s={root:["root",r,i&&"stickyHeader","inherit"!==n&&`align${(0,Pt.A)(n)}`,"normal"!==o&&`padding${(0,Pt.A)(o)}`,`size${(0,Pt.A)(a)}`]};return(0,kt.A)(s,Qp,t)})(b);let j=null;return d&&(j="asc"===d?"ascending":"descending"),(0,Ve.jsx)(eh,(0,Be.A)({as:g,ref:t,className:(0,vt.A)(y.root,o),"aria-sort":j,scope:v,ownerState:b},p))}));function rh(e){return(0,Mt.Ay)("MuiTableBody",e)}(0,St.A)("MuiTableBody",["root"]);const nh=["className","component"],oh=(0,Ot.Ay)("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),ah={variant:"body"},ih="tbody",sh=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiTableBody"}),{className:n,component:o=ih}=r,a=(0,Fe.A)(r,nh),i=(0,Be.A)({},r,{component:o}),s=(e=>{const{classes:t}=e;return(0,kt.A)({root:["root"]},rh,t)})(i);return(0,Ve.jsx)(Lp.Provider,{value:ah,children:(0,Ve.jsx)(oh,(0,Be.A)({className:(0,vt.A)(s.root,n),as:o,ref:t,role:o===ih?null:"rowgroup",ownerState:i},a))})})),lh=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],ch=["component","slots","slotProps"],dh=["component"];function uh(e,t){const{className:r,elementType:n,ownerState:o,externalForwardedProps:a,getSlotOwnerState:i,internalForwardedProps:s}=t,l=(0,Fe.A)(t,lh),{component:c,slots:d={[e]:void 0},slotProps:u={[e]:void 0}}=a,p=(0,Fe.A)(a,ch),h=d[e]||n,f=So(u[e],o),m=wo((0,Be.A)({className:r},l,{externalForwardedProps:"root"===e?p:void 0,externalSlotProps:f})),{props:{component:g},internalRef:v}=m,x=(0,Fe.A)(m.props,dh),b=(0,an.A)(v,null==f?void 0:f.ref,t.ref),y=i?i(x):{},j=(0,Be.A)({},o,y),w="root"===e?g||c:g,S=Lr(h,(0,Be.A)({},"root"===e&&!c&&!d[e]&&s,"root"!==e&&!d[e]&&s,x,w&&{as:w},{ref:b}),j);return Object.keys(y).forEach((e=>{delete S[e]})),[h,S]}function ph(e){return(0,Mt.Ay)("MuiAlert",e)}const hh=(0,St.A)("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),fh=(0,ms.A)((0,Ve.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),mh=(0,ms.A)((0,Ve.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),gh=(0,ms.A)((0,Ve.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),vh=(0,ms.A)((0,Ve.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),xh=(0,ms.A)((0,Ve.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),bh=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],yh=(0,Ot.Ay)($t,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${(0,Pt.A)(r.color||r.severity)}`]]}})((e=>{let{theme:t}=e;const r="light"===t.palette.mode?It.e$:It.a,n="light"===t.palette.mode?It.a:It.e$;return(0,Be.A)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[o]=e;return{props:{colorSeverity:o,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${o}Color`]:r(t.palette[o].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${o}StandardBg`]:n(t.palette[o].light,.9),[`& .${hh.icon}`]:t.vars?{color:t.vars.palette.Alert[`${o}IconColor`]}:{color:t.palette[o].main}}}})),...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[n]=e;return{props:{colorSeverity:n,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${n}Color`]:r(t.palette[n].light,.6),border:`1px solid ${(t.vars||t).palette[n].light}`,[`& .${hh.icon}`]:t.vars?{color:t.vars.palette.Alert[`${n}IconColor`]}:{color:t.palette[n].main}}}})),...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.dark})).map((e=>{let[r]=e;return{props:{colorSeverity:r,variant:"filled"},style:(0,Be.A)({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${r}FilledColor`],backgroundColor:t.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:"dark"===t.palette.mode?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)})}}))]})})),jh=(0,Ot.Ay)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),wh=(0,Ot.Ay)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),Sh=(0,Ot.Ay)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),Ch={success:(0,Ve.jsx)(fh,{fontSize:"inherit"}),warning:(0,Ve.jsx)(mh,{fontSize:"inherit"}),error:(0,Ve.jsx)(gh,{fontSize:"inherit"}),info:(0,Ve.jsx)(vh,{fontSize:"inherit"})},Ah=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiAlert"}),{action:n,children:o,className:a,closeText:i="Close",color:s,components:l={},componentsProps:c={},icon:d,iconMapping:u=Ch,onClose:p,role:h="alert",severity:f="success",slotProps:m={},slots:g={},variant:v="standard"}=r,x=(0,Fe.A)(r,bh),b=(0,Be.A)({},r,{color:s,severity:f,variant:v,colorSeverity:s||f}),y=(e=>{const{variant:t,color:r,severity:n,classes:o}=e,a={root:["root",`color${(0,Pt.A)(r||n)}`,`${t}${(0,Pt.A)(r||n)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return(0,kt.A)(a,ph,o)})(b),j={slots:(0,Be.A)({closeButton:l.CloseButton,closeIcon:l.CloseIcon},g),slotProps:(0,Be.A)({},c,m)},[w,S]=uh("closeButton",{elementType:Ir,externalForwardedProps:j,ownerState:b}),[C,A]=uh("closeIcon",{elementType:xh,externalForwardedProps:j,ownerState:b});return(0,Ve.jsxs)(yh,(0,Be.A)({role:h,elevation:0,ownerState:b,className:(0,vt.A)(y.root,a),ref:t},x,{children:[!1!==d?(0,Ve.jsx)(jh,{ownerState:b,className:y.icon,children:d||u[f]||Ch[f]}):null,(0,Ve.jsx)(wh,{ownerState:b,className:y.message,children:o}),null!=n?(0,Ve.jsx)(Sh,{ownerState:b,className:y.action,children:n}):null,null==n&&p?(0,Ve.jsx)(Sh,{ownerState:b,className:y.action,children:(0,Ve.jsx)(w,(0,Be.A)({size:"small","aria-label":i,title:i,color:"inherit",onClick:p},S,{children:(0,Ve.jsx)(C,(0,Be.A)({fontSize:"small"},A))}))}):null]}))}));var Eh=r(9751);const kh=a.createContext();function Oh(e){return(0,Mt.Ay)("MuiGrid",e)}const Ph=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Ih=(0,St.A)("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map((e=>`spacing-xs-${e}`)),...["column-reverse","column","row-reverse","row"].map((e=>`direction-xs-${e}`)),...["nowrap","wrap-reverse","wrap"].map((e=>`wrap-xs-${e}`)),...Ph.map((e=>`grid-xs-${e}`)),...Ph.map((e=>`grid-sm-${e}`)),...Ph.map((e=>`grid-md-${e}`)),...Ph.map((e=>`grid-lg-${e}`)),...Ph.map((e=>`grid-xl-${e}`))]),Dh=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Mh(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function Th(e){let{breakpoints:t,values:r}=e,n="";Object.keys(r).forEach((e=>{""===n&&0!==r[e]&&(n=e)}));const o=Object.keys(t).sort(((e,r)=>t[e]-t[r]));return o.slice(0,o.indexOf(n))}const Rh=(0,Ot.Ay)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{container:n,direction:o,item:a,spacing:i,wrap:s,zeroMinWidth:l,breakpoints:c}=r;let d=[];n&&(d=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[r[`spacing-xs-${String(e)}`]];const n=[];return t.forEach((t=>{const o=e[t];Number(o)>0&&n.push(r[`spacing-${t}-${String(o)}`])})),n}(i,c,t));const u=[];return c.forEach((e=>{const n=r[e];n&&u.push(t[`grid-${e}-${String(n)}`])})),[t.root,n&&t.container,a&&t.item,l&&t.zeroMinWidth,...d,"row"!==o&&t[`direction-xs-${String(o)}`],"wrap"!==s&&t[`wrap-xs-${String(s)}`],...u]}})((e=>{let{ownerState:t}=e;return(0,Be.A)({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})}),(function(e){let{theme:t,ownerState:r}=e;const n=(0,Eh.kW)({values:r.direction,breakpoints:t.breakpoints.values});return(0,Eh.NI)({theme:t},n,(e=>{const t={flexDirection:e};return 0===e.indexOf("column")&&(t[`& > .${Ih.item}`]={maxWidth:"none"}),t}))}),(function(e){let{theme:t,ownerState:r}=e;const{container:n,rowSpacing:o}=r;let a={};if(n&&0!==o){const e=(0,Eh.kW)({values:o,breakpoints:t.breakpoints.values});let r;"object"===typeof e&&(r=Th({breakpoints:t.breakpoints.values,values:e})),a=(0,Eh.NI)({theme:t},e,((e,n)=>{var o;const a=t.spacing(e);return"0px"!==a?{marginTop:`-${Mh(a)}`,[`& > .${Ih.item}`]:{paddingTop:Mh(a)}}:null!=(o=r)&&o.includes(n)?{}:{marginTop:0,[`& > .${Ih.item}`]:{paddingTop:0}}}))}return a}),(function(e){let{theme:t,ownerState:r}=e;const{container:n,columnSpacing:o}=r;let a={};if(n&&0!==o){const e=(0,Eh.kW)({values:o,breakpoints:t.breakpoints.values});let r;"object"===typeof e&&(r=Th({breakpoints:t.breakpoints.values,values:e})),a=(0,Eh.NI)({theme:t},e,((e,n)=>{var o;const a=t.spacing(e);return"0px"!==a?{width:`calc(100% + ${Mh(a)})`,marginLeft:`-${Mh(a)}`,[`& > .${Ih.item}`]:{paddingLeft:Mh(a)}}:null!=(o=r)&&o.includes(n)?{}:{width:"100%",marginLeft:0,[`& > .${Ih.item}`]:{paddingLeft:0}}}))}return a}),(function(e){let t,{theme:r,ownerState:n}=e;return r.breakpoints.keys.reduce(((e,o)=>{let a={};if(n[o]&&(t=n[o]),!t)return e;if(!0===t)a={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)a={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const i=(0,Eh.kW)({values:n.columns,breakpoints:r.breakpoints.values}),s="object"===typeof i?i[o]:i;if(void 0===s||null===s)return e;const l=Math.round(t/s*1e8)/1e6+"%";let c={};if(n.container&&n.item&&0!==n.columnSpacing){const e=r.spacing(n.columnSpacing);if("0px"!==e){const t=`calc(${l} + ${Mh(e)})`;c={flexBasis:t,maxWidth:t}}}a=(0,Be.A)({flexBasis:l,flexGrow:0,maxWidth:l},c)}return 0===r.breakpoints.values[o]?Object.assign(e,a):e[r.breakpoints.up(o)]=a,e}),{})}));const Nh=e=>{const{classes:t,container:r,direction:n,item:o,spacing:a,wrap:i,zeroMinWidth:s,breakpoints:l}=e;let c=[];r&&(c=function(e,t){if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[`spacing-xs-${String(e)}`];const r=[];return t.forEach((t=>{const n=e[t];if(Number(n)>0){const e=`spacing-${t}-${String(n)}`;r.push(e)}})),r}(a,l));const d=[];l.forEach((t=>{const r=e[t];r&&d.push(`grid-${t}-${String(r)}`)}));const u={root:["root",r&&"container",o&&"item",s&&"zeroMinWidth",...c,"row"!==n&&`direction-xs-${String(n)}`,"wrap"!==i&&`wrap-xs-${String(i)}`,...d]};return(0,kt.A)(u,Oh,t)};const $h=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiGrid"}),{breakpoints:n}=gt(),o=(0,yt.A)(r),{className:i,columns:s,columnSpacing:l,component:c="div",container:d=!1,direction:u="row",item:p=!1,rowSpacing:h,spacing:f=0,wrap:m="wrap",zeroMinWidth:g=!1}=o,v=(0,Fe.A)(o,Dh),x=h||f,b=l||f,y=a.useContext(kh),j=d?s||12:y,w={},S=(0,Be.A)({},v);n.keys.forEach((e=>{null!=v[e]&&(w[e]=v[e],delete S[e])}));const C=(0,Be.A)({},o,{columns:j,container:d,direction:u,item:p,rowSpacing:x,columnSpacing:b,wrap:m,zeroMinWidth:g,spacing:f},w,{breakpoints:n.keys}),A=Nh(C);return(0,Ve.jsx)(kh.Provider,{value:j,children:(0,Ve.jsx)(Rh,(0,Be.A)({ownerState:C,className:(0,vt.A)(A.root,i),as:c,ref:t},S))})}));function zh(e){return(0,Mt.Ay)("MuiMenuItem",e)}const Lh=(0,St.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Bh=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],Fh=(0,Ot.Ay)(Ar,{shouldForwardProp:e=>(0,Ia.A)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.divider&&t.divider,!r.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:r}=e;return(0,Be.A)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!r.disableGutters&&{paddingLeft:16,paddingRight:16},r.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Lh.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,It.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Lh.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,It.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Lh.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,It.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,It.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Lh.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Lh.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${Ai.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${Ai.inset}`]:{marginLeft:52},[`& .${pi.root}`]:{marginTop:0,marginBottom:0},[`& .${pi.inset}`]:{paddingLeft:36},[`& .${si.root}`]:{minWidth:36}},!r.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},r.dense&&(0,Be.A)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${si.root} svg`]:{fontSize:"1.25rem"}}))})),_h=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiMenuItem"}),{autoFocus:n=!1,component:o="li",dense:i=!1,divider:s=!1,disableGutters:l=!1,focusVisibleClassName:c,role:d="menuitem",tabIndex:u,className:p}=r,h=(0,Fe.A)(r,Bh),f=a.useContext(Fa),m=a.useMemo((()=>({dense:i||f.dense||!1,disableGutters:l})),[f.dense,i,l]),g=a.useRef(null);(0,Ha.A)((()=>{n&&g.current&&g.current.focus()}),[n]);const v=(0,Be.A)({},r,{dense:m.dense,divider:s,disableGutters:l}),x=(e=>{const{disabled:t,dense:r,divider:n,disableGutters:o,selected:a,classes:i}=e,s={root:["root",r&&"dense",t&&"disabled",!o&&"gutters",n&&"divider",a&&"selected"]},l=(0,kt.A)(s,zh,i);return(0,Be.A)({},i,l)})(r),b=(0,Ht.A)(g,t);let y;return r.disabled||(y=void 0!==u?u:-1),(0,Ve.jsx)(Fa.Provider,{value:m,children:(0,Ve.jsx)(Fh,(0,Be.A)({ref:b,role:d,tabIndex:y,component:o,focusVisibleClassName:(0,vt.A)(x.focusVisible,c),className:(0,vt.A)(x.root,p)},h,{ownerState:v,classes:x}))})}));const Uh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoHideDuration:t=null,disableWindowBlurListener:r=!1,onClose:n,open:o,resumeHideDuration:i}=e,s=(0,ir.A)();a.useEffect((()=>{if(o)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){e.defaultPrevented||"Escape"!==e.key&&"Esc"!==e.key||null==n||n(e,"escapeKeyDown")}}),[o,n]);const l=(0,ca.A)(((e,t)=>{null==n||n(e,t)})),c=(0,ca.A)((e=>{n&&null!=e&&s.start(e,(()=>{l(null,"timeout")}))}));a.useEffect((()=>(o&&c(t),s.clear)),[o,t,c,s]);const d=s.clear,u=a.useCallback((()=>{null!=t&&c(null!=i?i:.5*t)}),[t,i,c]),p=e=>t=>{const r=e.onFocus;null==r||r(t),d()},h=e=>t=>{const r=e.onMouseEnter;null==r||r(t),d()},f=e=>t=>{const r=e.onMouseLeave;null==r||r(t),u()};return a.useEffect((()=>{if(!r&&o)return window.addEventListener("focus",u),window.addEventListener("blur",d),()=>{window.removeEventListener("focus",u),window.removeEventListener("blur",d)}}),[r,o,u,d]),{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=(0,Be.A)({},yo(e),yo(t));return(0,Be.A)({role:"presentation"},t,r,{onBlur:(n=r,e=>{const t=n.onBlur;null==t||t(e),u()}),onFocus:p(r),onMouseEnter:h(r),onMouseLeave:f(r)});var n},onClickAway:e=>{null==n||n(e,"clickaway")}}};function Wh(e){return e.substring(2).toLowerCase()}function Vh(e){const{children:t,disableReactTree:r=!1,mouseEvent:n="onClick",onClickAway:o,touchEvent:i="onTouchEnd"}=e,s=a.useRef(!1),l=a.useRef(null),c=a.useRef(!1),d=a.useRef(!1);a.useEffect((()=>(setTimeout((()=>{c.current=!0}),0),()=>{c.current=!1})),[]);const u=(0,an.A)(Br(t),l),p=(0,ca.A)((e=>{const t=d.current;d.current=!1;const n=(0,ln.A)(l.current);if(!c.current||!l.current||"clientX"in e&&function(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}(e,n))return;if(s.current)return void(s.current=!1);let a;a=e.composedPath?e.composedPath().indexOf(l.current)>-1:!n.documentElement.contains(e.target)||l.current.contains(e.target),a||!r&&t||o(e)})),h=e=>r=>{d.current=!0;const n=t.props[e];n&&n(r)},f={ref:u};return!1!==i&&(f[i]=h(i)),a.useEffect((()=>{if(!1!==i){const e=Wh(i),t=(0,ln.A)(l.current),r=()=>{s.current=!0};return t.addEventListener(e,p),t.addEventListener("touchmove",r),()=>{t.removeEventListener(e,p),t.removeEventListener("touchmove",r)}}}),[p,i]),!1!==n&&(f[n]=h(n)),a.useEffect((()=>{if(!1!==n){const e=Wh(n),t=(0,ln.A)(l.current);return t.addEventListener(e,p),()=>{t.removeEventListener(e,p)}}}),[p,n]),(0,Ve.jsx)(a.Fragment,{children:a.cloneElement(t,f)})}function Gh(e){return(0,Mt.Ay)("MuiSnackbarContent",e)}(0,St.A)("MuiSnackbarContent",["root","message","action"]);const Hh=["action","className","message","role"],qh=(0,Ot.Ay)($t,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;const r="light"===t.palette.mode?.8:.98,n=(0,It.tL)(t.palette.background.default,r);return(0,Be.A)({},t.typography.body2,{color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(n),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})})),Yh=(0,Ot.Ay)("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),Kh=(0,Ot.Ay)("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),Xh=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiSnackbarContent"}),{action:n,className:o,message:a,role:i="alert"}=r,s=(0,Fe.A)(r,Hh),l=r,c=(e=>{const{classes:t}=e;return(0,kt.A)({root:["root"],action:["action"],message:["message"]},Gh,t)})(l);return(0,Ve.jsxs)(qh,(0,Be.A)({role:i,square:!0,elevation:6,className:(0,vt.A)(c.root,o),ownerState:l,ref:t},s,{children:[(0,Ve.jsx)(Yh,{className:c.message,ownerState:l,children:a}),n?(0,Ve.jsx)(Kh,{className:c.action,ownerState:l,children:n}):null]}))}));function Qh(e){return(0,Mt.Ay)("MuiSnackbar",e)}(0,St.A)("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const Jh=["onEnter","onExited"],Zh=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],ef=(0,Ot.Ay)("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`anchorOrigin${(0,Pt.A)(r.anchorOrigin.vertical)}${(0,Pt.A)(r.anchorOrigin.horizontal)}`]]}})((e=>{let{theme:t,ownerState:r}=e;return(0,Be.A)({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},"top"===r.anchorOrigin.vertical?{top:8}:{bottom:8},"left"===r.anchorOrigin.horizontal&&{justifyContent:"flex-start"},"right"===r.anchorOrigin.horizontal&&{justifyContent:"flex-end"},{[t.breakpoints.up("sm")]:(0,Be.A)({},"top"===r.anchorOrigin.vertical?{top:24}:{bottom:24},"center"===r.anchorOrigin.horizontal&&{left:"50%",right:"auto",transform:"translateX(-50%)"},"left"===r.anchorOrigin.horizontal&&{left:24,right:"auto"},"right"===r.anchorOrigin.horizontal&&{right:24,left:"auto"})})})),tf=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiSnackbar"}),n=gt(),o={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{action:i,anchorOrigin:{vertical:s,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:c=null,children:d,className:u,ClickAwayListenerProps:p,ContentProps:h,disableWindowBlurListener:f=!1,message:m,open:g,TransitionComponent:v=nn,transitionDuration:x=o,TransitionProps:{onEnter:b,onExited:y}={}}=r,j=(0,Fe.A)(r.TransitionProps,Jh),w=(0,Fe.A)(r,Zh),S=(0,Be.A)({},r,{anchorOrigin:{vertical:s,horizontal:l},autoHideDuration:c,disableWindowBlurListener:f,TransitionComponent:v,transitionDuration:x}),C=(e=>{const{classes:t,anchorOrigin:r}=e,n={root:["root",`anchorOrigin${(0,Pt.A)(r.vertical)}${(0,Pt.A)(r.horizontal)}`]};return(0,kt.A)(n,Qh,t)})(S),{getRootProps:A,onClickAway:E}=Uh((0,Be.A)({},S)),[k,O]=a.useState(!0),P=Ao({elementType:ef,getSlotProps:A,externalForwardedProps:w,ownerState:S,additionalProps:{ref:t},className:[C.root,u]});return!g&&k?null:(0,Ve.jsx)(Vh,(0,Be.A)({onClickAway:E},p,{children:(0,Ve.jsx)(ef,(0,Be.A)({},P,{children:(0,Ve.jsx)(v,(0,Be.A)({appear:!0,in:g,timeout:x,direction:"top"===s?"down":"up",onEnter:(e,t)=>{O(!1),b&&b(e,t)},onExited:e=>{O(!0),y&&y(e)}},j,{children:d||(0,Ve.jsx)(Xh,(0,Be.A)({message:m,action:i},h))}))}))}))}));var rf=r(6360),nf=r(2505),of=r(5540),af=r(3471),sf=r(9792);const lf="http://localhost:3000/api",cf=async()=>{try{return(await ed.get(`${lf}/usuarios`)).data}catch(e){throw console.error("Error al obtener usuarios:",e.message),e}},df=async e=>{try{return(await ed.post(`${lf}/usuarios`,e)).data}catch(t){throw console.error("Error al crear usuario:",t.message),t}},uf=async(e,t)=>{try{return(await ed.put(`${lf}/usuarios/${e}`,t)).data}catch(r){throw console.error(`Error al actualizar usuario ${e}:`,r.message),r}},pf=async e=>{try{await ed.delete(`${lf}/usuarios/${e}`)}catch(t){throw console.error(`Error al eliminar usuario ${e}:`,t.message),t}},hf=async e=>{try{await ed.post(`${lf}/usuarios/${e}/reset-password`)}catch(t){throw console.error(`Error al resetear contrase\xf1a del usuario ${e}:`,t.message),t}},ff="http://localhost:3000/api";ed.defaults.timeout=1e4,ed.defaults.headers.common["Content-Type"]="application/json";const mf=async()=>{try{console.log("Obteniendo personas desde:",`${ff}/personas`);const e=await ed.get(`${ff}/personas`);return console.log("Respuesta del servidor:",e.data),e.data}catch(e){throw console.error("Error al obtener personas:",e.message),e.response&&console.error("Respuesta del servidor:",e.response.data),e}},gf=async e=>{try{console.log("Creando persona con datos:",e),console.log("URL:",`${ff}/personas`);const t={...e,fechaNacimiento:e.fechaNacimiento?new Date(e.fechaNacimiento).toISOString():null},r=await ed.post(`${ff}/personas`,t);return console.log("Respuesta del servidor:",r.data),r.data}catch(t){throw console.error("Error al crear persona:",t.message),t.response?console.error("Respuesta del servidor:",t.response.data):t.request&&console.error("No se recibi\xf3 respuesta del servidor"),t}},vf=async(e,t)=>{try{const r={...t,fechaNacimiento:t.fechaNacimiento?new Date(t.fechaNacimiento).toISOString():null};return(await ed.put(`${ff}/personas/${e}`,r)).data}catch(r){throw console.error(`Error al actualizar persona ${e}:`,r.message),r}},xf=async e=>{try{await ed.delete(`${ff}/personas/${e}`)}catch(t){throw console.error(`Error al eliminar persona ${e}:`,t.message),t}},bf=async e=>(await ed.get(`${ff}/personas/search?query=${encodeURIComponent(e)}`)).data,yf="http://localhost:3000/api",jf=async()=>{try{return(await ed.get(`${yf}/roles`)).data}catch(e){throw console.error("Error al obtener roles:",e.message),e.response&&console.error("Respuesta del servidor:",e.response.data),e}},wf=async e=>{try{return(await ed.post(`${yf}/roles`,e)).data}catch(t){throw console.error("Error al crear rol:",t.message),t.response&&console.error("Respuesta del servidor:",t.response.data),t}},Sf=async(e,t)=>{try{return(await ed.put(`${yf}/roles/${e}`,t)).data}catch(r){throw console.error(`Error al actualizar rol ${e}:`,r.message),r.response&&console.error("Respuesta del servidor:",r.response.data),r}},Cf=async e=>{try{await ed.delete(`${yf}/roles/${e}`)}catch(t){throw console.error(`Error al eliminar rol ${e}:`,t.message),t.response&&console.error("Respuesta del servidor:",t.response.data),t}},Af=async()=>{try{return(await ed.get(`${yf}/permisos`)).data}catch(e){throw console.error("Error al obtener permisos:",e.message),e.response&&console.error("Respuesta del servidor:",e.response.data),e}},Ef=async e=>{try{return(await ed.post(`${yf}/permisos`,e)).data}catch(t){throw console.error("Error al crear permiso:",t.message),t.response&&console.error("Respuesta del servidor:",t.response.data),t}},kf=async e=>{try{await ed.delete(`${yf}/permisos/${e}`)}catch(t){throw console.error(`Error al eliminar permiso ${e}:`,t.message),t.response&&console.error("Respuesta del servidor:",t.response.data),t}},Of={username:"",personaId:0,nombre:"",tipo:"Funcionario",rolId:void 0},Pf=()=>{const[e,t]=(0,a.useState)(""),[r,n]=(0,a.useState)(""),[o,i]=(0,a.useState)(!1),[s,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(null),[u,p]=(0,a.useState)(Of),[h,f]=(0,a.useState)([]),[m,g]=(0,a.useState)([]),[v,x]=(0,a.useState)([]),[b,y]=(0,a.useState)(!1),[j,w]=(0,a.useState)(null),[S,C]=(0,a.useState)(null),[A,E]=(0,a.useState)(null),[k,O]=(0,a.useState)(null),[P,I]=(0,a.useState)(""),[D,M]=(0,a.useState)([]),T=gt();(0,a.useEffect)((()=>{R(),N()}),[]),(0,a.useEffect)((()=>{o&&$()}),[o]);const R=async()=>{try{y(!0);const e=await cf();f(e),w(null)}catch(e){w("Error al cargar los usuarios"),console.error("Error al cargar los usuarios:",e)}finally{y(!1)}},N=async()=>{try{const e=await jf();x(e)}catch(e){console.error("Error al cargar roles:",e),w("Error al cargar la lista de roles")}},$=async()=>{try{const e=(await mf()).filter((e=>"Funcionario"===e.tipo||"Vip"===e.tipo));g(e)}catch(e){console.error("Error al cargar personas elegibles:",e),w("Error al cargar la lista de personas")}},z=()=>{i(!1),p(Of),E(null),w(null),O(null)},L=h.filter((t=>t.persona.nombreCompleto.toLowerCase().includes(e.toLowerCase())||t.username.toLowerCase().includes(e.toLowerCase()))),B=m.filter((e=>e.nombreCompleto.toLowerCase().includes(r.toLowerCase())||e.documento.toLowerCase().includes(r.toLowerCase()))),F=m.find((e=>e.id===u.personaId&&0!==u.personaId));return(0,Ve.jsxs)(Et,{sx:{width:"100%"},children:[(0,Ve.jsxs)(Et,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center",p:2,borderBottom:1,borderColor:"divider"},children:[(0,Ve.jsx)($r,{variant:"h4",children:"Gesti\xf3n de Usuarios"}),(0,Ve.jsx)(fs,{variant:"contained",startIcon:(0,Ve.jsx)(nf.A,{}),onClick:()=>{i(!0),p(Of),E(null)},children:"Nuevo Usuario"})]}),(0,Ve.jsx)(Et,{sx:{px:2,mb:2},children:(0,Ve.jsx)(jp,{fullWidth:!0,variant:"outlined",placeholder:"Buscar usuario...",value:e,onChange:e=>{t(e.target.value)},InputProps:{startAdornment:(0,Ve.jsx)(kp,{position:"start",children:(0,Ve.jsx)(rf.A,{})})}})}),(0,Ve.jsx)(Et,{sx:{px:2},children:(0,Ve.jsx)(Dp,{component:$t,children:(0,Ve.jsxs)(zp,{children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{sx:{backgroundColor:T.palette.primary.main},children:[(0,Ve.jsx)(th,{sx:{color:"white"},children:"ID"}),(0,Ve.jsx)(th,{sx:{color:"white"},children:"Usuario"}),(0,Ve.jsx)(th,{sx:{color:"white"},children:"Nombre"}),(0,Ve.jsx)(th,{sx:{color:"white"},children:"Documento"}),(0,Ve.jsx)(th,{sx:{color:"white"},children:"Rol"}),(0,Ve.jsx)(th,{sx:{color:"white"},children:"Acciones"})]})}),(0,Ve.jsx)(sh,{children:b?(0,Ve.jsx)(Xp,{children:(0,Ve.jsx)(th,{colSpan:6,align:"center",children:"Cargando..."})}):0===L.length?(0,Ve.jsx)(Xp,{children:(0,Ve.jsx)(th,{colSpan:6,align:"center",children:"No se encontraron usuarios"})}):L.map((e=>(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:e.id}),(0,Ve.jsx)(th,{children:e.username}),(0,Ve.jsx)(th,{children:e.persona.nombreCompleto}),(0,Ve.jsx)(th,{children:e.persona.documento}),(0,Ve.jsx)(th,{children:e.rol?e.rol.nombre:"Sin rol asignado"}),(0,Ve.jsxs)(th,{children:[(0,Ve.jsx)(Ir,{onClick:()=>(e=>{var t;p({username:e.username,personaId:e.personaId,nombre:e.nombre,tipo:e.tipo,rolId:null===(t=e.rol)||void 0===t?void 0:t.id}),E(e.id),i(!0)})(e),color:"primary",children:(0,Ve.jsx)(of.A,{})}),(0,Ve.jsx)(Ir,{onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1 seguro que desea eliminar este usuario?"))try{y(!0),await pf(e),await R(),C("Usuario eliminado exitosamente")}catch(t){w("Error al eliminar el usuario")}finally{y(!1)}})(e.id),color:"error",children:(0,Ve.jsx)(af.A,{})}),(0,Ve.jsx)(Ir,{onClick:()=>{return t=e.id,d(t),void l(!0);var t},color:"warning",children:(0,Ve.jsx)(sf.A,{})})]})]},e.id)))})]})})}),(0,Ve.jsxs)(Fi,{open:o,onClose:z,maxWidth:"md",fullWidth:!0,children:[(0,Ve.jsx)(Gi,{children:A?"Editar Usuario":"Nuevo Usuario"}),(0,Ve.jsxs)(Ki,{children:[j&&(0,Ve.jsx)(Ah,{severity:"error",sx:{mb:2},children:j}),(0,Ve.jsx)(Et,{sx:{mt:2},children:(0,Ve.jsxs)($h,{container:!0,spacing:2,children:[!A&&(0,Ve.jsxs)($h,{item:!0,xs:12,md:6,children:[(0,Ve.jsx)($r,{variant:"subtitle1",gutterBottom:!0,children:"Buscar Persona"}),(0,Ve.jsx)(jp,{fullWidth:!0,label:"Buscar por nombre o documento",variant:"outlined",value:r,onChange:e=>{n(e.target.value.toUpperCase())},sx:{mb:2}}),(0,Ve.jsx)(Et,{sx:{maxHeight:200,overflow:"auto",mb:2},children:(0,Ve.jsx)(Va,{children:B.map((e=>(0,Ve.jsxs)(a.Fragment,{children:[(0,Ve.jsx)(ai,{button:!0,onClick:()=>(e=>{p((t=>({...t,personaId:e.id,nombre:e.nombreCompleto,tipo:"Funcionario"}))),O(e)})(e),selected:u.personaId===e.id,children:(0,Ve.jsx)(mi,{primary:e.nombreCompleto,secondary:`${e.documento} - ${e.tipo}`})}),(0,Ve.jsx)(Ii,{})]},e.id)))})})]}),(0,Ve.jsxs)($h,{item:!0,xs:12,md:A?12:6,children:[(0,Ve.jsx)($r,{variant:"subtitle1",gutterBottom:!0,children:"Informaci\xf3n de Usuario"}),(0,Ve.jsxs)(Et,{sx:{mb:2},children:[(0,Ve.jsx)(jp,{fullWidth:!0,label:"Persona Seleccionada",value:F?F.nombreCompleto:u.nombre,InputProps:{readOnly:!0},variant:"outlined",sx:{mb:2}}),(0,Ve.jsx)(jp,{fullWidth:!0,name:"username",label:"Nombre de Usuario",value:u.username,onChange:e=>{const{name:t,value:r}=e.target;p((e=>({...e,[t]:r.toUpperCase()})))},variant:"outlined",sx:{mb:2}}),(0,Ve.jsxs)(lu,{fullWidth:!0,variant:"outlined",sx:{mb:2},children:[(0,Ve.jsx)(ou,{id:"rol-select-label",children:"Rol"}),(0,Ve.jsxs)(gp,{labelId:"rol-select-label",id:"rol-select",name:"rolId",value:void 0!==u.rolId?u.rolId.toString():"",onChange:e=>{const{name:t,value:r}=e.target;p((e=>({...e,[t]:""===r?void 0:Number(r)})))},label:"Rol",children:[(0,Ve.jsx)(_h,{value:"",children:(0,Ve.jsx)("em",{children:"Seleccione un rol"})}),v.map((e=>(0,Ve.jsx)(_h,{value:e.id.toString(),children:e.nombre},e.id)))]})]})]})]})]})})]}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:z,children:"Cancelar"}),(0,Ve.jsx)(fs,{onClick:async()=>{if(u.username&&0!==u.personaId&&void 0!==u.rolId)try{let e;y(!0),w(null),console.log("Enviando datos:",u),A?(e=await uf(A,u),C("Usuario actualizado exitosamente")):(e=await df({username:u.username.toUpperCase(),personaId:u.personaId,nombre:u.nombre,tipo:u.tipo,rolId:u.rolId}),C("Usuario agregado exitosamente")),console.log("Respuesta del servidor:",e),await R(),z()}catch(r){var e,t;console.error("Error completo:",r);const n=(null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||r.message||"Error al guardar el usuario";w(n)}finally{y(!1)}else w("Por favor complete todos los campos requeridos")},variant:"contained",disabled:b,children:b?"Guardando...":"Guardar"})]})]}),(0,Ve.jsxs)(Fi,{open:s,onClose:()=>l(!1),children:[(0,Ve.jsx)(Gi,{children:"Resetear Contrase\xf1a"}),(0,Ve.jsx)(Ki,{children:(0,Ve.jsx)($r,{children:'\xbfEst\xe1 seguro que desea resetear la contrase\xf1a de este usuario a "123"?'})}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:()=>l(!1),children:"Cancelar"}),(0,Ve.jsx)(fs,{onClick:async()=>{if(c)try{y(!0),await hf(c),C("Contrase\xf1a reseteada exitosamente")}catch(e){w("Error al resetear la contrase\xf1a")}finally{y(!1),l(!1),d(null)}},variant:"contained",color:"warning",children:"Resetear Contrase\xf1a"})]})]}),(0,Ve.jsx)(tf,{open:!!S,autoHideDuration:5e3,onClose:()=>C(null),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,Ve.jsx)(Ah,{onClose:()=>C(null),severity:"success",children:S})})]})};function If(e){const{theme:t,name:r,props:n}=e;return t&&t.components&&t.components[r]&&t.components[r].defaultProps?(0,os.A)(t.components[r].defaultProps,n):n}function Df(e,t,r,n,o){const[i,s]=a.useState((()=>o&&r?r(e).matches:n?n(e).matches:t));return(0,sn.A)((()=>{let t=!0;if(!r)return;const n=r(e),o=()=>{t&&s(n.matches)};return o(),n.addListener(o),()=>{t=!1,n.removeListener(o)}}),[e,r]),i}const Mf=i.useSyncExternalStore;function Tf(e,t,r,n,o){const i=a.useCallback((()=>t),[t]),s=a.useMemo((()=>{if(o&&r)return()=>r(e).matches;if(null!==n){const{matches:t}=n(e);return()=>t}return i}),[i,e,n,o,r]),[l,c]=a.useMemo((()=>{if(null===r)return[i,()=>()=>{}];const t=r(e);return[()=>t.matches,e=>(t.addListener(e),()=>{t.removeListener(e)})]}),[i,r,e]);return Mf(c,l,s)}function Rf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=qe(),n="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,{defaultMatches:o=!1,matchMedia:a=(n?window.matchMedia:null),ssrMatchMedia:i=null,noSsr:s=!1}=If({name:"MuiUseMediaQuery",props:t,theme:r});let l="function"===typeof e?e(r):e;l=l.replace(/^@media( ?)/m,"");return(void 0!==Mf?Tf:Df)(l,o,a,i,s)}function Nf(e){let{props:t,name:r,defaultTheme:n,themeId:o}=e,a=ct(n);o&&(a=a[o]||a);return If({theme:a,name:r,props:t})}function $f(e){let{props:t,name:r}=e;return Nf({props:t,name:r,defaultTheme:ut.A,themeId:rt.A})}var zf=r(5173),Lf=r.n(zf);function Bf(e,t,r){return"function"===typeof e?e(t,r):e}const Ff=Lf().oneOfType([Lf().func,Lf().object]),_f=(e,t)=>e.length===t.length&&t.every((t=>e.includes(t))),Uf=(e,t,r)=>{let n=t;return n=e.setHours(n,e.getHours(r)),n=e.setMinutes(n,e.getMinutes(r)),n=e.setSeconds(n,e.getSeconds(r)),n},Wf=e=>{let{date:t,disableFuture:r,disablePast:n,maxDate:o,minDate:a,isDateDisabled:i,utils:s,timezone:l}=e;const c=Uf(s,s.dateWithTimezone(void 0,l),t);n&&s.isBefore(a,c)&&(a=c),r&&s.isAfter(o,c)&&(o=c);let d=t,u=t;for(s.isBefore(t,a)&&(d=a,u=null),s.isAfter(t,o)&&(u&&(u=o),d=null);d||u;){if(d&&s.isAfter(d,o)&&(d=null),u&&s.isBefore(u,a)&&(u=null),d){if(!i(d))return d;d=s.addDays(d,1)}if(u){if(!i(u))return u;u=s.addDays(u,-1)}}return null},Vf=(e,t,r)=>null!=t&&e.isValid(t)?t:r,Gf=(e,t)=>{const r=[e.startOfYear(t)];for(;r.length<12;){const t=r[r.length-1];r.push(e.addMonths(t,1))}return r},Hf=(e,t,r)=>"date"===r?e.startOfDay(e.dateWithTimezone(void 0,t)):e.dateWithTimezone(void 0,t),qf=["year","month","day"],Yf=e=>qf.includes(e),Kf=(e,t,r)=>{let{format:n,views:o}=t;if(null!=n)return n;const a=e.formats;return _f(o,["year"])?a.year:_f(o,["month"])?a.month:_f(o,["day"])?a.dayOfMonth:_f(o,["month","year"])?`${a.month} ${a.year}`:_f(o,["day","month"])?`${a.month} ${a.dayOfMonth}`:r?/en/.test(e.getCurrentLocaleCode())?a.normalDateWithWeekday:a.normalDate:a.keyboardDate},Xf=(e,t)=>{const r=e.startOfWeek(t);return[0,1,2,3,4,5,6].map((t=>e.addDays(r,t)))},Qf=["hours","minutes","seconds"],Jf=(e,t)=>3600*t.getHours(e)+60*t.getMinutes(e)+t.getSeconds(e),Zf={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},em=(e,t,r)=>{if(t===Zf.year)return e.startOfYear(r);if(t===Zf.month)return e.startOfMonth(r);if(t===Zf.day)return e.startOfDay(r);let n=r;return t<Zf.minutes&&(n=e.setMinutes(n,0)),t<Zf.seconds&&(n=e.setSeconds(n,0)),t<Zf.milliseconds&&(n=e.setMilliseconds(n,0)),n},tm=e=>{let{props:t,utils:r,granularity:n,timezone:o,getTodayDate:a}=e;var i;let s=a?a():em(r,n,Hf(r,o));null!=t.minDate&&r.isAfterDay(t.minDate,s)&&(s=em(r,n,t.minDate)),null!=t.maxDate&&r.isBeforeDay(t.maxDate,s)&&(s=em(r,n,t.maxDate));const l=((e,t)=>(r,n)=>e?t.isAfter(r,n):Jf(r,t)>Jf(n,t))(null!=(i=t.disableIgnoringDatePartForTimeValidation)&&i,r);return null!=t.minTime&&l(t.minTime,s)&&(s=em(r,n,t.disableIgnoringDatePartForTimeValidation?t.minTime:Uf(r,s,t.minTime))),null!=t.maxTime&&l(s,t.maxTime)&&(s=em(r,n,t.disableIgnoringDatePartForTimeValidation?t.maxTime:Uf(r,s,t.maxTime))),s},rm=(e,t)=>{const r=e.formatTokenMap[t];if(null==r)throw new Error([`MUI: The token "${t}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join("\n"));return"string"===typeof r?{type:r,contentType:"meridiem"===r?"letter":"digit",maxLength:void 0}:{type:r.sectionType,contentType:r.contentType,maxLength:r.maxLength}},nm=(e,t,r)=>{const n=[],o=e.dateWithTimezone(void 0,t),a=e.startOfWeek(o),i=e.endOfWeek(o);let s=a;for(;e.isBefore(s,i);)n.push(s),s=e.addDays(s,1);return n.map((t=>e.formatByString(t,r)))},om=(e,t,r,n)=>{switch(r){case"month":return Gf(e,e.dateWithTimezone(void 0,t)).map((t=>e.formatByString(t,n)));case"weekDay":return nm(e,t,n);case"meridiem":{const r=e.dateWithTimezone(void 0,t);return[e.startOfDay(r),e.endOfDay(r)].map((t=>e.formatByString(t,n)))}default:return[]}},am=(e,t,r)=>{let n=t;for(n=Number(n).toString();n.length<r;)n=`0${n}`;return n},im=(e,t,r,n,o)=>{if("day"===o.type&&"digit-with-letter"===o.contentType){const t=e.setDate(n.longestMonth,r);return e.formatByString(t,o.format)}const a=r.toString();return o.hasLeadingZerosInInput?am(0,a,o.maxLength):a},sm=(e,t,r,n,o,a,i)=>{const s=(e=>{switch(e){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}})(n),l="Home"===n,c="End"===n,d=""===r.value||l||c;return"digit"===r.contentType||"digit-with-letter"===r.contentType?(()=>{const n=o[r.type]({currentDate:a,format:r.format,contentType:r.contentType}),u=t=>im(e,0,t,n,r),p="minutes"===r.type&&null!=i&&i.minutesStep?i.minutesStep:1;let h=parseInt(r.value,10)+s*p;if(d){if("year"===r.type&&!c&&!l)return e.formatByString(e.dateWithTimezone(void 0,t),r.format);h=s>0||l?n.minimum:n.maximum}return h%p!==0&&((s<0||l)&&(h+=p-(p+h)%p),(s>0||c)&&(h-=h%p)),h>n.maximum?u(n.minimum+(h-n.maximum-1)%(n.maximum-n.minimum+1)):h<n.minimum?u(n.maximum-(n.minimum-h-1)%(n.maximum-n.minimum+1)):u(h)})():(()=>{const n=om(e,t,r.type,r.format);if(0===n.length)return r.value;if(d)return s>0||l?n[0]:n[n.length-1];const o=n.indexOf(r.value);return n[(o+n.length+s)%n.length]})()},lm=(e,t)=>{let r=e.value||e.placeholder;const n="non-input"===t?e.hasLeadingZerosInFormat:e.hasLeadingZerosInInput;"non-input"===t&&e.hasLeadingZerosInInput&&!e.hasLeadingZerosInFormat&&(r=Number(r).toString());return["input-rtl","input-ltr"].includes(t)&&"digit"===e.contentType&&!n&&1===r.length&&(r=`${r}\u200e`),"input-rtl"===t&&(r=`\u2068${r}\u2069`),r},cm=e=>e.replace(/[\u2066\u2067\u2068\u2069]/g,""),dm=(e,t)=>{let r=0,n=t?1:0;const o=[];for(let a=0;a<e.length;a+=1){const i=e[a],s=lm(i,t?"input-rtl":"input-ltr"),l=`${i.startSeparator}${s}${i.endSeparator}`,c=cm(l).length,d=l.length,u=cm(s),p=n+s.indexOf(u[0])+i.startSeparator.length,h=p+u.length;o.push((0,Be.A)({},i,{start:r,end:r+c,startInInput:p,endInInput:h})),r+=c,n+=d}return o},um=(e,t,r,n,o)=>{switch(n.type){case"year":return r.fieldYearPlaceholder({digitAmount:e.formatByString(e.dateWithTimezone(void 0,t),o).length,format:o});case"month":return r.fieldMonthPlaceholder({contentType:n.contentType,format:o});case"day":return r.fieldDayPlaceholder({format:o});case"weekDay":return r.fieldWeekDayPlaceholder({contentType:n.contentType,format:o});case"hours":return r.fieldHoursPlaceholder({format:o});case"minutes":return r.fieldMinutesPlaceholder({format:o});case"seconds":return r.fieldSecondsPlaceholder({format:o});case"meridiem":return r.fieldMeridiemPlaceholder({format:o});default:return o}},pm=(e,t,r,n)=>e.formatByString(e.parse(t,r),n),hm=(e,t,r)=>4===e.formatByString(e.dateWithTimezone(void 0,t),r).length,fm=(e,t,r,n,o)=>{if("digit"!==r)return!1;const a=e.dateWithTimezone(void 0,t);switch(n){case"year":if(hm(e,t,o)){return"0001"===e.formatByString(e.setYear(a,1),o)}return"01"===e.formatByString(e.setYear(a,2001),o);case"month":return e.formatByString(e.startOfYear(a),o).length>1;case"day":return e.formatByString(e.startOfMonth(a),o).length>1;case"weekDay":return e.formatByString(e.startOfWeek(a),o).length>1;case"hours":return e.formatByString(e.setHours(a,1),o).length>1;case"minutes":return e.formatByString(e.setMinutes(a,1),o).length>1;case"seconds":return e.formatByString(e.setSeconds(a,1),o).length>1;default:throw new Error("Invalid section type")}},mm=(e,t,r,n,o,a,i,s)=>{let l="";const c=[],d=e.date(),u=n=>{if(""===n)return null;const a=rm(e,n),s=fm(e,t,a.contentType,a.type,n),u=i?s:"digit"===a.contentType,p=null!=o&&e.isValid(o);let h=p?e.formatByString(o,n):"",f=null;if(u)if(s)f=""===h?e.formatByString(d,n).length:h.length;else{if(null==a.maxLength)throw new Error(`MUI: The token ${n} should have a 'maxDigitNumber' property on it's adapter`);f=a.maxLength,p&&(h=am(0,h,f))}return c.push((0,Be.A)({},a,{format:n,maxLength:f,value:h,placeholder:um(e,t,r,a,n),hasLeadingZeros:s,hasLeadingZerosInFormat:s,hasLeadingZerosInInput:u,startSeparator:0===c.length?l:"",endSeparator:"",modified:!1})),null};let p=10,h=n,f=e.expandFormat(n);for(;f!==h;)if(h=f,f=e.expandFormat(h),p-=1,p<0)throw new Error("MUI: The format expansion seems to be  enter in an infinite loop. Please open an issue with the format passed to the picker component");const m=f,g=((e,t)=>{const r=[],{start:n,end:o}=e.escapedCharacters,a=new RegExp(`(\\${n}[^\\${o}]*\\${o})+`,"g");let i=null;for(;i=a.exec(t);)r.push({start:i.index,end:a.lastIndex-1});return r})(e,m),v=new RegExp(`^(${Object.keys(e.formatTokenMap).sort(((e,t)=>t.length-e.length)).join("|")})`,"g");let x="";for(let b=0;b<m.length;b+=1){const e=g.find((e=>e.start<=b&&e.end>=b)),t=m[b],r=null!=e,n=`${x}${m.slice(b)}`,o=v.test(n);if(!r&&t.match(/([A-Za-z]+)/)&&o)x=n.slice(0,v.lastIndex),b+=v.lastIndex-1;else{r&&(null==e?void 0:e.start)===b||(null==e?void 0:e.end)===b||(u(x),x="",0===c.length?l+=t:c[c.length-1].endSeparator+=t)}}return u(x),c.map((e=>{const t=e=>{let t=e;return s&&null!==t&&t.includes(" ")&&(t=`\u2069${t}\u2066`),"spacious"===a&&["/",".","-"].includes(t)&&(t=` ${t} `),t};return e.startSeparator=t(e.startSeparator),e.endSeparator=t(e.endSeparator),e}))};const gm=(e,t)=>{0},vm={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8},xm=(e,t,r,n,o,a)=>[...n].sort(((e,t)=>vm[e.type]-vm[t.type])).reduce(((n,o)=>!a||o.modified?((e,t,r,n,o)=>{switch(r.type){case"year":return e.setYear(o,e.getYear(n));case"month":return e.setMonth(o,e.getMonth(n));case"weekDay":{const o=nm(e,t,r.format),a=e.formatByString(n,r.format),i=o.indexOf(a),s=o.indexOf(r.value)-i;return e.addDays(n,s)}case"day":return e.setDate(o,e.getDate(n));case"meridiem":{const t=e.getHours(n)<12,r=e.getHours(o);return t&&r>=12?e.addHours(o,-12):!t&&r<12?e.addHours(o,12):o}case"hours":return e.setHours(o,e.getHours(n));case"minutes":return e.setMinutes(o,e.getMinutes(n));case"seconds":return e.setSeconds(o,e.getSeconds(n));default:return o}})(e,t,o,r,n):n),o),bm=["value","referenceDate"],ym={emptyValue:null,getTodayValue:Hf,getInitialReferenceValue:e=>{let{value:t,referenceDate:r}=e,n=(0,Fe.A)(e,bm);return null!=t&&n.utils.isValid(t)?t:null!=r?r:tm(n)},cleanValue:(e,t)=>null!=t&&e.isValid(t)?t:null,areValuesEqual:(e,t,r)=>!e.isValid(t)&&null!=t&&!e.isValid(r)&&null!=r||e.isEqual(t,r),isSameError:(e,t)=>e===t,hasError:e=>null!=e,defaultErrorState:null,getTimezone:(e,t)=>null!=t&&e.isValid(t)?e.getTimezone(t):null,setTimezone:(e,t,r)=>null==r?null:e.setTimezone(r,t)},jm={updateReferenceValue:(e,t,r)=>null!=t&&e.isValid(t)?t:r,getSectionsFromValue:(e,t,r,n,o)=>!e.isValid(t)&&!!r?r:dm(o(t),n),getValueStrFromSections:(e,t)=>{const r=e.map((e=>{const r=lm(e,t?"input-rtl":"input-ltr");return`${e.startSeparator}${r}${e.endSeparator}`})).join("");return t?`\u2066${r}\u2069`:r},getActiveDateManager:(e,t)=>({date:t.value,referenceDate:t.referenceValue,getSections:e=>e,getNewValuesFromNewActiveDate:r=>({value:r,referenceValue:null!=r&&e.isValid(r)?r:t.referenceValue})}),parseValueStr:(e,t,r)=>r(e.trim(),t)},wm=["localeText"],Sm=a.createContext(null);const Cm=function(e){var t;const{localeText:r}=e,n=(0,Fe.A)(e,wm),{utils:o,localeText:i}=null!=(t=a.useContext(Sm))?t:{utils:void 0,localeText:void 0},s=$f({props:n,name:"MuiLocalizationProvider"}),{children:l,dateAdapter:c,dateFormats:d,dateLibInstance:u,adapterLocale:p,localeText:h}=s,f=a.useMemo((()=>(0,Be.A)({},h,i,r)),[h,i,r]),m=a.useMemo((()=>{if(!c)return o||null;const e=new c({locale:p,formats:d,instance:u});if(!e.isMUIAdapter)throw new Error(["MUI: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join("\n"));return e}),[c,p,d,u,o]),g=a.useMemo((()=>m?{minDate:m.date("1900-01-01T00:00:00.000"),maxDate:m.date("2099-12-31T00:00:00.000")}:null),[m]),v=a.useMemo((()=>({utils:m,defaultDates:g,localeText:f})),[g,m,f]);return(0,Ve.jsx)(Sm.Provider,{value:v,children:l})},Am={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"open previous view",openNextView:"open next view",calendarViewSwitchingButtonAriaLabel:e=>"year"===e?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(e,t,r)=>`Select ${e}. ${null===t?"No time selected":`Selected time is ${r.format(t,"fullTime")}`}`,hoursClockNumberText:e=>`${e} hours`,minutesClockNumberText:e=>`${e} minutes`,secondsClockNumberText:e=>`${e} seconds`,selectViewText:e=>`Select ${e}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`Week ${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:(e,t)=>null!==e&&t.isValid(e)?`Choose date, selected date is ${t.format(e,"fullDate")}`:"Choose date",openTimePickerDialogue:(e,t)=>null!==e&&t.isValid(e)?`Choose time, selected time is ${t.format(e,"fullTime")}`:"Choose time",fieldClearLabel:"Clear value",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>"letter"===e.contentType?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>"letter"===e.contentType?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa"},Em=Am;km=Am,(0,Be.A)({},km);var km;const Om=()=>{const e=a.useContext(Sm);if(null===e)throw new Error(["MUI: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join("\n"));if(null===e.utils)throw new Error(["MUI: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join("\n"));const t=a.useMemo((()=>(0,Be.A)({},Em,e.localeText)),[e.localeText]);return a.useMemo((()=>(0,Be.A)({},e,{localeText:t})),[e,t])},Pm=()=>Om().utils,Im=()=>Om().defaultDates,Dm=()=>Om().localeText,Mm=e=>{const t=Pm(),r=a.useRef();return void 0===r.current&&(r.current=t.dateWithTimezone(void 0,e)),r.current};function Tm(e){return(0,Mt.Ay)("MuiPickersToolbar",e)}(0,St.A)("MuiPickersToolbar",["root","content"]);const Rm=(0,Ot.Ay)("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t,ownerState:r}=e;return(0,Be.A)({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:t.spacing(2,3)},r.isLandscape&&{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"})})),Nm=(0,Ot.Ay)("div",{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(e,t)=>t.content})((e=>{let{ownerState:t}=e;var r;return{display:"flex",flexWrap:"wrap",width:"100%",justifyContent:t.isLandscape?"flex-start":"space-between",flexDirection:t.isLandscape?null!=(r=t.landscapeDirection)?r:"column":"row",flex:1,alignItems:t.isLandscape?"flex-start":"center"}})),$m=a.forwardRef((function(e,t){const r=$f({props:e,name:"MuiPickersToolbar"}),{children:n,className:o,toolbarTitle:a,hidden:i,titleId:s}=r,l=r,c=(e=>{const{classes:t,isLandscape:r}=e,n={root:["root"],content:["content"],penIconButton:["penIconButton",r&&"penIconButtonLandscape"]};return(0,kt.A)(n,Tm,t)})(l);return i?null:(0,Ve.jsxs)(Rm,{ref:t,className:(0,vt.A)(c.root,o),ownerState:l,children:[(0,Ve.jsx)($r,{color:"text.secondary",variant:"overline",id:s,children:a}),(0,Ve.jsx)(Nm,{className:c.content,ownerState:l,children:n})]})}));function zm(e){return(0,Mt.Ay)("MuiDatePickerToolbar",e)}(0,St.A)("MuiDatePickerToolbar",["root","title"]);const Lm=["value","isLandscape","onChange","toolbarFormat","toolbarPlaceholder","views","className"],Bm=(0,Ot.Ay)($m,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Fm=(0,Ot.Ay)($r,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(e,t)=>t.title})((e=>{let{ownerState:t}=e;return(0,Be.A)({},t.isLandscape&&{margin:"auto 16px auto auto"})})),_m=a.forwardRef((function(e,t){const r=$f({props:e,name:"MuiDatePickerToolbar"}),{value:n,isLandscape:o,toolbarFormat:i,toolbarPlaceholder:s="\u2013\u2013",views:l,className:c}=r,d=(0,Fe.A)(r,Lm),u=Pm(),p=Dm(),h=(e=>{const{classes:t}=e;return(0,kt.A)({root:["root"],title:["title"]},zm,t)})(r),f=a.useMemo((()=>{if(!n)return s;const e=Kf(u,{format:i,views:l},!0);return u.formatByString(n,e)}),[n,i,s,u,l]),m=r;return(0,Ve.jsx)(Bm,(0,Be.A)({ref:t,toolbarTitle:p.datePickerToolbarTitle,isLandscape:o,className:(0,vt.A)(h.root,c)},d,{children:(0,Ve.jsx)(Fm,{variant:"h4",align:o?"left":"center",ownerState:m,className:h.title,children:f})}))})),Um=e=>{if(void 0!==e)return Object.keys(e).reduce(((t,r)=>(0,Be.A)({},t,{[`${r.slice(0,1).toLowerCase()}${r.slice(1)}`]:e[r]})),{})};function Wm(e,t){var r,n,o,i;const s=Pm(),l=Im(),c=$f({props:e,name:t}),d=a.useMemo((()=>{var e;return null==(null==(e=c.localeText)?void 0:e.toolbarTitle)?c.localeText:(0,Be.A)({},c.localeText,{datePickerToolbarTitle:c.localeText.toolbarTitle})}),[c.localeText]),u=null!=(r=c.slots)?r:Um(c.components);return(0,Be.A)({},c,{localeText:d},(e=>{let{openTo:t,defaultOpenTo:r,views:n,defaultViews:o}=e;const a=null!=n?n:o;let i;if(null!=t)i=t;else if(a.includes(r))i=r;else{if(!(a.length>0))throw new Error("MUI: The `views` prop must contain at least one view");i=a[0]}return{views:a,openTo:i}})({views:c.views,openTo:c.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{disableFuture:null!=(n=c.disableFuture)&&n,disablePast:null!=(o=c.disablePast)&&o,minDate:Vf(s,c.minDate,l.minDate),maxDate:Vf(s,c.maxDate,l.maxDate),slots:(0,Be.A)({toolbar:_m},u),slotProps:null!=(i=c.slotProps)?i:c.componentsProps})}const Vm=e=>{let{props:t,value:r,adapter:n}=e;if(null===r)return null;const{shouldDisableDate:o,shouldDisableMonth:a,shouldDisableYear:i,disablePast:s,disableFuture:l,timezone:c}=t,d=n.utils.dateWithTimezone(void 0,c),u=Vf(n.utils,t.minDate,n.defaultDates.minDate),p=Vf(n.utils,t.maxDate,n.defaultDates.maxDate);switch(!0){case!n.utils.isValid(r):return"invalidDate";case Boolean(o&&o(r)):return"shouldDisableDate";case Boolean(a&&a(r)):return"shouldDisableMonth";case Boolean(i&&i(r)):return"shouldDisableYear";case Boolean(l&&n.utils.isAfterDay(r,d)):return"disableFuture";case Boolean(s&&n.utils.isBeforeDay(r,d)):return"disablePast";case Boolean(u&&n.utils.isBeforeDay(r,u)):return"minDate";case Boolean(p&&n.utils.isAfterDay(r,p)):return"maxDate";default:return null}};function Gm(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((r=>{t[r]=e[r]})),t}function Hm(e){const{getSlotProps:t,additionalProps:r,externalSlotProps:n,externalForwardedProps:o,className:a}=e;if(!t){const e=(0,vt.A)(r?.className,a,o?.className,n?.className),t={...r?.style,...o?.style,...n?.style},i={...r,...o,...n};return e.length>0&&(i.className=e),Object.keys(t).length>0&&(i.style=t),{props:i,internalRef:void 0}}const i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const r={};return Object.keys(e).filter((r=>r.match(/^on[A-Z]/)&&"function"===typeof e[r]&&!t.includes(r))).forEach((t=>{r[t]=e[t]})),r}({...o,...n}),s=Gm(n),l=Gm(o),c=t(i),d=(0,vt.A)(c?.className,r?.className,a,o?.className,n?.className),u={...c?.style,...r?.style,...o?.style,...n?.style},p={...c,...r,...l,...s};return d.length>0&&(p.className=d),Object.keys(u).length>0&&(p.style=u),{props:p,internalRef:c.ref}}function qm(e){const{elementType:t,externalSlotProps:r,ownerState:n,skipResolvingSlotProps:o=!1,...i}=e,s=o?{}:Bf(r,n),{props:l,internalRef:c}=Hm({...i,externalSlotProps:s}),d=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const n=a.useRef(void 0),o=a.useCallback((e=>{const r=t.map((t=>{if(null==t)return null;if("function"===typeof t){const r=t,n=r(e);return"function"===typeof n?n:()=>{r(null)}}return t.current=e,()=>{t.current=null}}));return()=>{r.forEach((e=>e?.()))}}),t);return a.useMemo((()=>t.every((e=>null==e))?null:e=>{n.current&&(n.current(),n.current=void 0),null!=e&&(n.current=o(e))}),t)}(c,s?.ref,e.additionalProps?.ref),u=function(e,t,r){return void 0===e||"string"===typeof e?t:{...t,ownerState:{...t.ownerState,...r}}}(t,{...l,ref:d},n);return u}function Ym(e){return(0,Mt.Ay)("MuiPickersPopper",e)}(0,St.A)("MuiPickersPopper",["root","paper"]);const Km=function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).activeElement;return e?e.shadowRoot?Km(e.shadowRoot):e:null},Xm="@media (pointer: fine)",Qm="undefined"!==typeof navigator&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),Jm=Qm&&Qm[1]?parseInt(Qm[1],10):null,Zm=Qm&&Qm[2]?parseInt(Qm[2],10):null,eg=Jm&&Jm<10||Zm&&Zm<13||!1,tg=()=>Rf("@media (prefers-reduced-motion: reduce)",{defaultMatches:!1})||eg,rg=["PaperComponent","popperPlacement","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],ng=(0,Ot.Ay)(Lo,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{zIndex:t.zIndex.modal}})),og=(0,Ot.Ay)($t,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(e,t)=>t.paper})((e=>{let{ownerState:t}=e;return(0,Be.A)({outline:0,transformOrigin:"top center"},t.placement.includes("top")&&{transformOrigin:"bottom center"})}));const ag=a.forwardRef(((e,t)=>{const{PaperComponent:r,popperPlacement:n,ownerState:o,children:a,paperSlotProps:i,paperClasses:s,onPaperClick:l,onPaperTouchStart:c}=e,d=(0,Fe.A)(e,rg),u=(0,Be.A)({},o,{placement:n}),p=qm({elementType:r,externalSlotProps:i,additionalProps:{tabIndex:-1,elevation:8,ref:t},className:s,ownerState:u});return(0,Ve.jsx)(r,(0,Be.A)({},d,p,{onClick:e=>{var t;l(e),null==(t=p.onClick)||t.call(p,e)},onTouchStart:e=>{var t;c(e),null==(t=p.onTouchStart)||t.call(p,e)},ownerState:u,children:a}))}));function ig(e){var t,r,n,o;const i=$f({props:e,name:"MuiPickersPopper"}),{anchorEl:s,children:l,containerRef:c=null,shouldRestoreFocus:d,onBlur:u,onDismiss:p,open:h,role:f,placement:m,slots:g,slotProps:v,reduceAnimations:x}=i;a.useEffect((()=>{function e(e){!h||"Escape"!==e.key&&"Esc"!==e.key||p()}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[p,h]);const b=a.useRef(null);a.useEffect((()=>{"tooltip"===f||d&&!d()||(h?b.current=Km(document):b.current&&b.current instanceof HTMLElement&&setTimeout((()=>{b.current instanceof HTMLElement&&b.current.focus()})))}),[h,f,d]);const[y,j,w]=function(e,t){const r=a.useRef(!1),n=a.useRef(!1),o=a.useRef(null),i=a.useRef(!1);a.useEffect((()=>{if(e)return document.addEventListener("mousedown",t,!0),document.addEventListener("touchstart",t,!0),()=>{document.removeEventListener("mousedown",t,!0),document.removeEventListener("touchstart",t,!0),i.current=!1};function t(){i.current=!0}}),[e]);const s=(0,ca.A)((e=>{if(!i.current)return;const a=n.current;n.current=!1;const s=(0,ln.A)(o.current);if(!o.current||"clientX"in e&&function(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}(e,s))return;if(r.current)return void(r.current=!1);let l;l=e.composedPath?e.composedPath().indexOf(o.current)>-1:!s.documentElement.contains(e.target)||o.current.contains(e.target),l||a||t(e)})),l=()=>{n.current=!0};return a.useEffect((()=>{if(e){const e=(0,ln.A)(o.current),t=()=>{r.current=!0};return e.addEventListener("touchstart",s),e.addEventListener("touchmove",t),()=>{e.removeEventListener("touchstart",s),e.removeEventListener("touchmove",t)}}}),[e,s]),a.useEffect((()=>{if(e){const e=(0,ln.A)(o.current);return e.addEventListener("click",s),()=>{e.removeEventListener("click",s),n.current=!1}}}),[e,s]),[o,l,l]}(h,null!=u?u:p),S=a.useRef(null),C=(0,an.A)(S,c),A=(0,an.A)(C,y),E=i,k=(e=>{const{classes:t}=e;return(0,kt.A)({root:["root"],paper:["paper"]},Ym,t)})(E),O=tg(),P=null!=x?x:O,I=(null!=(t=null==g?void 0:g.desktopTransition)?t:P)?oa:nn,D=null!=(r=null==g?void 0:g.desktopTrapFocus)?r:ta,M=null!=(n=null==g?void 0:g.desktopPaper)?n:og,T=null!=(o=null==g?void 0:g.popper)?o:ng,R=qm({elementType:T,externalSlotProps:null==v?void 0:v.popper,additionalProps:{transition:!0,role:f,open:h,anchorEl:s,placement:m,onKeyDown:e=>{"Escape"===e.key&&(e.stopPropagation(),p())}},className:k.root,ownerState:i});return(0,Ve.jsx)(T,(0,Be.A)({},R,{children:e=>{let{TransitionProps:t,placement:r}=e;return(0,Ve.jsx)(D,(0,Be.A)({open:h,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:"tooltip"===f,isEnabled:()=>!0},null==v?void 0:v.desktopTrapFocus,{children:(0,Ve.jsx)(I,(0,Be.A)({},t,null==v?void 0:v.desktopTransition,{children:(0,Ve.jsx)(ag,{PaperComponent:M,ownerState:E,popperPlacement:r,ref:A,onPaperClick:j,onPaperTouchStart:w,paperClasses:k.paper,paperSlotProps:null==v?void 0:v.desktopPaper,children:l})}))}))}}))}var sg=r(1052);function lg(e,t,r,n){const{value:o,onError:i}=e,s=Om(),l=a.useRef(n),c=t({adapter:s,value:o,props:e});return a.useEffect((()=>{i&&!r(c,l.current)&&i(c,o),l.current=c}),[r,i,l,c,o]),c}const cg=e=>{let{timezone:t,value:r,defaultValue:n,onChange:o,valueManager:i}=e;var s,l;const c=Pm(),d=a.useRef(n),u=null!=(s=null!=r?r:d.current)?s:i.emptyValue,p=a.useMemo((()=>i.getTimezone(c,u)),[c,i,u]),h=(0,ca.A)((e=>null==p?e:i.setTimezone(c,p,e))),f=null!=(l=null!=t?t:p)?l:"default";return{value:a.useMemo((()=>i.setTimezone(c,f,u)),[i,c,f,u]),handleValueChange:(0,ca.A)((function(e){const t=h(e);for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];null==o||o(t,...n)})),timezone:f}},dg=e=>{let{name:t,timezone:r,value:n,defaultValue:o,onChange:a,valueManager:i}=e;const[s,l]=(0,sg.A)({name:t,state:"value",controlled:n,default:null!=o?o:i.emptyValue}),c=(0,ca.A)((function(e){l(e);for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];null==a||a(e,...r)}));return cg({timezone:r,value:s,defaultValue:void 0,onChange:c,valueManager:i})},ug=e=>{let{props:t,valueManager:r,valueType:n,wrapperVariant:o,validator:i}=e;const{onAccept:s,onChange:l,value:c,defaultValue:d,closeOnSelect:u="desktop"===o,selectedSections:p,onSelectedSectionsChange:h,timezone:f}=t,{current:m}=a.useRef(d),{current:g}=a.useRef(void 0!==c);const v=Pm(),x=Om(),[b,y]=(0,sg.A)({controlled:p,default:null,name:"usePickerValue",state:"selectedSections"}),{isOpen:j,setIsOpen:w}=(e=>{let{open:t,onOpen:r,onClose:n}=e;const o=a.useRef("boolean"===typeof t).current,[i,s]=a.useState(!1);return a.useEffect((()=>{if(o){if("boolean"!==typeof t)throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");s(t)}}),[o,t]),{isOpen:i,setIsOpen:a.useCallback((e=>{o||s(e),e&&r&&r(),!e&&n&&n()}),[o,r,n])}})(t),[S,C]=a.useState((()=>{let e;return e=void 0!==c?c:void 0!==m?m:r.emptyValue,{draft:e,lastPublishedValue:e,lastCommittedValue:e,lastControlledValue:c,hasBeenModifiedSinceMount:!1}})),{timezone:A,handleValueChange:E}=cg({timezone:f,value:c,defaultValue:m,onChange:l,valueManager:r});lg((0,Be.A)({},t,{value:S.draft,timezone:A}),i,r.isSameError,r.defaultErrorState);const k=(0,ca.A)((e=>{const n={action:e,dateState:S,hasChanged:t=>!r.areValuesEqual(v,e.value,t),isControlled:g,closeOnSelect:u},o=(e=>{const{action:t,hasChanged:r,dateState:n,isControlled:o}=e,a=!o&&!n.hasBeenModifiedSinceMount;return"setValueFromField"===t.name||("setValueFromAction"===t.name?!(!a||!["accept","today","clear"].includes(t.pickerAction))||r(n.lastPublishedValue):("setValueFromView"===t.name&&"shallow"!==t.selectionState||"setValueFromShortcut"===t.name)&&(!!a||r(n.lastPublishedValue)))})(n),a=(e=>{const{action:t,hasChanged:r,dateState:n,isControlled:o,closeOnSelect:a}=e,i=!o&&!n.hasBeenModifiedSinceMount;return"setValueFromAction"===t.name?!(!i||!["accept","today","clear"].includes(t.pickerAction))||r(n.lastCommittedValue):"setValueFromView"===t.name&&"finish"===t.selectionState&&a?!!i||r(n.lastCommittedValue):"setValueFromShortcut"===t.name&&"accept"===t.changeImportance&&r(n.lastCommittedValue)})(n),l=(e=>{const{action:t,closeOnSelect:r}=e;return"setValueFromAction"===t.name||("setValueFromView"===t.name?"finish"===t.selectionState&&r:"setValueFromShortcut"===t.name&&"accept"===t.changeImportance)})(n);if(C((t=>(0,Be.A)({},t,{draft:e.value,lastPublishedValue:o?e.value:t.lastPublishedValue,lastCommittedValue:a?e.value:t.lastCommittedValue,hasBeenModifiedSinceMount:!0}))),o){const r={validationError:"setValueFromField"===e.name?e.context.validationError:i({adapter:x,value:e.value,props:(0,Be.A)({},t,{value:e.value,timezone:A})})};"setValueFromShortcut"===e.name&&null!=e.shortcut&&(r.shortcut=e.shortcut),E(e.value,r)}a&&s&&s(e.value),l&&w(!1)}));if(void 0!==c&&(void 0===S.lastControlledValue||!r.areValuesEqual(v,S.lastControlledValue,c))){const e=r.areValuesEqual(v,S.draft,c);C((t=>(0,Be.A)({},t,{lastControlledValue:c},e?{}:{lastCommittedValue:c,lastPublishedValue:c,draft:c,hasBeenModifiedSinceMount:!0})))}const O=(0,ca.A)((()=>{k({value:r.emptyValue,name:"setValueFromAction",pickerAction:"clear"})})),P=(0,ca.A)((()=>{k({value:S.lastPublishedValue,name:"setValueFromAction",pickerAction:"accept"})})),I=(0,ca.A)((()=>{k({value:S.lastPublishedValue,name:"setValueFromAction",pickerAction:"dismiss"})})),D=(0,ca.A)((()=>{k({value:S.lastCommittedValue,name:"setValueFromAction",pickerAction:"cancel"})})),M=(0,ca.A)((()=>{k({value:r.getTodayValue(v,A,n),name:"setValueFromAction",pickerAction:"today"})})),T=(0,ca.A)((()=>w(!0))),R=(0,ca.A)((()=>w(!1))),N=(0,ca.A)((function(e){return k({name:"setValueFromView",value:e,selectionState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"partial"})})),$=(0,ca.A)(((e,t,r)=>k({name:"setValueFromShortcut",value:e,changeImportance:null!=t?t:"accept",shortcut:r}))),z=(0,ca.A)(((e,t)=>k({name:"setValueFromField",value:e,context:t}))),L=(0,ca.A)((e=>{y(e),null==h||h(e)})),B={onClear:O,onAccept:P,onDismiss:I,onCancel:D,onSetToday:M,onOpen:T,onClose:R},F={value:S.draft,onChange:z,selectedSections:b,onSelectedSectionsChange:L},_=a.useMemo((()=>r.cleanValue(v,S.draft)),[v,r,S.draft]);return{open:j,fieldProps:F,viewProps:{value:_,onChange:N,onClose:R,open:j,onSelectedSectionsChange:L},layoutProps:(0,Be.A)({},B,{value:_,onChange:N,onSelectShortcut:$,isValid:e=>{const n=i({adapter:x,value:e,props:(0,Be.A)({},t,{value:e,timezone:A})});return!r.hasError(n)}}),actions:B}};function pg(e){let{onChange:t,onViewChange:r,openTo:n,view:o,views:i,autoFocus:s,focusedView:l,onFocusedViewChange:c}=e;var d,u;const p=a.useRef(n),h=a.useRef(i),f=a.useRef(i.includes(n)?n:i[0]),[m,g]=(0,sg.A)({name:"useViews",state:"view",controlled:o,default:f.current}),v=a.useRef(s?m:null),[x,b]=(0,sg.A)({name:"useViews",state:"focusedView",controlled:l,default:v.current});a.useEffect((()=>{(p.current&&p.current!==n||h.current&&h.current.some((e=>!i.includes(e))))&&(g(i.includes(n)?n:i[0]),h.current=i,p.current=n)}),[n,g,m,i]);const y=i.indexOf(m),j=null!=(d=i[y-1])?d:null,w=null!=(u=i[y+1])?u:null,S=(0,ca.A)(((e,t)=>{b(t?e:t=>e===t?null:t),null==c||c(e,t)})),C=(0,ca.A)((e=>{S(e,!0),e!==m&&(g(e),r&&r(e))})),A=(0,ca.A)((()=>{w&&C(w)})),E=(0,ca.A)(((e,r,n)=>{const o="finish"===r,a=n?i.indexOf(n)<i.length-1:Boolean(w);if(t(e,o&&a?"partial":r,n),n&&n!==m){const e=i[i.indexOf(n)+1];e&&C(e)}else o&&A()}));return{view:m,setView:C,focusedView:x,setFocusedView:S,nextView:w,previousView:j,defaultView:i.includes(n)?n:i[0],goToNextView:A,setValueAndGoToNextView:E}}const hg=["className","sx"],fg=e=>{let{props:t,propsFromPickerValue:r,additionalViewProps:n,inputRef:o,autoFocusView:i}=e;const{onChange:s,open:l,onSelectedSectionsChange:c,onClose:d}=r,{view:u,views:p,openTo:h,onViewChange:f,viewRenderers:m,timezone:g}=t,v=(0,Fe.A)(t,hg),{view:x,setView:b,defaultView:y,focusedView:j,setFocusedView:w,setValueAndGoToNextView:S}=pg({view:u,views:p,openTo:h,onChange:s,onViewChange:f,autoFocus:i}),{hasUIView:C,viewModeLookup:A}=a.useMemo((()=>p.reduce(((e,t)=>{let r;return r=null!=m[t]?"UI":"field",e.viewModeLookup[t]=r,"UI"===r&&(e.hasUIView=!0),e}),{hasUIView:!1,viewModeLookup:{}})),[m,p]),E=a.useMemo((()=>p.reduce(((e,t)=>null!=m[t]&&(e=>Qf.includes(e))(t)?e+1:e),0)),[m,p]),k=A[x],O=(0,ca.A)((()=>"UI"===k)),[P,I]=a.useState("UI"===k?x:null);P!==x&&"UI"===A[x]&&I(x),(0,sn.A)((()=>{"field"===k&&l&&(d(),setTimeout((()=>{null==o||o.current.focus(),c(x)})))}),[x]),(0,sn.A)((()=>{if(!l)return;let e=x;"field"===k&&null!=P&&(e=P),e!==y&&"UI"===A[e]&&"UI"===A[y]&&(e=y),e!==x&&b(e),w(e,!0)}),[l]);return{hasUIView:C,shouldRestoreFocus:O,layoutProps:{views:p,view:P,onViewChange:b},renderCurrentView:()=>{if(null==P)return null;const e=m[P];return null==e?null:e((0,Be.A)({},v,n,r,{views:p,timezone:g,onChange:S,view:P,onViewChange:b,focusedView:j,onFocusedViewChange:w,showViewSwitcher:E>1,timeViewsCount:E}))}}};function mg(){return"undefined"===typeof window?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?90===Math.abs(window.screen.orientation.angle)?"landscape":"portrait":window.orientation&&90===Math.abs(Number(window.orientation))?"landscape":"portrait"}const gg=(e,t)=>{const[r,n]=a.useState(mg);if((0,sn.A)((()=>{const e=()=>{n(mg())};return window.addEventListener("orientationchange",e),()=>{window.removeEventListener("orientationchange",e)}}),[]),o=e,i=["hours","minutes","seconds"],Array.isArray(i)?i.every((e=>-1!==o.indexOf(e))):-1!==o.indexOf(i))return!1;var o,i;return"landscape"===(t||r)},vg=(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning",r=!1;const n=Array.isArray(e)?e.join("\n"):e}(["The `renderInput` prop has been removed in version 6.0 of the Date and Time Pickers.","You can replace it with the `textField` component slot in most cases.","For more information, please have a look at the migration guide (https://mui.com/x/migration/migration-pickers-v5/#input-renderer-required-in-v5)."]),e=>{let{props:t,valueManager:r,valueType:n,wrapperVariant:o,inputRef:a,additionalViewProps:i,validator:s,autoFocusView:l}=e;const c=ug({props:t,valueManager:r,valueType:n,wrapperVariant:o,validator:s}),d=fg({props:t,inputRef:a,additionalViewProps:i,autoFocusView:l,propsFromPickerValue:c.viewProps}),u=(e=>{let{props:t,propsFromPickerValue:r,propsFromPickerViews:n,wrapperVariant:o}=e;const{orientation:a}=t,i=gg(n.views,a);return{layoutProps:(0,Be.A)({},n,r,{isLandscape:i,wrapperVariant:o,disabled:t.disabled,readOnly:t.readOnly})}})({props:t,wrapperVariant:o,propsFromPickerValue:c.layoutProps,propsFromPickerViews:d.layoutProps});return{open:c.open,actions:c.actions,fieldProps:c.fieldProps,renderCurrentView:d.renderCurrentView,hasUIView:d.hasUIView,shouldRestoreFocus:d.shouldRestoreFocus,layoutProps:u.layoutProps}});function xg(e){return(0,Mt.Ay)("MuiPickersLayout",e)}const bg=(0,St.A)("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),yg=["onAccept","onClear","onCancel","onSetToday","actions"];function jg(e){const{onAccept:t,onClear:r,onCancel:n,onSetToday:o,actions:a}=e,i=(0,Fe.A)(e,yg),s=Dm();if(null==a||0===a.length)return null;const l=null==a?void 0:a.map((e=>{switch(e){case"clear":return(0,Ve.jsx)(fs,{onClick:r,children:s.clearButtonLabel},e);case"cancel":return(0,Ve.jsx)(fs,{onClick:n,children:s.cancelButtonLabel},e);case"accept":return(0,Ve.jsx)(fs,{onClick:t,children:s.okButtonLabel},e);case"today":return(0,Ve.jsx)(fs,{onClick:o,children:s.todayButtonLabel},e);default:return null}}));return(0,Ve.jsx)(ns,(0,Be.A)({},i,{children:l}))}const wg=(0,ms.A)((0,Ve.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function Sg(e){return(0,Mt.Ay)("MuiChip",e)}const Cg=(0,St.A)("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Ag=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],Eg=(0,Ot.Ay)("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{color:n,iconColor:o,clickable:a,onDelete:i,size:s,variant:l}=r;return[{[`& .${Cg.avatar}`]:t.avatar},{[`& .${Cg.avatar}`]:t[`avatar${(0,Pt.A)(s)}`]},{[`& .${Cg.avatar}`]:t[`avatarColor${(0,Pt.A)(n)}`]},{[`& .${Cg.icon}`]:t.icon},{[`& .${Cg.icon}`]:t[`icon${(0,Pt.A)(s)}`]},{[`& .${Cg.icon}`]:t[`iconColor${(0,Pt.A)(o)}`]},{[`& .${Cg.deleteIcon}`]:t.deleteIcon},{[`& .${Cg.deleteIcon}`]:t[`deleteIcon${(0,Pt.A)(s)}`]},{[`& .${Cg.deleteIcon}`]:t[`deleteIconColor${(0,Pt.A)(n)}`]},{[`& .${Cg.deleteIcon}`]:t[`deleteIcon${(0,Pt.A)(l)}Color${(0,Pt.A)(n)}`]},t.root,t[`size${(0,Pt.A)(s)}`],t[`color${(0,Pt.A)(n)}`],a&&t.clickable,a&&"default"!==n&&t[`clickableColor${(0,Pt.A)(n)})`],i&&t.deletable,i&&"default"!==n&&t[`deletableColor${(0,Pt.A)(n)}`],t[l],t[`${l}${(0,Pt.A)(n)}`]]}})((e=>{let{theme:t,ownerState:r}=e;const n="light"===t.palette.mode?t.palette.grey[700]:t.palette.grey[300];return(0,Be.A)({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Cg.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Cg.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:n,fontSize:t.typography.pxToRem(12)},[`& .${Cg.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${Cg.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${Cg.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${Cg.icon}`]:(0,Be.A)({marginLeft:5,marginRight:-6},"small"===r.size&&{fontSize:18,marginLeft:4,marginRight:-4},r.iconColor===r.color&&(0,Be.A)({color:t.vars?t.vars.palette.Chip.defaultIconColor:n},"default"!==r.color&&{color:"inherit"})),[`& .${Cg.deleteIcon}`]:(0,Be.A)({WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:(0,It.X4)(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:(0,It.X4)(t.palette.text.primary,.4)}},"small"===r.size&&{fontSize:16,marginRight:4,marginLeft:-4},"default"!==r.color&&{color:t.vars?`rgba(${t.vars.palette[r.color].contrastTextChannel} / 0.7)`:(0,It.X4)(t.palette[r.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[r.color].contrastText}})},"small"===r.size&&{height:24},"default"!==r.color&&{backgroundColor:(t.vars||t).palette[r.color].main,color:(t.vars||t).palette[r.color].contrastText},r.onDelete&&{[`&.${Cg.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,It.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},r.onDelete&&"default"!==r.color&&{[`&.${Cg.focusVisible}`]:{backgroundColor:(t.vars||t).palette[r.color].dark}})}),(e=>{let{theme:t,ownerState:r}=e;return(0,Be.A)({},r.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,It.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${Cg.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,It.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},r.clickable&&"default"!==r.color&&{[`&:hover, &.${Cg.focusVisible}`]:{backgroundColor:(t.vars||t).palette[r.color].dark}})}),(e=>{let{theme:t,ownerState:r}=e;return(0,Be.A)({},"outlined"===r.variant&&{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${Cg.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${Cg.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${Cg.avatar}`]:{marginLeft:4},[`& .${Cg.avatarSmall}`]:{marginLeft:2},[`& .${Cg.icon}`]:{marginLeft:4},[`& .${Cg.iconSmall}`]:{marginLeft:2},[`& .${Cg.deleteIcon}`]:{marginRight:5},[`& .${Cg.deleteIconSmall}`]:{marginRight:3}},"outlined"===r.variant&&"default"!==r.color&&{color:(t.vars||t).palette[r.color].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[r.color].mainChannel} / 0.7)`:(0,It.X4)(t.palette[r.color].main,.7)}`,[`&.${Cg.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[r.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,It.X4)(t.palette[r.color].main,t.palette.action.hoverOpacity)},[`&.${Cg.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[r.color].mainChannel} / ${t.vars.palette.action.focusOpacity})`:(0,It.X4)(t.palette[r.color].main,t.palette.action.focusOpacity)},[`& .${Cg.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[r.color].mainChannel} / 0.7)`:(0,It.X4)(t.palette[r.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[r.color].main}}})})),kg=(0,Ot.Ay)("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:r}=e,{size:n}=r;return[t.label,t[`label${(0,Pt.A)(n)}`]]}})((e=>{let{ownerState:t}=e;return(0,Be.A)({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},"outlined"===t.variant&&{paddingLeft:11,paddingRight:11},"small"===t.size&&{paddingLeft:8,paddingRight:8},"small"===t.size&&"outlined"===t.variant&&{paddingLeft:7,paddingRight:7})}));function Og(e){return"Backspace"===e.key||"Delete"===e.key}const Pg=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiChip"}),{avatar:n,className:o,clickable:i,color:s="default",component:l,deleteIcon:c,disabled:d=!1,icon:u,label:p,onClick:h,onDelete:f,onKeyDown:m,onKeyUp:g,size:v="medium",variant:x="filled",tabIndex:b,skipFocusWhenDisabled:y=!1}=r,j=(0,Fe.A)(r,Ag),w=a.useRef(null),S=(0,Ht.A)(w,t),C=e=>{e.stopPropagation(),f&&f(e)},A=!(!1===i||!h)||i,E=A||f?Ar:l||"div",k=(0,Be.A)({},r,{component:E,disabled:d,size:v,color:s,iconColor:a.isValidElement(u)&&u.props.color||s,onDelete:!!f,clickable:A,variant:x}),O=(e=>{const{classes:t,disabled:r,size:n,color:o,iconColor:a,onDelete:i,clickable:s,variant:l}=e,c={root:["root",l,r&&"disabled",`size${(0,Pt.A)(n)}`,`color${(0,Pt.A)(o)}`,s&&"clickable",s&&`clickableColor${(0,Pt.A)(o)}`,i&&"deletable",i&&`deletableColor${(0,Pt.A)(o)}`,`${l}${(0,Pt.A)(o)}`],label:["label",`label${(0,Pt.A)(n)}`],avatar:["avatar",`avatar${(0,Pt.A)(n)}`,`avatarColor${(0,Pt.A)(o)}`],icon:["icon",`icon${(0,Pt.A)(n)}`,`iconColor${(0,Pt.A)(a)}`],deleteIcon:["deleteIcon",`deleteIcon${(0,Pt.A)(n)}`,`deleteIconColor${(0,Pt.A)(o)}`,`deleteIcon${(0,Pt.A)(l)}Color${(0,Pt.A)(o)}`]};return(0,kt.A)(c,Sg,t)})(k),P=E===Ar?(0,Be.A)({component:l||"div",focusVisibleClassName:O.focusVisible},f&&{disableRipple:!0}):{};let I=null;f&&(I=c&&a.isValidElement(c)?a.cloneElement(c,{className:(0,vt.A)(c.props.className,O.deleteIcon),onClick:C}):(0,Ve.jsx)(wg,{className:(0,vt.A)(O.deleteIcon),onClick:C}));let D=null;n&&a.isValidElement(n)&&(D=a.cloneElement(n,{className:(0,vt.A)(O.avatar,n.props.className)}));let M=null;return u&&a.isValidElement(u)&&(M=a.cloneElement(u,{className:(0,vt.A)(O.icon,u.props.className)})),(0,Ve.jsxs)(Eg,(0,Be.A)({as:E,className:(0,vt.A)(O.root,o),disabled:!(!A||!d)||void 0,onClick:h,onKeyDown:e=>{e.currentTarget===e.target&&Og(e)&&e.preventDefault(),m&&m(e)},onKeyUp:e=>{e.currentTarget===e.target&&(f&&Og(e)?f(e):"Escape"===e.key&&w.current&&w.current.blur()),g&&g(e)},ref:S,tabIndex:y&&d?-1:b,ownerState:k},P,j,{children:[D||M,(0,Ve.jsx)(kg,{className:(0,vt.A)(O.label),ownerState:k,children:p}),I]}))})),Ig=320,Dg=["items","changeImportance","isLandscape","onChange","isValid"],Mg=["getValue"];function Tg(e){const{items:t,changeImportance:r,onChange:n,isValid:o}=e,a=(0,Fe.A)(e,Dg);if(null==t||0===t.length)return null;const i=t.map((e=>{let{getValue:t}=e,a=(0,Fe.A)(e,Mg);const i=t({isValid:o});return{label:a.label,onClick:()=>{n(i,r,a)},disabled:!o(i)}}));return(0,Ve.jsx)(Va,(0,Be.A)({dense:!0,sx:[{maxHeight:334,maxWidth:200,overflow:"auto"},...Array.isArray(a.sx)?a.sx:[a.sx]]},a,{children:i.map((e=>(0,Ve.jsx)(ai,{children:(0,Ve.jsx)(Pg,(0,Be.A)({},e))},e.label)))}))}const Rg=e=>{var t,r;const{wrapperVariant:n,onAccept:o,onClear:a,onCancel:i,onSetToday:s,view:l,views:c,onViewChange:d,value:u,onChange:p,onSelectShortcut:h,isValid:f,isLandscape:m,disabled:g,readOnly:v,children:x,components:b,componentsProps:y,slots:j,slotProps:w}=e,S=null!=j?j:Um(b),C=null!=w?w:y,A=(e=>{const{classes:t,isLandscape:r}=e,n={root:["root",r&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]};return(0,kt.A)(n,xg,t)})(e),E=null!=(t=null==S?void 0:S.actionBar)?t:jg,k=qm({elementType:E,externalSlotProps:null==C?void 0:C.actionBar,additionalProps:{onAccept:o,onClear:a,onCancel:i,onSetToday:s,actions:"desktop"===n?[]:["cancel","accept"],className:A.actionBar},ownerState:(0,Be.A)({},e,{wrapperVariant:n})}),O=(0,Ve.jsx)(E,(0,Be.A)({},k)),P=null==S?void 0:S.toolbar,I=qm({elementType:P,externalSlotProps:null==C?void 0:C.toolbar,additionalProps:{isLandscape:m,onChange:p,value:u,view:l,onViewChange:d,views:c,disabled:g,readOnly:v,className:A.toolbar},ownerState:(0,Be.A)({},e,{wrapperVariant:n})}),D=function(e){return null!==e.view}(I)&&P?(0,Ve.jsx)(P,(0,Be.A)({},I)):null,M=x,T=null==S?void 0:S.tabs,R=l&&T?(0,Ve.jsx)(T,(0,Be.A)({view:l,onViewChange:d,className:A.tabs},null==C?void 0:C.tabs)):null,N=null!=(r=null==S?void 0:S.shortcuts)?r:Tg,$=qm({elementType:N,externalSlotProps:null==C?void 0:C.shortcuts,additionalProps:{isValid:f,isLandscape:m,onChange:h,className:A.shortcuts},ownerState:{isValid:f,isLandscape:m,onChange:h,className:A.shortcuts,wrapperVariant:n}});return{toolbar:D,content:M,tabs:R,actionBar:O,shortcuts:l&&N?(0,Ve.jsx)(N,(0,Be.A)({},$)):null}},Ng=(0,Ot.Ay)("div",{name:"MuiPickersLayout",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t,ownerState:r}=e;return{display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${bg.toolbar}`]:r.isLandscape?{gridColumn:"rtl"===t.direction?3:1,gridRow:"2 / 3"}:{gridColumn:"2 / 4",gridRow:1},[`.${bg.shortcuts}`]:r.isLandscape?{gridColumn:"2 / 4",gridRow:1}:{gridColumn:"rtl"===t.direction?3:1,gridRow:"2 / 3"},[`& .${bg.actionBar}`]:{gridColumn:"1 / 4",gridRow:3}}}));Ng.propTypes={as:Lf().elementType,ownerState:Lf().shape({isLandscape:Lf().bool.isRequired}).isRequired,sx:Lf().oneOfType([Lf().arrayOf(Lf().oneOfType([Lf().func,Lf().object,Lf().bool])),Lf().func,Lf().object])};const $g=(0,Ot.Ay)("div",{name:"MuiPickersLayout",slot:"ContentWrapper",overridesResolver:(e,t)=>t.contentWrapper})({gridColumn:2,gridRow:2,display:"flex",flexDirection:"column"}),zg=function(e){const t=$f({props:e,name:"MuiPickersLayout"}),{toolbar:r,content:n,tabs:o,actionBar:i,shortcuts:s}=Rg(t),{sx:l,className:c,isLandscape:d,ref:u,wrapperVariant:p}=t,h=t,f=(e=>{const{isLandscape:t,classes:r}=e,n={root:["root",t&&"landscape"],contentWrapper:["contentWrapper"]};return(0,kt.A)(n,xg,r)})(h);return(0,Ve.jsxs)(Ng,{ref:u,sx:l,className:(0,vt.A)(c,f.root),ownerState:h,children:[d?s:r,d?r:s,(0,Ve.jsx)($g,{className:f.contentWrapper,children:"desktop"===p?(0,Ve.jsxs)(a.Fragment,{children:[n,o]}):(0,Ve.jsxs)(a.Fragment,{children:[o,n]})}),i]})},Lg=["props","getOpenDialogAriaText"],Bg=["ownerState"],Fg=["ownerState"],_g=(0,ms.A)((0,Ve.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Ug=(0,ms.A)((0,Ve.jsx)("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),Wg=(0,ms.A)((0,Ve.jsx)("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),Vg=(0,ms.A)((0,Ve.jsx)("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar"),Gg=((0,ms.A)((0,Ve.jsxs)(a.Fragment,{children:[(0,Ve.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),(0,Ve.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock"),(0,ms.A)((0,Ve.jsx)("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange"),(0,ms.A)((0,Ve.jsxs)(a.Fragment,{children:[(0,Ve.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),(0,Ve.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time"),(0,ms.A)((0,Ve.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear")),Hg=e=>{const t=Pm(),r=Dm(),n=Om(),o="rtl"===gt().direction,{valueManager:i,fieldValueManager:s,valueType:l,validator:c,internalProps:d,internalProps:{value:u,defaultValue:p,referenceDate:h,onChange:f,format:m,formatDensity:g="dense",selectedSections:v,onSelectedSectionsChange:x,shouldRespectLeadingZeros:b=!1,timezone:y}}=e,{timezone:j,value:w,handleValueChange:S}=cg({timezone:y,value:u,defaultValue:p,onChange:f,valueManager:i}),C=a.useMemo((()=>((e,t)=>{const r=e.dateWithTimezone(void 0,t),n=e.endOfYear(r),o=e.endOfDay(r),{maxDaysInMonth:a,longestMonth:i}=Gf(e,r).reduce(((t,r)=>{const n=e.getDaysInMonth(r);return n>t.maxDaysInMonth?{maxDaysInMonth:n,longestMonth:r}:t}),{maxDaysInMonth:0,longestMonth:null});return{year:r=>{let{format:n}=r;return{minimum:0,maximum:hm(e,t,n)?9999:99}},month:()=>({minimum:1,maximum:e.getMonth(n)+1}),day:t=>{let{currentDate:r}=t;return{minimum:1,maximum:null!=r&&e.isValid(r)?e.getDaysInMonth(r):a,longestMonth:i}},weekDay:r=>{let{format:n,contentType:o}=r;if("digit"===o){const r=nm(e,t,n).map(Number);return{minimum:Math.min(...r),maximum:Math.max(...r)}}return{minimum:1,maximum:7}},hours:t=>{let{format:n}=t;const a=e.getHours(o);return e.formatByString(e.endOfDay(r),n)!==a.toString()?{minimum:1,maximum:Number(e.formatByString(e.startOfDay(r),n))}:{minimum:0,maximum:a}},minutes:()=>({minimum:0,maximum:e.getMinutes(o)}),seconds:()=>({minimum:0,maximum:e.getSeconds(o)}),meridiem:()=>({minimum:0,maximum:0})}})(t,j)),[t,j]),A=a.useCallback((function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return s.getSectionsFromValue(t,e,n,o,(e=>mm(t,j,r,m,e,g,b,o)))}),[s,m,r,o,b,t,g,j]),E=a.useMemo((()=>s.getValueStrFromSections(A(i.emptyValue),o)),[s,A,i.emptyValue,o]),[k,O]=a.useState((()=>{const e=A(w);gm();const r={sections:e,value:w,referenceValue:i.emptyValue,tempValueStrAndroid:null},n=(e=>Math.max(...e.map((e=>{var t;return null!=(t=Zf[e.type])?t:1}))))(e),o=i.getInitialReferenceValue({referenceDate:h,value:w,utils:t,props:d,granularity:n,timezone:j});return(0,Be.A)({},r,{referenceValue:o})})),[P,I]=(0,sg.A)({controlled:v,default:null,name:"useField",state:"selectedSectionIndexes"}),D=e=>{I(e),null==x||x(e),O((e=>(0,Be.A)({},e,{selectedSectionQuery:null})))},M=a.useMemo((()=>{if(null==P)return null;if("all"===P)return{startIndex:0,endIndex:k.sections.length-1,shouldSelectBoundarySelectors:!0};if("number"===typeof P)return{startIndex:P,endIndex:P};if("string"===typeof P){const e=k.sections.findIndex((e=>e.type===P));return{startIndex:e,endIndex:e}}return P}),[P,k.sections]),T=e=>{let{value:r,referenceValue:o,sections:a}=e;if(O((e=>(0,Be.A)({},e,{sections:a,value:r,referenceValue:o,tempValueStrAndroid:null}))),i.areValuesEqual(t,k.value,r))return;const s={validationError:c({adapter:n,value:r,props:(0,Be.A)({},d,{value:r,timezone:j})})};S(r,s)},R=(e,t)=>{const r=[...k.sections];return r[e]=(0,Be.A)({},r[e],{value:t,modified:!0}),dm(r,o)};return a.useEffect((()=>{const e=A(k.value);gm(),O((t=>(0,Be.A)({},t,{sections:e})))}),[m,t.locale]),a.useEffect((()=>{let e=!1;e=!i.areValuesEqual(t,k.value,w)||i.getTimezone(t,k.value)!==i.getTimezone(t,w),e&&O((e=>(0,Be.A)({},e,{value:w,referenceValue:s.updateReferenceValue(t,w,e.referenceValue),sections:A(w)})))}),[w]),{state:k,selectedSectionIndexes:M,setSelectedSections:D,clearValue:()=>{T({value:i.emptyValue,referenceValue:k.referenceValue,sections:A(i.emptyValue)})},clearActiveSection:()=>{if(null==M)return;const e=k.sections[M.startIndex],r=s.getActiveDateManager(t,k,e),n=r.getSections(k.sections).filter((e=>""!==e.value)).length===(""===e.value?0:1),o=R(M.startIndex,""),a=n?null:t.date(new Date("")),i=r.getNewValuesFromNewActiveDate(a);(null!=a&&!t.isValid(a))!==(null!=r.date&&!t.isValid(r.date))?T((0,Be.A)({},i,{sections:o})):O((e=>(0,Be.A)({},e,i,{sections:o,tempValueStrAndroid:null})))},updateSectionValue:e=>{let{activeSection:r,newSectionValue:n,shouldGoToNextSection:o}=e;o&&M&&M.startIndex<k.sections.length-1?D(M.startIndex+1):M&&M.startIndex!==M.endIndex&&D(M.startIndex);const a=s.getActiveDateManager(t,k,r),i=R(M.startIndex,n),l=a.getSections(i),c=((e,t)=>{const r=t.some((e=>"day"===e.type)),n=[],o=[];for(let s=0;s<t.length;s+=1){const e=t[s];r&&"weekDay"===e.type||(n.push(e.format),o.push(lm(e,"non-input")))}const a=n.join(" "),i=o.join(" ");return e.parse(i,a)})(t,l);let d,u;if(null!=c&&t.isValid(c)){const e=xm(t,j,c,l,a.referenceDate,!0);d=a.getNewValuesFromNewActiveDate(e),u=!0}else d=a.getNewValuesFromNewActiveDate(c),u=(null!=c&&!t.isValid(c))!==(null!=a.date&&!t.isValid(a.date));return u?T((0,Be.A)({},d,{sections:i})):O((e=>(0,Be.A)({},e,d,{sections:i,tempValueStrAndroid:null})))},updateValueFromValueStr:e=>{const n=s.parseValueStr(e,k.referenceValue,((e,n)=>{const a=t.parse(e,m);if(null==a||!t.isValid(a))return null;const i=mm(t,j,r,m,a,g,b,o);return xm(t,j,a,i,n,!1)})),a=s.updateReferenceValue(t,n,k.referenceValue);T({value:n,referenceValue:a,sections:A(n,k.sections)})},setTempAndroidValueStr:e=>O((t=>(0,Be.A)({},t,{tempValueStrAndroid:e}))),sectionsValueBoundaries:C,placeholder:E,timezone:j}},qg=e=>null!=e.saveQuery,Yg=e=>{let{sections:t,updateSectionValue:r,sectionsValueBoundaries:n,setTempAndroidValueStr:o,timezone:i}=e;const s=Pm(),[l,c]=a.useState(null),d=(0,ca.A)((()=>c(null)));a.useEffect((()=>{var e;null!=l&&(null==(e=t[l.sectionIndex])?void 0:e.type)!==l.sectionType&&d()}),[t,l,d]),a.useEffect((()=>{if(null!=l){const e=setTimeout((()=>d()),5e3);return()=>{window.clearTimeout(e)}}return()=>{}}),[l,d]);const u=(e,r,n)=>{let{keyPressed:o,sectionIndex:a}=e;const i=o.toLowerCase(),s=t[a];if(null!=l&&(!n||n(l.value))&&l.sectionIndex===a){const e=`${l.value}${i}`,t=r(e,s);if(!qg(t))return c({sectionIndex:a,value:e,sectionType:s.type}),t}const u=r(i,s);return qg(u)&&!u.saveQuery?(d(),null):(c({sectionIndex:a,value:i,sectionType:s.type}),qg(u)?null:u)};return{applyCharacterEditing:(0,ca.A)((e=>{const a=t[e.sectionIndex],l=" "!==e.keyPressed&&!Number.isNaN(Number(e.keyPressed))?(e=>{const t=(e,t)=>{const r=Number(`${e}`),o=n[t.type]({currentDate:null,format:t.format,contentType:t.contentType});if(r>o.maximum)return{saveQuery:!1};if(r<o.minimum)return{saveQuery:!0};const a=Number(`${e}0`)>o.maximum||e.length===o.maximum.toString().length;return{sectionValue:im(s,0,r,o,t),shouldGoToNextSection:a}};return u(e,((e,r)=>{if("digit"===r.contentType||"digit-with-letter"===r.contentType)return t(e,r);if("month"===r.type){const n=fm(s,i,"digit","month","MM"),o=t(e,{type:r.type,format:"MM",hasLeadingZerosInFormat:n,hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(qg(o))return o;const a=pm(s,o.sectionValue,"MM",r.format);return(0,Be.A)({},o,{sectionValue:a})}if("weekDay"===r.type){const n=t(e,r);if(qg(n))return n;const o=nm(s,i,r.format)[Number(n.sectionValue)-1];return(0,Be.A)({},n,{sectionValue:o})}return{saveQuery:!1}}),(e=>!Number.isNaN(Number(e))))})(e):(e=>{const t=(e,t,r)=>{const n=t.filter((e=>e.toLowerCase().startsWith(r)));return 0===n.length?{saveQuery:!1}:{sectionValue:n[0],shouldGoToNextSection:1===n.length}},r=(e,r,n,o)=>{const a=e=>om(s,i,r.type,e);if("letter"===r.contentType)return t(r.format,a(r.format),e);if(n&&null!=o&&"letter"===rm(s,n).contentType){const r=a(n),i=t(0,r,e);return qg(i)?{saveQuery:!1}:(0,Be.A)({},i,{sectionValue:o(i.sectionValue,r)})}return{saveQuery:!1}};return u(e,((e,t)=>{switch(t.type){case"month":{const n=e=>pm(s,e,s.formats.month,t.format);return r(e,t,s.formats.month,n)}case"weekDay":{const n=(e,t)=>t.indexOf(e).toString();return r(e,t,s.formats.weekday,n)}case"meridiem":return r(e,t);default:return{saveQuery:!1}}}))})(e);null==l?o(null):r({activeSection:a,newSectionValue:l.sectionValue,shouldGoToNextSection:l.shouldGoToNextSection})})),resetCharacterQuery:d}},Kg=["onClick","onKeyDown","onFocus","onBlur","onMouseUp","onPaste","error","clearable","onClear","disabled"],Xg=e=>{const t=Pm(),{state:r,selectedSectionIndexes:n,setSelectedSections:o,clearValue:i,clearActiveSection:s,updateSectionValue:l,updateValueFromValueStr:c,setTempAndroidValueStr:d,sectionsValueBoundaries:u,placeholder:p,timezone:h}=Hg(e),{inputRef:f,internalProps:m,internalProps:{readOnly:g=!1,unstableFieldRef:v,minutesStep:x},forwardedProps:{onClick:b,onKeyDown:y,onFocus:j,onBlur:w,onMouseUp:S,onPaste:C,error:A,clearable:E,onClear:k,disabled:O},fieldValueManager:P,valueManager:I,validator:D}=e,M=(0,Fe.A)(e.forwardedProps,Kg),{applyCharacterEditing:T,resetCharacterQuery:R}=Yg({sections:r.sections,updateSectionValue:l,sectionsValueBoundaries:u,setTempAndroidValueStr:d,timezone:h}),N=a.useRef(null),$=(0,an.A)(f,N),z=a.useRef(void 0),L="rtl"===gt().direction,B=a.useMemo((()=>((e,t)=>{const r={};if(!t)return e.forEach(((t,n)=>{const o=0===n?null:n-1,a=n===e.length-1?null:n+1;r[n]={leftIndex:o,rightIndex:a}})),{neighbors:r,startIndex:0,endIndex:e.length-1};const n={},o={};let a=0,i=0,s=e.length-1;for(;s>=0;){i=e.findIndex(((e,t)=>{var r;return t>=a&&(null==(r=e.endSeparator)?void 0:r.includes(" "))&&" / "!==e.endSeparator})),-1===i&&(i=e.length-1);for(let e=i;e>=a;e-=1)o[e]=s,n[s]=e,s-=1;a=i+1}return e.forEach(((t,a)=>{const i=o[a],s=0===i?null:n[i-1],l=i===e.length-1?null:n[i+1];r[a]={leftIndex:s,rightIndex:l}})),{neighbors:r,startIndex:n[0],endIndex:n[e.length-1]}})(r.sections,L)),[r.sections,L]),F=()=>{var e;if(g)return void o(null);const t=null!=(e=N.current.selectionStart)?e:0;let n;n=t<=r.sections[0].startInInput||t>=r.sections[r.sections.length-1].endInInput?1:r.sections.findIndex((e=>e.startInInput-e.startSeparator.length>t));const a=-1===n?r.sections.length-1:n-1;o(a)},_=(0,ca.A)((function(e){if(!e.isDefaultPrevented()){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];null==b||b(e,...r),F()}})),U=(0,ca.A)((e=>{null==S||S(e),e.preventDefault()})),W=(0,ca.A)((function(){null==j||j(...arguments);const e=N.current;window.clearTimeout(z.current),z.current=setTimeout((()=>{e&&e===N.current&&(null!=n||g||(e.value.length&&Number(e.selectionEnd)-Number(e.selectionStart)===e.value.length?o("all"):F()))}))})),V=(0,ca.A)((function(){null==w||w(...arguments),o(null)})),G=(0,ca.A)((e=>{if(null==C||C(e),g)return void e.preventDefault();const t=e.clipboardData.getData("text");if(n&&n.startIndex===n.endIndex){const o=r.sections[n.startIndex],a=/^[a-zA-Z]+$/.test(t),i=/^[0-9]+$/.test(t),s=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(t);if("letter"===o.contentType&&a||"digit"===o.contentType&&i||"digit-with-letter"===o.contentType&&s)return R(),l({activeSection:o,newSectionValue:t,shouldGoToNextSection:!0}),void e.preventDefault();if(a||i)return void e.preventDefault()}e.preventDefault(),R(),c(t)})),H=(0,ca.A)((e=>{if(g)return;const t=e.target.value;if(""===t)return R(),void i();const o=e.nativeEvent.data,a=o&&o.length>1,l=a?o:t,u=cm(l);if(null==n||a)return void c(a?o:u);let p;if(0===n.startIndex&&n.endIndex===r.sections.length-1&&1===u.length)p=u;else{const e=cm(P.getValueStrFromSections(r.sections,L));let t=-1,o=-1;for(let r=0;r<e.length;r+=1)-1===t&&e[r]!==u[r]&&(t=r),-1===o&&e[e.length-r-1]!==u[u.length-r-1]&&(o=r);const a=r.sections[n.startIndex];if(t<a.start||e.length-o-1>a.end)return;const i=u.length-e.length+a.end-cm(a.endSeparator||"").length;p=u.slice(a.start+cm(a.startSeparator||"").length,i)}0!==p.length?T({keyPressed:p,sectionIndex:n.startIndex}):navigator.userAgent.toLowerCase().indexOf("android")>-1?d(l):(R(),s())})),q=(0,ca.A)((e=>{switch(null==y||y(e),!0){case"a"===e.key&&(e.ctrlKey||e.metaKey):e.preventDefault(),o("all");break;case"ArrowRight"===e.key:if(e.preventDefault(),null==n)o(B.startIndex);else if(n.startIndex!==n.endIndex)o(n.endIndex);else{const e=B.neighbors[n.startIndex].rightIndex;null!==e&&o(e)}break;case"ArrowLeft"===e.key:if(e.preventDefault(),null==n)o(B.endIndex);else if(n.startIndex!==n.endIndex)o(n.startIndex);else{const e=B.neighbors[n.startIndex].leftIndex;null!==e&&o(e)}break;case"Delete"===e.key:if(e.preventDefault(),g)break;null==n||0===n.startIndex&&n.endIndex===r.sections.length-1?i():s(),R();break;case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(e.key):{if(e.preventDefault(),g||null==n)break;const o=r.sections[n.startIndex],a=P.getActiveDateManager(t,r,o),i=sm(t,h,o,e.key,u,a.date,{minutesStep:x});l({activeSection:o,newSectionValue:i,shouldGoToNextSection:!1});break}}}));(0,sn.A)((()=>{if(!N.current)return;if(null==n)return void(N.current.scrollLeft&&(N.current.scrollLeft=0));const e=r.sections[n.startIndex],t=r.sections[n.endIndex];let o=e.startInInput,a=t.endInInput;if(n.shouldSelectBoundarySelectors&&(o-=e.startSeparator.length,a+=t.endSeparator.length),o!==N.current.selectionStart||a!==N.current.selectionEnd){const e=N.current.scrollTop;N.current===Km(document)&&N.current.setSelectionRange(o,a),N.current.scrollTop=e}}));const Y=lg((0,Be.A)({},m,{value:r.value,timezone:h}),D,I.isSameError,I.defaultErrorState),K=a.useMemo((()=>void 0!==A?A:I.hasError(Y)),[I,Y,A]);a.useEffect((()=>{K||n||R()}),[r.referenceValue,n,K]),a.useEffect((()=>(N.current&&N.current===document.activeElement&&o("all"),()=>window.clearTimeout(z.current))),[]),a.useEffect((()=>{null!=r.tempValueStrAndroid&&null!=n&&(R(),s())}),[r.tempValueStrAndroid]);const X=a.useMemo((()=>{var e;return null!=(e=r.tempValueStrAndroid)?e:P.getValueStrFromSections(r.sections,L)}),[r.sections,P,r.tempValueStrAndroid,L]),Q=a.useMemo((()=>null==n||"letter"===r.sections[n.startIndex].contentType?"text":"numeric"),[n,r.sections]),J=N.current&&N.current===Km(document),Z=I.areValuesEqual(t,r.value,I.emptyValue),ee=!J&&Z;a.useImperativeHandle(v,(()=>({getSections:()=>r.sections,getActiveSectionIndex:()=>{var e,t,n;const o=null!=(e=N.current.selectionStart)?e:0,a=null!=(t=N.current.selectionEnd)?t:0,i=!(null==(n=N.current)||!n.readOnly);if(0===o&&0===a||i)return null;const s=o<=r.sections[0].startInInput?1:r.sections.findIndex((e=>e.startInInput-e.startSeparator.length>o));return-1===s?r.sections.length-1:s-1},setSelectedSections:e=>o(e)})));const te=(0,ca.A)((function(e){var t;e.preventDefault();for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];null==k||k(e,...n),i(),null==N||null==(t=N.current)||t.focus(),o(0)}));return(0,Be.A)({placeholder:p,autoComplete:"off",disabled:Boolean(O)},M,{value:ee?"":X,inputMode:Q,readOnly:g,onClick:_,onFocus:W,onBlur:V,onPaste:G,onChange:H,onKeyDown:q,onMouseUp:U,onClear:te,error:K,ref:$,clearable:Boolean(E&&!Z&&!g&&!O)})},Qg=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],Jg=["disablePast","disableFuture","minTime","maxTime","shouldDisableClock","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],Zg=["minDateTime","maxDateTime"],ev=[...Qg,...Jg,...Zg],tv=e=>ev.reduce(((t,r)=>(e.hasOwnProperty(r)&&(t[r]=e[r]),t)),{}),rv=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","readOnly","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef"],nv=e=>{let{props:t,inputRef:r}=e;const n=(e=>{var t,r,n;const o=Pm(),a=Im();return(0,Be.A)({},e,{disablePast:null!=(t=e.disablePast)&&t,disableFuture:null!=(r=e.disableFuture)&&r,format:null!=(n=e.format)?n:o.formats.keyboardDate,minDate:Vf(o,e.minDate,a.minDate),maxDate:Vf(o,e.maxDate,a.maxDate)})})(t),{forwardedProps:o,internalProps:a}=((e,t)=>{const r=(0,Be.A)({},e),n={},o=e=>{r.hasOwnProperty(e)&&(n[e]=r[e],delete r[e])};return rv.forEach(o),"date"===t?Qg.forEach(o):"time"===t?Jg.forEach(o):"date-time"===t&&(Qg.forEach(o),Jg.forEach(o),Zg.forEach(o)),{forwardedProps:r,internalProps:n}})(n,"date");return Xg({inputRef:r,forwardedProps:o,internalProps:a,valueManager:ym,fieldValueManager:jm,validator:Vm,valueType:"date"})},ov=["ownerState"],av=["components","componentsProps","slots","slotProps","InputProps","inputProps"],iv=["inputRef"],sv=["ref","onPaste","onKeyDown","inputMode","readOnly","clearable","onClear"],lv=a.forwardRef((function(e,t){var r,n,o;const i=$f({props:e,name:"MuiDateField"}),{components:s,componentsProps:l,slots:c,slotProps:d,InputProps:u,inputProps:p}=i,h=(0,Fe.A)(i,av),f=i,m=null!=(r=null!=(n=null==c?void 0:c.textField)?n:null==s?void 0:s.TextField)?r:jp,g=qm({elementType:m,externalSlotProps:null!=(o=null==d?void 0:d.textField)?o:null==l?void 0:l.textField,externalForwardedProps:h,ownerState:f}),{inputRef:v}=g,x=(0,Fe.A)(g,iv);x.inputProps=(0,Be.A)({},p,x.inputProps),x.InputProps=(0,Be.A)({},u,x.InputProps);const b=nv({props:x,inputRef:v}),{ref:y,onPaste:j,onKeyDown:w,inputMode:S,readOnly:C,clearable:A,onClear:E}=b,k=(0,Fe.A)(b,sv),{InputProps:O,fieldProps:P}=(e=>{let{clearable:t,fieldProps:r,InputProps:n,onClear:o,slots:i,slotProps:s,components:l,componentsProps:c}=e;var d,u,p,h,f,m;const g=Dm(),v=null!=(d=null!=(u=null==i?void 0:i.clearButton)?u:null==l?void 0:l.ClearButton)?d:Ir,x=qm({elementType:v,externalSlotProps:null!=(p=null==s?void 0:s.clearButton)?p:null==c?void 0:c.clearButton,ownerState:{},className:"clearButton",additionalProps:{title:g.fieldClearLabel}}),b=(0,Fe.A)(x,ov),y=null!=(h=null!=(f=null==i?void 0:i.clearIcon)?f:null==l?void 0:l.ClearIcon)?h:Gg,j=qm({elementType:y,externalSlotProps:null!=(m=null==s?void 0:s.clearIcon)?m:null==c?void 0:c.clearIcon,ownerState:{}});return{InputProps:(0,Be.A)({},n,{endAdornment:(0,Ve.jsxs)(a.Fragment,{children:[t&&(0,Ve.jsx)(kp,{position:"end",sx:{marginRight:null!=n&&n.endAdornment?-1:-1.5},children:(0,Ve.jsx)(v,(0,Be.A)({},b,{onClick:o,children:(0,Ve.jsx)(y,(0,Be.A)({fontSize:"small"},j))}))}),null==n?void 0:n.endAdornment]})}),fieldProps:(0,Be.A)({},r,{sx:[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(r.sx)?r.sx:[r.sx]]})}})({onClear:E,clearable:A,fieldProps:k,InputProps:k.InputProps,slots:c,slotProps:d,components:s,componentsProps:l});return(0,Ve.jsx)(m,(0,Be.A)({ref:t},P,{InputProps:(0,Be.A)({},O,{readOnly:C}),inputProps:(0,Be.A)({},k.inputProps,{inputMode:S,onPaste:j,onKeyDown:w,ref:y})}))})),cv=e=>{let{shouldDisableDate:t,shouldDisableMonth:r,shouldDisableYear:n,minDate:o,maxDate:i,disableFuture:s,disablePast:l,timezone:c}=e;const d=Om();return a.useCallback((e=>null!==Vm({adapter:d,value:e,props:{shouldDisableDate:t,shouldDisableMonth:r,shouldDisableYear:n,minDate:o,maxDate:i,disableFuture:s,disablePast:l,timezone:c}})),[d,t,r,n,o,i,s,l,c])},dv=e=>{const{value:t,referenceDate:r,defaultCalendarMonth:n,disableFuture:o,disablePast:i,disableSwitchToMonthOnDayFocus:s=!1,maxDate:l,minDate:c,onMonthChange:d,reduceAnimations:u,shouldDisableDate:p,timezone:h}=e,f=Pm(),m=a.useRef(((e,t,r)=>(n,o)=>{switch(o.type){case"changeMonth":return(0,Be.A)({},n,{slideDirection:o.direction,currentMonth:o.newMonth,isMonthSwitchingAnimating:!e});case"finishMonthSwitchingAnimation":return(0,Be.A)({},n,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(null!=n.focusedDay&&null!=o.focusedDay&&r.isSameDay(o.focusedDay,n.focusedDay))return n;const a=null!=o.focusedDay&&!t&&!r.isSameMonth(n.currentMonth,o.focusedDay);return(0,Be.A)({},n,{focusedDay:o.focusedDay,isMonthSwitchingAnimating:a&&!e&&!o.withoutMonthSwitchingAnimation,currentMonth:a?r.startOfMonth(o.focusedDay):n.currentMonth,slideDirection:null!=o.focusedDay&&r.isAfterDay(o.focusedDay,n.currentMonth)?"left":"right"})}default:throw new Error("missing support")}})(Boolean(u),s,f)).current,g=a.useMemo((()=>{let o=null;return r?o=r:n&&(o=f.startOfMonth(n)),ym.getInitialReferenceValue({value:t,utils:f,timezone:h,props:e,referenceDate:o,granularity:Zf.day})}),[]),[v,x]=a.useReducer(m,{isMonthSwitchingAnimating:!1,focusedDay:g,currentMonth:f.startOfMonth(g),slideDirection:"left"}),b=a.useCallback((e=>{x((0,Be.A)({type:"changeMonth"},e)),d&&d(e.newMonth)}),[d]),y=a.useCallback((e=>{const t=e;f.isSameMonth(t,v.currentMonth)||b({newMonth:f.startOfMonth(t),direction:f.isAfterDay(t,v.currentMonth)?"left":"right"})}),[v.currentMonth,b,f]),j=cv({shouldDisableDate:p,minDate:c,maxDate:l,disableFuture:o,disablePast:i,timezone:h}),w=a.useCallback((()=>{x({type:"finishMonthSwitchingAnimation"})}),[]),S=(0,ca.A)(((e,t)=>{j(e)||x({type:"changeFocusedDay",focusedDay:e,withoutMonthSwitchingAnimation:t})}));return{referenceDate:g,calendarState:v,changeMonth:y,changeFocusedDay:S,isDateDisabled:j,onMonthSwitchingAnimationEnd:w,handleChangeMonth:b}},uv=e=>(0,Mt.Ay)("MuiPickersFadeTransitionGroup",e),pv=((0,St.A)("MuiPickersFadeTransitionGroup",["root"]),(0,Ot.Ay)(or,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"block",position:"relative"}));function hv(e){const t=$f({props:e,name:"MuiPickersFadeTransitionGroup"}),{children:r,className:n,reduceAnimations:o,transKey:a}=t,i=(e=>{const{classes:t}=e;return(0,kt.A)({root:["root"]},uv,t)})(t),s=gt();return o?r:(0,Ve.jsx)(pv,{className:(0,vt.A)(i.root,n),children:(0,Ve.jsx)(oa,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:s.transitions.duration.enteringScreen,enter:s.transitions.duration.enteringScreen,exit:0},children:r},a)})}var fv=r(1188);function mv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,fv.A)(e,t,r)}function gv(e){if(e.type)return e;if("#"===e.charAt(0))return gv(function(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(t);return r&&1===r[0].length&&(r=r.map((e=>e+e))),r?`rgb${4===r.length?"a":""}(${r.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", ")})`:""}(e));const t=e.indexOf("("),r=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(r))throw new Error((0,rd.A)(9,e));let n,o=e.substring(t+1,e.length-1);if("color"===r){if(o=o.split(" "),n=o.shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(n))throw new Error((0,rd.A)(10,n))}else o=o.split(",");return o=o.map((e=>parseFloat(e))),{type:r,values:o,colorSpace:n}}function vv(e){const{type:t,colorSpace:r}=e;let{values:n}=e;return-1!==t.indexOf("rgb")?n=n.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),n=-1!==t.indexOf("color")?`${r} ${n.join(" ")}`:`${n.join(", ")}`,`${t}(${n})`}function xv(e,t){return e=gv(e),t=mv(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,vv(e)}function bv(e){return(0,Mt.Ay)("MuiPickersDay",e)}const yv=(0,St.A)("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),jv=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],wv=e=>{let{theme:t,ownerState:r}=e;return(0,Be.A)({},t.typography.caption,{width:36,height:36,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:t.transitions.create("background-color",{duration:t.transitions.duration.short}),color:(t.vars||t).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:xv(t.palette.primary.main,t.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:xv(t.palette.primary.main,t.palette.action.focusOpacity),[`&.${yv.selected}`]:{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${yv.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,fontWeight:t.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${yv.disabled}:not(.${yv.selected})`]:{color:(t.vars||t).palette.text.disabled},[`&.${yv.disabled}&.${yv.selected}`]:{opacity:.6}},!r.disableMargin&&{margin:"0 2px"},r.outsideCurrentMonth&&r.showDaysOutsideCurrentMonth&&{color:(t.vars||t).palette.text.secondary},!r.disableHighlightToday&&r.today&&{[`&:not(.${yv.selected})`]:{border:`1px solid ${(t.vars||t).palette.text.secondary}`}})},Sv=(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disableMargin&&t.dayWithMargin,!r.disableHighlightToday&&r.today&&t.today,!r.outsideCurrentMonth&&r.showDaysOutsideCurrentMonth&&t.dayOutsideMonth,r.outsideCurrentMonth&&!r.showDaysOutsideCurrentMonth&&t.hiddenDaySpacingFiller]},Cv=(0,Ot.Ay)(Ar,{name:"MuiPickersDay",slot:"Root",overridesResolver:Sv})(wv),Av=(0,Ot.Ay)("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:Sv})((e=>{let{theme:t,ownerState:r}=e;return(0,Be.A)({},wv({theme:t,ownerState:r}),{opacity:0,pointerEvents:"none"})})),Ev=()=>{},kv=a.forwardRef((function(e,t){const r=$f({props:e,name:"MuiPickersDay"}),{autoFocus:n=!1,className:o,day:i,disabled:s=!1,disableHighlightToday:l=!1,disableMargin:c=!1,isAnimating:d,onClick:u,onDaySelect:p,onFocus:h=Ev,onBlur:f=Ev,onKeyDown:m=Ev,onMouseDown:g=Ev,onMouseEnter:v=Ev,outsideCurrentMonth:x,selected:b=!1,showDaysOutsideCurrentMonth:y=!1,children:j,today:w=!1}=r,S=(0,Fe.A)(r,jv),C=(0,Be.A)({},r,{autoFocus:n,disabled:s,disableHighlightToday:l,disableMargin:c,selected:b,showDaysOutsideCurrentMonth:y,today:w}),A=(e=>{const{selected:t,disableMargin:r,disableHighlightToday:n,today:o,disabled:a,outsideCurrentMonth:i,showDaysOutsideCurrentMonth:s,classes:l}=e,c=i&&!s,d={root:["root",t&&!c&&"selected",a&&"disabled",!r&&"dayWithMargin",!n&&o&&"today",i&&s&&"dayOutsideMonth",c&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]};return(0,kt.A)(d,bv,l)})(C),E=Pm(),k=a.useRef(null),O=(0,an.A)(k,t);(0,sn.A)((()=>{!n||s||d||x||k.current.focus()}),[n,s,d,x]);return x&&!y?(0,Ve.jsx)(Av,{className:(0,vt.A)(A.root,A.hiddenDaySpacingFiller,o),ownerState:C,role:S.role}):(0,Ve.jsx)(Cv,(0,Be.A)({className:(0,vt.A)(A.root,o),ref:O,centerRipple:!0,disabled:s,tabIndex:b?0:-1,onKeyDown:e=>m(e,i),onFocus:e=>h(e,i),onBlur:e=>f(e,i),onMouseEnter:e=>v(e,i),onClick:e=>{s||p(i),x&&e.currentTarget.focus(),u&&u(e)},onMouseDown:e=>{g(e),x&&e.preventDefault()}},S,{ownerState:C,children:j||E.format(i,"dayOfMonth")}))})),Ov=a.memo(kv);function Pv(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var Iv=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return n=t,void((r=e).classList?r.classList.remove(n):"string"===typeof r.className?r.className=Pv(r.className,n):r.setAttribute("class",Pv(r.className&&r.className.baseVal||"",n)));var r,n}))},Dv=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,r){var n=t.resolveArguments(e,r),o=n[0],a=n[1];t.removeClasses(o,"exit"),t.addClass(o,a?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,r)},t.onEntering=function(e,r){var n=t.resolveArguments(e,r),o=n[0],a=n[1]?"appear":"enter";t.addClass(o,a,"active"),t.props.onEntering&&t.props.onEntering(e,r)},t.onEntered=function(e,r){var n=t.resolveArguments(e,r),o=n[0],a=n[1]?"appear":"enter";t.removeClasses(o,a),t.addClass(o,a,"done"),t.props.onEntered&&t.props.onEntered(e,r)},t.onExit=function(e){var r=t.resolveArguments(e)[0];t.removeClasses(r,"appear"),t.removeClasses(r,"enter"),t.addClass(r,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var r=t.resolveArguments(e)[0];t.addClass(r,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var r=t.resolveArguments(e)[0];t.removeClasses(r,"exit"),t.addClass(r,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,r){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,r]},t.getClassNames=function(e){var r=t.props.classNames,n="string"===typeof r,o=n?""+(n&&r?r+"-":"")+e:r[e];return{baseClassName:o,activeClassName:n?o+"-active":r[e+"Active"],doneClassName:n?o+"-done":r[e+"Done"]}},t}Qt(t,e);var r=t.prototype;return r.addClass=function(e,t,r){var n=this.getClassNames(t)[r+"ClassName"],o=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===r&&o&&(n+=" "+o),"active"===r&&e&&_r(e),n&&(this.appliedClasses[t][r]=n,function(e,t){e&&t&&t.split(" ").forEach((function(t){return n=t,void((r=e).classList?r.classList.add(n):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(r,n)||("string"===typeof r.className?r.className=r.className+" "+n:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+n)));var r,n}))}(e,n))},r.removeClasses=function(e,t){var r=this.appliedClasses[t],n=r.base,o=r.active,a=r.done;this.appliedClasses[t]={},n&&Iv(e,n),o&&Iv(e,o),a&&Iv(e,a)},r.render=function(){var e=this.props,t=(e.classNames,(0,Fe.A)(e,["classNames"]));return a.createElement(Kr,(0,Be.A)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(a.Component);Dv.defaultProps={classNames:""},Dv.propTypes={};const Mv=Dv,Tv=e=>(0,Mt.Ay)("MuiPickersSlideTransition",e),Rv=(0,St.A)("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),Nv=["children","className","reduceAnimations","slideDirection","transKey","classes"],$v=(0,Ot.Ay)(or,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`.${Rv["slideEnter-left"]}`]:t["slideEnter-left"]},{[`.${Rv["slideEnter-right"]}`]:t["slideEnter-right"]},{[`.${Rv.slideEnterActive}`]:t.slideEnterActive},{[`.${Rv.slideExit}`]:t.slideExit},{[`.${Rv["slideExitActiveLeft-left"]}`]:t["slideExitActiveLeft-left"]},{[`.${Rv["slideExitActiveLeft-right"]}`]:t["slideExitActiveLeft-right"]}]})((e=>{let{theme:t}=e;const r=t.transitions.create("transform",{duration:t.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${Rv["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${Rv["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${Rv.slideEnterActive}`]:{transform:"translate(0%)",transition:r},[`& .${Rv.slideExit}`]:{transform:"translate(0%)"},[`& .${Rv["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:r,zIndex:0},[`& .${Rv["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:r,zIndex:0}}}));const zv=e=>(0,Mt.Ay)("MuiDayCalendar",e),Lv=((0,St.A)("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]),["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"]),Bv=["ownerState"],Fv=(0,Ot.Ay)("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),_v=(0,Ot.Ay)("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(e,t)=>t.header})({display:"flex",justifyContent:"center",alignItems:"center"}),Uv=(0,Ot.Ay)($r,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(e,t)=>t.weekDayLabel})((e=>{let{theme:t}=e;return{width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(t.vars||t).palette.text.secondary}})),Wv=(0,Ot.Ay)($r,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(e,t)=>t.weekNumberLabel})((e=>{let{theme:t}=e;return{width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:t.palette.text.disabled}})),Vv=(0,Ot.Ay)($r,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(e,t)=>t.weekNumber})((e=>{let{theme:t}=e;return(0,Be.A)({},t.typography.caption,{width:36,height:36,padding:0,margin:"0 2px",color:t.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})})),Gv=(0,Ot.Ay)("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(e,t)=>t.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:240}),Hv=(0,Ot.Ay)((function(e){const t=$f({props:e,name:"MuiPickersSlideTransition"}),{children:r,className:n,reduceAnimations:o,transKey:i}=t,s=(0,Fe.A)(t,Nv),l=(e=>{const{classes:t,slideDirection:r}=e,n={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${r}`],exitActive:[`slideExitActiveLeft-${r}`]};return(0,kt.A)(n,Tv,t)})(t),c=gt();if(o)return(0,Ve.jsx)("div",{className:(0,vt.A)(l.root,n),children:r});const d={exit:l.exit,enterActive:l.enterActive,enter:l.enter,exitActive:l.exitActive};return(0,Ve.jsx)($v,{className:(0,vt.A)(l.root,n),childFactory:e=>a.cloneElement(e,{classNames:d}),role:"presentation",children:(0,Ve.jsx)(Mv,(0,Be.A)({mountOnEnter:!0,unmountOnExit:!0,timeout:c.transitions.duration.complex,classNames:d},s,{children:r}),i)})}),{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(e,t)=>t.slideTransition})({minHeight:240}),qv=(0,Ot.Ay)("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(e,t)=>t.monthContainer})({overflow:"hidden"}),Yv=(0,Ot.Ay)("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(e,t)=>t.weekContainer})({margin:"2px 0",display:"flex",justifyContent:"center"});function Kv(e){var t,r,n;let{parentProps:o,day:i,focusableDay:s,selectedDays:l,isDateDisabled:c,currentMonthNumber:d,isViewFocused:u}=e,p=(0,Fe.A)(e,Lv);const{disabled:h,disableHighlightToday:f,isMonthSwitchingAnimating:m,showDaysOutsideCurrentMonth:g,components:v,componentsProps:x,slots:b,slotProps:y,timezone:j}=o,w=Pm(),S=Mm(j),C=null!==s&&w.isSameDay(i,s),A=l.some((e=>w.isSameDay(e,i))),E=w.isSameDay(i,S),k=null!=(t=null!=(r=null==b?void 0:b.day)?r:null==v?void 0:v.Day)?t:Ov,O=qm({elementType:k,externalSlotProps:null!=(n=null==y?void 0:y.day)?n:null==x?void 0:x.day,additionalProps:(0,Be.A)({disableHighlightToday:f,showDaysOutsideCurrentMonth:g,role:"gridcell",isAnimating:m,"data-timestamp":w.toJsDate(i).valueOf()},p),ownerState:(0,Be.A)({},o,{day:i,selected:A})}),P=(0,Fe.A)(O,Bv),I=a.useMemo((()=>h||c(i)),[h,c,i]),D=a.useMemo((()=>w.getMonth(i)!==d),[w,i,d]),M=a.useMemo((()=>{const e=w.startOfMonth(w.setMonth(i,d));return g?w.isSameDay(i,w.startOfWeek(e)):w.isSameDay(i,e)}),[d,i,g,w]),T=a.useMemo((()=>{const e=w.endOfMonth(w.setMonth(i,d));return g?w.isSameDay(i,w.endOfWeek(e)):w.isSameDay(i,e)}),[d,i,g,w]);return(0,Ve.jsx)(k,(0,Be.A)({},P,{day:i,disabled:I,autoFocus:u&&C,today:E,outsideCurrentMonth:D,isFirstVisibleCell:M,isLastVisibleCell:T,selected:A,tabIndex:C?0:-1,"aria-selected":A,"aria-current":E?"date":void 0}))}function Xv(e){const t=$f({props:e,name:"MuiDayCalendar"}),{onFocusedDayChange:r,className:n,currentMonth:o,selectedDays:i,focusedDay:s,loading:l,onSelectedDaysChange:c,onMonthSwitchingAnimationEnd:d,readOnly:u,reduceAnimations:p,renderLoading:h=()=>(0,Ve.jsx)("span",{children:"..."}),slideDirection:f,TransitionProps:m,disablePast:g,disableFuture:v,minDate:x,maxDate:b,shouldDisableDate:y,shouldDisableMonth:j,shouldDisableYear:w,dayOfWeekFormatter:S,hasFocus:C,onFocusedViewChange:A,gridLabelId:E,displayWeekNumber:k,fixedWeekNumber:O,autoFocus:P,timezone:I}=t,D=Mm(I),M=Pm(),T=(e=>{const{classes:t}=e;return(0,kt.A)({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},zv,t)})(t),R="rtl"===gt().direction,N=S||((e,t)=>M.format(t,"weekdayShort").charAt(0).toUpperCase()),$=cv({shouldDisableDate:y,shouldDisableMonth:j,shouldDisableYear:w,minDate:x,maxDate:b,disablePast:g,disableFuture:v,timezone:I}),z=Dm(),[L,B]=(0,sg.A)({name:"DayCalendar",state:"hasFocus",controlled:C,default:null!=P&&P}),[F,_]=a.useState((()=>s||D)),U=(0,ca.A)((e=>{u||c(e)})),W=e=>{$(e)||(r(e),_(e),null==A||A(!0),B(!0))},V=(0,ca.A)(((e,t)=>{switch(e.key){case"ArrowUp":W(M.addDays(t,-7)),e.preventDefault();break;case"ArrowDown":W(M.addDays(t,7)),e.preventDefault();break;case"ArrowLeft":{const r=M.addDays(t,R?1:-1),n=M.addMonths(t,R?1:-1),o=Wf({utils:M,date:r,minDate:R?r:M.startOfMonth(n),maxDate:R?M.endOfMonth(n):r,isDateDisabled:$,timezone:I});W(o||r),e.preventDefault();break}case"ArrowRight":{const r=M.addDays(t,R?-1:1),n=M.addMonths(t,R?-1:1),o=Wf({utils:M,date:r,minDate:R?M.startOfMonth(n):r,maxDate:R?r:M.endOfMonth(n),isDateDisabled:$,timezone:I});W(o||r),e.preventDefault();break}case"Home":W(M.startOfWeek(t)),e.preventDefault();break;case"End":W(M.endOfWeek(t)),e.preventDefault();break;case"PageUp":W(M.addMonths(t,1)),e.preventDefault();break;case"PageDown":W(M.addMonths(t,-1)),e.preventDefault()}})),G=(0,ca.A)(((e,t)=>W(t))),H=(0,ca.A)(((e,t)=>{L&&M.isSameDay(F,t)&&(null==A||A(!1))})),q=M.getMonth(o),Y=a.useMemo((()=>i.filter((e=>!!e)).map((e=>M.startOfDay(e)))),[M,i]),K=q,X=a.useMemo((()=>a.createRef()),[K]),Q=M.startOfWeek(D),J=a.useMemo((()=>{const e=M.startOfMonth(o),t=M.endOfMonth(o);return $(F)||M.isAfterDay(F,t)||M.isBeforeDay(F,e)?Wf({utils:M,date:F,minDate:e,maxDate:t,disablePast:g,disableFuture:v,isDateDisabled:$,timezone:I}):F}),[o,v,g,F,$,M,I]),Z=a.useMemo((()=>{const e=M.setTimezone(o,I),t=M.getWeekArray(e);let r=M.addMonths(e,1);for(;O&&t.length<O;){const e=M.getWeekArray(r),n=M.isSameDay(t[t.length-1][0],e[0][0]);e.slice(n?1:0).forEach((e=>{t.length<O&&t.push(e)})),r=M.addMonths(r,1)}return t}),[o,O,M,I]);return(0,Ve.jsxs)(Fv,{role:"grid","aria-labelledby":E,className:T.root,children:[(0,Ve.jsxs)(_v,{role:"row",className:T.header,children:[k&&(0,Ve.jsx)(Wv,{variant:"caption",role:"columnheader","aria-label":z.calendarWeekNumberHeaderLabel,className:T.weekNumberLabel,children:z.calendarWeekNumberHeaderText}),Xf(M,D).map(((e,t)=>{var r;const n=M.format(e,"weekdayShort");return(0,Ve.jsx)(Uv,{variant:"caption",role:"columnheader","aria-label":M.format(M.addDays(Q,t),"weekday"),className:T.weekDayLabel,children:null!=(r=null==N?void 0:N(n,e))?r:n},n+t.toString())}))]}),l?(0,Ve.jsx)(Gv,{className:T.loadingContainer,children:h()}):(0,Ve.jsx)(Hv,(0,Be.A)({transKey:K,onExited:d,reduceAnimations:p,slideDirection:f,className:(0,vt.A)(n,T.slideTransition)},m,{nodeRef:X,children:(0,Ve.jsx)(qv,{ref:X,role:"rowgroup",className:T.monthContainer,children:Z.map(((e,r)=>(0,Ve.jsxs)(Yv,{role:"row",className:T.weekContainer,"aria-rowindex":r+1,children:[k&&(0,Ve.jsx)(Vv,{className:T.weekNumber,role:"rowheader","aria-label":z.calendarWeekNumberAriaLabelText(M.getWeekNumber(e[0])),children:z.calendarWeekNumberText(M.getWeekNumber(e[0]))}),e.map(((e,r)=>(0,Ve.jsx)(Kv,{parentProps:t,day:e,selectedDays:Y,focusableDay:J,onKeyDown:V,onFocus:G,onBlur:H,onDaySelect:U,isDateDisabled:$,currentMonthNumber:q,isViewFocused:L,"aria-colindex":r+1},e.toString())))]},`week-${e[0]}`)))})}))]})}function Qv(e){return(0,Mt.Ay)("MuiPickersMonth",e)}const Jv=(0,St.A)("MuiPickersMonth",["root","monthButton","disabled","selected"]),Zv=["autoFocus","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow"],ex=(0,Ot.Ay)("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(e,t)=>[t.root]})((e=>{let{ownerState:t}=e;return{flexBasis:3===t.monthsPerRow?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"}})),tx=(0,Ot.Ay)("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(e,t)=>[t.monthButton,{[`&.${Jv.disabled}`]:t.disabled},{[`&.${Jv.selected}`]:t.selected}]})((e=>{let{theme:t}=e;return(0,Be.A)({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:xv(t.palette.action.active,t.palette.action.hoverOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:xv(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Jv.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${Jv.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})})),rx=a.memo((function(e){const t=$f({props:e,name:"MuiPickersMonth"}),{autoFocus:r,children:n,disabled:o,selected:i,value:s,tabIndex:l,onClick:c,onKeyDown:d,onFocus:u,onBlur:p,"aria-current":h,"aria-label":f}=t,m=(0,Fe.A)(t,Zv),g=a.useRef(null),v=(e=>{const{disabled:t,selected:r,classes:n}=e,o={root:["root"],monthButton:["monthButton",t&&"disabled",r&&"selected"]};return(0,kt.A)(o,Qv,n)})(t);return(0,sn.A)((()=>{var e;r&&(null==(e=g.current)||e.focus())}),[r]),(0,Ve.jsx)(ex,(0,Be.A)({className:v.root,ownerState:t},m,{children:(0,Ve.jsx)(tx,{ref:g,disabled:o,type:"button",role:"radio",tabIndex:o?-1:l,"aria-current":h,"aria-checked":i,"aria-label":f,onClick:e=>c(e,s),onKeyDown:e=>d(e,s),onFocus:e=>u(e,s),onBlur:e=>p(e,s),className:v.monthButton,ownerState:t,children:n})}))}));function nx(e){return(0,Mt.Ay)("MuiMonthCalendar",e)}(0,St.A)("MuiMonthCalendar",["root"]);const ox=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId"];const ax=(0,Ot.Ay)("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:Ig,boxSizing:"border-box"}),ix=a.forwardRef((function(e,t){const r=function(e,t){const r=Pm(),n=Im(),o=$f({props:e,name:t});return(0,Be.A)({disableFuture:!1,disablePast:!1},o,{minDate:Vf(r,o.minDate,n.minDate),maxDate:Vf(r,o.maxDate,n.maxDate)})}(e,"MuiMonthCalendar"),{className:n,value:o,defaultValue:i,referenceDate:s,disabled:l,disableFuture:c,disablePast:d,maxDate:u,minDate:p,onChange:h,shouldDisableMonth:f,readOnly:m,disableHighlightToday:g,autoFocus:v=!1,onMonthFocus:x,hasFocus:b,onFocusedViewChange:y,monthsPerRow:j=3,timezone:w,gridLabelId:S}=r,C=(0,Fe.A)(r,ox),{value:A,handleValueChange:E,timezone:k}=dg({name:"MonthCalendar",timezone:w,value:o,defaultValue:i,onChange:h,valueManager:ym}),O=Mm(k),P=ct(),I=Pm(),D=a.useMemo((()=>ym.getInitialReferenceValue({value:A,utils:I,props:r,timezone:k,referenceDate:s,granularity:Zf.month})),[]),M=r,T=(e=>{const{classes:t}=e;return(0,kt.A)({root:["root"]},nx,t)})(M),R=a.useMemo((()=>I.getMonth(O)),[I,O]),N=a.useMemo((()=>null!=A?I.getMonth(A):g?null:I.getMonth(D)),[A,I,g,D]),[$,z]=a.useState((()=>N||R)),[L,B]=(0,sg.A)({name:"MonthCalendar",state:"hasFocus",controlled:b,default:null!=v&&v}),F=(0,ca.A)((e=>{B(e),y&&y(e)})),_=a.useCallback((e=>{const t=I.startOfMonth(d&&I.isAfter(O,p)?O:p),r=I.startOfMonth(c&&I.isBefore(O,u)?O:u),n=I.startOfMonth(e);return!!I.isBefore(n,t)||(!!I.isAfter(n,r)||!!f&&f(n))}),[c,d,u,p,O,f,I]),U=(0,ca.A)(((e,t)=>{if(m)return;const r=I.setMonth(null!=A?A:D,t);E(r)})),W=(0,ca.A)((e=>{_(I.setMonth(null!=A?A:D,e))||(z(e),F(!0),x&&x(e))}));a.useEffect((()=>{z((e=>null!==N&&e!==N?N:e))}),[N]);const V=(0,ca.A)(((e,t)=>{const r=12;switch(e.key){case"ArrowUp":W((r+t-3)%r),e.preventDefault();break;case"ArrowDown":W((r+t+3)%r),e.preventDefault();break;case"ArrowLeft":W((r+t+("ltr"===P.direction?-1:1))%r),e.preventDefault();break;case"ArrowRight":W((r+t+("ltr"===P.direction?1:-1))%r),e.preventDefault()}})),G=(0,ca.A)(((e,t)=>{W(t)})),H=(0,ca.A)(((e,t)=>{$===t&&F(!1)}));return(0,Ve.jsx)(ax,(0,Be.A)({ref:t,className:(0,vt.A)(T.root,n),ownerState:M,role:"radiogroup","aria-labelledby":S},C,{children:Gf(I,null!=A?A:D).map((e=>{const t=I.getMonth(e),r=I.format(e,"monthShort"),n=I.format(e,"month"),o=t===N,a=l||_(e);return(0,Ve.jsx)(rx,{selected:o,value:t,onClick:U,onKeyDown:V,autoFocus:L&&t===$,disabled:a,tabIndex:t===$?0:-1,onFocus:G,onBlur:H,"aria-current":R===t?"date":void 0,"aria-label":n,monthsPerRow:j,children:r},r)}))}))}));function sx(e){return(0,Mt.Ay)("MuiPickersYear",e)}const lx=(0,St.A)("MuiPickersYear",["root","yearButton","selected","disabled"]),cx=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow"],dx=(0,Ot.Ay)("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(e,t)=>[t.root]})((e=>{let{ownerState:t}=e;return{flexBasis:3===t.yearsPerRow?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"}})),ux=(0,Ot.Ay)("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(e,t)=>[t.yearButton,{[`&.${lx.disabled}`]:t.disabled},{[`&.${lx.selected}`]:t.selected}]})((e=>{let{theme:t}=e;return(0,Be.A)({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.focusOpacity})`:xv(t.palette.action.active,t.palette.action.focusOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:xv(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${lx.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${lx.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})})),px=a.memo((function(e){const t=$f({props:e,name:"MuiPickersYear"}),{autoFocus:r,className:n,children:o,disabled:i,selected:s,value:l,tabIndex:c,onClick:d,onKeyDown:u,onFocus:p,onBlur:h,"aria-current":f}=t,m=(0,Fe.A)(t,cx),g=a.useRef(null),v=(e=>{const{disabled:t,selected:r,classes:n}=e,o={root:["root"],yearButton:["yearButton",t&&"disabled",r&&"selected"]};return(0,kt.A)(o,sx,n)})(t);return a.useEffect((()=>{r&&g.current.focus()}),[r]),(0,Ve.jsx)(dx,(0,Be.A)({className:(0,vt.A)(v.root,n),ownerState:t},m,{children:(0,Ve.jsx)(ux,{ref:g,disabled:i,type:"button",role:"radio",tabIndex:i?-1:c,"aria-current":f,"aria-checked":s,onClick:e=>d(e,l),onKeyDown:e=>u(e,l),onFocus:e=>p(e,l),onBlur:e=>h(e,l),className:v.yearButton,ownerState:t,children:o})}))}));function hx(e){return(0,Mt.Ay)("MuiYearCalendar",e)}(0,St.A)("MuiYearCalendar",["root"]);const fx=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsPerRow","timezone","gridLabelId"];const mx=(0,Ot.Ay)("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:Ig,maxHeight:280,boxSizing:"border-box",position:"relative"}),gx=a.forwardRef((function(e,t){const r=function(e,t){var r;const n=Pm(),o=Im(),a=$f({props:e,name:t});return(0,Be.A)({disablePast:!1,disableFuture:!1},a,{yearsPerRow:null!=(r=a.yearsPerRow)?r:3,minDate:Vf(n,a.minDate,o.minDate),maxDate:Vf(n,a.maxDate,o.maxDate)})}(e,"MuiYearCalendar"),{autoFocus:n,className:o,value:i,defaultValue:s,referenceDate:l,disabled:c,disableFuture:d,disablePast:u,maxDate:p,minDate:h,onChange:f,readOnly:m,shouldDisableYear:g,disableHighlightToday:v,onYearFocus:x,hasFocus:b,onFocusedViewChange:y,yearsPerRow:j,timezone:w,gridLabelId:S}=r,C=(0,Fe.A)(r,fx),{value:A,handleValueChange:E,timezone:k}=dg({name:"YearCalendar",timezone:w,value:i,defaultValue:s,onChange:f,valueManager:ym}),O=Mm(k),P=ct(),I=Pm(),D=a.useMemo((()=>ym.getInitialReferenceValue({value:A,utils:I,props:r,timezone:k,referenceDate:l,granularity:Zf.year})),[]),M=r,T=(e=>{const{classes:t}=e;return(0,kt.A)({root:["root"]},hx,t)})(M),R=a.useMemo((()=>I.getYear(O)),[I,O]),N=a.useMemo((()=>null!=A?I.getYear(A):v?null:I.getYear(D)),[A,I,v,D]),[$,z]=a.useState((()=>N||R)),[L,B]=(0,sg.A)({name:"YearCalendar",state:"hasFocus",controlled:b,default:null!=n&&n}),F=(0,ca.A)((e=>{B(e),y&&y(e)})),_=a.useCallback((e=>{if(u&&I.isBeforeYear(e,O))return!0;if(d&&I.isAfterYear(e,O))return!0;if(h&&I.isBeforeYear(e,h))return!0;if(p&&I.isAfterYear(e,p))return!0;if(!g)return!1;const t=I.startOfYear(e);return g(t)}),[d,u,p,h,O,g,I]),U=(0,ca.A)(((e,t)=>{if(m)return;const r=I.setYear(null!=A?A:D,t);E(r)})),W=(0,ca.A)((e=>{_(I.setYear(null!=A?A:D,e))||(z(e),F(!0),null==x||x(e))}));a.useEffect((()=>{z((e=>null!==N&&e!==N?N:e))}),[N]);const V=(0,ca.A)(((e,t)=>{switch(e.key){case"ArrowUp":W(t-j),e.preventDefault();break;case"ArrowDown":W(t+j),e.preventDefault();break;case"ArrowLeft":W(t+("ltr"===P.direction?-1:1)),e.preventDefault();break;case"ArrowRight":W(t+("ltr"===P.direction?1:-1)),e.preventDefault()}})),G=(0,ca.A)(((e,t)=>{W(t)})),H=(0,ca.A)(((e,t)=>{$===t&&F(!1)})),q=a.useRef(null),Y=(0,an.A)(t,q);return a.useEffect((()=>{if(n||null===q.current)return;const e=q.current.querySelector('[tabindex="0"]');if(!e)return;const t=e.offsetHeight,r=e.offsetTop,o=q.current.clientHeight,a=q.current.scrollTop,i=r+t;t>o||r<a||(q.current.scrollTop=i-o/2-t/2)}),[n]),(0,Ve.jsx)(mx,(0,Be.A)({ref:Y,className:(0,vt.A)(T.root,o),ownerState:M,role:"radiogroup","aria-labelledby":S},C,{children:I.getYearRange(h,p).map((e=>{const t=I.getYear(e),r=t===N,n=c||_(e);return(0,Ve.jsx)(px,{selected:r,value:t,onClick:U,onKeyDown:V,autoFocus:L&&t===$,disabled:n,tabIndex:t===$?0:-1,onFocus:G,onBlur:H,"aria-current":R===t?"date":void 0,yearsPerRow:j,children:I.format(e,"year")},I.format(e,"year"))}))}))}));function vx(e){return(0,Mt.Ay)("MuiPickersArrowSwitcher",e)}(0,St.A)("MuiPickersArrowSwitcher",["root","spacer","button"]);const xx=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel"],bx=["ownerState"],yx=["ownerState"],jx=(0,Ot.Ay)("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex"}),wx=(0,Ot.Ay)("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(e,t)=>t.spacer})((e=>{let{theme:t}=e;return{width:t.spacing(3)}})),Sx=(0,Ot.Ay)(Ir,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(e,t)=>t.button})((e=>{let{ownerState:t}=e;return(0,Be.A)({},t.hidden&&{visibility:"hidden"})})),Cx=a.forwardRef((function(e,t){var r,n,o,a;const i="rtl"===gt().direction,s=$f({props:e,name:"MuiPickersArrowSwitcher"}),{children:l,className:c,slots:d,slotProps:u,isNextDisabled:p,isNextHidden:h,onGoToNext:f,nextLabel:m,isPreviousDisabled:g,isPreviousHidden:v,onGoToPrevious:x,previousLabel:b}=s,y=(0,Fe.A)(s,xx),j=s,w=(e=>{const{classes:t}=e;return(0,kt.A)({root:["root"],spacer:["spacer"],button:["button"]},vx,t)})(j),S={isDisabled:p,isHidden:h,goTo:f,label:m},C={isDisabled:g,isHidden:v,goTo:x,label:b},A=null!=(r=null==d?void 0:d.previousIconButton)?r:Sx,E=qm({elementType:A,externalSlotProps:null==u?void 0:u.previousIconButton,additionalProps:{size:"medium",title:C.label,"aria-label":C.label,disabled:C.isDisabled,edge:"end",onClick:C.goTo},ownerState:(0,Be.A)({},j,{hidden:C.isHidden}),className:w.button}),k=null!=(n=null==d?void 0:d.nextIconButton)?n:Sx,O=qm({elementType:k,externalSlotProps:null==u?void 0:u.nextIconButton,additionalProps:{size:"medium",title:S.label,"aria-label":S.label,disabled:S.isDisabled,edge:"start",onClick:S.goTo},ownerState:(0,Be.A)({},j,{hidden:S.isHidden}),className:w.button}),P=null!=(o=null==d?void 0:d.leftArrowIcon)?o:Ug,I=qm({elementType:P,externalSlotProps:null==u?void 0:u.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),D=(0,Fe.A)(I,bx),M=null!=(a=null==d?void 0:d.rightArrowIcon)?a:Wg,T=qm({elementType:M,externalSlotProps:null==u?void 0:u.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),R=(0,Fe.A)(T,yx);return(0,Ve.jsxs)(jx,(0,Be.A)({ref:t,className:(0,vt.A)(w.root,c),ownerState:j},y,{children:[(0,Ve.jsx)(A,(0,Be.A)({},E,{children:i?(0,Ve.jsx)(M,(0,Be.A)({},R)):(0,Ve.jsx)(P,(0,Be.A)({},D))})),l?(0,Ve.jsx)($r,{variant:"subtitle1",component:"span",children:l}):(0,Ve.jsx)(wx,{className:w.spacer,ownerState:j}),(0,Ve.jsx)(k,(0,Be.A)({},O,{children:i?(0,Ve.jsx)(P,(0,Be.A)({},D)):(0,Ve.jsx)(M,(0,Be.A)({},R))}))]}))}));const Ax=e=>(0,Mt.Ay)("MuiPickersCalendarHeader",e),Ex=(0,St.A)("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),kx=["slots","slotProps","components","componentsProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone"],Ox=["ownerState"],Px=(0,Ot.Ay)("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",alignItems:"center",marginTop:16,marginBottom:8,paddingLeft:24,paddingRight:12,maxHeight:30,minHeight:30}),Ix=(0,Ot.Ay)("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(e,t)=>t.labelContainer})((e=>{let{theme:t}=e;return(0,Be.A)({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},t.typography.body1,{fontWeight:t.typography.fontWeightMedium})})),Dx=(0,Ot.Ay)("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(e,t)=>t.label})({marginRight:6}),Mx=(0,Ot.Ay)(Ir,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(e,t)=>t.switchViewButton})((e=>{let{ownerState:t}=e;return(0,Be.A)({marginRight:"auto"},"year"===t.view&&{[`.${Ex.switchViewIcon}`]:{transform:"rotate(180deg)"}})})),Tx=(0,Ot.Ay)(_g,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(e,t)=>t.switchViewIcon})((e=>{let{theme:t}=e;return{willChange:"transform",transition:t.transitions.create("transform"),transform:"rotate(0deg)"}})),Rx=a.forwardRef((function(e,t){var r,n,o,i;const s=Dm(),l=Pm(),c=$f({props:e,name:"MuiPickersCalendarHeader"}),{slots:d,slotProps:u,components:p,currentMonth:h,disabled:f,disableFuture:m,disablePast:g,maxDate:v,minDate:x,onMonthChange:b,onViewChange:y,view:j,reduceAnimations:w,views:S,labelId:C,className:A,timezone:E}=c,k=(0,Fe.A)(c,kx),O=c,P=(e=>{const{classes:t}=e;return(0,kt.A)({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},Ax,t)})(c),I=null!=(r=null!=(n=null==d?void 0:d.switchViewButton)?n:null==p?void 0:p.SwitchViewButton)?r:Mx,D=qm({elementType:I,externalSlotProps:null==u?void 0:u.switchViewButton,additionalProps:{size:"small","aria-label":s.calendarViewSwitchingButtonAriaLabel(j)},ownerState:O,className:P.switchViewButton}),M=null!=(o=null!=(i=null==d?void 0:d.switchViewIcon)?i:null==p?void 0:p.SwitchViewIcon)?o:Tx,T=qm({elementType:M,externalSlotProps:null==u?void 0:u.switchViewIcon,ownerState:void 0,className:P.switchViewIcon}),R=(0,Fe.A)(T,Ox),N=function(e,t){let{disableFuture:r,maxDate:n,timezone:o}=t;const i=Pm();return a.useMemo((()=>{const t=i.dateWithTimezone(void 0,o),a=i.startOfMonth(r&&i.isBefore(t,n)?t:n);return!i.isAfter(a,e)}),[r,n,e,i,o])}(h,{disableFuture:m,maxDate:v,timezone:E}),$=function(e,t){let{disablePast:r,minDate:n,timezone:o}=t;const i=Pm();return a.useMemo((()=>{const t=i.dateWithTimezone(void 0,o),a=i.startOfMonth(r&&i.isAfter(t,n)?t:n);return!i.isBefore(a,e)}),[r,n,e,i,o])}(h,{disablePast:g,minDate:x,timezone:E});return 1===S.length&&"year"===S[0]?null:(0,Ve.jsxs)(Px,(0,Be.A)({},k,{ownerState:O,className:(0,vt.A)(A,P.root),ref:t,children:[(0,Ve.jsxs)(Ix,{role:"presentation",onClick:()=>{if(1!==S.length&&y&&!f)if(2===S.length)y(S.find((e=>e!==j))||S[0]);else{const e=0!==S.indexOf(j)?0:1;y(S[e])}},ownerState:O,"aria-live":"polite",className:P.labelContainer,children:[(0,Ve.jsx)(hv,{reduceAnimations:w,transKey:l.format(h,"monthAndYear"),children:(0,Ve.jsx)(Dx,{id:C,ownerState:O,className:P.label,children:l.format(h,"monthAndYear")})}),S.length>1&&!f&&(0,Ve.jsx)(I,(0,Be.A)({},D,{children:(0,Ve.jsx)(M,(0,Be.A)({},R))}))]}),(0,Ve.jsx)(oa,{in:"day"===j,children:(0,Ve.jsx)(Cx,{slots:d,slotProps:u,onGoToPrevious:()=>b(l.addMonths(h,-1),"right"),isPreviousDisabled:$,previousLabel:s.previousMonth,onGoToNext:()=>b(l.addMonths(h,1),"left"),isNextDisabled:N,nextLabel:s.nextMonth})})]}))})),Nx=(0,Ot.Ay)("div")({overflow:"hidden",width:Ig,maxHeight:334,display:"flex",flexDirection:"column",margin:"0 auto"}),$x=e=>(0,Mt.Ay)("MuiDateCalendar",e),zx=((0,St.A)("MuiDateCalendar",["root","viewTransitionContainer"]),["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","defaultCalendarMonth","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","components","componentsProps","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsPerRow","monthsPerRow","timezone"]);const Lx=(0,Ot.Ay)(Nx,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"column",height:334}),Bx=(0,Ot.Ay)(hv,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(e,t)=>t.viewTransitionContainer})({}),Fx=a.forwardRef((function(e,t){var r,n,o;const i=Pm(),s=(0,Di.A)(),l=function(e,t){var r,n,o,a,i,s,l;const c=Pm(),d=Im(),u=tg(),p=$f({props:e,name:t});return(0,Be.A)({},p,{loading:null!=(r=p.loading)&&r,disablePast:null!=(n=p.disablePast)&&n,disableFuture:null!=(o=p.disableFuture)&&o,openTo:null!=(a=p.openTo)?a:"day",views:null!=(i=p.views)?i:["year","day"],reduceAnimations:null!=(s=p.reduceAnimations)?s:u,renderLoading:null!=(l=p.renderLoading)?l:()=>(0,Ve.jsx)("span",{children:"..."}),minDate:Vf(c,p.minDate,d.minDate),maxDate:Vf(c,p.maxDate,d.maxDate)})}(e,"MuiDateCalendar"),{autoFocus:c,onViewChange:d,value:u,defaultValue:p,referenceDate:h,disableFuture:f,disablePast:m,defaultCalendarMonth:g,onChange:v,onYearChange:x,onMonthChange:b,reduceAnimations:y,shouldDisableDate:j,shouldDisableMonth:w,shouldDisableYear:S,view:C,views:A,openTo:E,className:k,disabled:O,readOnly:P,minDate:I,maxDate:D,disableHighlightToday:M,focusedView:T,onFocusedViewChange:R,showDaysOutsideCurrentMonth:N,fixedWeekNumber:$,dayOfWeekFormatter:z,components:L,componentsProps:B,slots:F,slotProps:_,loading:U,renderLoading:W,displayWeekNumber:V,yearsPerRow:G,monthsPerRow:H,timezone:q}=l,Y=(0,Fe.A)(l,zx),{value:K,handleValueChange:X,timezone:Q}=dg({name:"DateCalendar",timezone:q,value:u,defaultValue:p,onChange:v,valueManager:ym}),{view:J,setView:Z,focusedView:ee,setFocusedView:te,goToNextView:re,setValueAndGoToNextView:ne}=pg({view:C,views:A,openTo:E,onChange:X,onViewChange:d,autoFocus:c,focusedView:T,onFocusedViewChange:R}),{referenceDate:oe,calendarState:ae,changeFocusedDay:ie,changeMonth:se,handleChangeMonth:le,isDateDisabled:ce,onMonthSwitchingAnimationEnd:de}=dv({value:K,defaultCalendarMonth:g,referenceDate:h,reduceAnimations:y,onMonthChange:b,minDate:I,maxDate:D,shouldDisableDate:j,disablePast:m,disableFuture:f,timezone:Q}),ue=O&&K||I,pe=O&&K||D,he=`${s}-grid-label`,fe=null!==ee,me=null!=(r=null!=(n=null==F?void 0:F.calendarHeader)?n:null==L?void 0:L.CalendarHeader)?r:Rx,ge=qm({elementType:me,externalSlotProps:null!=(o=null==_?void 0:_.calendarHeader)?o:null==B?void 0:B.calendarHeader,additionalProps:{views:A,view:J,currentMonth:ae.currentMonth,onViewChange:Z,onMonthChange:(e,t)=>le({newMonth:e,direction:t}),minDate:ue,maxDate:pe,disabled:O,disablePast:m,disableFuture:f,reduceAnimations:y,timezone:Q,labelId:he,slots:F,slotProps:_},ownerState:l}),ve=(0,ca.A)((e=>{const t=i.startOfMonth(e),r=i.endOfMonth(e),n=ce(e)?Wf({utils:i,date:e,minDate:i.isBefore(I,t)?t:I,maxDate:i.isAfter(D,r)?r:D,disablePast:m,disableFuture:f,isDateDisabled:ce,timezone:Q}):e;n?(ne(n,"finish"),null==b||b(t)):(re(),se(t)),ie(n,!0)})),xe=(0,ca.A)((e=>{const t=i.startOfYear(e),r=i.endOfYear(e),n=ce(e)?Wf({utils:i,date:e,minDate:i.isBefore(I,t)?t:I,maxDate:i.isAfter(D,r)?r:D,disablePast:m,disableFuture:f,isDateDisabled:ce,timezone:Q}):e;n?(ne(n,"finish"),null==x||x(n)):(re(),se(t)),ie(n,!0)})),be=(0,ca.A)((e=>X(e?Uf(i,e,null!=K?K:oe):e,"finish",J)));a.useEffect((()=>{null!=K&&i.isValid(K)&&se(K)}),[K]);const ye=l,je=(e=>{const{classes:t}=e;return(0,kt.A)({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},$x,t)})(ye),we={disablePast:m,disableFuture:f,maxDate:D,minDate:I},Se={disableHighlightToday:M,readOnly:P,disabled:O,timezone:Q,gridLabelId:he},Ce=a.useRef(J);a.useEffect((()=>{Ce.current!==J&&(ee===Ce.current&&te(J,!0),Ce.current=J)}),[ee,te,J]);const Ae=a.useMemo((()=>[K]),[K]);return(0,Ve.jsxs)(Lx,(0,Be.A)({ref:t,className:(0,vt.A)(je.root,k),ownerState:ye},Y,{children:[(0,Ve.jsx)(me,(0,Be.A)({},ge)),(0,Ve.jsx)(Bx,{reduceAnimations:y,className:je.viewTransitionContainer,transKey:J,ownerState:ye,children:(0,Ve.jsxs)("div",{children:["year"===J&&(0,Ve.jsx)(gx,(0,Be.A)({},we,Se,{value:K,onChange:xe,shouldDisableYear:S,hasFocus:fe,onFocusedViewChange:e=>te("year",e),yearsPerRow:G,referenceDate:oe})),"month"===J&&(0,Ve.jsx)(ix,(0,Be.A)({},we,Se,{hasFocus:fe,className:k,value:K,onChange:ve,shouldDisableMonth:w,onFocusedViewChange:e=>te("month",e),monthsPerRow:H,referenceDate:oe})),"day"===J&&(0,Ve.jsx)(Xv,(0,Be.A)({},ae,we,Se,{onMonthSwitchingAnimationEnd:de,onFocusedDayChange:ie,reduceAnimations:y,selectedDays:Ae,onSelectedDaysChange:be,shouldDisableDate:j,shouldDisableMonth:w,shouldDisableYear:S,hasFocus:fe,onFocusedViewChange:e=>te("day",e),showDaysOutsideCurrentMonth:N,fixedWeekNumber:$,dayOfWeekFormatter:z,displayWeekNumber:V,components:L,componentsProps:B,slots:F,slotProps:_,loading:U,renderLoading:W}))]})})]}))})),_x=e=>{let{view:t,onViewChange:r,views:n,focusedView:o,onFocusedViewChange:a,value:i,defaultValue:s,referenceDate:l,onChange:c,className:d,classes:u,disableFuture:p,disablePast:h,minDate:f,maxDate:m,shouldDisableDate:g,shouldDisableMonth:v,shouldDisableYear:x,reduceAnimations:b,onMonthChange:y,monthsPerRow:j,onYearChange:w,yearsPerRow:S,defaultCalendarMonth:C,components:A,componentsProps:E,slots:k,slotProps:O,loading:P,renderLoading:I,disableHighlightToday:D,readOnly:M,disabled:T,showDaysOutsideCurrentMonth:R,dayOfWeekFormatter:N,sx:$,autoFocus:z,fixedWeekNumber:L,displayWeekNumber:B,timezone:F}=e;return(0,Ve.jsx)(Fx,{view:t,onViewChange:r,views:n.filter(Yf),focusedView:o&&Yf(o)?o:null,onFocusedViewChange:a,value:i,defaultValue:s,referenceDate:l,onChange:c,className:d,classes:u,disableFuture:p,disablePast:h,minDate:f,maxDate:m,shouldDisableDate:g,shouldDisableMonth:v,shouldDisableYear:x,reduceAnimations:b,onMonthChange:y,monthsPerRow:j,onYearChange:w,yearsPerRow:S,defaultCalendarMonth:C,components:A,componentsProps:E,slots:k,slotProps:O,loading:P,renderLoading:I,disableHighlightToday:D,readOnly:M,disabled:T,showDaysOutsideCurrentMonth:R,dayOfWeekFormatter:N,sx:$,autoFocus:z,fixedWeekNumber:L,displayWeekNumber:B,timezone:F})},Ux=a.forwardRef((function(e,t){var r,n,o,i;const s=Dm(),l=Pm(),c=Wm(e,"MuiDesktopDatePicker"),d=(0,Be.A)({day:_x,month:_x,year:_x},c.viewRenderers),u=(0,Be.A)({},c,{viewRenderers:d,format:Kf(l,c,!1),yearsPerRow:null!=(r=c.yearsPerRow)?r:4,slots:(0,Be.A)({openPickerIcon:Vg,field:lv},c.slots),slotProps:(0,Be.A)({},c.slotProps,{field:e=>{var r;return(0,Be.A)({},Bf(null==(r=c.slotProps)?void 0:r.field,e),tv(c),{ref:t})},toolbar:(0,Be.A)({hidden:!0},null==(n=c.slotProps)?void 0:n.toolbar)})}),{renderPicker:p}=(e=>{var t,r,n,o,i;let{props:s,getOpenDialogAriaText:l}=e,c=(0,Fe.A)(e,Lg);const{slots:d,slotProps:u,className:p,sx:h,format:f,formatDensity:m,timezone:g,name:v,label:x,inputRef:b,readOnly:y,disabled:j,autoFocus:w,localeText:S,reduceAnimations:C}=s,A=Pm(),E=a.useRef(null),k=a.useRef(null),O=(0,Di.A)(),P=null!=(t=null==u||null==(r=u.toolbar)?void 0:r.hidden)&&t,{open:I,actions:D,hasUIView:M,layoutProps:T,renderCurrentView:R,shouldRestoreFocus:N,fieldProps:$}=vg((0,Be.A)({},c,{props:s,inputRef:E,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"desktop"})),z=null!=(n=d.inputAdornment)?n:kp,L=qm({elementType:z,externalSlotProps:null==u?void 0:u.inputAdornment,additionalProps:{position:"end"},ownerState:s}),B=(0,Fe.A)(L,Bg),F=null!=(o=d.openPickerButton)?o:Ir,_=qm({elementType:F,externalSlotProps:null==u?void 0:u.openPickerButton,additionalProps:{disabled:j||y,onClick:I?D.onClose:D.onOpen,"aria-label":l($.value,A),edge:B.position},ownerState:s}),U=(0,Fe.A)(_,Fg),W=d.openPickerIcon,V=d.field,G=qm({elementType:V,externalSlotProps:null==u?void 0:u.field,additionalProps:(0,Be.A)({},$,P&&{id:O},{readOnly:y,disabled:j,className:p,sx:h,format:f,formatDensity:m,timezone:g,label:x,name:v,autoFocus:w&&!s.open,focused:!!I||void 0}),ownerState:s});M&&(G.InputProps=(0,Be.A)({},G.InputProps,{ref:k},!s.disableOpenPicker&&{[`${B.position}Adornment`]:(0,Ve.jsx)(z,(0,Be.A)({},B,{children:(0,Ve.jsx)(F,(0,Be.A)({},U,{children:(0,Ve.jsx)(W,(0,Be.A)({},null==u?void 0:u.openPickerIcon))}))}))}));const H=(0,Be.A)({textField:d.textField,clearIcon:d.clearIcon,clearButton:d.clearButton},G.slots),q=null!=(i=d.layout)?i:zg,Y=(0,an.A)(E,G.inputRef,b);let K=O;P&&(K=x?`${O}-label`:void 0);const X=(0,Be.A)({},u,{toolbar:(0,Be.A)({},null==u?void 0:u.toolbar,{titleId:O}),popper:(0,Be.A)({"aria-labelledby":K},null==u?void 0:u.popper)});return{renderPicker:()=>(0,Ve.jsxs)(Cm,{localeText:S,children:[(0,Ve.jsx)(V,(0,Be.A)({},G,{slots:H,slotProps:X,inputRef:Y})),(0,Ve.jsx)(ig,(0,Be.A)({role:"dialog",placement:"bottom-start",anchorEl:k.current},D,{open:I,slots:d,slotProps:X,shouldRestoreFocus:N,reduceAnimations:C,children:(0,Ve.jsx)(q,(0,Be.A)({},T,null==X?void 0:X.layout,{slots:d,slotProps:X,children:R()}))}))]})}})({props:u,valueManager:ym,valueType:"date",getOpenDialogAriaText:null!=(o=null==(i=u.localeText)?void 0:i.openDatePickerDialogue)?o:s.openDatePickerDialogue,validator:Vm});return p()}));Ux.propTypes={autoFocus:Lf().bool,className:Lf().string,closeOnSelect:Lf().bool,components:Lf().object,componentsProps:Lf().object,dayOfWeekFormatter:Lf().func,defaultCalendarMonth:Lf().any,defaultValue:Lf().any,disabled:Lf().bool,disableFuture:Lf().bool,disableHighlightToday:Lf().bool,disableOpenPicker:Lf().bool,disablePast:Lf().bool,displayWeekNumber:Lf().bool,fixedWeekNumber:Lf().number,format:Lf().string,formatDensity:Lf().oneOf(["dense","spacious"]),inputRef:Ff,label:Lf().node,loading:Lf().bool,localeText:Lf().object,maxDate:Lf().any,minDate:Lf().any,monthsPerRow:Lf().oneOf([3,4]),name:Lf().string,onAccept:Lf().func,onChange:Lf().func,onClose:Lf().func,onError:Lf().func,onMonthChange:Lf().func,onOpen:Lf().func,onSelectedSectionsChange:Lf().func,onViewChange:Lf().func,onYearChange:Lf().func,open:Lf().bool,openTo:Lf().oneOf(["day","month","year"]),orientation:Lf().oneOf(["landscape","portrait"]),readOnly:Lf().bool,reduceAnimations:Lf().bool,referenceDate:Lf().any,renderLoading:Lf().func,selectedSections:Lf().oneOfType([Lf().oneOf(["all","day","hours","meridiem","minutes","month","seconds","weekDay","year"]),Lf().number,Lf().shape({endIndex:Lf().number.isRequired,startIndex:Lf().number.isRequired})]),shouldDisableDate:Lf().func,shouldDisableMonth:Lf().func,shouldDisableYear:Lf().func,showDaysOutsideCurrentMonth:Lf().bool,slotProps:Lf().object,slots:Lf().object,sx:Lf().oneOfType([Lf().arrayOf(Lf().oneOfType([Lf().func,Lf().object,Lf().bool])),Lf().func,Lf().object]),timezone:Lf().string,value:Lf().any,view:Lf().oneOf(["day","month","year"]),viewRenderers:Lf().shape({day:Lf().func,month:Lf().func,year:Lf().func}),views:Lf().arrayOf(Lf().oneOf(["day","month","year"]).isRequired),yearsPerRow:Lf().oneOf([3,4])};const Wx=(0,Ot.Ay)(Fi)({[`& .${Ti.container}`]:{outline:0},[`& .${Ti.paper}`]:{outline:0,minWidth:Ig}}),Vx=(0,Ot.Ay)(Ki)({"&:first-of-type":{padding:0}});function Gx(e){var t,r;const{children:n,onDismiss:o,open:a,slots:i,slotProps:s}=e,l=null!=(t=null==i?void 0:i.dialog)?t:Wx,c=null!=(r=null==i?void 0:i.mobileTransition)?r:oa;return(0,Ve.jsx)(l,(0,Be.A)({open:a,onClose:o},null==s?void 0:s.dialog,{TransitionComponent:c,TransitionProps:null==s?void 0:s.mobileTransition,PaperComponent:null==i?void 0:i.mobilePaper,PaperProps:null==s?void 0:s.mobilePaper,children:(0,Ve.jsx)(Vx,{children:n})}))}const Hx=["props","getOpenDialogAriaText"],qx=a.forwardRef((function(e,t){var r,n,o;const i=Dm(),s=Pm(),l=Wm(e,"MuiMobileDatePicker"),c=(0,Be.A)({day:_x,month:_x,year:_x},l.viewRenderers),d=(0,Be.A)({},l,{viewRenderers:c,format:Kf(s,l,!1),slots:(0,Be.A)({field:lv},l.slots),slotProps:(0,Be.A)({},l.slotProps,{field:e=>{var r;return(0,Be.A)({},Bf(null==(r=l.slotProps)?void 0:r.field,e),tv(l),{ref:t})},toolbar:(0,Be.A)({hidden:!1},null==(r=l.slotProps)?void 0:r.toolbar)})}),{renderPicker:u}=(e=>{var t,r,n;let{props:o,getOpenDialogAriaText:i}=e,s=(0,Fe.A)(e,Hx);const{slots:l,slotProps:c,className:d,sx:u,format:p,formatDensity:h,timezone:f,name:m,label:g,inputRef:v,readOnly:x,disabled:b,localeText:y}=o,j=Pm(),w=a.useRef(null),S=(0,Di.A)(),C=null!=(t=null==c||null==(r=c.toolbar)?void 0:r.hidden)&&t,{open:A,actions:E,layoutProps:k,renderCurrentView:O,fieldProps:P}=vg((0,Be.A)({},s,{props:o,inputRef:w,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"mobile"})),I=l.field,D=qm({elementType:I,externalSlotProps:null==c?void 0:c.field,additionalProps:(0,Be.A)({},P,C&&{id:S},!(b||x)&&{onClick:E.onOpen,onKeyDown:(M=E.onOpen,e=>{"Enter"!==e.key&&" "!==e.key||(M(e),e.preventDefault(),e.stopPropagation()),T&&T(e)})},{readOnly:null==x||x,disabled:b,className:d,sx:u,format:p,formatDensity:h,timezone:f,label:g,name:m}),ownerState:o});var M,T;D.inputProps=(0,Be.A)({},D.inputProps,{"aria-label":i(P.value,j)});const R=(0,Be.A)({textField:l.textField},D.slots),N=null!=(n=l.layout)?n:zg,$=(0,an.A)(w,D.inputRef,v);let z=S;C&&(z=g?`${S}-label`:void 0);const L=(0,Be.A)({},c,{toolbar:(0,Be.A)({},null==c?void 0:c.toolbar,{titleId:S}),mobilePaper:(0,Be.A)({"aria-labelledby":z},null==c?void 0:c.mobilePaper)});return{renderPicker:()=>(0,Ve.jsxs)(Cm,{localeText:y,children:[(0,Ve.jsx)(I,(0,Be.A)({},D,{slots:R,slotProps:L,inputRef:$})),(0,Ve.jsx)(Gx,(0,Be.A)({},E,{open:A,slots:l,slotProps:L,children:(0,Ve.jsx)(N,(0,Be.A)({},k,null==L?void 0:L.layout,{slots:l,slotProps:L,children:O()}))}))]})}})({props:d,valueManager:ym,valueType:"date",getOpenDialogAriaText:null!=(n=null==(o=d.localeText)?void 0:o.openDatePickerDialogue)?n:i.openDatePickerDialogue,validator:Vm});return u()}));qx.propTypes={autoFocus:Lf().bool,className:Lf().string,closeOnSelect:Lf().bool,components:Lf().object,componentsProps:Lf().object,dayOfWeekFormatter:Lf().func,defaultCalendarMonth:Lf().any,defaultValue:Lf().any,disabled:Lf().bool,disableFuture:Lf().bool,disableHighlightToday:Lf().bool,disableOpenPicker:Lf().bool,disablePast:Lf().bool,displayWeekNumber:Lf().bool,fixedWeekNumber:Lf().number,format:Lf().string,formatDensity:Lf().oneOf(["dense","spacious"]),inputRef:Ff,label:Lf().node,loading:Lf().bool,localeText:Lf().object,maxDate:Lf().any,minDate:Lf().any,monthsPerRow:Lf().oneOf([3,4]),name:Lf().string,onAccept:Lf().func,onChange:Lf().func,onClose:Lf().func,onError:Lf().func,onMonthChange:Lf().func,onOpen:Lf().func,onSelectedSectionsChange:Lf().func,onViewChange:Lf().func,onYearChange:Lf().func,open:Lf().bool,openTo:Lf().oneOf(["day","month","year"]),orientation:Lf().oneOf(["landscape","portrait"]),readOnly:Lf().bool,reduceAnimations:Lf().bool,referenceDate:Lf().any,renderLoading:Lf().func,selectedSections:Lf().oneOfType([Lf().oneOf(["all","day","hours","meridiem","minutes","month","seconds","weekDay","year"]),Lf().number,Lf().shape({endIndex:Lf().number.isRequired,startIndex:Lf().number.isRequired})]),shouldDisableDate:Lf().func,shouldDisableMonth:Lf().func,shouldDisableYear:Lf().func,showDaysOutsideCurrentMonth:Lf().bool,slotProps:Lf().object,slots:Lf().object,sx:Lf().oneOfType([Lf().arrayOf(Lf().oneOfType([Lf().func,Lf().object,Lf().bool])),Lf().func,Lf().object]),timezone:Lf().string,value:Lf().any,view:Lf().oneOf(["day","month","year"]),viewRenderers:Lf().shape({day:Lf().func,month:Lf().func,year:Lf().func}),views:Lf().arrayOf(Lf().oneOf(["day","month","year"]).isRequired),yearsPerRow:Lf().oneOf([3,4])};const Yx=["desktopModeMediaQuery"],Kx=a.forwardRef((function(e,t){const r=$f({props:e,name:"MuiDatePicker"}),{desktopModeMediaQuery:n=Xm}=r,o=(0,Fe.A)(r,Yx);return Rf(n,{defaultMatches:!0})?(0,Ve.jsx)(Ux,(0,Be.A)({ref:t},o)):(0,Ve.jsx)(qx,(0,Be.A)({ref:t},o))}));function Xx(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Qx(e){return Qx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qx(e)}function Jx(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Zx(e){Jx(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===Qx(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function eb(e,t){Jx(2,arguments);var r=Zx(e),n=Xx(t);return isNaN(n)?new Date(NaN):n?(r.setDate(r.getDate()+n),r):r}function tb(e,t){Jx(2,arguments);var r=Zx(e).getTime(),n=Xx(t);return new Date(r+n)}function rb(e,t){Jx(2,arguments);var r=Zx(e),n=Xx(t);if(isNaN(n))return new Date(NaN);if(!n)return r;var o=r.getDate(),a=new Date(r.getTime());return a.setMonth(r.getMonth()+n+1,0),o>=a.getDate()?a:(r.setFullYear(a.getFullYear(),a.getMonth(),o),r)}function nb(e,t){return Jx(2,arguments),rb(e,12*Xx(t))}function ob(e,t){Jx(2,arguments);var r=Zx(e),n=Zx(t),o=r.getTime()-n.getTime();return o<0?-1:o>0?1:o}function ab(e,t){Jx(2,arguments);var r=Zx(e),n=Zx(t),o=ob(r,n),a=Math.abs(function(e,t){Jx(2,arguments);var r=Zx(e),n=Zx(t);return r.getFullYear()-n.getFullYear()}(r,n));r.setFullYear(1584),n.setFullYear(1584);var i=ob(r,n)===-o,s=o*(a-Number(i));return 0===s?0:s}function ib(e){Jx(1,arguments);var t=Zx(e);return t.setHours(23,59,59,999),t}function sb(e){Jx(1,arguments);var t=Zx(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function lb(e,t){Jx(2,arguments);var r,n=Zx(e),o=Zx(t),a=ob(n,o),i=Math.abs(function(e,t){Jx(2,arguments);var r=Zx(e),n=Zx(t);return 12*(r.getFullYear()-n.getFullYear())+(r.getMonth()-n.getMonth())}(n,o));if(i<1)r=0;else{1===n.getMonth()&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-a*i);var s=ob(n,o)===-a;(function(e){Jx(1,arguments);var t=Zx(e);return ib(t).getTime()===sb(t).getTime()})(Zx(e))&&1===i&&1===ob(e,o)&&(s=!1),r=a*(i-Number(s))}return 0===r?0:r}var cb={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}};function db(e){return e?cb[e]:cb.trunc}function ub(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function pb(e){Jx(1,arguments);var t=Zx(e);return t.setHours(0,0,0,0),t}function hb(e,t){var r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function fb(e,t){Jx(2,arguments);var r=Zx(e),n=Zx(t),o=hb(r,n),a=Math.abs(function(e,t){Jx(2,arguments);var r=pb(e),n=pb(t),o=r.getTime()-ub(r),a=n.getTime()-ub(n);return Math.round((o-a)/864e5)}(r,n));r.setDate(r.getDate()-o*a);var i=o*(a-Number(hb(r,n)===-o));return 0===i?0:i}Math.pow(10,8);var mb=6e4,gb=36e5;function vb(e,t){return Jx(2,arguments),Zx(e).getTime()-Zx(t).getTime()}var xb={};function bb(){return xb}function yb(e,t){var r,n,o,a,i,s,l,c;Jx(1,arguments);var d=bb(),u=Xx(null!==(r=null!==(n=null!==(o=null!==(a=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==a?a:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(s=i.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==o?o:d.weekStartsOn)&&void 0!==n?n:null===(l=d.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==r?r:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Zx(e),h=p.getDay(),f=6+(h<u?-7:0)-(h-u);return p.setDate(p.getDate()+f),p.setHours(23,59,59,999),p}function jb(e){Jx(1,arguments);var t=Zx(e),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function wb(e){if(Jx(1,arguments),!function(e){return Jx(1,arguments),e instanceof Date||"object"===Qx(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)&&"number"!==typeof e)return!1;var t=Zx(e);return!isNaN(Number(t))}function Sb(e,t){return Jx(2,arguments),tb(e,-Xx(t))}function Cb(e){Jx(1,arguments);var t=Zx(e),r=t.getUTCDay(),n=(r<1?7:0)+r-1;return t.setUTCDate(t.getUTCDate()-n),t.setUTCHours(0,0,0,0),t}function Ab(e){Jx(1,arguments);var t=Zx(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var o=Cb(n),a=new Date(0);a.setUTCFullYear(r,0,4),a.setUTCHours(0,0,0,0);var i=Cb(a);return t.getTime()>=o.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function Eb(e){Jx(1,arguments);var t=Zx(e),r=Cb(t).getTime()-function(e){Jx(1,arguments);var t=Ab(e),r=new Date(0);return r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0),Cb(r)}(t).getTime();return Math.round(r/6048e5)+1}function kb(e,t){var r,n,o,a,i,s,l,c;Jx(1,arguments);var d=bb(),u=Xx(null!==(r=null!==(n=null!==(o=null!==(a=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==a?a:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(s=i.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==o?o:d.weekStartsOn)&&void 0!==n?n:null===(l=d.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==r?r:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Zx(e),h=p.getUTCDay(),f=(h<u?7:0)+h-u;return p.setUTCDate(p.getUTCDate()-f),p.setUTCHours(0,0,0,0),p}function Ob(e,t){var r,n,o,a,i,s,l,c;Jx(1,arguments);var d=Zx(e),u=d.getUTCFullYear(),p=bb(),h=Xx(null!==(r=null!==(n=null!==(o=null!==(a=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(s=i.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==o?o:p.firstWeekContainsDate)&&void 0!==n?n:null===(l=p.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==r?r:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setUTCFullYear(u+1,0,h),f.setUTCHours(0,0,0,0);var m=kb(f,t),g=new Date(0);g.setUTCFullYear(u,0,h),g.setUTCHours(0,0,0,0);var v=kb(g,t);return d.getTime()>=m.getTime()?u+1:d.getTime()>=v.getTime()?u:u-1}function Pb(e,t){Jx(1,arguments);var r=Zx(e),n=kb(r,t).getTime()-function(e,t){var r,n,o,a,i,s,l,c;Jx(1,arguments);var d=bb(),u=Xx(null!==(r=null!==(n=null!==(o=null!==(a=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(s=i.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==o?o:d.firstWeekContainsDate)&&void 0!==n?n:null===(l=d.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==r?r:1),p=Ob(e,t),h=new Date(0);return h.setUTCFullYear(p,0,u),h.setUTCHours(0,0,0,0),kb(h,t)}(r,t).getTime();return Math.round(n/6048e5)+1}function Ib(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}const Db={y:function(e,t){var r=e.getUTCFullYear(),n=r>0?r:1-r;return Ib("yy"===t?n%100:n,t.length)},M:function(e,t){var r=e.getUTCMonth();return"M"===t?String(r+1):Ib(r+1,2)},d:function(e,t){return Ib(e.getUTCDate(),t.length)},a:function(e,t){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return"am"===r?"a.m.":"p.m."}},h:function(e,t){return Ib(e.getUTCHours()%12||12,t.length)},H:function(e,t){return Ib(e.getUTCHours(),t.length)},m:function(e,t){return Ib(e.getUTCMinutes(),t.length)},s:function(e,t){return Ib(e.getUTCSeconds(),t.length)},S:function(e,t){var r=t.length,n=e.getUTCMilliseconds();return Ib(Math.floor(n*Math.pow(10,r-3)),t.length)}};var Mb="midnight",Tb="noon",Rb="morning",Nb="afternoon",$b="evening",zb="night";function Lb(e,t){var r=e>0?"-":"+",n=Math.abs(e),o=Math.floor(n/60),a=n%60;if(0===a)return r+String(o);var i=t||"";return r+String(o)+i+Ib(a,2)}function Bb(e,t){return e%60===0?(e>0?"-":"+")+Ib(Math.abs(e)/60,2):Fb(e,t)}function Fb(e,t){var r=t||"",n=e>0?"-":"+",o=Math.abs(e);return n+Ib(Math.floor(o/60),2)+r+Ib(o%60,2)}const _b={G:function(e,t,r){var n=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if("yo"===t){var n=e.getUTCFullYear(),o=n>0?n:1-n;return r.ordinalNumber(o,{unit:"year"})}return Db.y(e,t)},Y:function(e,t,r,n){var o=Ob(e,n),a=o>0?o:1-o;return"YY"===t?Ib(a%100,2):"Yo"===t?r.ordinalNumber(a,{unit:"year"}):Ib(a,t.length)},R:function(e,t){return Ib(Ab(e),t.length)},u:function(e,t){return Ib(e.getUTCFullYear(),t.length)},Q:function(e,t,r){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Ib(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Ib(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){var n=e.getUTCMonth();switch(t){case"M":case"MM":return Db.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){var n=e.getUTCMonth();switch(t){case"L":return String(n+1);case"LL":return Ib(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){var o=Pb(e,n);return"wo"===t?r.ordinalNumber(o,{unit:"week"}):Ib(o,t.length)},I:function(e,t,r){var n=Eb(e);return"Io"===t?r.ordinalNumber(n,{unit:"week"}):Ib(n,t.length)},d:function(e,t,r){return"do"===t?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Db.d(e,t)},D:function(e,t,r){var n=function(e){Jx(1,arguments);var t=Zx(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=r-t.getTime();return Math.floor(n/864e5)+1}(e);return"Do"===t?r.ordinalNumber(n,{unit:"dayOfYear"}):Ib(n,t.length)},E:function(e,t,r){var n=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){var o=e.getUTCDay(),a=(o-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Ib(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){var o=e.getUTCDay(),a=(o-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Ib(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,r){var n=e.getUTCDay(),o=0===n?7:n;switch(t){case"i":return String(o);case"ii":return Ib(o,t.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,r){var n,o=e.getUTCHours();switch(n=12===o?Tb:0===o?Mb:o/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,t,r){var n,o=e.getUTCHours();switch(n=o>=17?$b:o>=12?Nb:o>=4?Rb:zb,t){case"B":case"BB":case"BBB":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,t,r){if("ho"===t){var n=e.getUTCHours()%12;return 0===n&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Db.h(e,t)},H:function(e,t,r){return"Ho"===t?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Db.H(e,t)},K:function(e,t,r){var n=e.getUTCHours()%12;return"Ko"===t?r.ordinalNumber(n,{unit:"hour"}):Ib(n,t.length)},k:function(e,t,r){var n=e.getUTCHours();return 0===n&&(n=24),"ko"===t?r.ordinalNumber(n,{unit:"hour"}):Ib(n,t.length)},m:function(e,t,r){return"mo"===t?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Db.m(e,t)},s:function(e,t,r){return"so"===t?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Db.s(e,t)},S:function(e,t){return Db.S(e,t)},X:function(e,t,r,n){var o=(n._originalDate||e).getTimezoneOffset();if(0===o)return"Z";switch(t){case"X":return Bb(o);case"XXXX":case"XX":return Fb(o);default:return Fb(o,":")}},x:function(e,t,r,n){var o=(n._originalDate||e).getTimezoneOffset();switch(t){case"x":return Bb(o);case"xxxx":case"xx":return Fb(o);default:return Fb(o,":")}},O:function(e,t,r,n){var o=(n._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Lb(o,":");default:return"GMT"+Fb(o,":")}},z:function(e,t,r,n){var o=(n._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Lb(o,":");default:return"GMT"+Fb(o,":")}},t:function(e,t,r,n){var o=n._originalDate||e;return Ib(Math.floor(o.getTime()/1e3),t.length)},T:function(e,t,r,n){return Ib((n._originalDate||e).getTime(),t.length)}};var Ub=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Wb=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}};const Vb={p:Wb,P:function(e,t){var r,n=e.match(/(P+)(p+)?/)||[],o=n[1],a=n[2];if(!a)return Ub(e,t);switch(o){case"P":r=t.dateTime({width:"short"});break;case"PP":r=t.dateTime({width:"medium"});break;case"PPP":r=t.dateTime({width:"long"});break;default:r=t.dateTime({width:"full"})}return r.replace("{{date}}",Ub(o,t)).replace("{{time}}",Wb(a,t))}};var Gb=["D","DD"],Hb=["YY","YYYY"];function qb(e){return-1!==Gb.indexOf(e)}function Yb(e){return-1!==Hb.indexOf(e)}function Kb(e,t,r){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Xb={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const Qb=function(e,t,r){var n,o=Xb[e];return n="string"===typeof o?o:1===t?o.one:o.other.replace("{{count}}",t.toString()),null!==r&&void 0!==r&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Jb(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}var Zb={date:Jb({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Jb({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Jb({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var ey={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function ty(e){return function(t,r){var n;if("formatting"===(null!==r&&void 0!==r&&r.context?String(r.context):"standalone")&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,a=null!==r&&void 0!==r&&r.width?String(r.width):o;n=e.formattingValues[a]||e.formattingValues[o]}else{var i=e.defaultWidth,s=null!==r&&void 0!==r&&r.width?String(r.width):e.defaultWidth;n=e.values[s]||e.values[i]}return n[e.argumentCallback?e.argumentCallback(t):t]}}function ry(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.width,o=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(o);if(!a)return null;var i,s=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?function(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r;return}(l,(function(e){return e.test(s)})):function(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r;return}(l,(function(e){return e.test(s)}));return i=e.valueCallback?e.valueCallback(c):c,{value:i=r.valueCallback?r.valueCallback(i):i,rest:t.slice(s.length)}}}function ny(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var o=n[0],a=t.match(e.parsePattern);if(!a)return null;var i=e.valueCallback?e.valueCallback(a[0]):a[0];return{value:i=r.valueCallback?r.valueCallback(i):i,rest:t.slice(o.length)}}}const oy={code:"en-US",formatDistance:Qb,formatLong:Zb,formatRelative:function(e,t,r,n){return ey[e]},localize:{ordinalNumber:function(e,t){var r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:ty({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:ty({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:ty({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:ty({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:ty({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:ny({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:ry({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:ry({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:ry({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:ry({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:ry({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},ay=oy;var iy=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,sy=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ly=/^'([^]*?)'?$/,cy=/''/g,dy=/[a-zA-Z]/;function uy(e,t,r){var n,o,a,i,s,l,c,d,u,p,h,f,m,g,v,x,b,y;Jx(2,arguments);var j=String(t),w=bb(),S=null!==(n=null!==(o=null===r||void 0===r?void 0:r.locale)&&void 0!==o?o:w.locale)&&void 0!==n?n:ay,C=Xx(null!==(a=null!==(i=null!==(s=null!==(l=null===r||void 0===r?void 0:r.firstWeekContainsDate)&&void 0!==l?l:null===r||void 0===r||null===(c=r.locale)||void 0===c||null===(d=c.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==s?s:w.firstWeekContainsDate)&&void 0!==i?i:null===(u=w.locale)||void 0===u||null===(p=u.options)||void 0===p?void 0:p.firstWeekContainsDate)&&void 0!==a?a:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=Xx(null!==(h=null!==(f=null!==(m=null!==(g=null===r||void 0===r?void 0:r.weekStartsOn)&&void 0!==g?g:null===r||void 0===r||null===(v=r.locale)||void 0===v||null===(x=v.options)||void 0===x?void 0:x.weekStartsOn)&&void 0!==m?m:w.weekStartsOn)&&void 0!==f?f:null===(b=w.locale)||void 0===b||null===(y=b.options)||void 0===y?void 0:y.weekStartsOn)&&void 0!==h?h:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!S.localize)throw new RangeError("locale must contain localize property");if(!S.formatLong)throw new RangeError("locale must contain formatLong property");var E=Zx(e);if(!wb(E))throw new RangeError("Invalid time value");var k=Sb(E,ub(E)),O={firstWeekContainsDate:C,weekStartsOn:A,locale:S,_originalDate:E};return j.match(sy).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,Vb[t])(e,S.formatLong):e})).join("").match(iy).map((function(n){if("''"===n)return"'";var o=n[0];if("'"===o)return function(e){var t=e.match(ly);if(!t)return e;return t[1].replace(cy,"'")}(n);var a=_b[o];if(a)return null!==r&&void 0!==r&&r.useAdditionalWeekYearTokens||!Yb(n)||Kb(n,t,String(e)),null!==r&&void 0!==r&&r.useAdditionalDayOfYearTokens||!qb(n)||Kb(n,t,String(e)),a(k,n,S.localize,O);if(o.match(dy))throw new RangeError("Format string contains an unescaped latin alphabet character `"+o+"`");return n})).join("")}function py(e){Jx(1,arguments);var t=Zx(e),r=t.getFullYear(),n=t.getMonth(),o=new Date(0);return o.setFullYear(r,n+1,0),o.setHours(0,0,0,0),o.getDate()}function hy(e,t){var r,n,o,a,i,s,l,c;Jx(1,arguments);var d=bb(),u=Xx(null!==(r=null!==(n=null!==(o=null!==(a=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==a?a:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(s=i.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==o?o:d.weekStartsOn)&&void 0!==n?n:null===(l=d.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==r?r:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Zx(e),h=p.getDay(),f=(h<u?7:0)+h-u;return p.setDate(p.getDate()-f),p.setHours(0,0,0,0),p}function fy(e,t){var r,n,o,a,i,s,l,c;Jx(1,arguments);var d=bb(),u=Xx(null!==(r=null!==(n=null!==(o=null!==(a=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(s=i.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==o?o:d.firstWeekContainsDate)&&void 0!==n?n:null===(l=d.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==r?r:1),p=function(e,t){var r,n,o,a,i,s,l,c;Jx(1,arguments);var d=Zx(e),u=d.getFullYear(),p=bb(),h=Xx(null!==(r=null!==(n=null!==(o=null!==(a=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(s=i.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==o?o:p.firstWeekContainsDate)&&void 0!==n?n:null===(l=p.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==r?r:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setFullYear(u+1,0,h),f.setHours(0,0,0,0);var m=hy(f,t),g=new Date(0);g.setFullYear(u,0,h),g.setHours(0,0,0,0);var v=hy(g,t);return d.getTime()>=m.getTime()?u+1:d.getTime()>=v.getTime()?u:u-1}(e,t),h=new Date(0);return h.setFullYear(p,0,u),h.setHours(0,0,0,0),hy(h,t)}function my(e,t){Jx(2,arguments);var r=Zx(e),n=Zx(t);return r.getTime()>n.getTime()}function gy(e,t){Jx(2,arguments);var r=Zx(e),n=Zx(t);return r.getTime()<n.getTime()}function vy(e){Jx(1,arguments);var t=Zx(e);return t.setMinutes(0,0,0),t}function xy(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function by(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return xy(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xy(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw a}}}}function yy(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function jy(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xt(e,t)}function wy(e){return wy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wy(e)}function Sy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Sy=function(){return!!e})()}function Cy(e){var t=Sy();return function(){var r,n=wy(e);if(t){var o=wy(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"==Qx(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Kt(e)}(this,r)}}function Ay(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ey(e){var t=function(e,t){if("object"!=Qx(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Qx(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Qx(t)?t:t+""}function ky(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ey(n.key),n)}}function Oy(e,t,r){return t&&ky(e.prototype,t),r&&ky(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Py(e,t,r){return(t=Ey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Iy=function(){function e(){Ay(this,e),Py(this,"priority",void 0),Py(this,"subPriority",0)}return Oy(e,[{key:"validate",value:function(e,t){return!0}}]),e}(),Dy=function(e){jy(r,e);var t=Cy(r);function r(e,n,o,a,i){var s;return Ay(this,r),(s=t.call(this)).value=e,s.validateValue=n,s.setValue=o,s.priority=a,i&&(s.subPriority=i),s}return Oy(r,[{key:"validate",value:function(e,t){return this.validateValue(e,this.value,t)}},{key:"set",value:function(e,t,r){return this.setValue(e,t,this.value,r)}}]),r}(Iy),My=function(e){jy(r,e);var t=Cy(r);function r(){var e;Ay(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return Py(Kt(e=t.call.apply(t,[this].concat(o))),"priority",10),Py(Kt(e),"subPriority",-1),e}return Oy(r,[{key:"set",value:function(e,t){if(t.timestampIsSet)return e;var r=new Date(0);return r.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),r.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),r}}]),r}(Iy),Ty=function(){function e(){Ay(this,e),Py(this,"incompatibleTokens",void 0),Py(this,"priority",void 0),Py(this,"subPriority",void 0)}return Oy(e,[{key:"run",value:function(e,t,r,n){var o=this.parse(e,t,r,n);return o?{setter:new Dy(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(e,t,r){return!0}}]),e}(),Ry=function(e){jy(r,e);var t=Cy(r);function r(){var e;Ay(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return Py(Kt(e=t.call.apply(t,[this].concat(o))),"priority",140),Py(Kt(e),"incompatibleTokens",["R","u","t","T"]),e}return Oy(r,[{key:"parse",value:function(e,t,r){switch(t){case"G":case"GG":case"GGG":return r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"});case"GGGGG":return r.era(e,{width:"narrow"});default:return r.era(e,{width:"wide"})||r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"})}}},{key:"set",value:function(e,t,r){return t.era=r,e.setUTCFullYear(r,0,1),e.setUTCHours(0,0,0,0),e}}]),r}(Ty),Ny=/^(1[0-2]|0?\d)/,$y=/^(3[0-1]|[0-2]?\d)/,zy=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,Ly=/^(5[0-3]|[0-4]?\d)/,By=/^(2[0-3]|[0-1]?\d)/,Fy=/^(2[0-4]|[0-1]?\d)/,_y=/^(1[0-1]|0?\d)/,Uy=/^(1[0-2]|0?\d)/,Wy=/^[0-5]?\d/,Vy=/^[0-5]?\d/,Gy=/^\d/,Hy=/^\d{1,2}/,qy=/^\d{1,3}/,Yy=/^\d{1,4}/,Ky=/^-?\d+/,Xy=/^-?\d/,Qy=/^-?\d{1,2}/,Jy=/^-?\d{1,3}/,Zy=/^-?\d{1,4}/,ej=/^([+-])(\d{2})(\d{2})?|Z/,tj=/^([+-])(\d{2})(\d{2})|Z/,rj=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,nj=/^([+-])(\d{2}):(\d{2})|Z/,oj=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function aj(e,t){return e?{value:t(e.value),rest:e.rest}:e}function ij(e,t){var r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function sj(e,t){var r=t.match(e);if(!r)return null;if("Z"===r[0])return{value:0,rest:t.slice(1)};var n="+"===r[1]?1:-1,o=r[2]?parseInt(r[2],10):0,a=r[3]?parseInt(r[3],10):0,i=r[5]?parseInt(r[5],10):0;return{value:n*(o*gb+a*mb+1e3*i),rest:t.slice(r[0].length)}}function lj(e){return ij(Ky,e)}function cj(e,t){switch(e){case 1:return ij(Gy,t);case 2:return ij(Hy,t);case 3:return ij(qy,t);case 4:return ij(Yy,t);default:return ij(new RegExp("^\\d{1,"+e+"}"),t)}}function dj(e,t){switch(e){case 1:return ij(Xy,t);case 2:return ij(Qy,t);case 3:return ij(Jy,t);case 4:return ij(Zy,t);default:return ij(new RegExp("^-?\\d{1,"+e+"}"),t)}}function uj(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function pj(e,t){var r,n=t>0,o=n?t:1-t;if(o<=50)r=e||100;else{var a=o+50;r=e+100*Math.floor(a/100)-(e>=a%100?100:0)}return n?r:1-r}function hj(e){return e%400===0||e%4===0&&e%100!==0}var fj=function(e){jy(r,e);var t=Cy(r);function r(){var e;Ay(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return Py(Kt(e=t.call.apply(t,[this].concat(o))),"priority",130),Py(Kt(e),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),e}return Oy(r,[{key:"parse",value:function(e,t,r){var n=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return aj(cj(4,e),n);case"yo":return aj(r.ordinalNumber(e,{unit:"year"}),n);default:return aj(cj(t.length,e),n)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,r){var n=e.getUTCFullYear();if(r.isTwoDigitYear){var o=pj(r.year,n);return e.setUTCFullYear(o,0,1),e.setUTCHours(0,0,0,0),e}var a="era"in t&&1!==t.era?1-r.year:r.year;return e.setUTCFullYear(a,0,1),e.setUTCHours(0,0,0,0),e}}]),r}(Ty),mj=function(e){jy(r,e);var t=Cy(r);function r(){var e;Ay(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return Py(Kt(e=t.call.apply(t,[this].concat(o))),"priority",130),Py(Kt(e),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),e}return Oy(r,[{key:"parse",value:function(e,t,r){var n=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return aj(cj(4,e),n);case"Yo":return aj(r.ordinalNumber(e,{unit:"year"}),n);default:return aj(cj(t.length,e),n)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,r,n){var o=Ob(e,n);if(r.isTwoDigitYear){var a=pj(r.year,o);return e.setUTCFullYear(a,0,n.firstWeekContainsDate),e.setUTCHours(0,0,0,0),kb(e,n)}var i="era"in t&&1!==t.era?1-r.year:r.year;return e.setUTCFullYear(i,0,n.firstWeekContainsDate),e.setUTCHours(0,0,0,0),kb(e,n)}}]),r}(Ty),gj=function(e){jy(r,e);var t=Cy(r);function r(){var e;Ay(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return Py(Kt(e=t.call.apply(t,[this].concat(o))),"priority",130),Py(Kt(e),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),e}return Oy(r,[{key:"parse",value:function(e,t){return dj("R"===t?4:t.length,e)}},{key:"set",value:function(e,t,r){var n=new Date(0);return n.setUTCFullYear(r,0,4),n.setUTCHours(0,0,0,0),Cb(n)}}]),r}(Ty),vj=function(e){jy(r,e);var t=Cy(r);function r(){var e;Ay(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return Py(Kt(e=t.call.apply(t,[this].concat(o))),"priority",130),Py(Kt(e),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),e}return Oy(r,[{key:"parse",value:function(e,t){return dj("u"===t?4:t.length,e)}},{key:"set",value:function(e,t,r){return e.setUTCFullYear(r,0,1),e.setUTCHours(0,0,0,0),e}}]),r}(Ty),xj=function(e){jy(r,e);var t=Cy(r);function r(){var e;Ay(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return Py(Kt(e=t.call.apply(t,[this].concat(o))),"priority",120),Py(Kt(e),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),e}return Oy(r,[{key:"parse",value:function(e,t,r){switch(t){case"Q":case"QQ":return cj(t.length,e);case"Qo":return r.ordinalNumber(e,{unit:"quarter"});case"QQQ":return r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(e,{width:"narrow",context:"formatting"});default:return r.quarter(e,{width:"wide",context:"formatting"})||r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,r){return e.setUTCMonth(3*(r-1),1),e.setUTCHours(0,0,0,0),e}}]),r}(Ty),bj=function(e){jy(r,e);var t=Cy(r);function r(){var e;Ay(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return Py(Kt(e=t.call.apply(t,[this].concat(o))),"priority",120),Py(Kt(e),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),e}return Oy(r,[{key:"parse",value:function(e,t,r){switch(t){case"q":case"qq":return cj(t.length,e);case"qo":return r.ordinalNumber(e,{unit:"quarter"});case"qqq":return r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(e,{width:"narrow",context:"standalone"});default:return r.quarter(e,{width:"wide",context:"standalone"})||r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,r){return e.setUTCMonth(3*(r-1),1),e.setUTCHours(0,0,0,0),e}}]),r}(Ty),yj=function(e){jy(r,e);var t=Cy(r);function r(){var e;Ay(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return Py(Kt(e=t.call.apply(t,[this].concat(o))),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Py(Kt(e),"priority",110),e}return Oy(r,[{key:"parse",value:function(e,t,r){var n=function(e){return e-1};switch(t){case"M":return aj(ij(Ny,e),n);case"MM":return aj(cj(2,e),n);case"Mo":return aj(r.ordinalNumber(e,{unit:"month"}),n);case"MMM":return r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(e,{width:"narrow",context:"formatting"});default:return r.month(e,{width:"wide",context:"formatting"})||r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,r){return e.setUTCMonth(r,1),e.setUTCHours(0,0,0,0),e}}]),r}(Ty),jj=function(e){jy(r,e);var t=Cy(r);function r(){var e;Ay(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return Py(Kt(e=t.call.apply(t,[this].concat(o))),"priority",110),Py(Kt(e),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),e}return Oy(r,[{key:"parse",value:function(e,t,r){var n=function(e){return e-1};switch(t){case"L":return aj(ij(Ny,e),n);case"LL":return aj(cj(2,e),n);case"Lo":return aj(r.ordinalNumber(e,{unit:"month"}),n);case"LLL":return r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(e,{width:"narrow",context:"standalone"});default:return r.month(e,{width:"wide",context:"standalone"})||r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,r){return e.setUTCMonth(r,1),e.setUTCHours(0,0,0,0),e}}]),r}(Ty);var wj=function(e){jy(r,e);var t=Cy(r);function r(){var e;Ay(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return Py(Kt(e=t.call.apply(t,[this].concat(o))),"priority",100),Py(Kt(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),e}return Oy(r,[{key:"parse",value:function(e,t,r){switch(t){case"w":return ij(Ly,e);case"wo":return r.ordinalNumber(e,{unit:"week"});default:return cj(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,r,n){return kb(function(e,t,r){Jx(2,arguments);var n=Zx(e),o=Xx(t),a=Pb(n,r)-o;return n.setUTCDate(n.getUTCDate()-7*a),n}(e,r,n),n)}}]),r}(Ty);var Sj=function(e){jy(r,e);var t=Cy(r);function r(){var e;Ay(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return Py(Kt(e=t.call.apply(t,[this].concat(o))),"priority",100),Py(Kt(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),e}return Oy(r,[{key:"parse",value:function(e,t,r){switch(t){case"I":return ij(Ly,e);case"Io":return r.ordinalNumber(e,{unit:"week"});default:return cj(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,r){return Cb(function(e,t){Jx(2,arguments);var r=Zx(e),n=Xx(t),o=Eb(r)-n;return r.setUTCDate(r.getUTCDate()-7*o),r}(e,r))}}]),r}(Ty),Cj=[31,28,31,30,31,30,31,31,30,31,30,31],Aj=[31,29,31,30,31,30,31,31,30,31,30,31],Ej=function(e){jy(r,e);var t=Cy(r);function r(){var e;Ay(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return Py(Kt(e=t.call.apply(t,[this].concat(o))),"priority",90),Py(Kt(e),"subPriority",1),Py(Kt(e),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),e}return Oy(r,[{key:"parse",value:function(e,t,r){switch(t){case"d":return ij($y,e);case"do":return r.ordinalNumber(e,{unit:"date"});default:return cj(t.length,e)}}},{key:"validate",value:function(e,t){var r=hj(e.getUTCFullYear()),n=e.getUTCMonth();return r?t>=1&&t<=Aj[n]:t>=1&&t<=Cj[n]}},{key:"set",value:function(e,t,r){return e.setUTCDate(r),e.setUTCHours(0,0,0,0),e}}]),r}(Ty),kj=function(e){jy(r,e);var t=Cy(r);function r(){var e;Ay(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return Py(Kt(e=t.call.apply(t,[this].concat(o))),"priority",90),Py(Kt(e),"subpriority",1),Py(Kt(e),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),e}return Oy(r,[{key:"parse",value:function(e,t,r){switch(t){case"D":case"DD":return ij(zy,e);case"Do":return r.ordinalNumber(e,{unit:"date"});default:return cj(t.length,e)}}},{key:"validate",value:function(e,t){return hj(e.getUTCFullYear())?t>=1&&t<=366:t>=1&&t<=365}},{key:"set",value:function(e,t,r){return e.setUTCMonth(0,r),e.setUTCHours(0,0,0,0),e}}]),r}(Ty);function Oj(e,t,r){var n,o,a,i,s,l,c,d;Jx(2,arguments);var u=bb(),p=Xx(null!==(n=null!==(o=null!==(a=null!==(i=null===r||void 0===r?void 0:r.weekStartsOn)&&void 0!==i?i:null===r||void 0===r||null===(s=r.locale)||void 0===s||null===(l=s.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==a?a:u.weekStartsOn)&&void 0!==o?o:null===(c=u.locale)||void 0===c||null===(d=c.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==n?n:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Zx(e),f=Xx(t),m=((f%7+7)%7<p?7:0)+f-h.getUTCDay();return h.setUTCDate(h.getUTCDate()+m),h}var Pj=function(e){jy(r,e);var t=Cy(r);function r(){var e;Ay(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return Py(Kt(e=t.call.apply(t,[this].concat(o))),"priority",90),Py(Kt(e),"incompatibleTokens",["D","i","e","c","t","T"]),e}return Oy(r,[{key:"parse",value:function(e,t,r){switch(t){case"E":case"EE":case"EEE":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,r,n){return(e=Oj(e,r,n)).setUTCHours(0,0,0,0),e}}]),r}(Ty),Ij=function(e){jy(r,e);var t=Cy(r);function r(){var e;Ay(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return Py(Kt(e=t.call.apply(t,[this].concat(o))),"priority",90),Py(Kt(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),e}return Oy(r,[{key:"parse",value:function(e,t,r,n){var o=function(e){var t=7*Math.floor((e-1)/7);return(e+n.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return aj(cj(t.length,e),o);case"eo":return aj(r.ordinalNumber(e,{unit:"day"}),o);case"eee":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeeee":return r.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,r,n){return(e=Oj(e,r,n)).setUTCHours(0,0,0,0),e}}]),r}(Ty),Dj=function(e){jy(r,e);var t=Cy(r);function r(){var e;Ay(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return Py(Kt(e=t.call.apply(t,[this].concat(o))),"priority",90),Py(Kt(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),e}return Oy(r,[{key:"parse",value:function(e,t,r,n){var o=function(e){var t=7*Math.floor((e-1)/7);return(e+n.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return aj(cj(t.length,e),o);case"co":return aj(r.ordinalNumber(e,{unit:"day"}),o);case"ccc":return r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"ccccc":return r.day(e,{width:"narrow",context:"standalone"});case"cccccc":return r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});default:return r.day(e,{width:"wide",context:"standalone"})||r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,r,n){return(e=Oj(e,r,n)).setUTCHours(0,0,0,0),e}}]),r}(Ty);var Mj=function(e){jy(r,e);var t=Cy(r);function r(){var e;Ay(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return Py(Kt(e=t.call.apply(t,[this].concat(o))),"priority",90),Py(Kt(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),e}return Oy(r,[{key:"parse",value:function(e,t,r){var n=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return cj(t.length,e);case"io":return r.ordinalNumber(e,{unit:"day"});case"iii":return aj(r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),n);case"iiiii":return aj(r.day(e,{width:"narrow",context:"formatting"}),n);case"iiiiii":return aj(r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),n);default:return aj(r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),n)}}},{key:"validate",value:function(e,t){return t>=1&&t<=7}},{key:"set",value:function(e,t,r){return e=function(e,t){Jx(2,arguments);var r=Xx(t);r%7===0&&(r-=7);var n=Zx(e),o=((r%7+7)%7<1?7:0)+r-n.getUTCDay();return n.setUTCDate(n.getUTCDate()+o),n}(e,r),e.setUTCHours(0,0,0,0),e}}]),r}(Ty),Tj=function(e){jy(r,e);var t=Cy(r);function r(){var e;Ay(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return Py(Kt(e=t.call.apply(t,[this].concat(o))),"priority",80),Py(Kt(e),"incompatibleTokens",["b","B","H","k","t","T"]),e}return Oy(r,[{key:"parse",value:function(e,t,r){switch(t){case"a":case"aa":case"aaa":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(e,{width:"narrow",context:"formatting"});default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,r){return e.setUTCHours(uj(r),0,0,0),e}}]),r}(Ty),Rj=function(e){jy(r,e);var t=Cy(r);function r(){var e;Ay(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return Py(Kt(e=t.call.apply(t,[this].concat(o))),"priority",80),Py(Kt(e),"incompatibleTokens",["a","B","H","k","t","T"]),e}return Oy(r,[{key:"parse",value:function(e,t,r){switch(t){case"b":case"bb":case"bbb":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(e,{width:"narrow",context:"formatting"});default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,r){return e.setUTCHours(uj(r),0,0,0),e}}]),r}(Ty),Nj=function(e){jy(r,e);var t=Cy(r);function r(){var e;Ay(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return Py(Kt(e=t.call.apply(t,[this].concat(o))),"priority",80),Py(Kt(e),"incompatibleTokens",["a","b","t","T"]),e}return Oy(r,[{key:"parse",value:function(e,t,r){switch(t){case"B":case"BB":case"BBB":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(e,{width:"narrow",context:"formatting"});default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,r){return e.setUTCHours(uj(r),0,0,0),e}}]),r}(Ty),$j=function(e){jy(r,e);var t=Cy(r);function r(){var e;Ay(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return Py(Kt(e=t.call.apply(t,[this].concat(o))),"priority",70),Py(Kt(e),"incompatibleTokens",["H","K","k","t","T"]),e}return Oy(r,[{key:"parse",value:function(e,t,r){switch(t){case"h":return ij(Uy,e);case"ho":return r.ordinalNumber(e,{unit:"hour"});default:return cj(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=12}},{key:"set",value:function(e,t,r){var n=e.getUTCHours()>=12;return n&&r<12?e.setUTCHours(r+12,0,0,0):n||12!==r?e.setUTCHours(r,0,0,0):e.setUTCHours(0,0,0,0),e}}]),r}(Ty),zj=function(e){jy(r,e);var t=Cy(r);function r(){var e;Ay(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return Py(Kt(e=t.call.apply(t,[this].concat(o))),"priority",70),Py(Kt(e),"incompatibleTokens",["a","b","h","K","k","t","T"]),e}return Oy(r,[{key:"parse",value:function(e,t,r){switch(t){case"H":return ij(By,e);case"Ho":return r.ordinalNumber(e,{unit:"hour"});default:return cj(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=23}},{key:"set",value:function(e,t,r){return e.setUTCHours(r,0,0,0),e}}]),r}(Ty),Lj=function(e){jy(r,e);var t=Cy(r);function r(){var e;Ay(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return Py(Kt(e=t.call.apply(t,[this].concat(o))),"priority",70),Py(Kt(e),"incompatibleTokens",["h","H","k","t","T"]),e}return Oy(r,[{key:"parse",value:function(e,t,r){switch(t){case"K":return ij(_y,e);case"Ko":return r.ordinalNumber(e,{unit:"hour"});default:return cj(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,r){return e.getUTCHours()>=12&&r<12?e.setUTCHours(r+12,0,0,0):e.setUTCHours(r,0,0,0),e}}]),r}(Ty),Bj=function(e){jy(r,e);var t=Cy(r);function r(){var e;Ay(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return Py(Kt(e=t.call.apply(t,[this].concat(o))),"priority",70),Py(Kt(e),"incompatibleTokens",["a","b","h","H","K","t","T"]),e}return Oy(r,[{key:"parse",value:function(e,t,r){switch(t){case"k":return ij(Fy,e);case"ko":return r.ordinalNumber(e,{unit:"hour"});default:return cj(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=24}},{key:"set",value:function(e,t,r){var n=r<=24?r%24:r;return e.setUTCHours(n,0,0,0),e}}]),r}(Ty),Fj=function(e){jy(r,e);var t=Cy(r);function r(){var e;Ay(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return Py(Kt(e=t.call.apply(t,[this].concat(o))),"priority",60),Py(Kt(e),"incompatibleTokens",["t","T"]),e}return Oy(r,[{key:"parse",value:function(e,t,r){switch(t){case"m":return ij(Wy,e);case"mo":return r.ordinalNumber(e,{unit:"minute"});default:return cj(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,r){return e.setUTCMinutes(r,0,0),e}}]),r}(Ty),_j=function(e){jy(r,e);var t=Cy(r);function r(){var e;Ay(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return Py(Kt(e=t.call.apply(t,[this].concat(o))),"priority",50),Py(Kt(e),"incompatibleTokens",["t","T"]),e}return Oy(r,[{key:"parse",value:function(e,t,r){switch(t){case"s":return ij(Vy,e);case"so":return r.ordinalNumber(e,{unit:"second"});default:return cj(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,r){return e.setUTCSeconds(r,0),e}}]),r}(Ty),Uj=function(e){jy(r,e);var t=Cy(r);function r(){var e;Ay(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return Py(Kt(e=t.call.apply(t,[this].concat(o))),"priority",30),Py(Kt(e),"incompatibleTokens",["t","T"]),e}return Oy(r,[{key:"parse",value:function(e,t){return aj(cj(t.length,e),(function(e){return Math.floor(e*Math.pow(10,3-t.length))}))}},{key:"set",value:function(e,t,r){return e.setUTCMilliseconds(r),e}}]),r}(Ty),Wj=function(e){jy(r,e);var t=Cy(r);function r(){var e;Ay(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return Py(Kt(e=t.call.apply(t,[this].concat(o))),"priority",10),Py(Kt(e),"incompatibleTokens",["t","T","x"]),e}return Oy(r,[{key:"parse",value:function(e,t){switch(t){case"X":return sj(ej,e);case"XX":return sj(tj,e);case"XXXX":return sj(rj,e);case"XXXXX":return sj(oj,e);default:return sj(nj,e)}}},{key:"set",value:function(e,t,r){return t.timestampIsSet?e:new Date(e.getTime()-r)}}]),r}(Ty),Vj=function(e){jy(r,e);var t=Cy(r);function r(){var e;Ay(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return Py(Kt(e=t.call.apply(t,[this].concat(o))),"priority",10),Py(Kt(e),"incompatibleTokens",["t","T","X"]),e}return Oy(r,[{key:"parse",value:function(e,t){switch(t){case"x":return sj(ej,e);case"xx":return sj(tj,e);case"xxxx":return sj(rj,e);case"xxxxx":return sj(oj,e);default:return sj(nj,e)}}},{key:"set",value:function(e,t,r){return t.timestampIsSet?e:new Date(e.getTime()-r)}}]),r}(Ty),Gj=function(e){jy(r,e);var t=Cy(r);function r(){var e;Ay(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return Py(Kt(e=t.call.apply(t,[this].concat(o))),"priority",40),Py(Kt(e),"incompatibleTokens","*"),e}return Oy(r,[{key:"parse",value:function(e){return lj(e)}},{key:"set",value:function(e,t,r){return[new Date(1e3*r),{timestampIsSet:!0}]}}]),r}(Ty),Hj=function(e){jy(r,e);var t=Cy(r);function r(){var e;Ay(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return Py(Kt(e=t.call.apply(t,[this].concat(o))),"priority",20),Py(Kt(e),"incompatibleTokens","*"),e}return Oy(r,[{key:"parse",value:function(e){return lj(e)}},{key:"set",value:function(e,t,r){return[new Date(r),{timestampIsSet:!0}]}}]),r}(Ty),qj={G:new Ry,y:new fj,Y:new mj,R:new gj,u:new vj,Q:new xj,q:new bj,M:new yj,L:new jj,w:new wj,I:new Sj,d:new Ej,D:new kj,E:new Pj,e:new Ij,c:new Dj,i:new Mj,a:new Tj,b:new Rj,B:new Nj,h:new $j,H:new zj,K:new Lj,k:new Bj,m:new Fj,s:new _j,S:new Uj,X:new Wj,x:new Vj,t:new Gj,T:new Hj},Yj=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Kj=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Xj=/^'([^]*?)'?$/,Qj=/''/g,Jj=/\S/,Zj=/[a-zA-Z]/;function ew(e,t,r,n){var o,a,i,s,l,c,d,u,p,h,f,m,g,v,x,b,y,j;Jx(3,arguments);var w=String(e),S=String(t),C=bb(),A=null!==(o=null!==(a=null===n||void 0===n?void 0:n.locale)&&void 0!==a?a:C.locale)&&void 0!==o?o:ay;if(!A.match)throw new RangeError("locale must contain match property");var E=Xx(null!==(i=null!==(s=null!==(l=null!==(c=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==c?c:null===n||void 0===n||null===(d=n.locale)||void 0===d||null===(u=d.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==l?l:C.firstWeekContainsDate)&&void 0!==s?s:null===(p=C.locale)||void 0===p||null===(h=p.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==i?i:1);if(!(E>=1&&E<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=Xx(null!==(f=null!==(m=null!==(g=null!==(v=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==v?v:null===n||void 0===n||null===(x=n.locale)||void 0===x||null===(b=x.options)||void 0===b?void 0:b.weekStartsOn)&&void 0!==g?g:C.weekStartsOn)&&void 0!==m?m:null===(y=C.locale)||void 0===y||null===(j=y.options)||void 0===j?void 0:j.weekStartsOn)&&void 0!==f?f:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===S)return""===w?Zx(r):new Date(NaN);var O,P={firstWeekContainsDate:E,weekStartsOn:k,locale:A},I=[new My],D=S.match(Kj).map((function(e){var t=e[0];return t in Vb?(0,Vb[t])(e,A.formatLong):e})).join("").match(Yj),M=[],T=by(D);try{var R=function(){var t=O.value;null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||!Yb(t)||Kb(t,S,e),null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!qb(t)||Kb(t,S,e);var r=t[0],o=qj[r];if(o){var a=o.incompatibleTokens;if(Array.isArray(a)){var i=M.find((function(e){return a.includes(e.token)||e.token===r}));if(i)throw new RangeError("The format string mustn't contain `".concat(i.fullToken,"` and `").concat(t,"` at the same time"))}else if("*"===o.incompatibleTokens&&M.length>0)throw new RangeError("The format string mustn't contain `".concat(t,"` and any other token at the same time"));M.push({token:r,fullToken:t});var s=o.run(w,t,A.match,P);if(!s)return{v:new Date(NaN)};I.push(s.setter),w=s.rest}else{if(r.match(Zj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+r+"`");if("''"===t?t="'":"'"===r&&(t=t.match(Xj)[1].replace(Qj,"'")),0!==w.indexOf(t))return{v:new Date(NaN)};w=w.slice(t.length)}};for(T.s();!(O=T.n()).done;){var N=R();if("object"===Qx(N))return N.v}}catch(V){T.e(V)}finally{T.f()}if(w.length>0&&Jj.test(w))return new Date(NaN);var $=I.map((function(e){return e.priority})).sort((function(e,t){return t-e})).filter((function(e,t,r){return r.indexOf(e)===t})).map((function(e){return I.filter((function(t){return t.priority===e})).sort((function(e,t){return t.subPriority-e.subPriority}))})).map((function(e){return e[0]})),z=Zx(r);if(isNaN(z.getTime()))return new Date(NaN);var L,B=Sb(z,ub(z)),F={},_=by($);try{for(_.s();!(L=_.n()).done;){var U=L.value;if(!U.validate(B,P))return new Date(NaN);var W=U.set(B,F,P);Array.isArray(W)?(B=W[0],yy(F,W[1])):B=W}}catch(V){_.e(V)}finally{_.f()}return B}function tw(e){Jx(1,arguments);var t=Zx(e);return t.setDate(1),t.setHours(0,0,0,0),t}function rw(e){Jx(1,arguments);var t=Zx(e),r=new Date(0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function nw(e,t){var r;Jx(1,arguments);var n=Xx(null!==(r=null===t||void 0===t?void 0:t.additionalDigits)&&void 0!==r?r:2);if(2!==n&&1!==n&&0!==n)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!==typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var o,a=function(e){var t,r={},n=e.split(ow.dateTimeDelimiter);if(n.length>2)return r;/:/.test(n[0])?t=n[0]:(r.date=n[0],t=n[1],ow.timeZoneDelimiter.test(r.date)&&(r.date=e.split(ow.timeZoneDelimiter)[0],t=e.substr(r.date.length,e.length)));if(t){var o=ow.timezone.exec(t);o?(r.time=t.replace(o[1],""),r.timezone=o[1]):r.time=t}return r}(e);if(a.date){var i=function(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};var o=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:null===a?o:100*a,restDateString:e.slice((n[1]||n[2]).length)}}(a.date,n);o=function(e,t){if(null===t)return new Date(NaN);var r=e.match(aw);if(!r)return new Date(NaN);var n=!!r[4],o=lw(r[1]),a=lw(r[2])-1,i=lw(r[3]),s=lw(r[4]),l=lw(r[5])-1;if(n)return function(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}(0,s,l)?function(e,t,r){var n=new Date(0);n.setUTCFullYear(e,0,4);var o=n.getUTCDay()||7,a=7*(t-1)+r+1-o;return n.setUTCDate(n.getUTCDate()+a),n}(t,s,l):new Date(NaN);var c=new Date(0);return function(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(dw[t]||(uw(e)?29:28))}(t,a,i)&&function(e,t){return t>=1&&t<=(uw(e)?366:365)}(t,o)?(c.setUTCFullYear(t,a,Math.max(o,i)),c):new Date(NaN)}(i.restDateString,i.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var s,l=o.getTime(),c=0;if(a.time&&(c=function(e){var t=e.match(iw);if(!t)return NaN;var r=cw(t[1]),n=cw(t[2]),o=cw(t[3]);if(!function(e,t,r){if(24===e)return 0===t&&0===r;return r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}(r,n,o))return NaN;return r*gb+n*mb+1e3*o}(a.time),isNaN(c)))return new Date(NaN);if(!a.timezone){var d=new Date(l+c),u=new Date(0);return u.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),u.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),u}return s=function(e){if("Z"===e)return 0;var t=e.match(sw);if(!t)return 0;var r="+"===t[1]?-1:1,n=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,o))return NaN;return r*(n*gb+o*mb)}(a.timezone),isNaN(s)?new Date(NaN):new Date(l+c+s)}var ow={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},aw=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,iw=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,sw=/^([+-])(\d{2})(?::?(\d{2}))?$/;function lw(e){return e?parseInt(e):1}function cw(e){return e&&parseFloat(e.replace(",","."))||0}var dw=[31,null,31,30,31,30,31,31,30,31,30,31];function uw(e){return e%400===0||e%4===0&&e%100!==0}function pw(e,t){Jx(2,arguments);var r=Zx(e).getTime(),n=Zx(t.start).getTime(),o=Zx(t.end).getTime();if(!(n<=o))throw new RangeError("Invalid interval");return r>=n&&r<=o}var hw=r(6723),fw=r.n(hw);const mw={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},gw={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",fullDateWithWeekday:"PPPP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",monthAndYear:"LLLL yyyy",monthAndDate:"MMMM d",fullTime:"p",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",fullDateTime:"PP p",fullDateTime12h:"PP hh:mm aa",fullDateTime24h:"PP HH:mm",keyboardDateTime:"P p",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class vw{constructor(e){this.isMUIAdapter=!0,this.isTimezoneCompatible=!1,this.lib="date-fns",this.locale=void 0,this.formats=void 0,this.formatTokenMap=mw,this.escapedCharacters={start:"'",end:"'"},this.longFormatters=void 0,this.date=e=>"undefined"===typeof e?new Date:null===e?null:new Date(e),this.dateWithTimezone=e=>this.date(e),this.getTimezone=()=>"default",this.setTimezone=e=>e,this.toJsDate=e=>e,this.getCurrentLocaleCode=()=>{var e;return(null==(e=this.locale)?void 0:e.code)||"en-US"},this.is12HourCycleInCurrentLocale=()=>!this.locale||/a/.test(this.locale.formatLong.time({width:"short"})),this.expandFormat=e=>e.match(/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,this.longFormatters[t])(e,this.locale.formatLong)}return e})).join(""),this.getFormatHelperText=e=>this.expandFormat(e).replace(/(aaa|aa|a)/g,"(a|p)m").toLocaleLowerCase(),this.isNull=e=>null===e,this.formatNumber=e=>e,this.getMeridiemText=e=>"am"===e?"AM":"PM";const{locale:t,formats:r,longFormatters:n}=e;this.locale=t,this.formats=(0,Be.A)({},gw,r),this.longFormatters=n}}class xw extends vw{constructor(){let{locale:e,formats:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({locale:null!=e?e:oy,formats:t,longFormatters:fw()}),this.parseISO=e=>nw(e),this.toISO=e=>function(e,t){var r,n;Jx(1,arguments);var o=Zx(e);if(isNaN(o.getTime()))throw new RangeError("Invalid time value");var a=String(null!==(r=null===t||void 0===t?void 0:t.format)&&void 0!==r?r:"extended"),i=String(null!==(n=null===t||void 0===t?void 0:t.representation)&&void 0!==n?n:"complete");if("extended"!==a&&"basic"!==a)throw new RangeError("format must be 'extended' or 'basic'");if("date"!==i&&"time"!==i&&"complete"!==i)throw new RangeError("representation must be 'date', 'time', or 'complete'");var s="",l="",c="extended"===a?"-":"",d="extended"===a?":":"";if("time"!==i){var u=Ib(o.getDate(),2),p=Ib(o.getMonth()+1,2),h=Ib(o.getFullYear(),4);s="".concat(h).concat(c).concat(p).concat(c).concat(u)}if("date"!==i){var f=o.getTimezoneOffset();if(0!==f){var m=Math.abs(f),g=Ib(Math.floor(m/60),2),v=Ib(m%60,2);l="".concat(f<0?"+":"-").concat(g,":").concat(v)}else l="Z";var x=""===s?"":"T",b=[Ib(o.getHours(),2),Ib(o.getMinutes(),2),Ib(o.getSeconds(),2)].join(d);s="".concat(s).concat(x).concat(b).concat(l)}return s}(e,{format:"extended"}),this.parse=(e,t)=>""===e?null:ew(e,t,new Date,{locale:this.locale}),this.isValid=e=>wb(this.date(e)),this.format=(e,t)=>this.formatByString(e,this.formats[t]),this.formatByString=(e,t)=>uy(e,t,{locale:this.locale}),this.getDiff=(e,t,r)=>{switch(r){case"years":return ab(e,this.date(t));case"quarters":return function(e,t,r){Jx(2,arguments);var n=lb(e,t)/3;return db(null===r||void 0===r?void 0:r.roundingMethod)(n)}(e,this.date(t));case"months":return lb(e,this.date(t));case"weeks":return function(e,t,r){Jx(2,arguments);var n=fb(e,t)/7;return db(null===r||void 0===r?void 0:r.roundingMethod)(n)}(e,this.date(t));case"days":return fb(e,this.date(t));case"hours":return function(e,t,r){Jx(2,arguments);var n=vb(e,t)/gb;return db(null===r||void 0===r?void 0:r.roundingMethod)(n)}(e,this.date(t));case"minutes":return function(e,t,r){Jx(2,arguments);var n=vb(e,t)/mb;return db(null===r||void 0===r?void 0:r.roundingMethod)(n)}(e,this.date(t));case"seconds":return function(e,t,r){Jx(2,arguments);var n=vb(e,t)/1e3;return db(null===r||void 0===r?void 0:r.roundingMethod)(n)}(e,this.date(t));default:return vb(e,this.date(t))}},this.isEqual=(e,t)=>null===e&&null===t||function(e,t){Jx(2,arguments);var r=Zx(e),n=Zx(t);return r.getTime()===n.getTime()}(e,t),this.isSameYear=(e,t)=>function(e,t){Jx(2,arguments);var r=Zx(e),n=Zx(t);return r.getFullYear()===n.getFullYear()}(e,t),this.isSameMonth=(e,t)=>function(e,t){Jx(2,arguments);var r=Zx(e),n=Zx(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}(e,t),this.isSameDay=(e,t)=>function(e,t){Jx(2,arguments);var r=pb(e),n=pb(t);return r.getTime()===n.getTime()}(e,t),this.isSameHour=(e,t)=>function(e,t){Jx(2,arguments);var r=vy(e),n=vy(t);return r.getTime()===n.getTime()}(e,t),this.isAfter=(e,t)=>my(e,t),this.isAfterYear=(e,t)=>my(e,jb(t)),this.isAfterDay=(e,t)=>my(e,ib(t)),this.isBefore=(e,t)=>gy(e,t),this.isBeforeYear=(e,t)=>gy(e,rw(t)),this.isBeforeDay=(e,t)=>gy(e,pb(t)),this.isWithinRange=(e,t)=>{let[r,n]=t;return pw(e,{start:r,end:n})},this.startOfYear=e=>rw(e),this.startOfMonth=e=>tw(e),this.startOfWeek=e=>hy(e,{locale:this.locale}),this.startOfDay=e=>pb(e),this.endOfYear=e=>jb(e),this.endOfMonth=e=>sb(e),this.endOfWeek=e=>yb(e,{locale:this.locale}),this.endOfDay=e=>ib(e),this.addYears=(e,t)=>nb(e,t),this.addMonths=(e,t)=>rb(e,t),this.addWeeks=(e,t)=>function(e,t){return Jx(2,arguments),eb(e,7*Xx(t))}(e,t),this.addDays=(e,t)=>eb(e,t),this.addHours=(e,t)=>function(e,t){return Jx(2,arguments),tb(e,36e5*Xx(t))}(e,t),this.addMinutes=(e,t)=>function(e,t){return Jx(2,arguments),tb(e,6e4*Xx(t))}(e,t),this.addSeconds=(e,t)=>function(e,t){return Jx(2,arguments),tb(e,1e3*Xx(t))}(e,t),this.getYear=e=>function(e){return Jx(1,arguments),Zx(e).getFullYear()}(e),this.getMonth=e=>function(e){return Jx(1,arguments),Zx(e).getMonth()}(e),this.getDate=e=>function(e){return Jx(1,arguments),Zx(e).getDate()}(e),this.getHours=e=>function(e){return Jx(1,arguments),Zx(e).getHours()}(e),this.getMinutes=e=>function(e){return Jx(1,arguments),Zx(e).getMinutes()}(e),this.getSeconds=e=>function(e){return Jx(1,arguments),Zx(e).getSeconds()}(e),this.getMilliseconds=e=>function(e){return Jx(1,arguments),Zx(e).getMilliseconds()}(e),this.setYear=(e,t)=>function(e,t){Jx(2,arguments);var r=Zx(e),n=Xx(t);return isNaN(r.getTime())?new Date(NaN):(r.setFullYear(n),r)}(e,t),this.setMonth=(e,t)=>function(e,t){Jx(2,arguments);var r=Zx(e),n=Xx(t),o=r.getFullYear(),a=r.getDate(),i=new Date(0);i.setFullYear(o,n,15),i.setHours(0,0,0,0);var s=py(i);return r.setMonth(n,Math.min(a,s)),r}(e,t),this.setDate=(e,t)=>function(e,t){Jx(2,arguments);var r=Zx(e),n=Xx(t);return r.setDate(n),r}(e,t),this.setHours=(e,t)=>function(e,t){Jx(2,arguments);var r=Zx(e),n=Xx(t);return r.setHours(n),r}(e,t),this.setMinutes=(e,t)=>function(e,t){Jx(2,arguments);var r=Zx(e),n=Xx(t);return r.setMinutes(n),r}(e,t),this.setSeconds=(e,t)=>function(e,t){Jx(2,arguments);var r=Zx(e),n=Xx(t);return r.setSeconds(n),r}(e,t),this.setMilliseconds=(e,t)=>function(e,t){Jx(2,arguments);var r=Zx(e),n=Xx(t);return r.setMilliseconds(n),r}(e,t),this.getDaysInMonth=e=>py(e),this.getNextMonth=e=>rb(e,1),this.getPreviousMonth=e=>rb(e,-1),this.getMonthArray=e=>{const t=[rw(e)];for(;t.length<12;){const e=t[t.length-1];t.push(this.getNextMonth(e))}return t},this.mergeDateAndTime=(e,t)=>this.setSeconds(this.setMinutes(this.setHours(e,this.getHours(t)),this.getMinutes(t)),this.getSeconds(t)),this.getWeekdays=()=>{const e=new Date;return function(e,t){var r;Jx(1,arguments);var n=e||{},o=Zx(n.start),a=Zx(n.end).getTime();if(!(o.getTime()<=a))throw new RangeError("Invalid interval");var i=[],s=o;s.setHours(0,0,0,0);var l=Number(null!==(r=null===t||void 0===t?void 0:t.step)&&void 0!==r?r:1);if(l<1||isNaN(l))throw new RangeError("`options.step` must be a number greater than 1");for(;s.getTime()<=a;)i.push(Zx(s)),s.setDate(s.getDate()+l),s.setHours(0,0,0,0);return i}({start:hy(e,{locale:this.locale}),end:yb(e,{locale:this.locale})}).map((e=>this.formatByString(e,"EEEEEE")))},this.getWeekArray=e=>{const t=hy(tw(e),{locale:this.locale}),r=yb(sb(e),{locale:this.locale});let n=0,o=t;const a=[];for(;gy(o,r);){const e=Math.floor(n/7);a[e]=a[e]||[],a[e].push(o),o=eb(o,1),n+=1}return a},this.getWeekNumber=e=>function(e,t){Jx(1,arguments);var r=Zx(e),n=hy(r,t).getTime()-fy(r,t).getTime();return Math.round(n/6048e5)+1}(e,{locale:this.locale}),this.getYearRange=(e,t)=>{const r=rw(e),n=jb(t),o=[];let a=r;for(;gy(a,n);)o.push(a),a=nb(a,1);return o}}}var bw={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 d\xeda",other:"{{count}} d\xedas"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 a\xf1o",other:"alrededor de {{count}} a\xf1os"},xYears:{one:"1 a\xf1o",other:"{{count}} a\xf1os"},overXYears:{one:"m\xe1s de 1 a\xf1o",other:"m\xe1s de {{count}} a\xf1os"},almostXYears:{one:"casi 1 a\xf1o",other:"casi {{count}} a\xf1os"}};const yw=function(e,t,r){var n,o=bw[e];return n="string"===typeof o?o:1===t?o.one:o.other.replace("{{count}}",t.toString()),null!==r&&void 0!==r&&r.addSuffix?r.comparison&&r.comparison>0?"en "+n:"hace "+n:n};var jw={date:Jb({formats:{full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:Jb({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:Jb({formats:{full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var ww={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'ma\xf1ana a la' p",nextWeek:"eeee 'a la' p",other:"P"},Sw={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'ma\xf1ana a las' p",nextWeek:"eeee 'a las' p",other:"P"};const Cw={code:"es",formatDistance:yw,formatLong:jw,formatRelative:function(e,t,r,n){return 1!==t.getUTCHours()?Sw[e]:ww[e]},localize:{ordinalNumber:function(e,t){return Number(e)+"\xba"},era:ty({values:{narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despu\xe9s de cristo"]},defaultWidth:"wide"}),quarter:ty({values:{narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1\xba trimestre","2\xba trimestre","3\xba trimestre","4\xba trimestre"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:ty({values:{narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},defaultWidth:"wide"}),day:ty({values:{narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s\xe1"],abbreviated:["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],wide:["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"]},defaultWidth:"wide"}),dayPeriod:ty({values:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"ma\xf1ana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"ma\xf1ana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"ma\xf1ana",afternoon:"tarde",evening:"tarde",night:"noche"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la ma\xf1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la ma\xf1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la ma\xf1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:ny({matchPattern:/^(\d+)(\xba)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:ry({matchPatterns:{narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u\xfa]n|despu[e\xe9]s de cristo|era com[u\xfa]n)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u\xfa]n)/i,/^(despu[e\xe9]s de cristo|era com[u\xfa]n)/i]},defaultParseWidth:"any"}),quarter:ry({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](\xba)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:ry({matchPatterns:{narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},defaultParseWidth:"any"}),day:ry({matchPatterns:{narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[\xe1a])/i,abbreviated:/^(dom|lun|mar|mi[\xe9e]|jue|vie|s[\xe1a]b)/i,wide:/^(domingo|lunes|martes|mi[\xe9e]rcoles|jueves|viernes|s[\xe1a]bado)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:ry({matchPatterns:{narrow:/^(a|p|mn|md|(de la|a las) (ma\xf1ana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (ma\xf1ana|tarde|noche))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/ma\xf1ana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:1}},Aw=["Cliente","Funcionario","Conveniado","Vip"],Ew={nombreCompleto:"",documento:"",telefono:"",email:"",direccion:"",tipo:"Cliente",fechaNacimiento:null},kw=()=>{const[e,t]=(0,a.useState)(""),[r,n]=(0,a.useState)(!1),[o,i]=(0,a.useState)(Ew),[s,l]=(0,a.useState)([]),[c,d]=(0,a.useState)(!1),[u,p]=(0,a.useState)(null),[h,f]=(0,a.useState)(null),[m,g]=(0,a.useState)(null),v=(0,a.useRef)(null);(0,a.useEffect)((()=>{x()}),[]);const x=async()=>{try{d(!0);const e=await mf();l(e),p(null)}catch(e){p("Error al cargar las personas"),console.error("Error al cargar las personas:",e)}finally{d(!1)}},b=()=>{n(!1),i(Ew),g(null)},y=e=>{const{name:t,value:r}=e.target;i((e=>({...e,[t]:"email"===t?r:r.toUpperCase()})))},j=async()=>{if(o.nombreCompleto&&o.documento)try{var e;d(!0),p(null);const t={...o,fechaNacimiento:(null===(e=o.fechaNacimiento)||void 0===e?void 0:e.toISOString())||null};let r;m?(r=await vf(m,t),f("Persona actualizada exitosamente")):(r=await gf(t),f("Persona agregada exitosamente")),console.log("Respuesta del servidor:",r),await x(),i(Ew),g(null),b()}catch(n){var t,r;console.error("Error completo:",n);const e=(null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||n.message||"Error al guardar la persona";p(e)}finally{d(!1)}else p("Por favor complete los campos requeridos: Nombre Completo y Documento")},w=s.filter((t=>Object.values(t).join(" ").toLowerCase().includes(e.toLowerCase())));return(0,Ve.jsxs)(Et,{sx:{width:"100%"},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",py:2,px:2,borderBottom:1,borderColor:"divider"},children:[(0,Ve.jsx)($r,{variant:"h5",component:"h1",children:"Personas"}),(0,Ve.jsx)(fs,{variant:"contained",color:"primary",startIcon:(0,Ve.jsx)(nf.A,{}),onClick:()=>{i(Ew),g(null),n(!0)},children:"AGREGAR PERSONA"})]}),(0,Ve.jsx)(Et,{sx:{px:2,pt:2},children:(0,Ve.jsx)(jp,{fullWidth:!0,size:"small",variant:"outlined",placeholder:"BUSCAR PERSONAS...",value:e,onChange:e=>{t(e.target.value)},InputProps:{startAdornment:(0,Ve.jsx)(kp,{position:"start",children:(0,Ve.jsx)(rf.A,{})})}})}),(0,Ve.jsx)(Et,{sx:{px:2,pt:2},children:(0,Ve.jsx)(Dp,{component:$t,children:(0,Ve.jsxs)(zp,{size:"small",children:[(0,Ve.jsx)(Vp,{sx:{backgroundColor:"#1976d2"},children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{sx:{color:"white"},children:"NOMBRE COMPLETO"}),(0,Ve.jsx)(th,{sx:{color:"white"},children:"DOCUMENTO"}),(0,Ve.jsx)(th,{sx:{color:"white"},children:"TEL\xc9FONO"}),(0,Ve.jsx)(th,{sx:{color:"white"},children:"EMAIL"}),(0,Ve.jsx)(th,{sx:{color:"white"},children:"DIRECCI\xd3N"}),(0,Ve.jsx)(th,{sx:{color:"white"},children:"TIPO"}),(0,Ve.jsx)(th,{sx:{color:"white"},children:"FECHA DE NACIMIENTO"}),(0,Ve.jsx)(th,{sx:{color:"white"},align:"center",children:"ACCIONES"})]})}),(0,Ve.jsx)(sh,{children:c?(0,Ve.jsx)(Xp,{children:(0,Ve.jsx)(th,{colSpan:8,align:"center",children:"Cargando..."})}):0===w.length?(0,Ve.jsx)(Xp,{children:(0,Ve.jsx)(th,{colSpan:8,align:"center",children:"No se encontraron personas"})}):w.map((e=>(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:e.nombreCompleto}),(0,Ve.jsx)(th,{children:e.documento}),(0,Ve.jsx)(th,{children:e.telefono||"-"}),(0,Ve.jsx)(th,{children:e.email||"-"}),(0,Ve.jsx)(th,{children:e.direccion||"-"}),(0,Ve.jsx)(th,{children:e.tipo}),(0,Ve.jsx)(th,{children:e.fechaNacimiento?new Date(e.fechaNacimiento).toLocaleDateString():"-"}),(0,Ve.jsxs)(th,{align:"center",children:[(0,Ve.jsx)(Ir,{size:"small",color:"primary",onClick:()=>(e=>{i({...e,fechaNacimiento:e.fechaNacimiento?new Date(e.fechaNacimiento):null}),g(e.id),n(!0)})(e),children:(0,Ve.jsx)(of.A,{fontSize:"small"})}),(0,Ve.jsx)(Ir,{size:"small",color:"error",onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1 seguro que desea eliminar esta persona?"))try{d(!0),await xf(e),await x(),f("Persona eliminada exitosamente")}catch(t){p("Error al eliminar la persona"),console.error("Error al eliminar la persona:",t)}finally{d(!1)}})(e.id),children:(0,Ve.jsx)(af.A,{fontSize:"small"})})]})]},e.id)))})]})})}),(0,Ve.jsxs)(Fi,{open:r,onClose:b,maxWidth:"sm",fullWidth:!0,children:[(0,Ve.jsx)(Gi,{children:m?"EDITAR PERSONA":"AGREGAR NUEVA PERSONA"}),(0,Ve.jsx)(Ki,{children:(0,Ve.jsxs)("form",{style:{display:"flex",flexDirection:"column",gap:"16px",paddingTop:"16px"},onKeyDown:e=>{if("Enter"===e.key&&!(e.target instanceof HTMLTextAreaElement)){e.preventDefault();const t=Array.from(e.currentTarget.querySelectorAll('input:not([disabled]), textarea:not([disabled]), select:not([disabled]), button:not([disabled]), [tabindex]:not([tabindex="-1"]):not([disabled]), [role="button"]:not([disabled])')).filter((e=>{const t=window.getComputedStyle(e);return null!==e.offsetParent&&"none"!==t.display&&"hidden"!==t.visibility})),r=t.findIndex((e=>e===document.activeElement||e.contains(document.activeElement)));if(-1!==r&&r<t.length-1){const e=t[r+1];null===e||void 0===e||e.focus()}else if(r===t.length-1){const e=v.current;e&&document.activeElement!==e&&!e.disabled&&e.focus()}}},noValidate:!0,onSubmit:e=>{e.preventDefault(),j()},children:[(0,Ve.jsx)(jp,{required:!0,fullWidth:!0,label:"NOMBRE COMPLETO",name:"nombreCompleto",value:o.nombreCompleto,onChange:y,error:!o.nombreCompleto,helperText:o.nombreCompleto?"":"ESTE CAMPO ES REQUERIDO"}),(0,Ve.jsx)(jp,{required:!0,fullWidth:!0,label:"DOCUMENTO",name:"documento",value:o.documento,onChange:y,error:!o.documento,helperText:o.documento?"":"ESTE CAMPO ES REQUERIDO"}),(0,Ve.jsx)(jp,{fullWidth:!0,label:"TEL\xc9FONO",name:"telefono",value:o.telefono,onChange:y}),(0,Ve.jsx)(jp,{fullWidth:!0,label:"email",name:"email",type:"email",value:o.email,onChange:y}),(0,Ve.jsx)(jp,{fullWidth:!0,label:"DIRECCI\xd3N",name:"direccion",value:o.direccion,onChange:y}),(0,Ve.jsxs)(lu,{fullWidth:!0,children:[(0,Ve.jsx)(ou,{children:"TIPO"}),(0,Ve.jsx)(gp,{value:o.tipo,label:"TIPO",onChange:e=>{i((t=>({...t,tipo:e.target.value})))},name:"tipo",children:Aw.map((e=>(0,Ve.jsx)(_h,{value:e,children:e.toUpperCase()},e)))})]}),(0,Ve.jsx)(Cm,{dateAdapter:xw,adapterLocale:Cw,children:(0,Ve.jsx)(Kx,{label:"FECHA DE NACIMIENTO",value:o.fechaNacimiento,onChange:e=>{i((t=>({...t,fechaNacimiento:e})))},format:"dd/MM/yyyy",slotProps:{textField:{fullWidth:!0}}})})]})}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:b,children:"CANCELAR"}),(0,Ve.jsx)(fs,{onClick:j,variant:"contained",color:"primary",disabled:!o.nombreCompleto||!o.documento,ref:v,children:"GUARDAR"})]})]}),(0,Ve.jsx)(tf,{open:!!h,autoHideDuration:3e3,onClose:()=>f(null),anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,Ve.jsx)(Ah,{onClose:()=>f(null),severity:"success",children:h})}),(0,Ve.jsx)(tf,{open:!!u,autoHideDuration:6e3,onClose:()=>p(null),anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,Ve.jsx)(Ah,{onClose:()=>p(null),severity:"error",children:u})})]})};const Ow=a.createContext({});function Pw(e){return(0,Mt.Ay)("MuiAccordion",e)}const Iw=(0,St.A)("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),Dw=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","slots","slotProps","TransitionComponent","TransitionProps"],Mw=(0,Ot.Ay)($t,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${Iw.region}`]:t.region},t.root,!r.square&&t.rounded,!r.disableGutters&&t.gutters]}})((e=>{let{theme:t}=e;const r={duration:t.transitions.duration.shortest};return{position:"relative",transition:t.transitions.create(["margin"],r),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(t.vars||t).palette.divider,transition:t.transitions.create(["opacity","background-color"],r)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${Iw.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${Iw.disabled}`]:{backgroundColor:(t.vars||t).palette.action.disabledBackground}}}),(e=>{let{theme:t}=e;return{variants:[{props:e=>!e.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(t.vars||t).shape.borderRadius,borderBottomRightRadius:(t.vars||t).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:e=>!e.disableGutters,style:{[`&.${Iw.expanded}`]:{margin:"16px 0"}}}]}})),Tw=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiAccordion"}),{children:n,className:o,defaultExpanded:i=!1,disabled:s=!1,disableGutters:l=!1,expanded:c,onChange:d,square:u=!1,slots:p={},slotProps:h={},TransitionComponent:f,TransitionProps:m}=r,g=(0,Fe.A)(r,Dw),[v,x]=(0,Fo.A)({controlled:c,default:i,name:"Accordion",state:"expanded"}),b=a.useCallback((e=>{x(!v),d&&d(e,!v)}),[v,d,x]),[y,...j]=a.Children.toArray(n),w=a.useMemo((()=>({expanded:v,disabled:s,disableGutters:l,toggle:b})),[v,s,l,b]),S=(0,Be.A)({},r,{square:u,disabled:s,disableGutters:l,expanded:v}),C=(e=>{const{classes:t,square:r,expanded:n,disabled:o,disableGutters:a}=e,i={root:["root",!r&&"rounded",n&&"expanded",o&&"disabled",!a&&"gutters"],region:["region"]};return(0,kt.A)(i,Pw,t)})(S),A=(0,Be.A)({transition:f},p),E=(0,Be.A)({transition:m},h),[k,O]=uh("transition",{elementType:Si,externalForwardedProps:{slots:A,slotProps:E},ownerState:S});return(0,Ve.jsxs)(Mw,(0,Be.A)({className:(0,vt.A)(C.root,o),ref:t,ownerState:S,square:u},g,{children:[(0,Ve.jsx)(Ow.Provider,{value:w,children:y}),(0,Ve.jsx)(k,(0,Be.A)({in:v,timeout:"auto"},O,{children:(0,Ve.jsx)("div",{"aria-labelledby":y.props.id,id:y.props["aria-controls"],role:"region",className:C.region,children:j})}))]}))}));function Rw(e){return(0,Mt.Ay)("MuiAccordionSummary",e)}const Nw=(0,St.A)("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),$w=["children","className","expandIcon","focusVisibleClassName","onClick"],zw=(0,Ot.Ay)(Ar,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;const r={duration:t.transitions.duration.shortest};return{display:"flex",minHeight:48,padding:t.spacing(0,2),transition:t.transitions.create(["min-height","background-color"],r),[`&.${Nw.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Nw.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`&:hover:not(.${Nw.disabled})`]:{cursor:"pointer"},variants:[{props:e=>!e.disableGutters,style:{[`&.${Nw.expanded}`]:{minHeight:64}}}]}})),Lw=(0,Ot.Ay)("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(e,t)=>t.content})((e=>{let{theme:t}=e;return{display:"flex",flexGrow:1,margin:"12px 0",variants:[{props:e=>!e.disableGutters,style:{transition:t.transitions.create(["margin"],{duration:t.transitions.duration.shortest}),[`&.${Nw.expanded}`]:{margin:"20px 0"}}}]}})),Bw=(0,Ot.Ay)("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(e,t)=>t.expandIconWrapper})((e=>{let{theme:t}=e;return{display:"flex",color:(t.vars||t).palette.action.active,transform:"rotate(0deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),[`&.${Nw.expanded}`]:{transform:"rotate(180deg)"}}})),Fw=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiAccordionSummary"}),{children:n,className:o,expandIcon:i,focusVisibleClassName:s,onClick:l}=r,c=(0,Fe.A)(r,$w),{disabled:d=!1,disableGutters:u,expanded:p,toggle:h}=a.useContext(Ow),f=(0,Be.A)({},r,{expanded:p,disabled:d,disableGutters:u}),m=(e=>{const{classes:t,expanded:r,disabled:n,disableGutters:o}=e,a={root:["root",r&&"expanded",n&&"disabled",!o&&"gutters"],focusVisible:["focusVisible"],content:["content",r&&"expanded",!o&&"contentGutters"],expandIconWrapper:["expandIconWrapper",r&&"expanded"]};return(0,kt.A)(a,Rw,t)})(f);return(0,Ve.jsxs)(zw,(0,Be.A)({focusRipple:!1,disableRipple:!0,disabled:d,component:"div","aria-expanded":p,className:(0,vt.A)(m.root,o),focusVisibleClassName:(0,vt.A)(m.focusVisible,s),onClick:e=>{h&&h(e),l&&l(e)},ref:t,ownerState:f},c,{children:[(0,Ve.jsx)(Lw,{className:m.content,ownerState:f,children:n}),i&&(0,Ve.jsx)(Bw,{className:m.expandIconWrapper,ownerState:f,children:i})]}))})),_w=["ownerState"],Uw=["variants"],Ww=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Vw(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const Gw=(0,st.A)(),Hw=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function qw(e){let{defaultTheme:t,theme:r,themeId:n}=e;return o=r,0===Object.keys(o).length?t:r[n]||r;var o}function Yw(e){return e?(t,r)=>r[e]:null}function Kw(e,t){let{ownerState:r}=t,n=(0,Fe.A)(t,_w);const o="function"===typeof e?e((0,Be.A)({ownerState:r},n)):e;if(Array.isArray(o))return o.flatMap((e=>Kw(e,(0,Be.A)({ownerState:r},n))));if(o&&"object"===typeof o&&Array.isArray(o.variants)){const{variants:e=[]}=o;let t=(0,Fe.A)(o,Uw);return e.forEach((e=>{let o=!0;"function"===typeof e.props?o=e.props((0,Be.A)({ownerState:r},n,r)):Object.keys(e.props).forEach((t=>{(null==r?void 0:r[t])!==e.props[t]&&n[t]!==e.props[t]&&(o=!1)})),o&&(Array.isArray(t)||(t=[t]),t.push("function"===typeof e.style?e.style((0,Be.A)({ownerState:r},n,r)):e.style))})),t}return o}const Xw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:r=Gw,rootShouldForwardProp:n=Vw,slotShouldForwardProp:o=Vw}=e,a=e=>(0,bt.A)((0,Be.A)({},e,{theme:qw((0,Be.A)({},e,{defaultTheme:r,themeId:t}))}));return a.__mui_systemSx=!0,function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,xt.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:s,slot:l,skipVariantsResolver:c,skipSx:d,overridesResolver:u=Yw(Hw(l))}=i,p=(0,Fe.A)(i,Ww),h=void 0!==c?c:l&&"Root"!==l&&"root"!==l||!1,f=d||!1;let m=Vw;"Root"===l||"root"===l?m=n:l?m=o:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(m=void 0);const g=(0,xt.default)(e,(0,Be.A)({shouldForwardProp:m,label:undefined},p)),v=e=>"function"===typeof e&&e.__emotion_real!==e||(0,td.Q)(e)?n=>Kw(e,(0,Be.A)({},n,{theme:qw({theme:n.theme,defaultTheme:r,themeId:t})})):e,x=function(n){let o=v(n);for(var i=arguments.length,l=new Array(i>1?i-1:0),c=1;c<i;c++)l[c-1]=arguments[c];const d=l?l.map(v):[];s&&u&&d.push((e=>{const n=qw((0,Be.A)({},e,{defaultTheme:r,themeId:t}));if(!n.components||!n.components[s]||!n.components[s].styleOverrides)return null;const o=n.components[s].styleOverrides,a={};return Object.entries(o).forEach((t=>{let[r,o]=t;a[r]=Kw(o,(0,Be.A)({},e,{theme:n}))})),u(e,a)})),s&&!h&&d.push((e=>{var n;const o=qw((0,Be.A)({},e,{defaultTheme:r,themeId:t}));return Kw({variants:null==o||null==(n=o.components)||null==(n=n[s])?void 0:n.variants},(0,Be.A)({},e,{theme:o}))})),f||d.push(a);const p=d.length-l.length;if(Array.isArray(n)&&p>0){const e=new Array(p).fill("");o=[...n,...e],o.raw=[...n.raw,...e]}const m=g(o,...d);return e.muiName&&(m.muiName=e.muiName),m};return g.withConfig&&(x.withConfig=g.withConfig),x}}();var Qw=r(8604);const Jw=["component","direction","spacing","divider","children","className","useFlexGap"],Zw=(0,st.A)(),eS=Xw("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function tS(e){return Nf({props:e,name:"MuiStack",defaultTheme:Zw})}function rS(e,t){const r=a.Children.toArray(e).filter(Boolean);return r.reduce(((e,n,o)=>(e.push(n),o<r.length-1&&e.push(a.cloneElement(t,{key:`separator-${o}`})),e)),[])}const nS=e=>{let{ownerState:t,theme:r}=e,n=(0,Be.A)({display:"flex",flexDirection:"column"},(0,Eh.NI)({theme:r},(0,Eh.kW)({values:t.direction,breakpoints:r.breakpoints.values}),(e=>({flexDirection:e}))));if(t.spacing){const e=(0,Qw.LX)(r),o=Object.keys(r.breakpoints.values).reduce(((e,r)=>(("object"===typeof t.spacing&&null!=t.spacing[r]||"object"===typeof t.direction&&null!=t.direction[r])&&(e[r]=!0),e)),{}),a=(0,Eh.kW)({values:t.direction,base:o}),i=(0,Eh.kW)({values:t.spacing,base:o});"object"===typeof a&&Object.keys(a).forEach(((e,t,r)=>{if(!a[e]){const n=t>0?a[r[t-1]]:"column";a[e]=n}}));const s=(r,n)=>{return t.useFlexGap?{gap:(0,Qw._W)(e,r)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${o=n?a[n]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[o]}`]:(0,Qw._W)(e,r)}};var o};n=(0,td.A)(n,(0,Eh.NI)({theme:r},i,s))}return n=(0,Eh.iZ)(r.breakpoints,n),n};const oS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=eS,useThemeProps:r=tS,componentName:n="MuiStack"}=e,o=t(nS);return a.forwardRef((function(e,t){const a=r(e),i=(0,yt.A)(a),{component:s="div",direction:l="column",spacing:c=0,divider:d,children:u,className:p,useFlexGap:h=!1}=i,f=(0,Fe.A)(i,Jw),m={direction:l,spacing:c,useFlexGap:h},g=(0,kt.A)({root:["root"]},(e=>(0,Mt.Ay)(n,e)),{});return(0,Ve.jsx)(o,(0,Be.A)({as:s,ownerState:m,ref:t,className:(0,vt.A)(g.root,p)},f,{children:d?rS(u,d):u}))}))}({createStyledComponent:(0,Ot.Ay)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>(0,at.b)({props:e,name:"MuiStack"})});function aS(e){return(0,Mt.Ay)("MuiFormControlLabel",e)}const iS=(0,St.A)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),sS=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],lS=(0,Ot.Ay)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${iS.label}`]:t.label},t.root,t[`labelPlacement${(0,Pt.A)(r.labelPlacement)}`]]}})((e=>{let{theme:t,ownerState:r}=e;return(0,Be.A)({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${iS.disabled}`]:{cursor:"default"}},"start"===r.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===r.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===r.labelPlacement&&{flexDirection:"column",marginLeft:16},{[`& .${iS.label}`]:{[`&.${iS.disabled}`]:{color:(t.vars||t).palette.text.disabled}}})})),cS=(0,Ot.Ay)("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((e=>{let{theme:t}=e;return{[`&.${iS.error}`]:{color:(t.vars||t).palette.error.main}}})),dS=a.forwardRef((function(e,t){var r,n;const o=(0,at.b)({props:e,name:"MuiFormControlLabel"}),{className:i,componentsProps:s={},control:l,disabled:c,disableTypography:d,label:u,labelPlacement:p="end",required:h,slotProps:f={}}=o,m=(0,Fe.A)(o,sS),g=ud(),v=null!=(r=null!=c?c:l.props.disabled)?r:null==g?void 0:g.disabled,x=null!=h?h:l.props.required,b={disabled:v,required:x};["checked","name","onChange","value","inputRef"].forEach((e=>{"undefined"===typeof l.props[e]&&"undefined"!==typeof o[e]&&(b[e]=o[e])}));const y=cd({props:o,muiFormControl:g,states:["error"]}),j=(0,Be.A)({},o,{disabled:v,labelPlacement:p,required:x,error:y.error}),w=(e=>{const{classes:t,disabled:r,labelPlacement:n,error:o,required:a}=e,i={root:["root",r&&"disabled",`labelPlacement${(0,Pt.A)(n)}`,o&&"error",a&&"required"],label:["label",r&&"disabled"],asterisk:["asterisk",o&&"error"]};return(0,kt.A)(i,aS,t)})(j),S=null!=(n=f.typography)?n:s.typography;let C=u;return null==C||C.type===$r||d||(C=(0,Ve.jsx)($r,(0,Be.A)({component:"span"},S,{className:(0,vt.A)(w.label,null==S?void 0:S.className),children:C}))),(0,Ve.jsxs)(lS,(0,Be.A)({className:(0,vt.A)(w.root,i),ownerState:j,ref:t},m,{children:[a.cloneElement(l,b),x?(0,Ve.jsxs)(oS,{display:"block",children:[C,(0,Ve.jsxs)(cS,{ownerState:j,"aria-hidden":!0,className:w.asterisk,children:["\u2009","*"]})]}):C]}))}));function uS(e){return(0,Mt.Ay)("PrivateSwitchBase",e)}(0,St.A)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const pS=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],hS=(0,Ot.Ay)(Ar)((e=>{let{ownerState:t}=e;return(0,Be.A)({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})})),fS=(0,Ot.Ay)("input",{shouldForwardProp:Ia.A})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),mS=a.forwardRef((function(e,t){const{autoFocus:r,checked:n,checkedIcon:o,className:a,defaultChecked:i,disabled:s,disableFocusRipple:l=!1,edge:c=!1,icon:d,id:u,inputProps:p,inputRef:h,name:f,onBlur:m,onChange:g,onFocus:v,readOnly:x,required:b=!1,tabIndex:y,type:j,value:w}=e,S=(0,Fe.A)(e,pS),[C,A]=(0,Fo.A)({controlled:n,default:Boolean(i),name:"SwitchBase",state:"checked"}),E=ud();let k=s;E&&"undefined"===typeof k&&(k=E.disabled);const O="checkbox"===j||"radio"===j,P=(0,Be.A)({},e,{checked:C,disabled:k,disableFocusRipple:l,edge:c}),I=(e=>{const{classes:t,checked:r,disabled:n,edge:o}=e,a={root:["root",r&&"checked",n&&"disabled",o&&`edge${(0,Pt.A)(o)}`],input:["input"]};return(0,kt.A)(a,uS,t)})(P);return(0,Ve.jsxs)(hS,(0,Be.A)({component:"span",className:(0,vt.A)(I.root,a),centerRipple:!0,focusRipple:!l,disabled:k,tabIndex:null,role:void 0,onFocus:e=>{v&&v(e),E&&E.onFocus&&E.onFocus(e)},onBlur:e=>{m&&m(e),E&&E.onBlur&&E.onBlur(e)},ownerState:P,ref:t},S,{children:[(0,Ve.jsx)(fS,(0,Be.A)({autoFocus:r,checked:n,defaultChecked:i,className:I.input,disabled:k,id:O?u:void 0,name:f,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;const t=e.target.checked;A(t),g&&g(e,t)},readOnly:x,ref:h,required:b,ownerState:P,tabIndex:y,type:j},"checkbox"===j&&void 0===w?{}:{value:w},p)),C?o:d]}))})),gS=(0,ms.A)((0,Ve.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),vS=(0,ms.A)((0,Ve.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),xS=(0,ms.A)((0,Ve.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function bS(e){return(0,Mt.Ay)("MuiCheckbox",e)}const yS=(0,St.A)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),jS=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],wS=(0,Ot.Ay)(mS,{shouldForwardProp:e=>(0,Ia.A)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.indeterminate&&t.indeterminate,t[`size${(0,Pt.A)(r.size)}`],"default"!==r.color&&t[`color${(0,Pt.A)(r.color)}`]]}})((e=>{let{theme:t,ownerState:r}=e;return(0,Be.A)({color:(t.vars||t).palette.text.secondary},!r.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${"default"===r.color?t.vars.palette.action.activeChannel:t.vars.palette[r.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,It.X4)("default"===r.color?t.palette.action.active:t.palette[r.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==r.color&&{[`&.${yS.checked}, &.${yS.indeterminate}`]:{color:(t.vars||t).palette[r.color].main},[`&.${yS.disabled}`]:{color:(t.vars||t).palette.action.disabled}})})),SS=(0,Ve.jsx)(vS,{}),CS=(0,Ve.jsx)(gS,{}),AS=(0,Ve.jsx)(xS,{}),ES=a.forwardRef((function(e,t){var r,n;const o=(0,at.b)({props:e,name:"MuiCheckbox"}),{checkedIcon:i=SS,color:s="primary",icon:l=CS,indeterminate:c=!1,indeterminateIcon:d=AS,inputProps:u,size:p="medium",className:h}=o,f=(0,Fe.A)(o,jS),m=c?d:l,g=c?d:i,v=(0,Be.A)({},o,{color:s,indeterminate:c,size:p}),x=(e=>{const{classes:t,indeterminate:r,color:n,size:o}=e,a={root:["root",r&&"indeterminate",`color${(0,Pt.A)(n)}`,`size${(0,Pt.A)(o)}`]},i=(0,kt.A)(a,bS,t);return(0,Be.A)({},t,i)})(v);return(0,Ve.jsx)(wS,(0,Be.A)({type:"checkbox",inputProps:(0,Be.A)({"data-indeterminate":c},u),icon:a.cloneElement(m,{fontSize:null!=(r=m.props.fontSize)?r:p}),checkedIcon:a.cloneElement(g,{fontSize:null!=(n=g.props.fontSize)?n:p}),ownerState:v,ref:t,className:(0,vt.A)(x.root,h)},f,{classes:x}))}));function kS(e){return(0,Mt.Ay)("MuiAccordionDetails",e)}(0,St.A)("MuiAccordionDetails",["root"]);const OS=["className"],PS=(0,Ot.Ay)("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{padding:t.spacing(1,2,2)}})),IS=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiAccordionDetails"}),{className:n}=r,o=(0,Fe.A)(r,OS),a=r,i=(e=>{const{classes:t}=e;return(0,kt.A)({root:["root"]},kS,t)})(a);return(0,Ve.jsx)(PS,(0,Be.A)({className:(0,vt.A)(i.root,n),ref:t,ownerState:a},o))}));var DS=r(1337),MS=r(8242);const TS={nombre:"",descripcion:"",permisos:[]},RS=e=>e.reduce(((e,t)=>(e[t.modulo]||(e[t.modulo]=[]),e[t.modulo].push(t),e)),{}),NS=()=>{const[e,t]=(0,a.useState)(""),[r,n]=(0,a.useState)(!1),[o,i]=(0,a.useState)(TS),[s,l]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[u,p]=(0,a.useState)(!1),[h,f]=(0,a.useState)(null),[m,g]=(0,a.useState)(null),[v,x]=(0,a.useState)(null),[b,y]=(0,a.useState)({}),[j,w]=(0,a.useState)(!1),[S,C]=(0,a.useState)({modulo:"",pantalla:"",descripcion:""}),[A,E]=(0,a.useState)([]),[k,O]=(0,a.useState)(""),[P,I]=(0,a.useState)(""),[D,M]=(0,a.useState)({}),[T,R]=(0,a.useState)(!1),[N,$]=(0,a.useState)([]),[z,L]=(0,a.useState)(null),[B,F]=(0,a.useState)(!1),_={PRINCIPAL:["VER"],PDV:["CAJAS","CONTROL_CAJAS"],CAJA_MAYOR:["BALANCE"],SALDOS_MONETARIOS:["VER","EDITAR","AGREGAR"],RECURSOS_HUMANOS:["PERSONAS"],CONFIGURACION:["USUARIOS","ROLES","COTIZACIONES","SUCURSALES","MALETINES"],OPERACIONES:["CAJAS"]};(0,a.useEffect)((()=>{(async()=>{await V(),await W(),await Z(),await U(),await J()})()}),[]);const U=async()=>{const e=(await jf()).find((e=>"PRUEBA"===e.nombre));e?(console.log("%c === ROL PRUEBA ENCONTRADO ===","background: #4CAF50; color: white; padding: 2px 5px; border-radius: 2px;"),console.log("ID:",e.id),console.log("Nombre:",e.nombre),console.log("Descripci\xf3n:",e.descripcion),e.permisos&&e.permisos.length>0?(console.log("%c === PERMISOS DEL ROL PRUEBA ===","background: #2196F3; color: white; padding: 2px 5px; border-radius: 2px;"),console.table(e.permisos.map((e=>({id:e.id,modulo:e.modulo,pantalla:e.pantalla,descripcion:e.descripcion||"-"}))))):console.warn("El rol PRUEBA no tiene permisos asignados")):console.warn("No se encontr\xf3 el rol PRUEBA")},W=async()=>{try{const t=await Af(),r=Object.keys(_),n=t.filter((e=>!r.includes(e.modulo)));if(n.length>0){console.log(`Eliminando ${n.length} permisos de m\xf3dulos obsoletos`);for(const r of n)try{await kf(r.id),console.log(`Permiso eliminado: ${r.modulo}/${r.pantalla}`)}catch(e){console.error(`Error al eliminar permiso ${r.id}:`,e)}const t=await Af();return void d(t)}if(d(t),0===t.length){const t=[];for(const r in _)for(const n of _[r]){const o={modulo:r,pantalla:n,descripcion:`Permiso para ${n.toLowerCase()} en ${r.toLowerCase()}`};try{const e=await Ef(o);t.push(e)}catch(e){console.error(`Error al crear el permiso ${r}/${n}:`,e)}}t.length>0&&d(t)}}catch(e){console.error("Error al cargar permisos:",e)}};(0,a.useEffect)((()=>{const e={};Object.keys(_).forEach((t=>{e[t]=0}));c.filter((e=>Object.keys(_).includes(e.modulo))).forEach((t=>{void 0!==e[t.modulo]&&e[t.modulo]++})),M(e)}),[c,_]),(0,a.useEffect)((()=>{if(S.modulo){const e=c.filter((e=>e.modulo===S.modulo)).map((e=>e.pantalla));E(Array.from(new Set(e)))}else E([])}),[S.modulo,c]);const V=async()=>{try{p(!0);const e=await jf();l(e),f(null)}catch(e){f("Error al cargar los roles"),console.error("Error al cargar los roles:",e)}finally{p(!1)}},G=()=>{n(!1),i(TS),x(null),I("")},H=e=>{const{name:t,value:r}=e.target;i((e=>({...e,[t]:"nombre"===t?r.toUpperCase():r})))},q=s.filter((t=>t.nombre.toLowerCase().includes(e.toLowerCase()))),Y=(Object.keys(_),c.filter((e=>Object.keys(_).includes(e.modulo)))),K=(RS(k?Y.filter((e=>e.modulo===k)):Y),RS(P?Y.filter((e=>e.modulo===P)):Y)),X=()=>{w(!1),C({modulo:"",pantalla:"",descripcion:""})},Q=e=>{const{name:t,value:r}=e.target;C((e=>({...e,[t]:"modulo"===t||"pantalla"===t?r.toUpperCase():r})))},J=async()=>{try{p(!0);const t=(await jf()).find((e=>"PRUEBA"===e.nombre));if(!t)return void f("No se encontr\xf3 el rol PRUEBA");const r=[];Object.entries(_).forEach((e=>{let[t,n]=e;n.forEach((e=>{r.push({modulo:t,pantalla:e})}))})),console.log("Permisos requeridos:",r);const n=[];for(const a of r){const t=c.find((e=>e.modulo===a.modulo&&e.pantalla===a.pantalla));if(t)console.log(`Permiso encontrado: ${t.modulo}/${t.pantalla} (ID: ${t.id})`),n.push(t.id);else{console.warn(`Permiso no encontrado: ${a.modulo}/${a.pantalla}, cre\xe1ndolo...`);try{const e=await Ef({modulo:a.modulo,pantalla:a.pantalla,descripcion:`Permiso para ${a.pantalla.toLowerCase()} en ${a.modulo.toLowerCase()}`});console.log(`Permiso creado: ${e.modulo}/${e.pantalla} (ID: ${e.id})`),n.push(e.id);const t=await Af();d(t)}catch(e){console.error(`Error al crear permiso ${a.modulo}/${a.pantalla}:`,e)}}}console.log(`Asignando ${n.length} permisos al rol PRUEBA (ID: ${t.id})`),await Sf(t.id,{nombre:t.nombre,descripcion:t.descripcion||"Rol de prueba con todos los permisos requeridos",permisos:n}),g("Se han asignado los permisos requeridos al rol PRUEBA"),await V();const o=(await jf()).find((e=>"PRUEBA"===e.nombre));o&&(console.log("%c === ROL PRUEBA ACTUALIZADO ===","background: #4CAF50; color: white; padding: 2px 5px; border-radius: 2px;"),console.log("Permisos asignados:",o.permisos.length),console.table(o.permisos.map((e=>({id:e.id,modulo:e.modulo,pantalla:e.pantalla})))))}catch(e){console.error("Error al asignar permisos requeridos:",e),f("Error al asignar permisos requeridos al rol PRUEBA")}finally{p(!1)}},Z=async()=>{try{p(!0);const t=await Af(),r=new Set;Object.entries(_).forEach((e=>{let[t,n]=e;n.forEach((e=>{r.add(`${t}/${e}`)}))}));const n=t.filter((e=>{const t=`${e.modulo}/${e.pantalla}`;return!r.has(t)}));if(0===n.length)return g("No hay permisos obsoletos para eliminar"),void p(!1);console.log(`Se encontraron ${n.length} permisos obsoletos:`,n.map((e=>`${e.modulo}/${e.pantalla}`)));for(const a of n)try{await kf(a.id),console.log(`Permiso obsoleto eliminado: ${a.modulo}/${a.pantalla}`)}catch(e){console.error(`Error al eliminar permiso ${a.id}:`,e)}const o=await Af();d(o),g(`Se han eliminado ${n.length} permisos obsoletos`)}catch(e){console.error("Error al limpiar permisos:",e),f("Error al limpiar permisos obsoletos")}finally{p(!1)}};return(0,Ve.jsxs)(Et,{sx:{width:"100%"},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",py:2,px:2,borderBottom:1,borderColor:"divider"},children:[(0,Ve.jsx)($r,{variant:"h5",component:"h1",children:"Roles"}),(0,Ve.jsxs)(Et,{sx:{display:"flex",gap:2},children:[(0,Ve.jsx)(fs,{variant:"contained",color:"primary",startIcon:(0,Ve.jsx)(nf.A,{}),onClick:()=>{i(TS),x(null),I(""),n(!0)},children:"AGREGAR ROL"}),(0,Ve.jsx)(fs,{variant:"outlined",color:"secondary",onClick:J,children:"Asignar Permisos Espec\xedficos a PRUEBA"}),(0,Ve.jsx)(fs,{variant:"outlined",color:"warning",onClick:Z,children:"Limpiar Permisos Obsoletos"}),(0,Ve.jsx)(fs,{variant:"outlined",color:"secondary",onClick:async()=>{try{p(!0);const t=(await jf()).find((e=>"OPERADOR"===e.nombre));if(!t)return void f("No se encontr\xf3 el rol OPERADOR");const r=await Af(),n=[{modulo:"PRINCIPAL",pantalla:"VER"},{modulo:"OPERACIONES",pantalla:"CAJAS"}],o=[],a=t.permisos?t.permisos.map((e=>e.id)):[];for(const s of n){const t=r.find((e=>e.modulo===s.modulo&&e.pantalla===s.pantalla));if(t)o.push(t.id);else try{const e=await Ef({modulo:s.modulo,pantalla:s.pantalla,descripcion:`Permiso para ${s.pantalla} en ${s.modulo}`});o.push(e.id)}catch(e){console.error(`Error al crear permiso ${s.modulo}/${s.pantalla}:`,e)}}const i=Array.from(new Set([...a,...o]));await Sf(t.id,{nombre:t.nombre,descripcion:t.descripcion||"Rol para operadores del sistema",permisos:i}),g("Permisos asignados al rol OPERADOR correctamente"),await V()}catch(e){console.error("Error al asignar permisos al OPERADOR:",e),f("Error al asignar permisos al OPERADOR")}finally{p(!1)}},sx:{ml:2},children:"Asignar Permisos a OPERADOR"})]})]}),(0,Ve.jsxs)(Et,{sx:{px:2,pt:2,display:"flex",alignItems:"center",gap:2},children:[(0,Ve.jsx)(jp,{size:"small",variant:"outlined",placeholder:"BUSCAR ROLES...",value:e,onChange:e=>{t(e.target.value)},InputProps:{startAdornment:(0,Ve.jsx)(kp,{position:"start",children:(0,Ve.jsx)(rf.A,{})})},sx:{flexGrow:1}}),(0,Ve.jsx)(Ir,{color:"primary",onClick:()=>R(!T),children:(0,Ve.jsx)(MS.A,{})})]}),(0,Ve.jsx)(Si,{in:T,children:(0,Ve.jsxs)(Et,{sx:{p:2,bgcolor:"action.hover",mx:2,mt:1,borderRadius:1},children:[(0,Ve.jsx)($r,{variant:"subtitle2",gutterBottom:!0,children:"Filtrar por m\xf3dulo o pantalla"}),(0,Ve.jsx)(Et,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:Object.keys(_).map((e=>(0,Ve.jsx)(Pg,{label:e,clickable:!0,color:N.includes(e)?"primary":"default",onClick:()=>(e=>{N.includes(e)?$((t=>t.filter((t=>t!==e)))):$((t=>[...t,e]))})(e)},e)))})]})}),(0,Ve.jsx)(Et,{sx:{px:2,pt:2},children:(0,Ve.jsx)(Dp,{component:$t,children:(0,Ve.jsxs)(zp,{size:"small",children:[(0,Ve.jsx)(Vp,{sx:{backgroundColor:"#1976d2"},children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{sx:{color:"white"},children:"NOMBRE"}),(0,Ve.jsx)(th,{sx:{color:"white"},children:"DESCRIPCI\xd3N"}),(0,Ve.jsx)(th,{sx:{color:"white"},children:"PERMISOS"}),(0,Ve.jsx)(th,{sx:{color:"white"},align:"center",children:"ACCIONES"})]})}),(0,Ve.jsx)(sh,{children:u?(0,Ve.jsx)(Xp,{children:(0,Ve.jsx)(th,{colSpan:4,align:"center",children:"Cargando..."})}):0===q.length?(0,Ve.jsx)(Xp,{children:(0,Ve.jsx)(th,{colSpan:4,align:"center",children:"No se encontraron roles"})}):q.map((e=>(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:e.nombre}),(0,Ve.jsx)(th,{children:e.descripcion||"-"}),(0,Ve.jsx)(th,{children:(0,Ve.jsx)(Et,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.permisos.length>0?(0,Ve.jsx)(Ve.Fragment,{children:(0,Ve.jsx)(Pg,{size:"small",label:`${e.permisos.length} permisos`,color:"primary",onClick:()=>(e=>{L(e),F(!0)})(e)})}):(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"Sin permisos"}),(0,Ve.jsx)(Qo,{title:"Asignar permisos b\xe1sicos a este rol",children:(0,Ve.jsx)(Pg,{size:"small",label:"Asignar permisos b\xe1sicos",color:"warning",onClick:()=>(async e=>{try{p(!0);const t=s.find((t=>t.id===e));if(!t)return void f("No se encontr\xf3 el rol especificado");const r=c.find((e=>"PRINCIPAL"===e.modulo&&"VER"===e.pantalla));if(!r)return void f("No se encontr\xf3 el permiso b\xe1sico requerido");console.log("Permiso PRINCIPAL/VER encontrado:",r),await Sf(e,{nombre:t.nombre,descripcion:t.descripcion,permisos:[r.id]}),await V(),g(`Se han asignado permisos b\xe1sicos al rol ${t.nombre}`)}catch(t){console.error("Error al asignar permisos b\xe1sicos:",t),f("Error al asignar permisos b\xe1sicos")}finally{p(!1)}})(e.id)})})]})})}),(0,Ve.jsxs)(th,{align:"center",children:[(0,Ve.jsx)(Ir,{size:"small",color:"primary",onClick:()=>(e=>{i({nombre:e.nombre,descripcion:e.descripcion||"",permisos:e.permisos.map((e=>e.id))}),x(e.id),n(!0)})(e),children:(0,Ve.jsx)(of.A,{fontSize:"small"})}),(0,Ve.jsx)(Ir,{size:"small",color:"error",onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1 seguro que desea eliminar este rol?"))try{p(!0),await Cf(e),await V(),g("Rol eliminado exitosamente")}catch(n){var t,r;const e=(null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||n.message||"Error al eliminar el rol";f(e)}finally{p(!1)}})(e.id),children:(0,Ve.jsx)(af.A,{fontSize:"small"})})]})]},e.id)))})]})})}),(0,Ve.jsxs)(Fi,{open:r,onClose:G,maxWidth:"md",fullWidth:!0,children:[(0,Ve.jsx)(Gi,{children:v?"EDITAR ROL":"AGREGAR NUEVO ROL"}),(0,Ve.jsx)(Ki,{children:(0,Ve.jsxs)(Et,{sx:{display:"flex",flexDirection:"column",gap:2,pt:2},children:[(0,Ve.jsx)(jp,{required:!0,fullWidth:!0,label:"NOMBRE",name:"nombre",value:o.nombre,onChange:H,error:!o.nombre,helperText:o.nombre?"":"ESTE CAMPO ES REQUERIDO",inputProps:{style:{textTransform:"uppercase"}}}),(0,Ve.jsx)(jp,{fullWidth:!0,label:"DESCRIPCI\xd3N",name:"descripcion",value:o.descripcion,onChange:H,multiline:!0,rows:2}),(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:2,mb:1},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center"},children:[(0,Ve.jsx)($r,{variant:"h6",sx:{mr:2},children:"Permisos"}),(0,Ve.jsx)(fs,{size:"small",variant:"outlined",onClick:()=>{const e=c.every((e=>o.permisos.includes(e.id)));i(e?e=>({...e,permisos:[]}):e=>({...e,permisos:c.map((e=>e.id))}))},sx:{textTransform:"none"},children:c.every((e=>o.permisos.includes(e.id)))?"Deseleccionar todos":"Seleccionar todos"}),(0,Ve.jsx)(Pg,{label:`${o.permisos.length}/${c.length} seleccionados`,size:"small",sx:{ml:1,bgcolor:o.permisos.length===c.length?"#4caf50":o.permisos.length>0?"#ff9800":"#e0e0e0",color:o.permisos.length>0?"white":"inherit"}})]}),(0,Ve.jsx)(Qo,{title:"Filtrar permisos por m\xf3dulo para facilitar la selecci\xf3n",arrow:!0,children:(0,Ve.jsxs)(jp,{select:!0,size:"small",label:"FILTRAR M\xd3DULO",value:P,onChange:e=>I(e.target.value),sx:{width:220},SelectProps:{native:!0},InputProps:{startAdornment:(0,Ve.jsx)(kp,{position:"start",children:(0,Ve.jsx)(MS.A,{})})},children:[(0,Ve.jsx)("option",{value:"",children:"TODOS LOS M\xd3DULOS"}),Object.keys(_).map((e=>(0,Ve.jsxs)("option",{value:e,children:[e," (",D[e]||0,")"]},e)))]})})]}),Object.entries(K).map((e=>{let[t,r]=e;const n=r.map((e=>e.id)),a=n.every((e=>o.permisos.includes(e))),s=n.some((e=>o.permisos.includes(e)))&&!a;return(0,Ve.jsxs)(Tw,{expanded:!!b[t],onChange:()=>(e=>{y((t=>({...t,[e]:!t[e]})))})(t),children:[(0,Ve.jsx)(Fw,{expandIcon:(0,Ve.jsx)(DS.A,{}),children:(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center",width:"100%"},children:[(0,Ve.jsx)(dS,{control:(0,Ve.jsx)(ES,{checked:a,indeterminate:s,onChange:()=>((e,t)=>{const r=t.map((e=>e.id)),n=r.every((e=>o.permisos.includes(e)));i((e=>{let t;if(n)t=e.permisos.filter((e=>!r.includes(e)));else{const n=new Set(e.permisos);r.forEach((e=>n.add(e))),t=Array.from(n)}return{...e,permisos:t}}))})(0,r),onClick:e=>e.stopPropagation()}),label:(0,Ve.jsx)($r,{fontWeight:a||s?"bold":"normal",children:t}),onClick:e=>e.stopPropagation(),sx:{marginRight:"auto"}}),(0,Ve.jsx)(Pg,{label:`${r.filter((e=>o.permisos.includes(e.id))).length}/${r.length}`,size:"small",sx:{mr:1,bgcolor:a?"#4caf50":s?"#ff9800":"#e0e0e0",color:a||s?"white":"inherit"}})]})}),(0,Ve.jsx)(IS,{children:(0,Ve.jsx)($h,{container:!0,spacing:2,children:r.map((e=>(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(dS,{control:(0,Ve.jsx)(ES,{checked:o.permisos.includes(e.id),onChange:()=>{return t=e.id,void i((e=>{const r=e.permisos.includes(t)?e.permisos.filter((e=>e!==t)):[...e.permisos,t];return{...e,permisos:r}}));var t}}),label:(0,Ve.jsxs)(Et,{children:[(0,Ve.jsx)($r,{variant:"body2",children:e.pantalla}),(0,Ve.jsx)($r,{variant:"caption",color:"text.secondary",children:e.descripcion})]})})},e.id)))})})]},t)}))]})}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:G,children:"CANCELAR"}),(0,Ve.jsx)(fs,{onClick:async()=>{if(o.nombre)try{p(!0),f(null);const e=o.permisos;console.log(`Guardando rol '${o.nombre}' con ${e.length} permisos`),console.log("IDs de permisos seleccionados:",e),v?(await Sf(v,{nombre:o.nombre,descripcion:o.descripcion,permisos:e}),g("Rol actualizado exitosamente")):(await wf({nombre:o.nombre,descripcion:o.descripcion,permisos:e}),g("Rol agregado exitosamente")),await V(),G()}catch(n){var e,t,r;const o=(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||n.message||"Error al guardar el rol";f(o),console.error("Error al guardar rol:",n),null!==(r=n.response)&&void 0!==r&&r.data&&console.error("Respuesta del servidor:",n.response.data)}finally{p(!1)}else f("Por favor complete el nombre del rol")},variant:"contained",color:"primary",disabled:!o.nombre,children:"GUARDAR"})]})]}),(0,Ve.jsxs)(Fi,{open:j,onClose:X,maxWidth:"sm",fullWidth:!0,children:[(0,Ve.jsx)(Gi,{children:"AGREGAR NUEVO PERMISO"}),(0,Ve.jsx)(Ki,{children:(0,Ve.jsxs)(Et,{sx:{display:"flex",flexDirection:"column",gap:2,pt:2},children:[(0,Ve.jsxs)(jp,{required:!0,select:!0,fullWidth:!0,label:"M\xd3DULO",name:"modulo",value:S.modulo,onChange:e=>(e=>{const t=_[e];t&&(C((t=>({...t,modulo:e,pantalla:""}))),E(t))})(e.target.value),error:!S.modulo,helperText:S.modulo?"":"ESTE CAMPO ES REQUERIDO",SelectProps:{native:!0},children:[(0,Ve.jsx)("option",{value:"",disabled:!0,children:"Seleccione un m\xf3dulo"}),Object.keys(_).map((e=>(0,Ve.jsx)("option",{value:e,children:e},e)))]}),(0,Ve.jsxs)(jp,{required:!0,select:!0,fullWidth:!0,label:"PANTALLA",name:"pantalla",value:S.pantalla,onChange:Q,error:!S.pantalla,helperText:S.pantalla?"":"ESTE CAMPO ES REQUERIDO",disabled:!S.modulo,SelectProps:{native:!0},children:[(0,Ve.jsx)("option",{value:"",disabled:!0,children:"Seleccione una pantalla"}),A.map((e=>(0,Ve.jsx)("option",{value:e,children:e},e)))]}),(0,Ve.jsx)(jp,{fullWidth:!0,label:"DESCRIPCI\xd3N",name:"descripcion",value:S.descripcion,onChange:Q,multiline:!0,rows:2})]})}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:X,children:"CANCELAR"}),(0,Ve.jsx)(fs,{onClick:async()=>{if(S.modulo&&S.pantalla)try{p(!0),await Ef(S),g("Permiso creado exitosamente"),X();const e=await Af();d(e)}catch(r){var e,t;const n=(null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||r.message||"Error al crear el permiso";f(n)}finally{p(!1)}else f("M\xf3dulo y pantalla son requeridos")},variant:"contained",color:"primary",disabled:!S.modulo||!S.pantalla,children:"GUARDAR"})]})]}),(0,Ve.jsx)(tf,{open:!!m,autoHideDuration:3e3,onClose:()=>g(null),anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,Ve.jsx)(Ah,{onClose:()=>g(null),severity:"success",children:m})}),(0,Ve.jsx)(tf,{open:!!h,autoHideDuration:6e3,onClose:()=>f(null),anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,Ve.jsx)(Ah,{onClose:()=>f(null),severity:"error",children:h})})]})};function $S(e){return(0,Mt.Ay)("MuiCircularProgress",e)}(0,St.A)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const zS=["className","color","disableShrink","size","style","thickness","value","variant"];let LS,BS,FS,_S,US=e=>e;const WS=44,VS=(0,ar.i7)(LS||(LS=US`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),GS=(0,ar.i7)(BS||(BS=US`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),HS=(0,Ot.Ay)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`color${(0,Pt.A)(r.color)}`]]}})((e=>{let{ownerState:t,theme:r}=e;return(0,Be.A)({display:"inline-block"},"determinate"===t.variant&&{transition:r.transitions.create("transform")},"inherit"!==t.color&&{color:(r.vars||r).palette[t.color].main})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&(0,ar.AH)(FS||(FS=US`
      animation: ${0} 1.4s linear infinite;
    `),VS)})),qS=(0,Ot.Ay)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),YS=(0,Ot.Ay)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.circle,t[`circle${(0,Pt.A)(r.variant)}`],r.disableShrink&&t.circleDisableShrink]}})((e=>{let{ownerState:t,theme:r}=e;return(0,Be.A)({stroke:"currentColor"},"determinate"===t.variant&&{transition:r.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink&&(0,ar.AH)(_S||(_S=US`
      animation: ${0} 1.4s ease-in-out infinite;
    `),GS)})),KS=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiCircularProgress"}),{className:n,color:o="primary",disableShrink:a=!1,size:i=40,style:s,thickness:l=3.6,value:c=0,variant:d="indeterminate"}=r,u=(0,Fe.A)(r,zS),p=(0,Be.A)({},r,{color:o,disableShrink:a,size:i,thickness:l,value:c,variant:d}),h=(e=>{const{classes:t,variant:r,color:n,disableShrink:o}=e,a={root:["root",r,`color${(0,Pt.A)(n)}`],svg:["svg"],circle:["circle",`circle${(0,Pt.A)(r)}`,o&&"circleDisableShrink"]};return(0,kt.A)(a,$S,t)})(p),f={},m={},g={};if("determinate"===d){const e=2*Math.PI*((WS-l)/2);f.strokeDasharray=e.toFixed(3),g["aria-valuenow"]=Math.round(c),f.strokeDashoffset=`${((100-c)/100*e).toFixed(3)}px`,m.transform="rotate(-90deg)"}return(0,Ve.jsx)(HS,(0,Be.A)({className:(0,vt.A)(h.root,n),style:(0,Be.A)({width:i,height:i},m,s),ownerState:p,ref:t,role:"progressbar"},g,u,{children:(0,Ve.jsx)(qS,{className:h.svg,ownerState:p,viewBox:"22 22 44 44",children:(0,Ve.jsx)(YS,{className:h.circle,style:f,ownerState:p,cx:WS,cy:WS,r:(WS-l)/2,fill:"none",strokeWidth:l})})}))})),XS=(0,ms.A)((0,Ve.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),QS={getCotizaciones:async()=>(await ed.get("/api/cotizaciones")).data,getCotizacionVigente:async()=>(await ed.get("/api/cotizaciones/vigente")).data,getCotizacionById:async e=>(await ed.get(`/api/cotizaciones/${e}`)).data,getCotizacionByFecha:async e=>{try{return(await ed.get(`/api/cotizaciones/fecha/${e}`)).data}catch(t){console.error("Error al obtener cotizaci\xf3n por fecha:",t);const r=await QS.getCotizaciones();if(0===r.length)throw new Error("No hay cotizaciones disponibles");const n=new Date(e);return r.sort(((e,t)=>{const r=new Date(e.fecha),o=new Date(t.fecha);return Math.abs(r.getTime()-n.getTime())-Math.abs(o.getTime()-n.getTime())})),r[0]}},createCotizacion:async e=>(await ed.post("/api/cotizaciones",e)).data,updateCotizacion:async(e,t)=>(await ed.put(`/api/cotizaciones/${e}`,t)).data,deleteCotizacion:async e=>{await ed.delete(`/api/cotizaciones/${e}`)}},JS=QS,ZS=(0,a.createContext)(void 0),eC=()=>{const e=(0,a.useContext)(ZS);if(void 0===e)throw new Error("useAuth debe ser usado dentro de un AuthProvider");return e},tC=e=>{let{children:t}=e;const[r,n]=(0,a.useState)(null),[o,i]=(0,a.useState)(!0),[s,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(null),u=re();(0,a.useEffect)((()=>{const e=localStorage.getItem("user"),t=localStorage.getItem("token");if(e&&t){ed.defaults.headers.common.Authorization=`Bearer ${t}`,d(t);try{const t=JSON.parse(e);n(t),t.rol||p(t.id)}catch(s){console.error("Error al parsear el usuario almacenado:",s),localStorage.removeItem("user"),localStorage.removeItem("token"),d(null)}}i(!1)}),[]);const p=async e=>{try{console.log(`Cargando permisos para el usuario ID: ${e}`);const t=(await ed.get(`/api/usuarios/${e}`)).data;console.log("Datos del usuario obtenidos:",t),t.rol&&t.rol.permisos?(console.log("Rol del usuario:",t.rol.nombre),console.log("Permisos cargados:",t.rol.permisos.map((e=>`${e.modulo}/${e.pantalla}`)))):console.warn("El usuario no tiene rol o permisos asociados"),n(t),localStorage.setItem("user",JSON.stringify(t))}catch(s){console.error("Error al cargar permisos del usuario:",s),ed.isAxiosError(s)&&s.response&&console.error("Respuesta del servidor:",s.response.data)}},h=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toUpperCase(),f={user:r,loading:o,error:s,token:c,login:async(e,t)=>{try{i(!0),l(null);const r=await ed.post("/api/auth/login",{username:e,password:t}),{token:o,user:a}=r.data;console.log("%c === Usuario autenticado ===","background: #4CAF50; color: white; padding: 2px 5px; border-radius: 2px;"),console.log("ID:",a.id),console.log("Username:",a.username),a.rol?(console.log("%c === Rol del usuario ===","background: #2196F3; color: white; padding: 2px 5px; border-radius: 2px;"),console.log("ID del rol:",a.rolId),console.log("Nombre del rol:",a.rol.nombre),a.rol.permisos&&a.rol.permisos.length>0?(console.log("%c === Permisos asignados ===","background: #FF9800; color: white; padding: 2px 5px; border-radius: 2px;"),console.table(a.rol.permisos.map((e=>({id:e.id,modulo:e.modulo,pantalla:e.pantalla,descripcion:e.descripcion||"-"}))))):(console.warn("%c === Sin permisos asignados ===","background: #F44336; color: white; padding: 2px 5px; border-radius: 2px;"),console.log("El rol no tiene permisos asignados."))):(console.warn("%c === Sin rol asignado ===","background: #F44336; color: white; padding: 2px 5px; border-radius: 2px;"),console.log("El usuario no tiene un rol asignado.")),localStorage.setItem("token",o),localStorage.setItem("user",JSON.stringify(a)),d(o),ed.defaults.headers.common.Authorization=`Bearer ${o}`,n(a),a.rol||await p(a.id),u("/")}catch(s){var r,o;console.error("Error en login:",s),l((null===(r=s.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.message)||"Error al iniciar sesi\xf3n")}finally{i(!1)}},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),delete ed.defaults.headers.common.Authorization,n(null),d(null),u("/login")},hasPermission:(e,t)=>{if(console.log(`%c[PERMISOS] Verificando: M\xf3dulo="${e}", Pantalla="${t||"N/A"}"`,"color: blue; font-weight: bold;"),!r||!r.rol)return console.log("%c[PERMISOS] Resultado: NO (Sin usuario o sin rol)","color: red;"),!1;if(console.log(`%c[PERMISOS] Usuario: ${r.username}, Rol: ${r.rol.nombre}`,"color: gray;"),"ADMINISTRADOR"===r.rol.nombre)return console.log("%c[PERMISOS] Resultado: S\xcd (Usuario es ADMINISTRADOR)","color: green;"),!0;if(!r.rol.permisos||0===r.rol.permisos.length)return console.log(`%c[PERMISOS] Resultado: NO (Rol ${r.rol.nombre} no tiene permisos definidos o est\xe1 vac\xedo)`,"color: red;"),console.log("[PERMISOS] Permisos actuales:",r.rol.permisos),!1;const n=h(e).replace(/\\s+/g,"_");if(!t){const e=r.rol.permisos.filter((e=>h(e.modulo)===n)).length>0;return console.log(`%c[PERMISOS] Resultado (solo m\xf3dulo ${n}): ${e?"S\xcd":"NO"}`,e?"color: green;":"color: red;"),e}const o=h(t),a=r.rol.permisos.filter((e=>h(e.modulo)===n&&h(e.pantalla)===o)).length>0;return console.log(`%c[PERMISOS] Resultado (${n}/${o}): ${a?"S\xcd":"NO"}`,a?"color: green;":"color: red;"),a}};return(0,Ve.jsx)(ZS.Provider,{value:f,children:t})},rC=e=>new Intl.NumberFormat("es-PY",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e).replace(".",","),nC={guaranies:e=>new Intl.NumberFormat("es-PY",{style:"decimal",maximumFractionDigits:0}).format(e),dollars:e=>`US$ ${rC(e)}`,reals:e=>`R$ ${rC(e)}`,dolares:e=>new Intl.NumberFormat("es-PY",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e),reales:e=>new Intl.NumberFormat("es-PY",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e)},oC=()=>{const{hasPermission:e}=eC(),[t,r]=(0,a.useState)([]),[n,o]=(0,a.useState)(!1),[i,s]=(0,a.useState)(null),[l,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(!1),[p,h]=(0,a.useState)({valorDolar:0,valorReal:0}),f=(0,a.useRef)(null),[m,g]=(0,a.useState)({valorDolar:"",valorReal:""});(0,a.useEffect)((()=>{v()}),[]);const v=async()=>{o(!0),s(null);try{const e=await JS.getCotizaciones();r(e)}catch(i){var e,t;console.error("Error al cargar cotizaciones:",i),s((null===(e=i.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Error al cargar las cotizaciones")}finally{o(!1)}},x=e=>{const{name:t,value:r}=e.target;h((e=>({...e,[t]:parseFloat(r)||0}))),parseFloat(r)<=0?g((e=>({...e,[t]:"El valor debe ser mayor que 0"}))):g((e=>({...e,[t]:""})))},b=e=>{e.target.select()},y=e=>{try{return uy(new Date(e),"dd 'de' MMMM 'de' yyyy, HH:mm",{locale:Cw})}catch(i){return e}};return(0,Ve.jsxs)(Et,{sx:{p:3},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,Ve.jsx)($r,{variant:"h4",component:"h1",children:"Cotizaciones"}),e("Configuracion","Crear")&&(0,Ve.jsx)(fs,{variant:"contained",color:"primary",startIcon:(0,Ve.jsx)(XS,{}),onClick:()=>u(!0),children:"Nueva Cotizaci\xf3n"})]}),i&&(0,Ve.jsx)(Ah,{severity:"error",sx:{mb:2},children:i}),(0,Ve.jsx)(tf,{open:!!l,autoHideDuration:6e3,onClose:()=>c(null),anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,Ve.jsx)(Ah,{onClose:()=>c(null),severity:"success",children:l})}),n?(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",my:4},children:(0,Ve.jsx)(KS,{})}):(0,Ve.jsx)(Dp,{component:$t,children:(0,Ve.jsxs)(zp,{children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{sx:{backgroundColor:"primary.main"},children:[(0,Ve.jsx)(th,{sx:{color:"white"},children:"Fecha"}),(0,Ve.jsx)(th,{sx:{color:"white"},children:"Cotizaci\xf3n D\xf3lar"}),(0,Ve.jsx)(th,{sx:{color:"white"},children:"Cotizaci\xf3n Real"}),(0,Ve.jsx)(th,{sx:{color:"white"},children:"Estado"}),(0,Ve.jsx)(th,{sx:{color:"white"},children:"Usuario"})]})}),(0,Ve.jsx)(sh,{children:t.length>0?t.map((e=>{var t;return(0,Ve.jsxs)(Xp,{sx:{backgroundColor:e.vigente?"rgba(76, 175, 80, 0.1)":"inherit"},children:[(0,Ve.jsx)(th,{children:y(e.fecha)}),(0,Ve.jsx)(th,{children:nC.guaranies(e.valorDolar)}),(0,Ve.jsx)(th,{children:nC.guaranies(e.valorReal)}),(0,Ve.jsx)(th,{children:e.vigente?(0,Ve.jsx)($r,{variant:"body2",sx:{color:"success.main",fontWeight:"bold"},children:"VIGENTE"}):(0,Ve.jsx)($r,{variant:"body2",color:"textSecondary",children:"Hist\xf3rico"})}),(0,Ve.jsx)(th,{children:(null===(t=e.usuario)||void 0===t?void 0:t.nombre)||"Desconocido"})]},e.id)})):(0,Ve.jsx)(Xp,{children:(0,Ve.jsx)(th,{colSpan:5,align:"center",children:"No hay cotizaciones registradas"})})})]})}),(0,Ve.jsxs)(Fi,{open:d,onClose:()=>u(!1),maxWidth:"sm",fullWidth:!0,children:[(0,Ve.jsx)(Gi,{children:"Nueva Cotizaci\xf3n"}),(0,Ve.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),p.valorDolar<=0||p.valorReal<=0)g({valorDolar:p.valorDolar<=0?"El valor debe ser mayor que 0":"",valorReal:p.valorReal<=0?"El valor debe ser mayor que 0":""});else{o(!0),s(null);try{await JS.createCotizacion(p),c("Cotizaci\xf3n creada correctamente"),u(!1),v(),h({valorDolar:0,valorReal:0})}catch(i){var t,r;console.error("Error al crear cotizaci\xf3n:",i),s((null===(t=i.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||"Error al crear la cotizaci\xf3n")}finally{o(!1)}}},onKeyDown:e=>{if("Enter"===e.key&&!(e.target instanceof HTMLTextAreaElement)){e.preventDefault();const t=e.currentTarget,r=Array.from(t.querySelectorAll('input:not([disabled]), textarea:not([disabled]), select:not([disabled]), button:not([disabled]), [tabindex]:not([tabindex="-1"]):not([disabled])')).filter((e=>{const t=window.getComputedStyle(e);return null!==e.offsetParent&&"none"!==t.display&&"hidden"!==t.visibility})),n=r.findIndex((e=>e===document.activeElement));if(-1!==n&&n<r.length-1){const e=r[n+1];null===e||void 0===e||e.focus()}else if(n===r.length-2){const e=f.current;e&&!e.disabled&&e.focus()}}},children:[(0,Ve.jsxs)(Ki,{children:[(0,Ve.jsx)(jp,{name:"valorDolar",label:"Cotizaci\xf3n del D\xf3lar (G$)",fullWidth:!0,margin:"normal",variant:"outlined",type:"number",inputProps:{min:0,step:"0.01"},value:p.valorDolar,onChange:x,onFocus:b,error:!!m.valorDolar,helperText:m.valorDolar,required:!0}),(0,Ve.jsx)(jp,{name:"valorReal",label:"Cotizaci\xf3n del Real (G$)",fullWidth:!0,margin:"normal",variant:"outlined",type:"number",inputProps:{min:0,step:"0.01"},value:p.valorReal,onChange:x,onFocus:b,error:!!m.valorReal,helperText:m.valorReal,required:!0})]}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:()=>u(!1),color:"inherit",children:"Cancelar"}),(0,Ve.jsx)(fs,{type:"submit",color:"primary",variant:"contained",disabled:n||p.valorDolar<=0||p.valorReal<=0,ref:f,children:n?(0,Ve.jsx)(KS,{size:24}):"Guardar"})]})]})]})]})};function aC(e){return a.Children.toArray(e).filter((e=>a.isValidElement(e)))}function iC(e){return(0,Mt.Ay)("MuiButtonGroup",e)}const sC=(0,St.A)("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),lC=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],cC=(0,Ot.Ay)("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${sC.grouped}`]:t.grouped},{[`& .${sC.grouped}`]:t[`grouped${(0,Pt.A)(r.orientation)}`]},{[`& .${sC.grouped}`]:t[`grouped${(0,Pt.A)(r.variant)}`]},{[`& .${sC.grouped}`]:t[`grouped${(0,Pt.A)(r.variant)}${(0,Pt.A)(r.orientation)}`]},{[`& .${sC.grouped}`]:t[`grouped${(0,Pt.A)(r.variant)}${(0,Pt.A)(r.color)}`]},{[`& .${sC.firstButton}`]:t.firstButton},{[`& .${sC.lastButton}`]:t.lastButton},{[`& .${sC.middleButton}`]:t.middleButton},t.root,t[r.variant],!0===r.disableElevation&&t.disableElevation,r.fullWidth&&t.fullWidth,"vertical"===r.orientation&&t.vertical]}})((e=>{let{theme:t,ownerState:r}=e;return(0,Be.A)({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius},"contained"===r.variant&&{boxShadow:(t.vars||t).shadows[2]},r.disableElevation&&{boxShadow:"none"},r.fullWidth&&{width:"100%"},"vertical"===r.orientation&&{flexDirection:"column"},{[`& .${sC.grouped}`]:(0,Be.A)({minWidth:40,"&:hover":(0,Be.A)({},"contained"===r.variant&&{boxShadow:"none"})},"contained"===r.variant&&{boxShadow:"none"}),[`& .${sC.firstButton},& .${sC.middleButton}`]:(0,Be.A)({},"horizontal"===r.orientation&&{borderTopRightRadius:0,borderBottomRightRadius:0},"vertical"===r.orientation&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},"text"===r.variant&&"horizontal"===r.orientation&&{borderRight:t.vars?`1px solid rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:"1px solid "+("light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),[`&.${sC.disabled}`]:{borderRight:`1px solid ${(t.vars||t).palette.action.disabled}`}},"text"===r.variant&&"vertical"===r.orientation&&{borderBottom:t.vars?`1px solid rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:"1px solid "+("light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),[`&.${sC.disabled}`]:{borderBottom:`1px solid ${(t.vars||t).palette.action.disabled}`}},"text"===r.variant&&"inherit"!==r.color&&{borderColor:t.vars?`rgba(${t.vars.palette[r.color].mainChannel} / 0.5)`:(0,It.X4)(t.palette[r.color].main,.5)},"outlined"===r.variant&&"horizontal"===r.orientation&&{borderRightColor:"transparent"},"outlined"===r.variant&&"vertical"===r.orientation&&{borderBottomColor:"transparent"},"contained"===r.variant&&"horizontal"===r.orientation&&{borderRight:`1px solid ${(t.vars||t).palette.grey[400]}`,[`&.${sC.disabled}`]:{borderRight:`1px solid ${(t.vars||t).palette.action.disabled}`}},"contained"===r.variant&&"vertical"===r.orientation&&{borderBottom:`1px solid ${(t.vars||t).palette.grey[400]}`,[`&.${sC.disabled}`]:{borderBottom:`1px solid ${(t.vars||t).palette.action.disabled}`}},"contained"===r.variant&&"inherit"!==r.color&&{borderColor:(t.vars||t).palette[r.color].dark},{"&:hover":(0,Be.A)({},"outlined"===r.variant&&"horizontal"===r.orientation&&{borderRightColor:"currentColor"},"outlined"===r.variant&&"vertical"===r.orientation&&{borderBottomColor:"currentColor"})}),[`& .${sC.lastButton},& .${sC.middleButton}`]:(0,Be.A)({},"horizontal"===r.orientation&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},"vertical"===r.orientation&&{borderTopRightRadius:0,borderTopLeftRadius:0},"outlined"===r.variant&&"horizontal"===r.orientation&&{marginLeft:-1},"outlined"===r.variant&&"vertical"===r.orientation&&{marginTop:-1})})})),dC=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiButtonGroup"}),{children:n,className:o,color:i="primary",component:s="div",disabled:l=!1,disableElevation:c=!1,disableFocusRipple:d=!1,disableRipple:u=!1,fullWidth:p=!1,orientation:h="horizontal",size:f="medium",variant:m="outlined"}=r,g=(0,Fe.A)(r,lC),v=(0,Be.A)({},r,{color:i,component:s,disabled:l,disableElevation:c,disableFocusRipple:d,disableRipple:u,fullWidth:p,orientation:h,size:f,variant:m}),x=(e=>{const{classes:t,color:r,disabled:n,disableElevation:o,fullWidth:a,orientation:i,variant:s}=e,l={root:["root",s,"vertical"===i&&"vertical",a&&"fullWidth",o&&"disableElevation"],grouped:["grouped",`grouped${(0,Pt.A)(i)}`,`grouped${(0,Pt.A)(s)}`,`grouped${(0,Pt.A)(s)}${(0,Pt.A)(i)}`,`grouped${(0,Pt.A)(s)}${(0,Pt.A)(r)}`,n&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return(0,kt.A)(l,iC,t)})(v),b=a.useMemo((()=>({className:x.grouped,color:i,disabled:l,disableElevation:c,disableFocusRipple:d,disableRipple:u,fullWidth:p,size:f,variant:m})),[i,l,c,d,u,p,f,m,x.grouped]),y=aC(n),j=y.length,w=e=>{const t=0===e,r=e===j-1;return t&&r?"":t?x.firstButton:r?x.lastButton:x.middleButton};return(0,Ve.jsx)(cC,(0,Be.A)({as:s,role:"group",className:(0,vt.A)(x.root,o),ref:t,ownerState:v},g,{children:(0,Ve.jsx)(ss.Provider,{value:b,children:y.map(((e,t)=>(0,Ve.jsx)(ls.Provider,{value:w(t),children:e},t)))})}))})),uC=(0,ms.A)((0,Ve.jsx)("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8z"}),"ArrowDownward"),pC=(0,ms.A)((0,Ve.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"Payment"),hC=(0,ms.A)((0,Ve.jsx)("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99zM21 9l-3.99-4v3H10v2h7.01v3z"}),"SwapHoriz"),fC=(0,ms.A)((0,Ve.jsx)("path",{d:"M9.01 14H2v2h7.01v3L13 15l-3.99-4zm5.98-1v-3H22V8h-7.01V5L11 9z"}),"CompareArrows"),mC=(0,ms.A)((0,Ve.jsx)("path",{d:"M18 17H6v-2h12zm0-4H6v-2h12zm0-4H6V7h12zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2z"}),"Receipt"),gC=(0,ms.A)((0,Ve.jsx)("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp"),vC=(0,ms.A)((0,Ve.jsx)("path",{d:"m16 18 2.29-2.29-4.88-4.88-4 4L2 7.41 3.41 6l6 6 4-4 6.3 6.29L22 12v6z"}),"TrendingDown"),xC=(0,ms.A)((0,Ve.jsx)("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"}),"ArrowUpward"),bC=(0,ms.A)((0,Ve.jsx)("path",{d:"M7 14H5v5h5v-2H7zm-2-4h2V7h3V5H5zm12 7h-3v2h5v-5h-2zM14 5v2h3v3h2V5z"}),"Fullscreen"),yC=(0,ms.A)((0,Ve.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),jC=(0,ms.A)((0,Ve.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z"}),"Description"),wC=(0,a.createContext)(void 0),SC=()=>{const e=(0,a.useContext)(wC);if(void 0===e)throw new Error("useCotizacion debe ser usado dentro de un CotizacionProvider");return e},CC=e=>{let{children:t}=e;const[r,n]=(0,a.useState)(null),[o,i]=(0,a.useState)(!0),[s,l]=(0,a.useState)(null),c=async()=>{i(!0),l(null);try{const e=await JS.getCotizacionVigente();n(e)}catch(s){console.error("Error al cargar cotizaci\xf3n vigente:",s),l("No se pudo cargar la cotizaci\xf3n vigente")}finally{i(!1)}};(0,a.useEffect)((()=>{c()}),[]);const d={cotizacionVigente:r,loading:o,error:s,formatearDolares:e=>nC.dollars(e),formatearReales:e=>nC.reals(e),convertirDolaresAGuaranies:e=>r?e*r.valorDolar:0,convertirRealesAGuaranies:e=>r?e*r.valorReal:0,refrescarCotizacion:async()=>{await c()}};return(0,Ve.jsx)(wC.Provider,{value:d,children:t})},AC=(0,ms.A)((0,Ve.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),EC=(0,ms.A)((0,Ve.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),kC=(0,ms.A)((0,Ve.jsx)("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList"),OC=(0,ms.A)((0,Ve.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),PC=e=>{let{open:t,onClose:r,onGuardarExito:n}=e;const{cotizacionVigente:o}=SC(),{user:i}=eC(),[s,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(null),[u,p]=(0,a.useState)(null),[h,f]=(0,a.useState)([]),[m,g]=(0,a.useState)([]),[v,x]=(0,a.useState)([]),[b,y]=(0,a.useState)(""),[j,w]=(0,a.useState)(""),[S,C]=(0,a.useState)(""),[A,E]=(0,a.useState)(""),[k,O]=(0,a.useState)(""),[P,I]=(0,a.useState)(!1),[D,M]=(0,a.useState)(""),[T,R]=(0,a.useState)([]),[N,$]=(0,a.useState)([]);(0,a.useEffect)((()=>{t?((async()=>{try{const e=await ed.get("/api/sucursales");R(e.data)}catch(c){console.error("Error al cargar sucursales:",c)}})(),L()):z()}),[t]),(0,a.useEffect)((()=>{(()=>{if(!h||0===h.length)return;const e=new Map;h.forEach((t=>{t.cajaId&&!e.has(t.cajaId)&&e.set(t.cajaId,{id:t.cajaId,nombre:t.cajaNombre||`Caja ${t.cajaId.substring(0,6)}`})})),$(Array.from(e.values()))})()}),[h]),(0,a.useEffect)((()=>{B()}),[h,b,j,S,A,k]);const z=()=>{f([]),g([]),x([]),y(""),w(""),C(""),E(""),O(""),I(!1),M(""),d(null),p(null)},L=async()=>{try{l(!0),d(null);const e=await ed.get("/api/cajas-mayor/retiros/pendientes");f(e.data),g(e.data)}catch(c){d("Error al cargar los retiros pendientes. Intente nuevamente."),console.error("Error al cargar retiros:",c)}finally{l(!1)}},B=()=>{if(!h||0===h.length)return;let e=[...h];if(b&&(e=e.filter((e=>e.sucursalId===b))),j&&(e=e.filter((e=>e.cajaId===j))),S){const t=new Date(S);t.setHours(0,0,0,0),e=e.filter((e=>new Date(e.fecha)>=t))}if(A){const t=new Date(A);t.setHours(23,59,59,999),e=e.filter((e=>new Date(e.fecha)<=t))}if(k.trim()){const t=k.toLowerCase();e=e.filter((e=>{var r,n,o,a;return((null===(r=e.personaNombre)||void 0===r?void 0:r.toLowerCase())||"").includes(t)||((null===(n=e.cajaNombre)||void 0===n?void 0:n.toLowerCase())||"").includes(t)||((null===(o=e.sucursalNombre)||void 0===o?void 0:o.toLowerCase())||"").includes(t)||((null===(a=e.observacion)||void 0===a?void 0:a.toLowerCase())||"").includes(t)}))}g(e)},F=e=>{try{return new Date(e).toLocaleDateString("es-PY",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).replace(",","")}catch(c){return console.error("Error al formatear fecha:",c),e}},_=e=>e>0?`R$ ${e.toLocaleString("es-PY",{minimumFractionDigits:2,maximumFractionDigits:2})}`:"-",U=e=>e>0?`US$ ${e.toLocaleString("es-PY",{minimumFractionDigits:2,maximumFractionDigits:2})}`:"-",W=e=>{const{name:t,value:r}=e.target;switch(t){case"filtroSucursal":y(r);break;case"filtroCaja":w(r)}},V=e=>{const{name:t,value:r}=e.target;switch(t){case"filtroFechaDesde":C(r);break;case"filtroFechaHasta":E(r);break;case"busqueda":O(r);break;case"observacionRecepcion":M(r)}},G=()=>{s||r()};return(0,Ve.jsxs)(Fi,{open:t,onClose:G,maxWidth:"lg",fullWidth:!0,children:[(0,Ve.jsx)(Gi,{children:(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ve.jsx)($r,{variant:"h6",children:"Recibir Retiros en Caja Mayor"}),(0,Ve.jsx)(Ir,{onClick:G,size:"small",disabled:s,children:(0,Ve.jsx)(AC,{})})]})}),(0,Ve.jsxs)(Ki,{dividers:!0,children:[c&&(0,Ve.jsx)(Ah,{severity:"error",sx:{mb:2},children:c}),u&&(0,Ve.jsx)(Ah,{severity:"success",sx:{mb:2},children:u}),(0,Ve.jsxs)($h,{container:!0,spacing:2,alignItems:"center",sx:{mb:2},children:[(0,Ve.jsx)($h,{item:!0,xs:!0,children:(0,Ve.jsx)($r,{variant:"subtitle1",children:"Retiros pendientes"})}),(0,Ve.jsx)($h,{item:!0,children:(0,Ve.jsxs)(Et,{sx:{display:"flex",gap:1},children:[(0,Ve.jsx)(jp,{size:"small",placeholder:"Buscar...",name:"busqueda",value:k,onChange:V,InputProps:{startAdornment:(0,Ve.jsx)(kp,{position:"start",children:(0,Ve.jsx)(EC,{fontSize:"small"})})}}),(0,Ve.jsx)(Qo,{title:"Mostrar filtros avanzados",children:(0,Ve.jsx)(Ir,{color:P?"primary":"default",onClick:()=>I(!P),children:(0,Ve.jsx)(kC,{})})}),(0,Ve.jsx)(fs,{variant:"outlined",onClick:L,disabled:s,size:"small",children:"Actualizar"})]})})]}),P&&(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsxs)($h,{container:!0,spacing:2,sx:{mb:2},children:[(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,md:3,children:(0,Ve.jsxs)(lu,{fullWidth:!0,size:"small",children:[(0,Ve.jsx)(ou,{children:"Sucursal"}),(0,Ve.jsxs)(gp,{name:"filtroSucursal",value:b,label:"Sucursal",onChange:W,children:[(0,Ve.jsx)(_h,{value:"",children:"Todas"}),T.map((e=>(0,Ve.jsx)(_h,{value:e.id.toString(),children:e.nombre},e.id)))]})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,md:3,children:(0,Ve.jsxs)(lu,{fullWidth:!0,size:"small",children:[(0,Ve.jsx)(ou,{children:"Caja"}),(0,Ve.jsxs)(gp,{name:"filtroCaja",value:j,label:"Caja",onChange:W,children:[(0,Ve.jsx)(_h,{value:"",children:"Todas"}),N.map((e=>(0,Ve.jsx)(_h,{value:e.id,children:e.nombre},e.id)))]})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,md:3,children:(0,Ve.jsx)(jp,{fullWidth:!0,size:"small",label:"Fecha desde",name:"filtroFechaDesde",type:"date",value:S,onChange:V,InputLabelProps:{shrink:!0}})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,md:3,children:(0,Ve.jsx)(jp,{fullWidth:!0,size:"small",label:"Fecha hasta",name:"filtroFechaHasta",type:"date",value:A,onChange:V,InputLabelProps:{shrink:!0}})})]}),(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"flex-end",mb:2},children:(0,Ve.jsx)(fs,{variant:"text",color:"secondary",onClick:()=>{y(""),w(""),C(""),E(""),O("")},size:"small",children:"Limpiar filtros"})}),(0,Ve.jsx)(Ii,{sx:{mb:2}})]}),s?(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",p:3},children:(0,Ve.jsx)(KS,{})}):(0,Ve.jsx)(Ve.Fragment,{children:m.length>0?(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)(Dp,{sx:{maxHeight:400},children:(0,Ve.jsxs)(zp,{size:"small",stickyHeader:!0,children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{padding:"checkbox",children:(0,Ve.jsx)(ES,{checked:v.length>0&&v.length===m.length,indeterminate:v.length>0&&v.length<m.length,onChange:()=>{v.length===m.length?x([]):x(m.map((e=>e.id)))}})}),(0,Ve.jsx)(th,{children:"Fecha"}),(0,Ve.jsx)(th,{children:"Sucursal"}),(0,Ve.jsx)(th,{children:"Caja"}),(0,Ve.jsx)(th,{children:"Responsable"}),(0,Ve.jsx)(th,{align:"right",children:"Guaran\xedes"}),(0,Ve.jsx)(th,{align:"right",children:"Reales"}),(0,Ve.jsx)(th,{align:"right",children:"D\xf3lares"}),(0,Ve.jsx)(th,{children:"Observaci\xf3n"})]})}),(0,Ve.jsx)(sh,{children:m.map((e=>{return(0,Ve.jsxs)(Xp,{selected:v.includes(e.id),hover:!0,children:[(0,Ve.jsx)(th,{padding:"checkbox",children:(0,Ve.jsx)(ES,{checked:v.includes(e.id),onChange:()=>{return t=e.id,void x((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]));var t},disabled:"PENDIENTE"!==e.estadoRecepcion})}),(0,Ve.jsx)(th,{children:F(e.fecha)}),(0,Ve.jsx)(th,{children:e.sucursalNombre}),(0,Ve.jsx)(th,{children:e.cajaEnteroId}),(0,Ve.jsx)(th,{children:e.personaNombre}),(0,Ve.jsx)(th,{align:"right",children:(t=e.montoPYG,t>0?nC.guaranies(t):"-")}),(0,Ve.jsx)(th,{align:"right",children:_(e.montoBRL)}),(0,Ve.jsx)(th,{align:"right",children:U(e.montoUSD)}),(0,Ve.jsx)(th,{children:e.observacion})]},e.id);var t}))})]})}),(0,Ve.jsx)(Si,{in:v.length>0,timeout:500,children:(0,Ve.jsxs)(Et,{sx:{mt:2,p:2,bgcolor:"action.hover",borderRadius:1},children:[(0,Ve.jsxs)($r,{variant:"subtitle2",gutterBottom:!0,children:["Confirmar recepci\xf3n de ",v.length," ",1===v.length?"retiro":"retiros"]}),(0,Ve.jsx)(jp,{fullWidth:!0,size:"small",label:"Observaciones de recepci\xf3n (opcional)",name:"observacionRecepcion",value:D,onChange:V,margin:"normal",autoFocus:!0})]})})]}):(0,Ve.jsx)(Ah,{severity:"info",children:"No hay retiros pendientes de recepci\xf3n con los filtros aplicados."})}),o&&(0,Ve.jsxs)($t,{sx:{p:1.5,bgcolor:"background.paper",mt:2},children:[(0,Ve.jsx)($r,{variant:"subtitle2",gutterBottom:!0,children:"Cotizaci\xf3n Vigente"}),(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,Ve.jsxs)($r,{variant:"body2",children:["D\xf3lar: ",nC.guaranies(o.valorDolar)]}),(0,Ve.jsxs)($r,{variant:"body2",children:["Real: ",nC.guaranies(o.valorReal)]})]})]})]}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:G,color:"inherit",disabled:s,children:"Cancelar"}),v.length>0&&(0,Ve.jsx)(fs,{variant:"contained",color:"primary",startIcon:(0,Ve.jsx)(OC,{}),onClick:async()=>{if(0!==v.length)if(i)try{l(!0),d(null);const e={ids:v,observacion:D,usuarioRecepcionId:i.id};console.log("Enviando datos para recibir retiros:",e);const t=await ed.post("/api/cajas-mayor/retiros/recibir",e);p(t.data.message||"Retiros recibidos correctamente"),x([]),M(""),await L(),setTimeout((()=>{p(null),n()}),2e3)}catch(c){d("Error al procesar los retiros. Intente nuevamente."),console.error("Error al procesar retiros:",c)}finally{l(!1)}else d("Error de autenticaci\xf3n. No se pudo identificar al usuario.");else d("Debe seleccionar al menos un retiro para recibir")},disabled:s,children:"Confirmar Recepci\xf3n"})]})]})},IC=e=>{const t=a.useRef({});return a.useEffect((()=>{t.current=e})),t.current};function DC(e){return"undefined"!==typeof e.normalize?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e}function MC(e,t){for(let r=0;r<e.length;r+=1)if(t(e[r]))return r;return-1}const TC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{ignoreAccents:t=!0,ignoreCase:r=!0,limit:n,matchFrom:o="any",stringify:a,trim:i=!1}=e;return(e,s)=>{let{inputValue:l,getOptionLabel:c}=s,d=i?l.trim():l;r&&(d=d.toLowerCase()),t&&(d=DC(d));const u=d?e.filter((e=>{let n=(a||c)(e);return r&&(n=n.toLowerCase()),t&&(n=DC(n)),"start"===o?0===n.indexOf(d):n.indexOf(d)>-1})):e;return"number"===typeof n?u.slice(0,n):u}}(),RC=e=>{var t;return null!==e.current&&(null==(t=e.current.parentElement)?void 0:t.contains(document.activeElement))},NC=[];const $C=function(e){const{unstable_isActiveElementInListbox:t=RC,unstable_classNamePrefix:r="Mui",autoComplete:n=!1,autoHighlight:o=!1,autoSelect:i=!1,blurOnSelect:s=!1,clearOnBlur:l=!e.freeSolo,clearOnEscape:c=!1,componentName:d="useAutocomplete",defaultValue:u=(e.multiple?NC:null),disableClearable:p=!1,disableCloseOnSelect:h=!1,disabled:f,disabledItemsFocusable:m=!1,disableListWrap:g=!1,filterOptions:v=TC,filterSelectedOptions:x=!1,freeSolo:b=!1,getOptionDisabled:y,getOptionKey:j,getOptionLabel:w=e=>{var t;return null!=(t=e.label)?t:e},groupBy:S,handleHomeEndKeys:C=!e.freeSolo,id:A,includeInputInList:E=!1,inputValue:k,isOptionEqualToValue:O=(e,t)=>e===t,multiple:P=!1,onChange:I,onClose:D,onHighlightChange:M,onInputChange:T,onOpen:R,open:N,openOnFocus:$=!1,options:z,readOnly:L=!1,selectOnFocus:B=!e.freeSolo,value:F}=e,_=(0,Di.A)(A);let U=w;U=e=>{const t=w(e);return"string"!==typeof t?String(t):t};const W=a.useRef(!1),V=a.useRef(!0),G=a.useRef(null),H=a.useRef(null),[q,Y]=a.useState(null),[K,X]=a.useState(-1),Q=o?0:-1,J=a.useRef(Q),[Z,ee]=(0,sg.A)({controlled:F,default:u,name:d}),[te,re]=(0,sg.A)({controlled:k,default:"",name:d,state:"inputValue"}),[ne,oe]=a.useState(!1),ae=a.useCallback(((e,t)=>{if(!(P?Z.length<t.length:null!==t)&&!l)return;let r;if(P)r="";else if(null==t)r="";else{const e=U(t);r="string"===typeof e?e:""}te!==r&&(re(r),T&&T(e,r,"reset"))}),[U,te,P,T,re,l,Z]),[ie,se]=(0,sg.A)({controlled:N,default:!1,name:d,state:"open"}),[le,ce]=a.useState(!0),de=!P&&null!=Z&&te===U(Z),ue=ie&&!L,pe=ue?v(z.filter((e=>!x||!(P?Z:[Z]).some((t=>null!==t&&O(e,t))))),{inputValue:de&&le?"":te,getOptionLabel:U}):[],he=IC({filteredOptions:pe,value:Z,inputValue:te});a.useEffect((()=>{const e=Z!==he.value;ne&&!e||b&&!e||ae(null,Z)}),[Z,ae,ne,he.value,b]);const fe=ie&&pe.length>0&&!L,me=(0,ca.A)((e=>{-1===e?G.current.focus():q.querySelector(`[data-tag-index="${e}"]`).focus()}));a.useEffect((()=>{P&&K>Z.length-1&&(X(-1),me(-1))}),[Z,P,K,me]);const ge=(0,ca.A)((e=>{let{event:t,index:n,reason:o="auto"}=e;if(J.current=n,-1===n?G.current.removeAttribute("aria-activedescendant"):G.current.setAttribute("aria-activedescendant",`${_}-option-${n}`),M&&M(t,-1===n?null:pe[n],o),!H.current)return;const a=H.current.querySelector(`[role="option"].${r}-focused`);a&&(a.classList.remove(`${r}-focused`),a.classList.remove(`${r}-focusVisible`));let i=H.current;if("listbox"!==H.current.getAttribute("role")&&(i=H.current.parentElement.querySelector('[role="listbox"]')),!i)return;if(-1===n)return void(i.scrollTop=0);const s=H.current.querySelector(`[data-option-index="${n}"]`);if(s&&(s.classList.add(`${r}-focused`),"keyboard"===o&&s.classList.add(`${r}-focusVisible`),i.scrollHeight>i.clientHeight&&"mouse"!==o&&"touch"!==o)){const e=s,t=i.clientHeight+i.scrollTop,r=e.offsetTop+e.offsetHeight;r>t?i.scrollTop=r-i.clientHeight:e.offsetTop-e.offsetHeight*(S?1.3:0)<i.scrollTop&&(i.scrollTop=e.offsetTop-e.offsetHeight*(S?1.3:0))}})),ve=(0,ca.A)((e=>{let{event:t,diff:r,direction:o="next",reason:a="auto"}=e;if(!ue)return;const i=function(e,t){if(!H.current||e<0||e>=pe.length)return-1;let r=e;for(;;){const n=H.current.querySelector(`[data-option-index="${r}"]`),o=!m&&(!n||n.disabled||"true"===n.getAttribute("aria-disabled"));if(n&&n.hasAttribute("tabindex")&&!o)return r;if(r="next"===t?(r+1)%pe.length:(r-1+pe.length)%pe.length,r===e)return-1}}((()=>{const e=pe.length-1;if("reset"===r)return Q;if("start"===r)return 0;if("end"===r)return e;const t=J.current+r;return t<0?-1===t&&E?-1:g&&-1!==J.current||Math.abs(r)>1?0:e:t>e?t===e+1&&E?-1:g||Math.abs(r)>1?e:0:t})(),o);if(ge({index:i,reason:a,event:t}),n&&"reset"!==r)if(-1===i)G.current.value=te;else{const e=U(pe[i]);G.current.value=e;0===e.toLowerCase().indexOf(te.toLowerCase())&&te.length>0&&G.current.setSelectionRange(te.length,e.length)}})),xe=a.useCallback((()=>{if(!ue)return;const e=(()=>{if(-1!==J.current&&he.filteredOptions&&he.filteredOptions.length!==pe.length&&he.inputValue===te&&(P?Z.length===he.value.length&&he.value.every(((e,t)=>U(Z[t])===U(e))):(e=he.value,t=Z,(e?U(e):"")===(t?U(t):"")))){const e=he.filteredOptions[J.current];if(e)return MC(pe,(t=>U(t)===U(e)))}var e,t;return-1})();if(-1!==e)return void(J.current=e);const t=P?Z[0]:Z;if(0!==pe.length&&null!=t){if(H.current)if(null==t)J.current>=pe.length-1?ge({index:pe.length-1}):ge({index:J.current});else{const e=pe[J.current];if(P&&e&&-1!==MC(Z,(t=>O(e,t))))return;const r=MC(pe,(e=>O(e,t)));-1===r?ve({diff:"reset"}):ge({index:r})}}else ve({diff:"reset"})}),[pe.length,!P&&Z,x,ve,ge,ue,te,P]),be=(0,ca.A)((e=>{(0,Eo.A)(H,e),e&&xe()}));a.useEffect((()=>{xe()}),[xe]);const ye=e=>{ie||(se(!0),ce(!0),R&&R(e))},je=(e,t)=>{ie&&(se(!1),D&&D(e,t))},we=(e,t,r,n)=>{if(P){if(Z.length===t.length&&Z.every(((e,r)=>e===t[r])))return}else if(Z===t)return;I&&I(e,t,r,n),ee(t)},Se=a.useRef(!1),Ce=function(e,t){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"options",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"selectOption",o=t;if(P){o=Array.isArray(Z)?Z.slice():[];const e=MC(o,(e=>O(t,e)));-1===e?o.push(t):"freeSolo"!==r&&(o.splice(e,1),n="removeOption")}ae(e,o),we(e,o,n,{option:t}),h||e&&(e.ctrlKey||e.metaKey)||je(e,n),(!0===s||"touch"===s&&Se.current||"mouse"===s&&!Se.current)&&G.current.blur()},Ae=(e,t)=>{if(!P)return;""===te&&je(e,"toggleInput");let r=K;-1===K?""===te&&"previous"===t&&(r=Z.length-1):(r+="next"===t?1:-1,r<0&&(r=0),r===Z.length&&(r=-1)),r=function(e,t){if(-1===e)return-1;let r=e;for(;;){if("next"===t&&r===Z.length||"previous"===t&&-1===r)return-1;const e=q.querySelector(`[data-tag-index="${r}"]`);if(e&&e.hasAttribute("tabindex")&&!e.disabled&&"true"!==e.getAttribute("aria-disabled"))return r;r+="next"===t?1:-1}}(r,t),X(r),me(r)},Ee=e=>{W.current=!0,re(""),T&&T(e,"","clear"),we(e,P?[]:null,"clear")},ke=e=>t=>{if(e.onKeyDown&&e.onKeyDown(t),!t.defaultMuiPrevented&&(-1!==K&&-1===["ArrowLeft","ArrowRight"].indexOf(t.key)&&(X(-1),me(-1)),229!==t.which))switch(t.key){case"Home":ue&&C&&(t.preventDefault(),ve({diff:"start",direction:"next",reason:"keyboard",event:t}));break;case"End":ue&&C&&(t.preventDefault(),ve({diff:"end",direction:"previous",reason:"keyboard",event:t}));break;case"PageUp":t.preventDefault(),ve({diff:-5,direction:"previous",reason:"keyboard",event:t}),ye(t);break;case"PageDown":t.preventDefault(),ve({diff:5,direction:"next",reason:"keyboard",event:t}),ye(t);break;case"ArrowDown":t.preventDefault(),ve({diff:1,direction:"next",reason:"keyboard",event:t}),ye(t);break;case"ArrowUp":t.preventDefault(),ve({diff:-1,direction:"previous",reason:"keyboard",event:t}),ye(t);break;case"ArrowLeft":Ae(t,"previous");break;case"ArrowRight":Ae(t,"next");break;case"Enter":if(-1!==J.current&&ue){const e=pe[J.current],r=!!y&&y(e);if(t.preventDefault(),r)return;Ce(t,e,"selectOption"),n&&G.current.setSelectionRange(G.current.value.length,G.current.value.length)}else b&&""!==te&&!1===de&&(P&&t.preventDefault(),Ce(t,te,"createOption","freeSolo"));break;case"Escape":ue?(t.preventDefault(),t.stopPropagation(),je(t,"escape")):c&&(""!==te||P&&Z.length>0)&&(t.preventDefault(),t.stopPropagation(),Ee(t));break;case"Backspace":if(P&&!L&&""===te&&Z.length>0){const e=-1===K?Z.length-1:K,r=Z.slice();r.splice(e,1),we(t,r,"removeOption",{option:Z[e]})}break;case"Delete":if(P&&!L&&""===te&&Z.length>0&&-1!==K){const e=K,r=Z.slice();r.splice(e,1),we(t,r,"removeOption",{option:Z[e]})}}},Oe=e=>{oe(!0),$&&!W.current&&ye(e)},Pe=e=>{t(H)?G.current.focus():(oe(!1),V.current=!0,W.current=!1,i&&-1!==J.current&&ue?Ce(e,pe[J.current],"blur"):i&&b&&""!==te?Ce(e,te,"blur","freeSolo"):l&&ae(e,Z),je(e,"blur"))},Ie=e=>{const t=e.target.value;te!==t&&(re(t),ce(!1),T&&T(e,t,"input")),""===t?p||P||we(e,null,"clear"):ye(e)},De=e=>{const t=Number(e.currentTarget.getAttribute("data-option-index"));J.current!==t&&ge({event:e,index:t,reason:"mouse"})},Me=e=>{ge({event:e,index:Number(e.currentTarget.getAttribute("data-option-index")),reason:"touch"}),Se.current=!0},Te=e=>{const t=Number(e.currentTarget.getAttribute("data-option-index"));Ce(e,pe[t],"selectOption"),Se.current=!1},Re=e=>t=>{const r=Z.slice();r.splice(e,1),we(t,r,"removeOption",{option:Z[e]})},Ne=e=>{ie?je(e,"toggleInput"):ye(e)},$e=e=>{e.currentTarget.contains(e.target)&&e.target.getAttribute("id")!==_&&e.preventDefault()},ze=e=>{e.currentTarget.contains(e.target)&&(G.current.focus(),B&&V.current&&G.current.selectionEnd-G.current.selectionStart===0&&G.current.select(),V.current=!1)},Le=e=>{f||""!==te&&ie||Ne(e)};let Fe=b&&te.length>0;Fe=Fe||(P?Z.length>0:null!==Z);let _e=pe;if(S){new Map;_e=pe.reduce(((e,t,r)=>{const n=S(t);return e.length>0&&e[e.length-1].group===n?e[e.length-1].options.push(t):e.push({key:r,index:r,group:n,options:[t]}),e}),[])}return f&&ne&&Pe(),{getRootProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,Be.A)({"aria-owns":fe?`${_}-listbox`:null},e,{onKeyDown:ke(e),onMouseDown:$e,onClick:ze})},getInputLabelProps:()=>({id:`${_}-label`,htmlFor:_}),getInputProps:()=>({id:_,value:te,onBlur:Pe,onFocus:Oe,onChange:Ie,onMouseDown:Le,"aria-activedescendant":ue?"":null,"aria-autocomplete":n?"both":"list","aria-controls":fe?`${_}-listbox`:void 0,"aria-expanded":fe,autoComplete:"off",ref:G,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:f}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:Ee}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:Ne}),getTagProps:e=>{let{index:t}=e;return(0,Be.A)({key:t,"data-tag-index":t,tabIndex:-1},!L&&{onDelete:Re(t)})},getListboxProps:()=>({role:"listbox",id:`${_}-listbox`,"aria-labelledby":`${_}-label`,ref:be,onMouseDown:e=>{e.preventDefault()}}),getOptionProps:e=>{let{index:t,option:r}=e;var n;const o=(P?Z:[Z]).some((e=>null!=e&&O(r,e))),a=!!y&&y(r);return{key:null!=(n=null==j?void 0:j(r))?n:U(r),tabIndex:-1,role:"option",id:`${_}-option-${t}`,onMouseMove:De,onClick:Te,onTouchStart:Me,"data-option-index":t,"aria-disabled":a,"aria-selected":o}},id:_,inputValue:te,value:Z,dirty:Fe,expanded:ue&&q,popupOpen:ue,focused:ne||-1!==K,anchorEl:q,setAnchorEl:Y,focusedTag:K,groupedOptions:_e}};function zC(e){return(0,Mt.Ay)("MuiListSubheader",e)}(0,St.A)("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const LC=["className","color","component","disableGutters","disableSticky","inset"],BC=(0,Ot.Ay)("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,"default"!==r.color&&t[`color${(0,Pt.A)(r.color)}`],!r.disableGutters&&t.gutters,r.inset&&t.inset,!r.disableSticky&&t.sticky]}})((e=>{let{theme:t,ownerState:r}=e;return(0,Be.A)({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(t.vars||t).palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14)},"primary"===r.color&&{color:(t.vars||t).palette.primary.main},"inherit"===r.color&&{color:"inherit"},!r.disableGutters&&{paddingLeft:16,paddingRight:16},r.inset&&{paddingLeft:72},!r.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(t.vars||t).palette.background.paper})})),FC=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiListSubheader"}),{className:n,color:o="default",component:a="li",disableGutters:i=!1,disableSticky:s=!1,inset:l=!1}=r,c=(0,Fe.A)(r,LC),d=(0,Be.A)({},r,{color:o,component:a,disableGutters:i,disableSticky:s,inset:l}),u=(e=>{const{classes:t,color:r,disableGutters:n,inset:o,disableSticky:a}=e,i={root:["root","default"!==r&&`color${(0,Pt.A)(r)}`,!n&&"gutters",o&&"inset",!a&&"sticky"]};return(0,kt.A)(i,zC,t)})(d);return(0,Ve.jsx)(BC,(0,Be.A)({as:a,className:(0,vt.A)(u.root,n),ref:t,ownerState:d},c))}));FC.muiSkipListHighlight=!0;const _C=FC;function UC(e){return(0,Mt.Ay)("MuiAutocomplete",e)}const WC=(0,St.A)("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var VC,GC;const HC=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionKey","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],qC=["ref"],YC=["key"],KC=["key"],XC=(0,Ot.Ay)("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{fullWidth:n,hasClearIcon:o,hasPopupIcon:a,inputFocused:i,size:s}=r;return[{[`& .${WC.tag}`]:t.tag},{[`& .${WC.tag}`]:t[`tagSize${(0,Pt.A)(s)}`]},{[`& .${WC.inputRoot}`]:t.inputRoot},{[`& .${WC.input}`]:t.input},{[`& .${WC.input}`]:i&&t.inputFocused},t.root,n&&t.fullWidth,a&&t.hasPopupIcon,o&&t.hasClearIcon]}})({[`&.${WC.focused} .${WC.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${WC.clearIndicator}`]:{visibility:"visible"}},[`& .${WC.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${WC.inputRoot}`]:{[`.${WC.hasPopupIcon}&, .${WC.hasClearIcon}&`]:{paddingRight:30},[`.${WC.hasPopupIcon}.${WC.hasClearIcon}&`]:{paddingRight:56},[`& .${WC.input}`]:{width:0,minWidth:30}},[`& .${Cd.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${Cd.root}.${md.sizeSmall}`]:{[`& .${Cd.input}`]:{padding:"2px 4px 3px 0"}},[`& .${Ud.root}`]:{padding:9,[`.${WC.hasPopupIcon}&, .${WC.hasClearIcon}&`]:{paddingRight:39},[`.${WC.hasPopupIcon}.${WC.hasClearIcon}&`]:{paddingRight:65},[`& .${WC.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${WC.endAdornment}`]:{right:9}},[`& .${Ud.root}.${md.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${WC.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${Dd.root}`]:{paddingTop:19,paddingLeft:8,[`.${WC.hasPopupIcon}&, .${WC.hasClearIcon}&`]:{paddingRight:39},[`.${WC.hasPopupIcon}.${WC.hasClearIcon}&`]:{paddingRight:65},[`& .${Dd.input}`]:{padding:"7px 4px"},[`& .${WC.endAdornment}`]:{right:9}},[`& .${Dd.root}.${md.sizeSmall}`]:{paddingBottom:1,[`& .${Dd.input}`]:{padding:"2.5px 4px"}},[`& .${md.hiddenLabel}`]:{paddingTop:8},[`& .${Dd.root}.${md.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${WC.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${Dd.root}.${md.hiddenLabel}.${md.sizeSmall}`]:{[`& .${WC.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${WC.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${WC.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${WC.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${WC.inputRoot}`]:{flexWrap:"wrap"}}}]}),QC=(0,Ot.Ay)("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(e,t)=>t.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),JC=(0,Ot.Ay)(Ir,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(e,t)=>t.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),ZC=(0,Ot.Ay)(Ir,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(e,t)=>{let{ownerState:r}=e;return(0,Be.A)({},t.popupIndicator,r.popupOpen&&t.popupIndicatorOpen)}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),eA=(0,Ot.Ay)(Lo,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${WC.option}`]:t.option},t.popper,r.disablePortal&&t.popperDisablePortal]}})((e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}})),tA=(0,Ot.Ay)($t,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(e,t)=>t.paper})((e=>{let{theme:t}=e;return(0,Be.A)({},t.typography.body1,{overflow:"auto"})})),rA=(0,Ot.Ay)("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(e,t)=>t.loading})((e=>{let{theme:t}=e;return{color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}})),nA=(0,Ot.Ay)("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(e,t)=>t.noOptions})((e=>{let{theme:t}=e;return{color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}})),oA=(0,Ot.Ay)("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(e,t)=>t.listbox})((e=>{let{theme:t}=e;return{listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${WC.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[t.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${WC.focused}`]:{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${WC.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,It.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${WC.focused}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,It.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},[`&.${WC.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,It.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}}}})),aA=(0,Ot.Ay)(_C,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(e,t)=>t.groupLabel})((e=>{let{theme:t}=e;return{backgroundColor:(t.vars||t).palette.background.paper,top:-8}})),iA=(0,Ot.Ay)("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(e,t)=>t.groupUl})({padding:0,[`& .${WC.option}`]:{paddingLeft:24}}),sA=a.forwardRef((function(e,t){var r,n,o,i;const s=(0,at.b)({props:e,name:"MuiAutocomplete"}),{autoComplete:l=!1,autoHighlight:c=!1,autoSelect:d=!1,blurOnSelect:u=!1,ChipProps:p,className:h,clearIcon:f=VC||(VC=(0,Ve.jsx)(xh,{fontSize:"small"})),clearOnBlur:m=!s.freeSolo,clearOnEscape:g=!1,clearText:v="Clear",closeText:x="Close",componentsProps:b={},defaultValue:y=(s.multiple?[]:null),disableClearable:j=!1,disableCloseOnSelect:w=!1,disabled:S=!1,disabledItemsFocusable:C=!1,disableListWrap:A=!1,disablePortal:E=!1,filterSelectedOptions:k=!1,forcePopupIcon:O="auto",freeSolo:P=!1,fullWidth:I=!1,getLimitTagsText:D=e=>`+${e}`,getOptionLabel:M,groupBy:T,handleHomeEndKeys:R=!s.freeSolo,includeInputInList:N=!1,limitTags:$=-1,ListboxComponent:z="ul",ListboxProps:L,loading:B=!1,loadingText:F="Loading\u2026",multiple:_=!1,noOptionsText:U="No options",openOnFocus:W=!1,openText:V="Open",PaperComponent:G=$t,PopperComponent:H=Lo,popupIcon:q=GC||(GC=(0,Ve.jsx)(lp,{})),readOnly:Y=!1,renderGroup:K,renderInput:X,renderOption:Q,renderTags:J,selectOnFocus:Z=!s.freeSolo,size:ee="medium",slotProps:te={}}=s,re=(0,Fe.A)(s,HC),{getRootProps:ne,getInputProps:oe,getInputLabelProps:ae,getPopupIndicatorProps:ie,getClearProps:se,getTagProps:le,getListboxProps:ce,getOptionProps:de,value:ue,dirty:pe,expanded:he,id:fe,popupOpen:me,focused:ge,focusedTag:ve,anchorEl:xe,setAnchorEl:be,inputValue:ye,groupedOptions:je}=$C((0,Be.A)({},s,{componentName:"Autocomplete"})),we=!j&&!S&&pe&&!Y,Se=(!P||!0===O)&&!1!==O,{onMouseDown:Ce}=oe(),{ref:Ae}=null!=L?L:{},Ee=ce(),{ref:ke}=Ee,Oe=(0,Fe.A)(Ee,qC),Pe=(0,Ht.A)(ke,Ae),Ie=M||(e=>{var t;return null!=(t=e.label)?t:e}),De=(0,Be.A)({},s,{disablePortal:E,expanded:he,focused:ge,fullWidth:I,getOptionLabel:Ie,hasClearIcon:we,hasPopupIcon:Se,inputFocused:-1===ve,popupOpen:me,size:ee}),Me=(e=>{const{classes:t,disablePortal:r,expanded:n,focused:o,fullWidth:a,hasClearIcon:i,hasPopupIcon:s,inputFocused:l,popupOpen:c,size:d}=e,u={root:["root",n&&"expanded",o&&"focused",a&&"fullWidth",i&&"hasClearIcon",s&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",l&&"inputFocused"],tag:["tag",`tagSize${(0,Pt.A)(d)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",c&&"popupIndicatorOpen"],popper:["popper",r&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return(0,kt.A)(u,UC,t)})(De);let Te;if(_&&ue.length>0){const e=e=>(0,Be.A)({className:Me.tag,disabled:S},le(e));Te=J?J(ue,e,De):ue.map(((t,r)=>{const n=e({index:r}),{key:o}=n,a=(0,Fe.A)(n,YC);return(0,Ve.jsx)(Pg,(0,Be.A)({label:Ie(t),size:ee},a,p),o)}))}if($>-1&&Array.isArray(Te)){const e=Te.length-$;!ge&&e>0&&(Te=Te.splice(0,$),Te.push((0,Ve.jsx)("span",{className:Me.tag,children:D(e)},Te.length)))}const Re=K||(e=>(0,Ve.jsxs)("li",{children:[(0,Ve.jsx)(aA,{className:Me.groupLabel,ownerState:De,component:"div",children:e.group}),(0,Ve.jsx)(iA,{className:Me.groupUl,ownerState:De,children:e.children})]},e.key)),Ne=Q||((e,t)=>{const{key:r}=e,n=(0,Fe.A)(e,KC);return(0,Ve.jsx)("li",(0,Be.A)({},n,{children:Ie(t)}),r)}),$e=(e,t)=>{const r=de({option:e,index:t});return Ne((0,Be.A)({},r,{className:Me.option}),e,{selected:r["aria-selected"],index:t,inputValue:ye},De)},ze=null!=(r=te.clearIndicator)?r:b.clearIndicator,Le=null!=(n=te.paper)?n:b.paper,_e=null!=(o=te.popper)?o:b.popper,Ue=null!=(i=te.popupIndicator)?i:b.popupIndicator;return(0,Ve.jsxs)(a.Fragment,{children:[(0,Ve.jsx)(XC,(0,Be.A)({ref:t,className:(0,vt.A)(Me.root,h),ownerState:De},ne(re),{children:X({id:fe,disabled:S,fullWidth:!0,size:"small"===ee?"small":void 0,InputLabelProps:ae(),InputProps:(0,Be.A)({ref:be,className:Me.inputRoot,startAdornment:Te,onClick:e=>{e.target===e.currentTarget&&Ce(e)}},(we||Se)&&{endAdornment:(0,Ve.jsxs)(QC,{className:Me.endAdornment,ownerState:De,children:[we?(0,Ve.jsx)(JC,(0,Be.A)({},se(),{"aria-label":v,title:v,ownerState:De},ze,{className:(0,vt.A)(Me.clearIndicator,null==ze?void 0:ze.className),children:f})):null,Se?(0,Ve.jsx)(ZC,(0,Be.A)({},ie(),{disabled:S,"aria-label":me?x:V,title:me?x:V,ownerState:De},Ue,{className:(0,vt.A)(Me.popupIndicator,null==Ue?void 0:Ue.className),children:q})):null]})}),inputProps:(0,Be.A)({className:Me.input,disabled:S,readOnly:Y},oe())})})),xe?(0,Ve.jsx)(eA,(0,Be.A)({as:H,disablePortal:E,style:{width:xe?xe.clientWidth:null},ownerState:De,role:"presentation",anchorEl:xe,open:me},_e,{className:(0,vt.A)(Me.popper,null==_e?void 0:_e.className),children:(0,Ve.jsxs)(tA,(0,Be.A)({ownerState:De,as:G},Le,{className:(0,vt.A)(Me.paper,null==Le?void 0:Le.className),children:[B&&0===je.length?(0,Ve.jsx)(rA,{className:Me.loading,ownerState:De,children:F}):null,0!==je.length||P||B?null:(0,Ve.jsx)(nA,{className:Me.noOptions,ownerState:De,role:"presentation",onMouseDown:e=>{e.preventDefault()},children:U}),je.length>0?(0,Ve.jsx)(oA,(0,Be.A)({as:z,className:Me.listbox,ownerState:De},Oe,L,{ref:Pe,children:je.map(((e,t)=>T?Re({key:e.key,group:e.group,children:e.options.map(((t,r)=>$e(t,e.index+r)))}):$e(e,t)))})):null]}))})):null]})})),lA=(0,ms.A)((0,Ve.jsx)("path",{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6z"}),"AttachFile"),cA=(0,ms.A)((0,Ve.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),dA=[{operadora:"Tigo",servicios:[{id:"tigo-mini-carga",nombre:"Mini Carga"},{id:"tigo-billetera",nombre:"Billetera"}]},{operadora:"Personal",servicios:[{id:"personal-maxi-carga",nombre:"Maxi Carga"},{id:"personal-billetera",nombre:"Billetera"}]},{operadora:"Claro",servicios:[{id:"claro-recarga",nombre:"Recarga"},{id:"claro-billetera",nombre:"Billetera"}]},{operadora:"Otros",servicios:[{id:"efectivo",nombre:"Efectivo"}]}],uA=e=>{let{open:t,onClose:r,onGuardarExito:n}=e;const{user:o}=eC(),{cotizacionVigente:i}=SC(),[s,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(null),[u,p]=(0,a.useState)(null),[h,f]=(0,a.useState)(""),[m,g]=(0,a.useState)(""),[v,x]=(0,a.useState)(""),[b,y]=(0,a.useState)(null),[j,w]=(0,a.useState)(""),[S,C]=(0,a.useState)(""),[A,E]=(0,a.useState)(null),[k,O]=(0,a.useState)([]),[P,I]=(0,a.useState)(!1),[D,M]=(0,a.useState)([]),[T,R]=(0,a.useState)([]),[N,$]=(0,a.useState)(!1),[z,L]=(0,a.useState)(!1),[B,F]=(0,a.useState)("PYG");(0,a.useEffect)((()=>{t&&(async()=>{try{L(!0);const e=new Date;e.setDate(e.getDate()-3);const t=e.toISOString().split("T")[0];console.log("Solicitando cajas desde:",t);const r=await ed.get("/api/cajas");console.log("Cajas recibidas (todas):",r.data);const n=(await ed.get("/api/sucursales")).data||[];console.log("Sucursales recibidas:",n);const o=n.reduce(((e,t)=>(e[t.id]=t.nombre,e)),{}),a=e.getTime(),i=r.data.filter((e=>new Date(e.fechaApertura).getTime()>=a));console.log("Cajas filtradas por fecha en frontend:",i);const s=i.map((e=>({...e,estado:"string"===typeof e.estado&&"CERRADA"===e.estado.toUpperCase()?"CERRADA":"ABIERTA",sucursalNombre:e.sucursalNombre||o[e.sucursalId]||"No disponible"})));console.log("Cajas normalizadas:",s),R(s)}catch(c){console.error("Error al obtener cajas:",c),d("No se pudieron cargar las cajas. Intente nuevamente.")}finally{L(!1)}})()}),[t]),(0,a.useEffect)((()=>{t&&(async()=>{try{$(!0);const e=await ed.get("/api/sucursales");M(e.data)}catch(c){console.error("Error al obtener sucursales:",c),d("No se pudieron cargar las sucursales. Intente nuevamente.")}finally{$(!1)}})()}),[t]),(0,a.useEffect)((()=>{t||_()}),[t]),(0,a.useEffect)((()=>{U()}),[j,S,T]);const _=()=>{f(""),g(""),x(""),y(null),w(""),C(""),E(null),d(null),p(null)},U=()=>{I(!0);try{let e=[...T];if(j&&(e=e.filter((e=>e.sucursalId===j))),S.trim()){const t=S.toLowerCase();e=e.filter((e=>(e.id||"").toLowerCase().includes(t)||(e.nombre||"").toLowerCase().includes(t)||(e.usuario||"").toLowerCase().includes(t)||(e.responsable||"").toLowerCase().includes(t)))}console.log("Cajas filtradas para mostrar:",e),O(e)}catch(c){console.error("Error al filtrar cajas:",c)}finally{I(!1)}},W=e=>{if(!e)return"ID No disponible";if(e.includes("-")&&e.length>8){return`#${e.split("-")[0].toUpperCase()}`}return e.startsWith("CAJA #")?e.substring(5):`#${e}`},V=e=>{if(!e)return"Fecha no disponible";try{return new Date(e).toLocaleDateString("es-PY",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(c){return"Fecha no disponible"}},G=(e,t)=>{if("Enter"===e.key||"Tab"===e.key){e.preventDefault();const r=document.getElementById(t);r&&r.focus()}},H=()=>{s||r()};return(0,Ve.jsxs)(Fi,{open:t,onClose:H,maxWidth:"md",fullWidth:!0,children:[(0,Ve.jsx)(Gi,{children:(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ve.jsx)($r,{variant:"h6",children:"Pagos de Servicios/ Efectivo a Cajas"}),(0,Ve.jsx)(Ir,{onClick:H,size:"small",disabled:s,children:(0,Ve.jsx)(AC,{})})]})}),(0,Ve.jsxs)(Ki,{dividers:!0,children:[c&&(0,Ve.jsx)(Ah,{severity:"error",sx:{mb:2},children:c}),u&&(0,Ve.jsx)(Ah,{severity:"success",sx:{mb:2},children:u}),(0,Ve.jsxs)($h,{container:!0,spacing:3,children:[(0,Ve.jsx)($h,{item:!0,xs:12,md:6,children:(0,Ve.jsxs)($t,{elevation:2,sx:{p:3},children:[(0,Ve.jsx)($r,{variant:"subtitle1",gutterBottom:!0,children:"Selecci\xf3n de Caja"}),(0,Ve.jsxs)(lu,{fullWidth:!0,sx:{mb:2},children:[(0,Ve.jsx)(ou,{id:"sucursal-label",children:"Sucursal"}),(0,Ve.jsxs)(gp,{labelId:"sucursal-label",id:"sucursal",value:j,label:"Sucursal",onChange:e=>w(e.target.value),disabled:s||N,children:[(0,Ve.jsx)(_h,{value:"",children:"Todas las sucursales"}),D.map((e=>(0,Ve.jsx)(_h,{value:e.id.toString(),children:e.nombre},e.id)))]}),N&&(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center",gap:1,mt:1},children:[(0,Ve.jsx)(KS,{size:16}),(0,Ve.jsx)($r,{variant:"caption",children:"Cargando sucursales..."})]})]}),(0,Ve.jsx)(sA,{id:"caja-autocomplete",options:k,getOptionLabel:e=>`Caja #${e.cajaEnteroId} - ${e.usuario||e.responsable} - ${V(e.fechaApertura)} - ${"ABIERTA"===e.estado?"Abierta":"Cerrada"}`,value:A,onChange:(e,t)=>E(t),renderInput:e=>(0,Ve.jsx)(jp,{...e,label:"Buscar Caja",value:S,onChange:e=>C(e.target.value),InputProps:{...e.InputProps,startAdornment:(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)(kp,{position:"start",children:(0,Ve.jsx)(EC,{})}),e.InputProps.startAdornment]}),endAdornment:(0,Ve.jsxs)(Ve.Fragment,{children:[P?(0,Ve.jsx)(KS,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})},disabled:s||z}),loading:P||z,loadingText:"Buscando cajas...",noOptionsText:"No se encontraron cajas de los \xfaltimos 3 d\xedas",disabled:s||z}),A&&(0,Ve.jsxs)(Et,{sx:{mt:2,p:2,bgcolor:"action.hover",borderRadius:1},children:[(0,Ve.jsxs)($r,{variant:"subtitle2",gutterBottom:!0,children:[W(A.id)," - ","ABIERTA"===A.estado?"Abierta":"Cerrada"]}),(0,Ve.jsxs)($r,{variant:"body2",children:["Responsable: ",A.responsable||A.usuario||"No disponible"]}),(0,Ve.jsxs)($r,{variant:"body2",children:["Sucursal: ",A.sucursalNombre||"No disponible"]}),(0,Ve.jsxs)($r,{variant:"body2",children:["Fecha Apertura: ",V(A.fechaApertura)]}),(0,Ve.jsxs)($r,{variant:"body2",sx:{color:"text.secondary",mt:1},children:["Estado: ",(0,Ve.jsx)("span",{style:{fontWeight:"bold",color:"ABIERTA"===A.estado?"green":"red"},children:"ABIERTA"===A.estado?"Abierta":"Cerrada"})]})]})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:6,children:(0,Ve.jsxs)($t,{elevation:2,sx:{p:3},children:[(0,Ve.jsx)($r,{variant:"subtitle1",gutterBottom:!0,children:"Detalle del Pago"}),(0,Ve.jsxs)(lu,{fullWidth:!0,sx:{mb:2},children:[(0,Ve.jsx)(ou,{id:"servicio-label",children:"Servicio"}),(0,Ve.jsx)(gp,{labelId:"servicio-label",id:"servicio",value:h,label:"Servicio",onChange:e=>f(e.target.value),onKeyDown:e=>G(e,"monto"),disabled:s,renderValue:e=>(e=>{if(!e)return"";for(const t of dA)for(const r of t.servicios)if(r.id===e)return`${t.operadora}: ${r.nombre}`;return""})(e),children:dA.map((e=>[(0,Ve.jsx)(_h,{disabled:!0,children:(0,Ve.jsxs)($r,{variant:"subtitle2",children:[e.operadora,":"]})},e.operadora),...e.servicios.map((e=>(0,Ve.jsx)(_h,{value:e.id,sx:{pl:4},children:e.nombre},e.id)))]))})]}),(0,Ve.jsxs)(Et,{sx:{mb:2},children:["efectivo"===h&&(0,Ve.jsxs)(lu,{fullWidth:!0,sx:{mb:1},children:[(0,Ve.jsx)(ou,{id:"moneda-label",children:"Moneda"}),(0,Ve.jsxs)(gp,{labelId:"moneda-label",id:"moneda",value:B,label:"Moneda",onChange:e=>F(e.target.value),disabled:s,children:[(0,Ve.jsx)(_h,{value:"PYG",children:"Guaran\xedes (Gs)"}),(0,Ve.jsx)(_h,{value:"USD",children:"D\xf3lares (US$)"}),(0,Ve.jsx)(_h,{value:"BRL",children:"Reales (R$)"})]})]}),(0,Ve.jsx)(jp,{fullWidth:!0,id:"monto",label:"Monto",value:m,onChange:e=>{const t=(e=>{const t=e.replace(/\D/g,"");if(!t)return"";const r=parseInt(t,10);return r?new Intl.NumberFormat("es-PY").format(r):""})(e.target.value);g(t)},onKeyDown:e=>G(e,"observacion"),disabled:s,autoComplete:"off",placeholder:"0",sx:{mb:2},InputProps:{endAdornment:(0,Ve.jsxs)($r,{variant:"caption",children:["\xa0","PYG"===B?"Gs":"USD"===B?"US$":"R$"]})}})]}),(0,Ve.jsx)(jp,{fullWidth:!0,id:"observacion",label:"Observaciones",multiline:!0,rows:2,value:v,onChange:e=>x(e.target.value.toUpperCase()),onKeyDown:e=>G(e,"guardar-button"),disabled:s,autoComplete:"off",sx:{mb:2}}),(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[(0,Ve.jsxs)(fs,{variant:"outlined",component:"label",startIcon:(0,Ve.jsx)(lA,{}),disabled:s,children:["Adjuntar Comprobante (Opcional)",(0,Ve.jsx)("input",{type:"file",hidden:!0,accept:"image/*",onChange:e=>{if(e.target.files&&e.target.files[0]){const t=e.target.files[0];y(t),p(`Comprobante ${t.name} subido correctamente`),setTimeout((()=>{p(null)}),2e3)}},disabled:s})]}),b&&(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)($r,{variant:"body2",noWrap:!0,sx:{maxWidth:150},title:b.name,children:b.name}),(0,Ve.jsx)(Qo,{title:"Ver comprobante",children:(0,Ve.jsx)(Ir,{size:"small",color:"info",onClick:()=>{b?window.open(URL.createObjectURL(b),"_blank"):(d("No hay comprobante disponible"),setTimeout((()=>{d(null)}),2e3))},disabled:s,children:(0,Ve.jsx)(cA,{fontSize:"small"})})})]})]})]})})]}),i&&(0,Ve.jsxs)($t,{sx:{p:1.5,bgcolor:"background.paper",mt:2},children:[(0,Ve.jsx)($r,{variant:"subtitle2",gutterBottom:!0,children:"Cotizaci\xf3n Vigente"}),(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,Ve.jsxs)($r,{variant:"body2",children:["D\xf3lar: ",nC.guaranies(i.valorDolar)]}),(0,Ve.jsxs)($r,{variant:"body2",children:["Real: ",nC.guaranies(i.valorReal)]})]})]})]}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:H,color:"inherit",disabled:s,children:"CANCELAR"}),(0,Ve.jsx)(fs,{id:"guardar-button",variant:"contained",color:"primary",onClick:async()=>{if(!A)return void d("Debe seleccionar una caja");if(!h)return void d("Debe seleccionar un servicio");if(!m||""===m.trim())return void d("Debe ingresar un monto v\xe1lido mayor a cero");const e=m.replace(/\./g,"");if(!e||"0"===e)return void d("Debe ingresar un monto v\xe1lido mayor a cero");const t=parseInt(e,10);if(isNaN(t)||t<=0)d("Debe ingresar un monto v\xe1lido mayor a cero");else if(o)try{l(!0),d(null);const{operadora:e,servicio:a}=(e=>{for(const t of dA)for(const r of t.servicios)if(r.id===e)return{operadora:t.operadora,servicio:r.nombre};return{operadora:"",servicio:""}})(h),i="efectivo"===h?B:"PYG",s=new FormData;s.append("cajaId",A.id),s.append("operadora",e),s.append("servicio",a),s.append("monto",t.toString()),s.append("moneda",i),s.append("usuarioId",o.id.toString()),s.append("estado","PENDIENTE"),v&&s.append("observacion",v),b&&s.append("comprobante",b),console.log("Enviando datos del pago de servicio:",Object.fromEntries(s));await ed.post("/api/pagos-servicios",s,{headers:{"Content-Type":"multipart/form-data"}});n();let c=`Pago realizado correctamente para ${a} en ${A.nombre||W(A.id)}`;"PYG"===i?c=`Pago de ${nC.guaranies(t)} ${c}`:"USD"===i?c=`Pago de ${nC.dollars(t)} ${c}`:"BRL"===i&&(c=`Pago de ${nC.reals(t)} ${c}`),p(c),setTimeout((()=>{_(),r()}),2e3)}catch(c){console.error("Error al procesar el pago:",c),d("Error al registrar el pago. Intente nuevamente.")}finally{l(!1)}else d("Error de autenticaci\xf3n. No se pudo identificar al usuario.")},disabled:s||!A||!h||!m,startIcon:s?(0,Ve.jsx)(KS,{size:20}):null,children:s?"Procesando...":"GUARDAR PAGO"})]})]})},pA=ed.create({baseURL:"http://localhost:3000/api",headers:{"Content-Type":"application/json"}});pA.interceptors.response.use((e=>e),(e=>{if(e.response){const{status:t}=e.response;401===t&&console.error("No autorizado. Debe iniciar sesi\xf3n nuevamente."),403===t&&console.error("No tiene permisos para realizar esta acci\xf3n.")}return Promise.reject(e)})),pA.interceptors.request.use((e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e}),(e=>Promise.reject(e)));const hA=async e=>{try{return(await pA.post("/conteos",e)).data}catch(t){throw console.error("Error al crear conteo:",t),t}},fA={getSaldosActuales:async()=>{try{return(await pA.get("/caja_mayor_movimientos/saldos")).data}catch(e){throw console.error("Error al obtener saldos actuales de caja mayor:",e),e}},getMovimientosPaginados:async e=>{try{const{moneda:t}=e,r=t?`/caja_mayor_movimientos/movimientos/${t}`:"/caja_mayor_movimientos/movimientos";console.log("[cajaMayorService] Llamando a:",r,"con params:",e);return(await pA.get(r,{params:e})).data}catch(t){throw console.error("Error al obtener movimientos paginados:",e,t),t}},getMovimientoDetalle:async e=>{try{return(await pA.get(`/caja_mayor_movimientos/detalle/${e}`)).data}catch(t){throw console.error(`Error al obtener detalles del movimiento ${e}:`,t),t}},getUltimosMovimientos:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return console.warn("[DEPRECATED] getUltimosMovimientos ahora usa getMovimientosPaginados"),fA.getMovimientosPaginados({pageSize:e})},getTiposUnicos:async()=>{try{return(await pA.get("/caja_mayor_movimientos/tipos")).data||[]}catch(e){throw console.error("Error al obtener tipos \xfanicos de movimiento:",e),e}}},mA=pA,gA=async e=>{try{return(await mA.post("/depositos-bancarios",e,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(t){throw console.error("Error al crear dep\xf3sito bancario:",t.message),t}},vA=e=>{let{open:t,onClose:r,onGuardarExito:n}=e;const{user:o}=eC(),{cotizacionVigente:i}=SC(),[s,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),[u,p]=(0,a.useState)(null),[h,f]=(0,a.useState)(null),[m,g]=(0,a.useState)(""),[v,x]=(0,a.useState)(""),[b,y]=(0,a.useState)(""),[j,w]=(0,a.useState)(""),[S,C]=(0,a.useState)(null),[A,E]=(0,a.useState)([]),[k,O]=(0,a.useState)([]),[P,I]=(0,a.useState)(null);(0,a.useEffect)((()=>{t?D():M()}),[t]);const D=async()=>{try{d(!0),p(null),console.log("Obteniendo cuentas bancarias desde:","http://localhost:3000/api/cuentas-bancarias");const e=await mA.get("/cuentas-bancarias");console.log("Respuesta del servidor (cuentas bancarias):",e.data);const t=e.data.map((e=>({id:e.id.toString(),numero:e.numeroCuenta,tipoCuenta:e.tipo||"Cuenta Corriente",moneda:e.moneda||"PYG",bancoId:e.bancoId||0,bancoNombre:e.banco})));E(t)}catch(u){console.error("Error al cargar cuentas bancarias:",u),p("No se pudieron cargar las cuentas bancarias. Intente nuevamente.");E([{id:"IT001",numero:"123456789",tipoCuenta:"Cuenta Corriente",moneda:"PYG",bancoId:1,bancoNombre:"Banco Ita\xfa"},{id:"IT002",numero:"987654321",tipoCuenta:"Caja de Ahorro",moneda:"USD",bancoId:1,bancoNombre:"Banco Ita\xfa"},{id:"CO001",numero:"456789123",tipoCuenta:"Cuenta Corriente",moneda:"PYG",bancoId:2,bancoNombre:"Banco Continental"},{id:"CO002",numero:"321654987",tipoCuenta:"Caja de Ahorro",moneda:"BRL",bancoId:2,bancoNombre:"Banco Continental"}])}finally{d(!1)}};(0,a.useEffect)((()=>{if(m.trim().length>0&&A.length>0){const e=m.toLowerCase(),t=A.filter((t=>t.bancoNombre&&t.bancoNombre.toLowerCase().includes(e)||t.numero&&t.numero.toLowerCase().includes(e)||t.tipoCuenta&&t.tipoCuenta.toLowerCase().includes(e)||t.moneda&&t.moneda.toLowerCase().includes(e)));O(t),console.log("Cuentas filtradas:",t.length)}else O([])}),[m,A]);const M=()=>{g(""),x(""),y(""),w(""),C(null),p(null),f(null),O([]),I(null)},T=(e,t)=>{if("Enter"===e.key||"Tab"===e.key){e.preventDefault();const r=document.getElementById(t);r&&r.focus()}},R=()=>{s||r()};return(0,Ve.jsxs)(Fi,{open:t,onClose:R,maxWidth:"md",fullWidth:!0,children:[(0,Ve.jsx)(Gi,{children:(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ve.jsx)($r,{variant:"h6",children:"Dep\xf3sito Bancario"}),(0,Ve.jsx)(Ir,{onClick:R,size:"small",disabled:s,children:(0,Ve.jsx)(AC,{})})]})}),(0,Ve.jsxs)(Ki,{dividers:!0,children:[u&&(0,Ve.jsx)(Ah,{severity:"error",sx:{mb:2},children:u}),h&&(0,Ve.jsx)(Ah,{severity:"success",sx:{mb:2},children:h}),(0,Ve.jsxs)($h,{container:!0,spacing:3,children:[(0,Ve.jsx)($h,{item:!0,xs:12,md:6,children:(0,Ve.jsxs)($t,{elevation:2,sx:{p:3},children:[(0,Ve.jsx)($r,{variant:"subtitle1",gutterBottom:!0,children:"Informaci\xf3n Bancaria"}),P?(0,Ve.jsxs)(Et,{children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,Ve.jsx)($r,{variant:"subtitle2",children:"Cuenta seleccionada"}),(0,Ve.jsx)(fs,{size:"small",onClick:()=>I(null),disabled:s,children:"Cambiar"})]}),(0,Ve.jsxs)(Et,{sx:{p:2,bgcolor:"action.hover",borderRadius:1},children:[(0,Ve.jsx)($r,{variant:"subtitle2",gutterBottom:!0,children:P.bancoNombre}),(0,Ve.jsxs)($r,{variant:"body2",children:["N\xfamero: ",P.numero]}),(0,Ve.jsxs)($r,{variant:"body2",children:["Tipo: ",P.tipoCuenta]}),(0,Ve.jsxs)($r,{variant:"body2",children:["Moneda: ","PYG"===P.moneda?"Guaran\xedes":"USD"===P.moneda?"D\xf3lares":"Reales"]})]})]}):(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)(jp,{fullWidth:!0,id:"busquedaCuenta",label:"Buscar cuenta bancaria",value:m,onChange:e=>{const t=e.target.value.toUpperCase();g(t)},placeholder:"Ingrese banco, n\xfamero de cuenta o tipo",autoComplete:"off",disabled:s||c,sx:{mb:2},InputProps:{startAdornment:(0,Ve.jsx)(kp,{position:"start",children:(0,Ve.jsx)(EC,{fontSize:"small"})}),endAdornment:c?(0,Ve.jsx)(KS,{size:20}):null},autoFocus:!0}),m.trim().length>0&&(0,Ve.jsx)($t,{elevation:3,sx:{maxHeight:200,overflow:"auto",mb:2,p:k.length?1:0},children:k.length>0?k.map((e=>(0,Ve.jsxs)(Et,{sx:{p:1,"&:hover":{bgcolor:"action.hover",cursor:"pointer"},borderBottom:"1px solid",borderColor:"divider","&:last-child":{borderBottom:"none"}},onClick:()=>(e=>{const t={...e,bancoId:e.bancoId||1};I(t),g(""),O([]),y("");const r=document.getElementById("numeroBoleta");r&&r.focus()})(e),children:[(0,Ve.jsx)($r,{variant:"subtitle2",children:e.bancoNombre}),(0,Ve.jsxs)($r,{variant:"body2",children:[e.numero," - ",e.tipoCuenta]}),(0,Ve.jsxs)($r,{variant:"caption",color:"textSecondary",children:["Moneda: ","PYG"===e.moneda?"Guaran\xedes":"USD"===e.moneda?"D\xf3lares":"Reales"]})]},e.id))):(0,Ve.jsx)(Et,{sx:{p:2,textAlign:"center"},children:(0,Ve.jsx)($r,{variant:"body2",color:"textSecondary",children:"No se encontraron cuentas"})})}),0===A.length&&!c&&(0,Ve.jsx)(Ah,{severity:"info",sx:{mt:2},children:"No hay cuentas bancarias disponibles"})]})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:6,children:(0,Ve.jsxs)($t,{elevation:2,sx:{p:3},children:[(0,Ve.jsx)($r,{variant:"subtitle1",gutterBottom:!0,children:"Detalle del Dep\xf3sito"}),(0,Ve.jsx)(jp,{fullWidth:!0,id:"numeroBoleta",label:"N\xfamero de Boleta/Comprobante",value:v,onChange:e=>x(e.target.value.toUpperCase()),onKeyDown:e=>T(e,"monto"),disabled:s||!P,autoComplete:"off",sx:{mb:2},onClick:e=>e.target.select()}),(0,Ve.jsx)(jp,{fullWidth:!0,id:"monto",label:"Monto",value:b,onChange:e=>{const t=((e,t)=>{if("USD"===t||"BRL"===t){let t=e.replace(/[^\d.,]/g,"");if(t.includes(",")){const e=t.split(",");e.length>2&&(t=e[0]+","+e.slice(1).join("")),e[1]&&e[1].length>2&&(e[1]=e[1].substring(0,2),t=e[0]+","+e[1]);const r=e[0].replace(/\./g,"");let n="";return r&&(n=Number(r).toLocaleString("es-PY").split(",")[0]),n+","+e[1]}{const e=t.replace(/\./g,"");return e?Number(e).toLocaleString("es-PY"):""}}{const t=e.replace(/\D/g,"");if(!t)return"";const r=parseInt(t,10);return r?Number(r).toLocaleString("es-PY"):""}})(e.target.value,null===P||void 0===P?void 0:P.moneda);y(t)},onKeyDown:e=>T(e,"observacion"),disabled:s||!P,autoComplete:"off",placeholder:"0",sx:{mb:2},InputProps:{endAdornment:(0,Ve.jsxs)($r,{variant:"caption",children:["\xa0",(e=>{switch(e){case"USD":return"US$";case"BRL":return"R$";default:return"Gs"}})(null===P||void 0===P?void 0:P.moneda)]})},onClick:e=>e.target.select()}),(0,Ve.jsx)(jp,{fullWidth:!0,id:"observacion",label:"Observaciones",multiline:!0,rows:2,value:j,onChange:e=>w(e.target.value.toUpperCase()),onKeyDown:e=>T(e,"guardar-button"),disabled:s||!P,autoComplete:"off",sx:{mb:2},onClick:e=>e.target.select()}),(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[(0,Ve.jsxs)(fs,{variant:"outlined",component:"label",startIcon:(0,Ve.jsx)(lA,{}),disabled:s||!P,children:["Adjuntar Comprobante",(0,Ve.jsx)("input",{type:"file",hidden:!0,accept:"image/*,.pdf",onChange:e=>{if(e.target.files&&e.target.files[0]){const t=e.target.files[0];C(t),f(`Comprobante ${t.name} subido correctamente`),setTimeout((()=>{f(null)}),2e3)}},disabled:s||!P})]}),S&&(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)($r,{variant:"body2",noWrap:!0,sx:{maxWidth:150},title:S.name,children:S.name}),(0,Ve.jsx)(Qo,{title:"Ver comprobante",children:(0,Ve.jsx)(Ir,{size:"small",color:"info",onClick:()=>{S?window.open(URL.createObjectURL(S),"_blank"):(p("No hay comprobante disponible"),setTimeout((()=>{p(null)}),2e3))},disabled:s,children:(0,Ve.jsx)(cA,{fontSize:"small"})})})]})]})]})})]}),i&&(0,Ve.jsxs)($t,{sx:{p:1.5,bgcolor:"background.paper",mt:2},children:[(0,Ve.jsx)($r,{variant:"subtitle2",gutterBottom:!0,children:"Cotizaci\xf3n Vigente"}),(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,Ve.jsxs)($r,{variant:"body2",children:["D\xf3lar: ",nC.guaranies(i.valorDolar)]}),(0,Ve.jsxs)($r,{variant:"body2",children:["Real: ",nC.guaranies(i.valorReal)]})]})]})]}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:R,color:"inherit",disabled:s,children:"Cancelar"}),(0,Ve.jsx)(fs,{id:"guardar-button",variant:"contained",color:"primary",onClick:async()=>{if(!P)return void p("Debe seleccionar una cuenta bancaria");if(!b||""===b.trim())return void p("Debe ingresar un monto v\xe1lido mayor a cero");let e;if("USD"===P.moneda||"BRL"===P.moneda){const t=b.replace(/\./g,"").replace(",",".");e=parseFloat(t)}else{const t=b.replace(/\./g,"");e=parseInt(t,10)}if(isNaN(e)||e<=0)p("Debe ingresar un monto v\xe1lido mayor a cero");else try{l(!0),p(null),f(null),console.log("Cuenta seleccionada:",P);const t=new FormData;let o=v;if(!o||""===o.trim()){const e=new Date;o=`${`${e.getDate()}${e.getMonth()+1}${e.getFullYear()}_${e.getHours()}${e.getMinutes()}${e.getSeconds()}`}_SIN BOLETA`}if(t.append("numeroBoleta",o),t.append("monto",e.toString()),!P.bancoId)return console.error("Error: bancoId no est\xe1 disponible en la cuenta seleccionada"),p("Error en la configuraci\xf3n de la cuenta bancaria. Contacte al administrador."),void l(!1);const a=Number(P.bancoId);if(isNaN(a))return console.error("Error: bancoId no es un n\xfamero v\xe1lido:",P.bancoId),p("Error en la configuraci\xf3n de la cuenta bancaria. El ID del banco no es v\xe1lido."),void l(!1);let i;t.append("bancoId",a.toString());try{i=Number(P.id),isNaN(i)&&(i=P.id)}catch(a0){i=P.id}if(t.append("cuentaBancariaId",i.toString()),j&&t.append("observacion",j),S)t.append("comprobante",S);else{const e=new Blob(["Sin comprobante"],{type:"text/plain"}),r=new File([e],"sin_comprobante.txt",{type:"text/plain"});t.append("comprobante",r)}console.log("Contenido del FormData:"),t.forEach(((e,t)=>{console.log(`${t}: ${e instanceof File?e.name:e}`)}));const s=await gA(t);let c;console.log("Respuesta del servidor (dep\xf3sito creado):",s),n(),c="PYG"===P.moneda?nC.guaranies(e):"USD"===P.moneda?nC.dollars(e):nC.reals(e),f(`Dep\xf3sito de ${c} registrado correctamente en la cuenta de ${P.bancoNombre}. Movimiento de caja generado.`),setTimeout((()=>{M(),r()}),2e3)}catch(u){var t,o,a,i;if(console.error("Error al procesar el dep\xf3sito:",u),ed.isAxiosError(u))console.error("Detalles del error Axios:",{status:null===(t=u.response)||void 0===t?void 0:t.status,statusText:null===(o=u.response)||void 0===o?void 0:o.statusText,data:null===(a=u.response)||void 0===a?void 0:a.data,headers:null===(i=u.response)||void 0===i?void 0:i.headers}),u.response?p(`Error (${u.response.status}): ${u.response.data.error||"Intente nuevamente"}`):u.request?p("No se recibi\xf3 respuesta del servidor. Verifique su conexi\xf3n."):p(`Error al enviar la solicitud: ${u.message}`);else p("Error al registrar el dep\xf3sito. Intente nuevamente.")}finally{l(!1)}},disabled:s||!P||!b,startIcon:s?(0,Ve.jsx)(KS,{size:20}):null,children:s?"Procesando...":"Guardar Dep\xf3sito"})]})]})};let xA;function bA(){if(xA)return xA;const e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),xA="reverse",e.scrollLeft>0?xA="default":(e.scrollLeft=1,0===e.scrollLeft&&(xA="negative")),document.body.removeChild(e),xA}function yA(e,t){const r=e.scrollLeft;if("rtl"!==t)return r;switch(bA()){case"negative":return e.scrollWidth-e.clientWidth+r;case"reverse":return e.scrollWidth-e.clientWidth-r;default:return r}}function jA(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}const wA=["onChange"],SA={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};const CA=(0,ms.A)((0,Ve.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),AA=(0,ms.A)((0,Ve.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function EA(e){return(0,Mt.Ay)("MuiTabScrollButton",e)}const kA=(0,St.A)("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),OA=["className","slots","slotProps","direction","orientation","disabled"],PA=(0,Ot.Ay)(Ar,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.orientation&&t[r.orientation]]}})((e=>{let{ownerState:t}=e;return(0,Be.A)({width:40,flexShrink:0,opacity:.8,[`&.${kA.disabled}`]:{opacity:0}},"vertical"===t.orientation&&{width:"100%",height:40,"& svg":{transform:`rotate(${t.isRtl?-90:90}deg)`}})})),IA=a.forwardRef((function(e,t){var r,n;const o=(0,at.b)({props:e,name:"MuiTabScrollButton"}),{className:a,slots:i={},slotProps:s={},direction:l}=o,c=(0,Fe.A)(o,OA),d=Xe(),u=(0,Be.A)({isRtl:d},o),p=(e=>{const{classes:t,orientation:r,disabled:n}=e,o={root:["root",r,n&&"disabled"]};return(0,kt.A)(o,EA,t)})(u),h=null!=(r=i.StartScrollButtonIcon)?r:CA,f=null!=(n=i.EndScrollButtonIcon)?n:AA,m=Ao({elementType:h,externalSlotProps:s.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:u}),g=Ao({elementType:f,externalSlotProps:s.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:u});return(0,Ve.jsx)(PA,(0,Be.A)({component:"div",className:(0,vt.A)(p.root,a),ref:t,role:null,ownerState:u,tabIndex:null},c,{children:"left"===l?(0,Ve.jsx)(h,(0,Be.A)({},m)):(0,Ve.jsx)(f,(0,Be.A)({},g))}))}));function DA(e){return(0,Mt.Ay)("MuiTabs",e)}const MA=(0,St.A)("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),TA=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],RA=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,NA=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,$A=(e,t,r)=>{let n=!1,o=r(e,t);for(;o;){if(o===e.firstChild){if(n)return;n=!0}const t=o.disabled||"true"===o.getAttribute("aria-disabled");if(o.hasAttribute("tabindex")&&!t)return void o.focus();o=r(e,o)}},zA=(0,Ot.Ay)("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${MA.scrollButtons}`]:t.scrollButtons},{[`& .${MA.scrollButtons}`]:r.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,r.vertical&&t.vertical]}})((e=>{let{ownerState:t,theme:r}=e;return(0,Be.A)({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},t.vertical&&{flexDirection:"column"},t.scrollButtonsHideMobile&&{[`& .${MA.scrollButtons}`]:{[r.breakpoints.down("sm")]:{display:"none"}}})})),LA=(0,Ot.Ay)("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.scroller,r.fixed&&t.fixed,r.hideScrollbar&&t.hideScrollbar,r.scrollableX&&t.scrollableX,r.scrollableY&&t.scrollableY]}})((e=>{let{ownerState:t}=e;return(0,Be.A)({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},t.fixed&&{overflowX:"hidden",width:"100%"},t.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},t.scrollableX&&{overflowX:"auto",overflowY:"hidden"},t.scrollableY&&{overflowY:"auto",overflowX:"hidden"})})),BA=(0,Ot.Ay)("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.flexContainer,r.vertical&&t.flexContainerVertical,r.centered&&t.centered]}})((e=>{let{ownerState:t}=e;return(0,Be.A)({display:"flex"},t.vertical&&{flexDirection:"column"},t.centered&&{justifyContent:"center"})})),FA=(0,Ot.Ay)("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})((e=>{let{ownerState:t,theme:r}=e;return(0,Be.A)({position:"absolute",height:2,bottom:0,width:"100%",transition:r.transitions.create()},"primary"===t.indicatorColor&&{backgroundColor:(r.vars||r).palette.primary.main},"secondary"===t.indicatorColor&&{backgroundColor:(r.vars||r).palette.secondary.main},t.vertical&&{height:"100%",width:2,right:0})})),_A=(0,Ot.Ay)((function(e){const{onChange:t}=e,r=(0,Fe.A)(e,wA),n=a.useRef(),o=a.useRef(null),i=()=>{n.current=o.current.offsetHeight-o.current.clientHeight};return(0,Ha.A)((()=>{const e=(0,Aa.A)((()=>{const e=n.current;i(),e!==n.current&&t(n.current)})),r=(0,Ea.A)(o.current);return r.addEventListener("resize",e),()=>{e.clear(),r.removeEventListener("resize",e)}}),[t]),a.useEffect((()=>{i(),t(n.current)}),[t]),(0,Ve.jsx)("div",(0,Be.A)({style:SA},r,{ref:o}))}))({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),UA={};const WA=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiTabs"}),n=gt(),o=Xe(),{"aria-label":i,"aria-labelledby":s,action:l,centered:c=!1,children:d,className:u,component:p="div",allowScrollButtonsMobile:h=!1,indicatorColor:f="primary",onChange:m,orientation:g="horizontal",ScrollButtonComponent:v=IA,scrollButtons:x="auto",selectionFollowsFocus:b,slots:y={},slotProps:j={},TabIndicatorProps:w={},TabScrollButtonProps:S={},textColor:C="primary",value:A,variant:E="standard",visibleScrollbar:k=!1}=r,O=(0,Fe.A)(r,TA),P="scrollable"===E,I="vertical"===g,D=I?"scrollTop":"scrollLeft",M=I?"top":"left",T=I?"bottom":"right",R=I?"clientHeight":"clientWidth",N=I?"height":"width",$=(0,Be.A)({},r,{component:p,allowScrollButtonsMobile:h,indicatorColor:f,orientation:g,vertical:I,scrollButtons:x,textColor:C,variant:E,visibleScrollbar:k,fixed:!P,hideScrollbar:P&&!k,scrollableX:P&&!I,scrollableY:P&&I,centered:c&&!P,scrollButtonsHideMobile:!h}),z=(e=>{const{vertical:t,fixed:r,hideScrollbar:n,scrollableX:o,scrollableY:a,centered:i,scrollButtonsHideMobile:s,classes:l}=e,c={root:["root",t&&"vertical"],scroller:["scroller",r&&"fixed",n&&"hideScrollbar",o&&"scrollableX",a&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",i&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",s&&"scrollButtonsHideMobile"],scrollableX:[o&&"scrollableX"],hideScrollbar:[n&&"hideScrollbar"]};return(0,kt.A)(c,DA,l)})($),L=Ao({elementType:y.StartScrollButtonIcon,externalSlotProps:j.startScrollButtonIcon,ownerState:$}),B=Ao({elementType:y.EndScrollButtonIcon,externalSlotProps:j.endScrollButtonIcon,ownerState:$});const[F,_]=a.useState(!1),[U,W]=a.useState(UA),[V,G]=a.useState(!1),[H,q]=a.useState(!1),[Y,K]=a.useState(!1),[X,Q]=a.useState({overflow:"hidden",scrollbarWidth:0}),J=new Map,Z=a.useRef(null),ee=a.useRef(null),te=()=>{const e=Z.current;let t,r;if(e){const r=e.getBoundingClientRect();t={clientWidth:e.clientWidth,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop,scrollLeftNormalized:yA(e,o?"rtl":"ltr"),scrollWidth:e.scrollWidth,top:r.top,bottom:r.bottom,left:r.left,right:r.right}}if(e&&!1!==A){const e=ee.current.children;if(e.length>0){const t=e[J.get(A)];0,r=t?t.getBoundingClientRect():null}}return{tabsMeta:t,tabMeta:r}},re=(0,qt.A)((()=>{const{tabsMeta:e,tabMeta:t}=te();let r,n=0;if(I)r="top",t&&e&&(n=t.top-e.top+e.scrollTop);else if(r=o?"right":"left",t&&e){const a=o?e.scrollLeftNormalized+e.clientWidth-e.scrollWidth:e.scrollLeft;n=(o?-1:1)*(t[r]-e[r]+a)}const a={[r]:n,[N]:t?t[N]:0};if(isNaN(U[r])||isNaN(U[N]))W(a);else{const e=Math.abs(U[r]-a[r]),t=Math.abs(U[N]-a[N]);(e>=1||t>=1)&&W(a)}})),ne=function(e){let{animation:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t?function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>{};const{ease:a=jA,duration:i=300}=n;let s=null;const l=t[e];let c=!1;const d=()=>{c=!0},u=n=>{if(c)return void o(new Error("Animation cancelled"));null===s&&(s=n);const d=Math.min(1,(n-s)/i);t[e]=a(d)*(r-l)+l,d>=1?requestAnimationFrame((()=>{o(null)})):requestAnimationFrame(u)};l===r?o(new Error("Element already at target position")):requestAnimationFrame(u)}(D,Z.current,e,{duration:n.transitions.duration.standard}):Z.current[D]=e},oe=e=>{let t=Z.current[D];I?t+=e:(t+=e*(o?-1:1),t*=o&&"reverse"===bA()?-1:1),ne(t)},ae=()=>{const e=Z.current[R];let t=0;const r=Array.from(ee.current.children);for(let n=0;n<r.length;n+=1){const o=r[n];if(t+o[R]>e){0===n&&(t=e);break}t+=o[R]}return t},ie=()=>{oe(-1*ae())},se=()=>{oe(ae())},le=a.useCallback((e=>{Q({overflow:null,scrollbarWidth:e})}),[]),ce=(0,qt.A)((e=>{const{tabsMeta:t,tabMeta:r}=te();if(r&&t)if(r[M]<t[M]){const n=t[D]+(r[M]-t[M]);ne(n,{animation:e})}else if(r[T]>t[T]){const n=t[D]+(r[T]-t[T]);ne(n,{animation:e})}})),de=(0,qt.A)((()=>{P&&!1!==x&&K(!Y)}));a.useEffect((()=>{const e=(0,Aa.A)((()=>{Z.current&&re()}));let t;const r=r=>{r.forEach((e=>{e.removedNodes.forEach((e=>{var r;null==(r=t)||r.unobserve(e)})),e.addedNodes.forEach((e=>{var r;null==(r=t)||r.observe(e)}))})),e(),de()},n=(0,Ea.A)(Z.current);let o;return n.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(t=new ResizeObserver(e),Array.from(ee.current.children).forEach((e=>{t.observe(e)}))),"undefined"!==typeof MutationObserver&&(o=new MutationObserver(r),o.observe(ee.current,{childList:!0})),()=>{var r,a;e.clear(),n.removeEventListener("resize",e),null==(r=o)||r.disconnect(),null==(a=t)||a.disconnect()}}),[re,de]),a.useEffect((()=>{const e=Array.from(ee.current.children),t=e.length;if("undefined"!==typeof IntersectionObserver&&t>0&&P&&!1!==x){const r=e[0],n=e[t-1],o={root:Z.current,threshold:.99},a=new IntersectionObserver((e=>{G(!e[0].isIntersecting)}),o);a.observe(r);const i=new IntersectionObserver((e=>{q(!e[0].isIntersecting)}),o);return i.observe(n),()=>{a.disconnect(),i.disconnect()}}}),[P,x,Y,null==d?void 0:d.length]),a.useEffect((()=>{_(!0)}),[]),a.useEffect((()=>{re()})),a.useEffect((()=>{ce(UA!==U)}),[ce,U]),a.useImperativeHandle(l,(()=>({updateIndicator:re,updateScrollButtons:de})),[re,de]);const ue=(0,Ve.jsx)(FA,(0,Be.A)({},w,{className:(0,vt.A)(z.indicator,w.className),ownerState:$,style:(0,Be.A)({},U,w.style)}));let pe=0;const he=a.Children.map(d,(e=>{if(!a.isValidElement(e))return null;const t=void 0===e.props.value?pe:e.props.value;J.set(t,pe);const r=t===A;return pe+=1,a.cloneElement(e,(0,Be.A)({fullWidth:"fullWidth"===E,indicator:r&&!F&&ue,selected:r,selectionFollowsFocus:b,onChange:m,textColor:C,value:t},1!==pe||!1!==A||e.props.tabIndex?{}:{tabIndex:0}))})),fe=(()=>{const e={};e.scrollbarSizeListener=P?(0,Ve.jsx)(_A,{onChange:le,className:(0,vt.A)(z.scrollableX,z.hideScrollbar)}):null;const t=P&&("auto"===x&&(V||H)||!0===x);return e.scrollButtonStart=t?(0,Ve.jsx)(v,(0,Be.A)({slots:{StartScrollButtonIcon:y.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:L},orientation:g,direction:o?"right":"left",onClick:ie,disabled:!V},S,{className:(0,vt.A)(z.scrollButtons,S.className)})):null,e.scrollButtonEnd=t?(0,Ve.jsx)(v,(0,Be.A)({slots:{EndScrollButtonIcon:y.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:B},orientation:g,direction:o?"left":"right",onClick:se,disabled:!H},S,{className:(0,vt.A)(z.scrollButtons,S.className)})):null,e})();return(0,Ve.jsxs)(zA,(0,Be.A)({className:(0,vt.A)(z.root,u),ownerState:$,ref:t,as:p},O,{children:[fe.scrollButtonStart,fe.scrollbarSizeListener,(0,Ve.jsxs)(LA,{className:z.scroller,ownerState:$,style:{overflow:X.overflow,[I?"margin"+(o?"Left":"Right"):"marginBottom"]:k?void 0:-X.scrollbarWidth},ref:Z,children:[(0,Ve.jsx)(BA,{"aria-label":i,"aria-labelledby":s,"aria-orientation":"vertical"===g?"vertical":null,className:z.flexContainer,ownerState:$,onKeyDown:e=>{const t=ee.current,r=(0,mu.A)(t).activeElement;if("tab"!==r.getAttribute("role"))return;let n="horizontal"===g?"ArrowLeft":"ArrowUp",a="horizontal"===g?"ArrowRight":"ArrowDown";switch("horizontal"===g&&o&&(n="ArrowRight",a="ArrowLeft"),e.key){case n:e.preventDefault(),$A(t,r,NA);break;case a:e.preventDefault(),$A(t,r,RA);break;case"Home":e.preventDefault(),$A(t,null,RA);break;case"End":e.preventDefault(),$A(t,null,NA)}},ref:ee,role:"tablist",children:he}),F&&ue]}),fe.scrollButtonEnd]}))}));function VA(e){return(0,Mt.Ay)("MuiTab",e)}const GA=(0,St.A)("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),HA=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],qA=(0,Ot.Ay)(Ar,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.label&&r.icon&&t.labelIcon,t[`textColor${(0,Pt.A)(r.textColor)}`],r.fullWidth&&t.fullWidth,r.wrapped&&t.wrapped,{[`& .${GA.iconWrapper}`]:t.iconWrapper}]}})((e=>{let{theme:t,ownerState:r}=e;return(0,Be.A)({},t.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},r.label&&{flexDirection:"top"===r.iconPosition||"bottom"===r.iconPosition?"column":"row"},{lineHeight:1.25},r.icon&&r.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${GA.iconWrapper}`]:(0,Be.A)({},"top"===r.iconPosition&&{marginBottom:6},"bottom"===r.iconPosition&&{marginTop:6},"start"===r.iconPosition&&{marginRight:t.spacing(1)},"end"===r.iconPosition&&{marginLeft:t.spacing(1)})},"inherit"===r.textColor&&{color:"inherit",opacity:.6,[`&.${GA.selected}`]:{opacity:1},[`&.${GA.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},"primary"===r.textColor&&{color:(t.vars||t).palette.text.secondary,[`&.${GA.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${GA.disabled}`]:{color:(t.vars||t).palette.text.disabled}},"secondary"===r.textColor&&{color:(t.vars||t).palette.text.secondary,[`&.${GA.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${GA.disabled}`]:{color:(t.vars||t).palette.text.disabled}},r.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},r.wrapped&&{fontSize:t.typography.pxToRem(12)})})),YA=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiTab"}),{className:n,disabled:o=!1,disableFocusRipple:i=!1,fullWidth:s,icon:l,iconPosition:c="top",indicator:d,label:u,onChange:p,onClick:h,onFocus:f,selected:m,selectionFollowsFocus:g,textColor:v="inherit",value:x,wrapped:b=!1}=r,y=(0,Fe.A)(r,HA),j=(0,Be.A)({},r,{disabled:o,disableFocusRipple:i,selected:m,icon:!!l,iconPosition:c,label:!!u,fullWidth:s,textColor:v,wrapped:b}),w=(e=>{const{classes:t,textColor:r,fullWidth:n,wrapped:o,icon:a,label:i,selected:s,disabled:l}=e,c={root:["root",a&&i&&"labelIcon",`textColor${(0,Pt.A)(r)}`,n&&"fullWidth",o&&"wrapped",s&&"selected",l&&"disabled"],iconWrapper:["iconWrapper"]};return(0,kt.A)(c,VA,t)})(j),S=l&&u&&a.isValidElement(l)?a.cloneElement(l,{className:(0,vt.A)(w.iconWrapper,l.props.className)}):l;return(0,Ve.jsxs)(qA,(0,Be.A)({focusRipple:!i,className:(0,vt.A)(w.root,n),ref:t,role:"tab","aria-selected":m,disabled:o,onClick:e=>{!m&&p&&p(e,x),h&&h(e)},onFocus:e=>{g&&!m&&p&&p(e,x),f&&f(e)},ownerState:j,tabIndex:m?0:-1},y,{children:["top"===c||"start"===c?(0,Ve.jsxs)(a.Fragment,{children:[S,u]}):(0,Ve.jsxs)(a.Fragment,{children:[u,S]}),d]}))})),KA=e=>{const t=e.currentTarget.querySelector("input, textarea");if(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement)return void t.select();(e.currentTarget instanceof HTMLInputElement||e.currentTarget instanceof HTMLTextAreaElement)&&e.currentTarget.select();const r=e.target;r!==e.currentTarget&&r.select&&r.select()},XA={async create(e){try{return(await mA.post("/uso-devolucion",e)).data}catch(t){throw console.error("Error al crear registro de uso/devoluci\xf3n:",t),t}},async getAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await mA.get("/uso-devolucion",{params:e})).data}catch(t){throw console.error("Error al obtener registros de uso/devoluci\xf3n:",t),t}},async getById(e){try{return(await mA.get(`/uso-devolucion/${e}`)).data}catch(t){throw console.error(`Error al obtener registro de uso/devoluci\xf3n ID ${e}:`,t),t}},async anular(e){try{return(await mA.put(`/uso-devolucion/${e}/anular`)).data}catch(t){throw console.error(`Error al anular registro de uso/devoluci\xf3n ID ${e}:`,t),t}},async getSaldoPersona(e){try{return(await mA.get(`/uso-devolucion/saldo/persona/${e}`)).data}catch(t){throw console.error(`Error al obtener saldo de persona ID ${e}:`,t),t}},async getHistorialPersona(e){try{return(await mA.get(`/uso-devolucion/historial/persona/${e}`)).data}catch(t){throw console.error(`Error al obtener historial de persona ID ${e}:`,t),t}}},QA=async()=>(await mA.get("/uso-devolucion/saldos/personas")).data,JA=e=>{let{open:t,onClose:r,onGuardarExito:n}=e;const{cotizacionVigente:o}=SC(),{user:i}=eC(),[s,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(null),[u,p]=(0,a.useState)(null),[h,f]=(0,a.useState)("USO"),[m,g]=(0,a.useState)(""),[v,x]=(0,a.useState)(""),[b,y]=(0,a.useState)(""),[j,w]=(0,a.useState)(""),[S,C]=(0,a.useState)(""),[A,E]=(0,a.useState)(null),[k,O]=(0,a.useState)(""),[P,I]=(0,a.useState)(!1),[D,M]=(0,a.useState)([]),[T,R]=(0,a.useState)(null);(0,a.useEffect)((()=>{t||N(!1)}),[t]),(0,a.useEffect)((()=>{if(m){const e=D.find((e=>e.id===m));e&&E(e)}else E(null)}),[m,D]),(0,a.useEffect)((()=>{if(""===k.trim()&&A)return;if(A&&k===`${A.nombre} - ${A.documento}`)return;I(!0);const e=setTimeout((()=>{(async()=>{try{const e=(await bf(k)).map((e=>({id:e.id.toString(),nombre:e.nombreCompleto,documento:e.documento||"",direccion:e.direccion||"No especificada"})));M(e)}catch(e){console.error("Error al buscar personas:",e),d("Error al buscar personas. Intente nuevamente.")}finally{I(!1)}})()}),300);return()=>clearTimeout(e)}),[k,A]),(0,a.useEffect)((()=>{(async()=>{if(m)try{l(!0);const e=await XA.getSaldoPersona(parseInt(m));R({usuarioId:m,guaranies:e.guaranies,dolares:e.dolares,reales:e.reales})}catch(c){console.error("Error al cargar saldo del usuario:",c),R({usuarioId:m,guaranies:0,dolares:0,reales:0})}finally{l(!1)}else R(null)})()}),[m]);const N=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];f("USO"),e||(g(""),E(null),O("")),x(""),y(""),w(""),C(""),d(null),p(null)},$=(e,t)=>{if("BRL"===t){const t=e.replace(/\D/g,"");if(""===t)return"";const r=t.padStart(3,"0"),n=r.slice(-2);return`${(r.slice(0,-2).replace(/^0+/,"")||"0").replace(/\B(?=(\d{3})+(?!\d))/g,".")},${n}`}if("USD"===t){const t=e.replace(/\D/g,"");if(""===t)return"";const r=t.padStart(3,"0"),n=r.slice(-2);return`${(r.slice(0,-2).replace(/^0+/,"")||"0").replace(/\B(?=(\d{3})+(?!\d))/g,",")}.${n}`}return e},z=(e,t)=>{if("Enter"===e.key||"Tab"===e.key){e.preventDefault();const r=document.getElementById(t);r&&r.focus()}},L=()=>{s||r()},B=(e,t)=>{let r="",n="text.primary";const o=e>0?(0,Ve.jsx)(xC,{fontSize:"small",color:"success"}):e<0?(0,Ve.jsx)(uC,{fontSize:"small",color:"error"}):null;switch(t){case"guaranies":r=new Intl.NumberFormat("es-PY",{useGrouping:!0,maximumFractionDigits:0}).format(Math.abs(e));break;case"dolares":r=new Intl.NumberFormat("en-US",{useGrouping:!0,minimumFractionDigits:2,maximumFractionDigits:2}).format(Math.abs(e));break;case"reales":r=new Intl.NumberFormat("pt-BR",{useGrouping:!0,minimumFractionDigits:2,maximumFractionDigits:2}).format(Math.abs(e))}return n=e>0?"success.main":e<0?"error.main":"text.primary",(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center",gap:.5},children:[o,(0,Ve.jsxs)($r,{variant:"body2",sx:{color:n},children:["guaranies"===t?"G$ ":"dolares"===t?"U$D ":"R$ ",r]})]})};return(0,Ve.jsxs)(Fi,{open:t,onClose:L,maxWidth:"md",fullWidth:!0,children:[(0,Ve.jsx)(Gi,{children:(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ve.jsx)($r,{variant:"h6",children:"Uso y Devoluci\xf3n de Efectivo"}),(0,Ve.jsx)(Ir,{onClick:L,size:"small",disabled:s,children:(0,Ve.jsx)(AC,{})})]})}),(0,Ve.jsxs)(Ki,{dividers:!0,children:[c&&(0,Ve.jsx)(Ah,{severity:"error",sx:{mb:2},children:c}),u&&(0,Ve.jsx)(Ah,{severity:"success",sx:{mb:2},children:u}),(0,Ve.jsxs)(WA,{value:h,onChange:(e,t)=>{f(t)},variant:"fullWidth",sx:{mb:3},children:[(0,Ve.jsx)(YA,{value:"USO",label:"Uso de Efectivo",icon:(0,Ve.jsx)(Ss,{}),iconPosition:"start"}),(0,Ve.jsx)(YA,{value:"DEVOLUCION",label:"Devoluci\xf3n de Efectivo",icon:(0,Ve.jsx)(Ss,{}),iconPosition:"start"})]}),(0,Ve.jsxs)($h,{container:!0,spacing:3,children:[(0,Ve.jsx)($h,{item:!0,xs:12,md:6,children:(0,Ve.jsxs)($t,{elevation:2,sx:{p:3},children:[(0,Ve.jsx)($r,{variant:"subtitle1",gutterBottom:!0,children:"USO"===h?"Persona que nos presta":"Persona a quien devolvemos"}),(0,Ve.jsx)(sA,{id:"usuario-autocomplete",options:D,getOptionLabel:e=>`${e.nombre} - ${e.documento}`,filterOptions:e=>e,value:A,isOptionEqualToValue:(e,t)=>e.id===t.id,onChange:(e,t)=>{t?(g(t.id),E(t),O(`${t.nombre} - ${t.documento}`)):(g(""),E(null),O(""))},inputValue:k,onInputChange:(e,t,r)=>{"reset"!==r&&O(t.toUpperCase())},loading:P,loadingText:"Buscando usuarios...",noOptionsText:k?"No se encontraron usuarios":"Ingrese un nombre o documento para buscar",renderInput:e=>(0,Ve.jsx)(jp,{...e,label:"Buscar Persona",onClick:KA,onKeyDown:e=>z(e,"montoGuaranies"),InputProps:{...e.InputProps,startAdornment:(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)(kp,{position:"start",children:(0,Ve.jsx)(EC,{})}),e.InputProps.startAdornment]}),endAdornment:(0,Ve.jsxs)(Ve.Fragment,{children:[P?(0,Ve.jsx)(KS,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})},disabled:s,autoComplete:"off",fullWidth:!0,sx:{mb:2}})}),A&&(0,Ve.jsxs)(Et,{sx:{mt:2,p:2,bgcolor:"action.hover",borderRadius:1},children:[(0,Ve.jsx)($r,{variant:"subtitle2",gutterBottom:!0,children:"Detalles de la Persona"}),(0,Ve.jsxs)($r,{variant:"body2",children:["Nombre: ",A.nombre]}),(0,Ve.jsxs)($r,{variant:"body2",children:["Direcci\xf3n: ",A.direccion]}),(0,Ve.jsxs)($r,{variant:"body2",children:["Documento: ",A.documento]}),A&&T&&(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)(Ii,{sx:{my:1.5}}),(0,Ve.jsx)($r,{variant:"subtitle2",gutterBottom:!0,children:"Saldo Pendiente"}),!T||0===T.guaranies&&0===T.dolares&&0===T.reales?(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"No tiene saldo pendiente"}):(0,Ve.jsxs)(oS,{spacing:.5,children:[0!==T.guaranies&&(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,Ve.jsx)($r,{variant:"body2",children:"Guaran\xedes:"}),B(T.guaranies,"guaranies")]}),0!==T.dolares&&(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,Ve.jsx)($r,{variant:"body2",children:"D\xf3lares:"}),B(T.dolares,"dolares")]}),0!==T.reales&&(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,Ve.jsx)($r,{variant:"body2",children:"Reales:"}),B(T.reales,"reales")]}),(0,Ve.jsx)($r,{variant:"caption",color:"text.secondary",sx:{mt:.5},children:T.guaranies>0||T.dolares>0||T.reales>0?"* Valores positivos indican montos prestados pendientes de devoluci\xf3n":"* Valores negativos indican que ha devuelto m\xe1s de lo prestado"})]})]})]})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:6,children:(0,Ve.jsxs)($t,{elevation:2,sx:{p:3},children:[(0,Ve.jsxs)($r,{variant:"subtitle1",gutterBottom:!0,children:["Detalles de la ","USO"===h?"Entrega":"Devoluci\xf3n"]}),(0,Ve.jsx)($r,{variant:"subtitle2",gutterBottom:!0,sx:{mt:2},children:"Montos"}),(0,Ve.jsx)(jp,{fullWidth:!0,id:"montoGuaranies",label:"Guaran\xedes",value:v,onChange:e=>{x((e=>{const t=e.replace(/\D/g,"");if(!t)return"";const r=parseInt(t,10);return r?new Intl.NumberFormat("es-PY").format(r):""})(e.target.value))},onKeyDown:e=>z(e,"montoDolares"),onClick:KA,disabled:s,autoComplete:"off",placeholder:"0",sx:{mb:2},InputProps:{endAdornment:(0,Ve.jsx)($r,{variant:"caption",children:"\xa0G$"})}}),(0,Ve.jsx)(jp,{fullWidth:!0,id:"montoDolares",label:"D\xf3lares",value:b,onChange:e=>{y($(e.target.value,"USD"))},onKeyDown:e=>z(e,"montoReales"),onClick:KA,disabled:s,autoComplete:"off",placeholder:"0",sx:{mb:2},InputProps:{endAdornment:(0,Ve.jsx)($r,{variant:"caption",children:"\xa0U$D"})}}),(0,Ve.jsx)(jp,{fullWidth:!0,id:"montoReales",label:"Reales",value:j,onChange:e=>{w($(e.target.value,"BRL"))},onKeyDown:e=>z(e,"motivo"),onClick:KA,disabled:s,autoComplete:"off",placeholder:"0",sx:{mb:2},InputProps:{endAdornment:(0,Ve.jsx)($r,{variant:"caption",children:"\xa0R$"})}}),(0,Ve.jsx)(Ii,{sx:{my:2}}),(0,Ve.jsx)(jp,{fullWidth:!0,id:"motivo",label:"Motivo",multiline:!0,rows:3,value:S,onChange:e=>C(e.target.value.toUpperCase()),onKeyDown:e=>z(e,"procesar-button"),onClick:KA,disabled:s,autoComplete:"off",sx:{mb:1}}),(0,Ve.jsxs)(fu,{children:["Describa brevemente el motivo de la ","USO"===h?"entrega":"devoluci\xf3n"," de efectivo"]})]})})]}),o&&(0,Ve.jsxs)($t,{sx:{p:1.5,bgcolor:"background.paper",mt:2},children:[(0,Ve.jsx)($r,{variant:"subtitle2",gutterBottom:!0,children:"Cotizaci\xf3n Vigente"}),(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,Ve.jsxs)($r,{variant:"body2",children:["D\xf3lar: ",nC.guaranies(o.valorDolar)]}),(0,Ve.jsxs)($r,{variant:"body2",children:["Real: ",nC.guaranies(o.valorReal)]})]})]})]}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:L,color:"inherit",disabled:s,children:"Cancelar"}),(0,Ve.jsx)(fs,{id:"procesar-button",variant:"contained",color:"USO"===h?"primary":"success",onClick:async()=>{if(!m)return void d("Debe seleccionar un usuario");const e=v?parseInt(v.replace(/\./g,""),10):0,t=b?parseFloat(b.replace(/,/g,"")):0,r=j?parseFloat(j.replace(/\./g,"").replace(",",".")):0;if(0!==e||0!==t||0!==r)if(S)try{l(!0),d(null);const o={tipo:h,persona_id:parseInt(m),persona_nombre:(null===A||void 0===A?void 0:A.nombre)||"",guaranies:e,dolares:t,reales:r,motivo:S},a=await XA.create(o);n();let i=`${"USO"===h?"Uso":"Devoluci\xf3n"} registrada con \xe9xito para ${null===A||void 0===A?void 0:A.nombre}.`,s="";e>0&&(s+=`${nC.guaranies(e)} `),t>0&&(s+=`${nC.dollars(t)} `),r>0&&(s+=`${nC.reals(r)} `),p(`${i} Montos: ${s}`),a.saldo&&R({usuarioId:m,guaranies:a.saldo.guaranies,dolares:a.saldo.dolares,reales:a.saldo.reales}),N(!0),setTimeout((()=>{p(null),L()}),2e3)}catch(c){console.error(`Error al procesar la ${"USO"===h?"entrega":"devoluci\xf3n"}:`,c),d(`Error al registrar la ${"USO"===h?"entrega":"devoluci\xf3n"}. Intente nuevamente.`)}finally{l(!1)}else d("Debe ingresar un motivo para la operaci\xf3n");else d("Debe ingresar al menos un monto mayor a cero")},disabled:s||!A||!Boolean(v||b||j)||!S,startIcon:s?(0,Ve.jsx)(KS,{size:20}):null,children:s?"Procesando...":"USO"===h?"Registrar Uso":"Registrar Devoluci\xf3n"})]})]})},ZA=e=>{let{open:t,onClose:r,onGuardarExito:n}=e;const{cotizacionVigente:o}=SC(),[i,s]=(0,a.useState)(!1),[l,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(null),[p,h]=(0,a.useState)("BRL"),[f,m]=(0,a.useState)("PYG"),[g,v]=(0,a.useState)(""),[x,b]=(0,a.useState)(""),[y,j]=(0,a.useState)(null),[w,S]=(0,a.useState)(""),[C,A]=(0,a.useState)("");(0,a.useEffect)((()=>{t||E()}),[t]),(0,a.useEffect)((()=>{if(p&&f){const e=k(p,f);b(e>0?O(e):"")}}),[p,f,o]),(0,a.useEffect)((()=>{I()}),[g,x,p,f]),(0,a.useEffect)((()=>{S(null!==y?"PYG"===f?P(Math.round(y).toString(),!1):P(y.toString(),!0):"")}),[y,f]),(0,a.useEffect)((()=>{if(p===f){const e=["PYG","USD","BRL"].find((e=>e!==p));e&&m(e)}}),[p]),(0,a.useEffect)((()=>{if(f===p){const e=["PYG","USD","BRL"].find((e=>e!==f));e&&h(e)}}),[f]);const E=()=>{h("BRL"),m("PYG"),v(""),b(""),j(null),S(""),A(""),c(null),u(null)},k=(e,t)=>{if(!o)return 0;if(e===t)return 1;if("PYG"===e){if("USD"===t)return o.valorDolar;if("BRL"===t)return o.valorReal}return"USD"===e&&"PYG"===t?o.valorDolar:"BRL"===e&&"PYG"===t?o.valorReal:"PYG"===e&&"USD"===t?1/o.valorDolar:"PYG"===e&&"BRL"===t?1/o.valorReal:"USD"===e&&"BRL"===t?o.valorDolar/o.valorReal:"BRL"===e&&"USD"===t?o.valorReal/o.valorDolar:0},O=e=>e<.1?e.toFixed(6):e<1?e.toFixed(4):e<10?e.toFixed(2):Math.round(e).toString(),P=(e,t)=>{if(t){if(!e)return"";let t=e.replace(/\./g,"").replace(",",".");if(!/^[0-9]*\.?[0-9]*$/.test(t)&&(t=t.replace(/[^0-9.]/g,""),!/^[0-9]*\.?[0-9]*$/.test(t)))return e;if("."===t)return"0,";const r=t.split("."),n=r[0];let o=r.length>1?r[1]:"";o.length>2&&(o=o.substring(0,2));let a="";if(n){const e=parseInt(n,10);a=new Intl.NumberFormat("es-PY",{useGrouping:!0,maximumFractionDigits:0}).format(e)}else a="0";return(o||t.includes("."))&&(a+=","+o.padEnd(2,"0").substring(0,2)),a}{const t=e.replace(/\D/g,"");if(t){const e=parseInt(t,10);return e?new Intl.NumberFormat("es-PY").format(e):""}return""}},I=()=>{if(g&&x)try{let e;e="PYG"===p?parseFloat(g.replace(/\./g,"")):parseFloat(g.replace(/\./g,"").replace(",","."));const t=parseFloat(x.replace(/\./g,"").replace(",","."));if(isNaN(e)||isNaN(t)||t<=0)return void j(null);let r;r="PYG"===p?e/t:e*t,j(r)}catch(l){console.error("Error al calcular resultado:",l),j(null)}else j(null)},D=(e,t)=>{if("Enter"===e.key||"Tab"===e.key){e.preventDefault();const r=document.getElementById(t);r&&r.focus()}},M=()=>{i||r()},T=e=>{switch(e){case"PYG":return"Gs";case"USD":return"US$";case"BRL":return"R$";default:return""}},R=()=>{if(!y)return"0";switch(f){case"PYG":return nC.guaranies(y);case"USD":return nC.dollars(y);case"BRL":return nC.reals(y);default:return y.toString()}};return(0,Ve.jsxs)(Fi,{open:t,onClose:M,maxWidth:"md",fullWidth:!0,children:[(0,Ve.jsx)(Gi,{children:(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ve.jsx)($r,{variant:"h6",children:"Cambio de Moneda"}),(0,Ve.jsx)(Ir,{onClick:M,size:"small",disabled:i,children:(0,Ve.jsx)(AC,{})})]})}),(0,Ve.jsxs)(Ki,{dividers:!0,children:[l&&(0,Ve.jsx)(Ah,{severity:"error",sx:{mb:2},children:l}),d&&(0,Ve.jsx)(Ah,{severity:"success",sx:{mb:2},children:d}),(0,Ve.jsxs)($h,{container:!0,spacing:3,children:[(0,Ve.jsx)($h,{item:!0,xs:12,md:6,children:(0,Ve.jsxs)($t,{elevation:2,sx:{p:3},children:[(0,Ve.jsx)($r,{variant:"subtitle1",gutterBottom:!0,children:"Monedas y Monto"}),(0,Ve.jsxs)($h,{container:!0,spacing:2,alignItems:"center",children:[(0,Ve.jsx)($h,{item:!0,xs:5,children:(0,Ve.jsxs)(lu,{fullWidth:!0,sx:{mb:2},children:[(0,Ve.jsx)(ou,{id:"moneda-origen-label",children:"Moneda Origen"}),(0,Ve.jsxs)(gp,{labelId:"moneda-origen-label",id:"moneda-origen",value:p,label:"Moneda Origen",onChange:e=>{const t=e.target.value;if(h(t),t===f){const e=["PYG","USD","BRL"].find((e=>e!==t));e&&m(e)}v(""),j(null),S("")},disabled:i,children:[["PYG","USD","BRL"].filter((e=>e!==f)).map((e=>(0,Ve.jsx)(_h,{value:e,children:"PYG"===e?"Guaran\xedes (Gs)":"USD"===e?"D\xf3lares (US$)":"Reales (R$)"},`origen-${e}`))),(0,Ve.jsx)(_h,{value:f,children:"PYG"===f?"Guaran\xedes (Gs)":"USD"===f?"D\xf3lares (US$)":"Reales (R$)"})]})]})}),(0,Ve.jsx)($h,{item:!0,xs:2,sx:{display:"flex",justifyContent:"center"},children:(0,Ve.jsx)(Ir,{color:"primary",onClick:()=>{const e=p;h(f),m(e),v(""),j(null),S("")},disabled:i,children:(0,Ve.jsx)(hC,{})})}),(0,Ve.jsx)($h,{item:!0,xs:5,children:(0,Ve.jsxs)(lu,{fullWidth:!0,sx:{mb:2},children:[(0,Ve.jsx)(ou,{id:"moneda-destino-label",children:"Moneda Destino"}),(0,Ve.jsx)(gp,{labelId:"moneda-destino-label",id:"moneda-destino",value:f,label:"Moneda Destino",onChange:e=>{const t=e.target.value;if(m(t),t===p){const e=["PYG","USD","BRL"].find((e=>e!==t));e&&h(e)}v(""),j(null),S("")},disabled:i,children:["PYG","USD","BRL"].filter((e=>e!==p)).map((e=>(0,Ve.jsx)(_h,{value:e,children:"PYG"===e?"Guaran\xedes (Gs)":"USD"===e?"D\xf3lares (US$)":"Reales (R$)"},`destino-${e}`)))})]})})]}),(0,Ve.jsx)(jp,{fullWidth:!0,id:"monto",label:"Monto a Cambiar",value:g,onChange:e=>{let t=e.target.value;if("PYG"!==p)if(t=t.replace(/[^\d.,]/g,""),t.includes(",")){const e=t.split(",");e.length>2&&(t=e[0]+","+e.slice(1).join("")),e[1]&&e[1].length>2&&(e[1]=e[1].substring(0,2),t=e[0]+","+e[1]);const r=e[0].replace(/\./g,"");let n="";r&&(n=Number(r).toLocaleString("es-PY").split(",")[0]),t=n+","+e[1]}else{const e=t.replace(/\./g,"");e&&(t=Number(e).toLocaleString("es-PY"))}else{const e=t.replace(/[^\d]/g,"");t=e?Number(e).toLocaleString("es-PY"):""}v(t)},onClick:KA,onKeyDown:e=>D(e,"cotizacion"),disabled:i,autoComplete:"off",placeholder:"0",sx:{mb:2},InputProps:{endAdornment:(0,Ve.jsxs)($r,{variant:"caption",children:["\xa0",T(p)]})}}),(0,Ve.jsx)(jp,{fullWidth:!0,id:"cotizacion",label:"Cotizaci\xf3n",value:x,onChange:e=>{let t=e.target.value;if(t=t.replace(/[^\d.,]/g,""),t.includes(",")){const e=t.split(",");e.length>2&&(t=e[0]+","+e.slice(1).join("")),e[1]&&e[1].length>2&&(e[1]=e[1].substring(0,2),t=e[0]+","+e[1]);const r=e[0].replace(/\./g,"");let n="";r&&(n=Number(r).toLocaleString("es-PY").split(",")[0]),t=n+","+e[1]}else{const e=t.replace(/\./g,"");e&&(t=Number(e).toLocaleString("es-PY"))}b(t),setTimeout((()=>I()),0)},onClick:KA,onKeyDown:e=>D(e,"observacion"),disabled:i,autoComplete:"off",placeholder:"0",sx:{mb:1}}),(0,Ve.jsx)(fu,{sx:{mb:2},children:"PYG"===p?`Ingrese la cotizaci\xf3n: 1 ${T(f)} = X ${T(p)}`:`Ingrese la cotizaci\xf3n: 1 ${T(p)} = X ${T(f)}`}),o&&(0,Ve.jsxs)(Et,{sx:{mt:2,bgcolor:"action.hover",p:1.5,borderRadius:1},children:[(0,Ve.jsx)($r,{variant:"subtitle2",gutterBottom:!0,children:"Cotizaci\xf3n de Referencia"}),(0,Ve.jsxs)($r,{variant:"body2",children:["D\xf3lar: ",nC.guaranies(o.valorDolar)]}),(0,Ve.jsxs)($r,{variant:"body2",children:["Real: ",nC.guaranies(o.valorReal)]})]})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:6,children:(0,Ve.jsxs)($t,{elevation:2,sx:{p:3},children:[(0,Ve.jsx)($r,{variant:"subtitle1",gutterBottom:!0,children:"Resultado del Cambio"}),(0,Ve.jsxs)(Et,{sx:{mb:3},children:[(0,Ve.jsx)(jp,{fullWidth:!0,id:"resultado",label:"Valor Resultante",value:w,onChange:e=>{let t=e.target.value;if("PYG"!==f)if(t=t.replace(/[^\d.,]/g,""),t.includes(",")){const e=t.split(",");e.length>2&&(t=e[0]+","+e.slice(1).join("")),e[1]&&e[1].length>2&&(e[1]=e[1].substring(0,2),t=e[0]+","+e[1]);const r=e[0].replace(/\./g,"");let n="";r&&(n=Number(r).toLocaleString("es-PY").split(",")[0]),t=n+","+e[1]}else{const e=t.replace(/\./g,"");e&&(t=Number(e).toLocaleString("es-PY"))}else{const e=t.replace(/[^\d]/g,"");t=e?Number(e).toLocaleString("es-PY"):""}S(t)},onClick:KA,onKeyDown:e=>D(e,"observacion"),disabled:i||!y,autoComplete:"off",placeholder:"0",InputProps:{endAdornment:(0,Ve.jsxs)($r,{variant:"caption",children:["\xa0",T(f)]})}}),(0,Ve.jsx)(fu,{children:"Puede ajustar este valor manualmente para redondear o facilitar la transacci\xf3n"})]}),(0,Ve.jsx)($r,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:3,textAlign:"center"},children:g&&x?"PYG"===p?`${g} ${T(p)} \xf7 ${x} = ${R()}`:`${g} ${T(p)} \xd7 ${x} = ${R()}`:"Complete los campos para ver el c\xe1lculo autom\xe1tico"}),(0,Ve.jsx)(jp,{fullWidth:!0,id:"observacion",label:"Observaciones",multiline:!0,rows:3,value:C,onChange:e=>A(e.target.value.toUpperCase()),onClick:KA,onKeyDown:e=>D(e,"guardar-button"),disabled:i,autoComplete:"off",sx:{mb:1},placeholder:"Ingrese detalles de la operaci\xf3n de cambio"}),(0,Ve.jsx)(fu,{children:"Proporcione informaci\xf3n adicional sobre el cambio (Casa de cambio, motivo, etc.)"})]})})]})]}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:M,color:"inherit",disabled:i,children:"Cancelar"}),(0,Ve.jsx)(fs,{id:"guardar-button",variant:"contained",color:"primary",onClick:async()=>{if(!p||!f)return void c("Debe seleccionar las monedas de origen y destino");if(!g||""===g.trim())return void c("Debe ingresar un monto v\xe1lido");if(!x||""===x.trim())return void c("Debe ingresar una cotizaci\xf3n v\xe1lida");if(!w||""===w.trim())return void c("El resultado del cambio no puede estar vac\xedo");let e;if(e="PYG"===f?parseInt(w.replace(/\./g,""),10):parseFloat(w.replace(/\./g,"").replace(",",".")),isNaN(e)||e<=0)c("El resultado del cambio no es v\xe1lido");else if(C&&""!==C.trim())try{let t;s(!0),c(null),t="PYG"===p?parseInt(g.replace(/\./g,""),10):parseFloat(g.replace(/\./g,"").replace(",","."));const o=parseFloat(x.replace(/\./g,"").replace(",","."));let a=null;const i=localStorage.getItem("token");if(i)try{const e=i.split(".");if(3===e.length){const t=JSON.parse(atob(e[1]));a=t.id||t.userId||t.user_id}}catch(a0){console.error("Error al decodificar token:",a0)}if(!a){const e=localStorage.getItem("usuario");if(e)try{a=JSON.parse(e).id}catch(a0){console.error("Error al parsear datos de usuario:",a0)}}if(!a){const e=localStorage.getItem("user");if(e)try{a=JSON.parse(e).id}catch(a0){console.error("Error al parsear datos de user:",a0)}}if(!a){const e=localStorage.getItem("userData");if(e)try{a=JSON.parse(e).id}catch(a0){console.error("Error al parsear datos de userData:",a0)}}if(!a)try{const e=await fetch("/api/auth/me",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(e.ok){a=(await e.json()).id}}catch(a0){console.error("Error al obtener usuario del servidor:",a0)}console.log("ID de usuario identificado:",a);const l={monedaOrigen:p,monedaDestino:f,monto:t,cotizacion:o,resultado:e,observacion:C,fecha:(new Date).toISOString(),usuarioId:a};console.log("Datos del cambio a enviar:",l);const d=await fetch("/api/cambios-moneda",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(l)});if(!d.ok){const e=await d.json();throw new Error(e.error||"Error al registrar el cambio")}const h=await d.json();let m,v;switch(console.log("Cambio registrado:",h),n(),p){case"PYG":m=nC.guaranies(t);break;case"USD":m=nC.dollars(t);break;case"BRL":m=nC.reals(t)}switch(f){case"PYG":v=nC.guaranies(e);break;case"USD":v=nC.dollars(e);break;case"BRL":v=nC.reals(e)}u(`Cambio registrado: ${m} a ${v} con cotizaci\xf3n de ${x}`),setTimeout((()=>{E(),r()}),2e3)}catch(l){console.error("Error al procesar el cambio:",l);const t=l instanceof Error?l.message:"Error al registrar el cambio. Intente nuevamente.";c(t)}finally{s(!1)}else c("Debe ingresar una observaci\xf3n para el cambio")},disabled:i||!g||!x||!w||!C,startIcon:i?(0,Ve.jsx)(KS,{size:20}):null,children:i?"Procesando...":"Registrar Cambio"})]})]})},eE=(0,ms.A)([(0,Ve.jsx)("path",{d:"M19.5 3.5 18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2v14H3v3c0 1.66 1.34 3 3 3h12c1.66 0 3-1.34 3-3V2zM19 19c0 .55-.45 1-1 1s-1-.45-1-1v-3H8V5h11z"},"0"),(0,Ve.jsx)("path",{d:"M9 7h6v2H9zm7 0h2v2h-2zm-7 3h6v2H9zm7 0h2v2h-2z"},"1")],"ReceiptLong"),tE=(0,ms.A)((0,Ve.jsx)("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 16H5V10h14zM9 14H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2zm-8 4H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2z"}),"CalendarMonth"),rE="http://localhost:3000/api";ed.defaults.timeout=1e4,ed.defaults.headers.common["Content-Type"]="application/json";const nE=async e=>{try{return(await ed.post(`${rE}/vales`,e)).data}catch(t){throw console.error("Error al crear vale:",t.message),t}};function oE(e){switch(e){case 1:return"UN";case 2:return"DOS";case 3:return"TRES";case 4:return"CUATRO";case 5:return"CINCO";case 6:return"SEIS";case 7:return"SIETE";case 8:return"OCHO";case 9:return"NUEVE";default:return""}}function aE(e){const t=e%10;switch(Math.floor(e/10)){case 1:switch(t){case 0:return"DIEZ";case 1:return"ONCE";case 2:return"DOCE";case 3:return"TRECE";case 4:return"CATORCE";case 5:return"QUINCE";default:return"DIECI"+oE(t)}case 2:return 0===t?"VEINTE":"VEINTI"+(1===t?"UNO":oE(t));case 3:return iE("TREINTA",t);case 4:return iE("CUARENTA",t);case 5:return iE("CINCUENTA",t);case 6:return iE("SESENTA",t);case 7:return iE("SETENTA",t);case 8:return iE("OCHENTA",t);case 9:return iE("NOVENTA",t);case 0:return oE(t);default:return""}}function iE(e,t){return t>0?e+" Y "+(1===t?"UNO":oE(t)):e}function sE(e){const t=e%100;switch(Math.floor(e/100)){case 1:return t>0?"CIENTO "+aE(t):"CIEN";case 2:return"DOSCIENTOS "+aE(t);case 3:return"TRESCIENTOS "+aE(t);case 4:return"CUATROCIENTOS "+aE(t);case 5:return"QUINIENTOS "+aE(t);case 6:return"SEISCIENTOS "+aE(t);case 7:return"SETECIENTOS "+aE(t);case 8:return"OCHOCIENTOS "+aE(t);case 9:return"NOVECIENTOS "+aE(t);default:return aE(t)}}function lE(e,t,r,n){const o=Math.floor(e/t),a=e%t;let i="";return o>0&&(i=1===o?r.startsWith("UN")?r:"UN "+r:sE(o)+" "+n),""!==i&&a>0&&(i+=" "),i}function cE(e){const t=1e6,r=(Math.floor(e/t),e%t),n=lE(e,t,"MILLON","MILLONES"),o=function(e){const t=1e3,r=(Math.floor(e/t),e%t),n=lE(e,t,"MIL","MIL"),o=sE(r);return""===n?o:(n+(""!==o?" "+o:"")).trim()}(r);if(""===n)return o;const a=n.endsWith("MILLONES")?" DE":"";return(n+a+(""!==o?" "+o:"")).trim()}const dE=e=>{let{open:t,onClose:r,onGuardarExito:n}=e;const{user:o}=eC(),[i,s]=(0,a.useState)(!1),[l,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(null),[p,h]=(0,a.useState)(""),[f,m]=(0,a.useState)(!1),[g,v]=(0,a.useState)(null),[x,b]=(0,a.useState)([]),[y,j]=(0,a.useState)("PYG"),[w,S]=(0,a.useState)(""),[C,A]=(0,a.useState)(null),[E,k]=(0,a.useState)(""),[O,P]=(0,a.useState)(!1),[I,D]=(0,a.useState)(null);(0,a.useEffect)((()=>{if(""===p.trim())return void b([]);m(!0);const e=setTimeout((()=>{(async()=>{try{const e=(await bf(p)).filter((e=>"Funcionario"===e.tipo||"Vip"===e.tipo)).map((e=>({id:e.id.toString(),nombre:e.nombreCompleto,tipo:"Funcionario"===e.tipo?"funcionario":"vip",direccion:e.direccion||"No especificada"})));b(e)}catch(e){console.error("Error al buscar personas:",e),c("Error al buscar personas. Intente nuevamente.")}finally{m(!1)}})()}),300);return()=>clearTimeout(e)}),[p]),(0,a.useEffect)((()=>{if(t){const e=new Date,t=new Date(e.getFullYear(),e.getMonth()+1,0);A(t),M()}}),[t]);const M=()=>{h(""),v(null),j("PYG"),S(""),k(""),c(null),u(null)},T=()=>{i||r()},R=(e,t)=>{if("Enter"===e.key||"Tab"===e.key){e.preventDefault();const r=document.getElementById(t);r&&r.focus()}},N=()=>{$()},$=()=>{P(!1),M(),r()},z=e=>e?e.toLocaleDateString("es-PY",{year:"numeric",month:"long",day:"numeric"}):"";return(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsxs)(Fi,{open:t,onClose:T,maxWidth:"md",fullWidth:!0,children:[(0,Ve.jsx)(Gi,{children:(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ve.jsxs)($r,{variant:"h6",children:[(0,Ve.jsx)(eE,{sx:{mr:1,verticalAlign:"middle"}}),"Registro de Vales"]}),(0,Ve.jsx)(Ir,{onClick:T,size:"small",disabled:i,children:(0,Ve.jsx)(AC,{})})]})}),(0,Ve.jsxs)(Ki,{dividers:!0,children:[l&&(0,Ve.jsx)(Ah,{severity:"error",sx:{mb:2},children:l}),d&&(0,Ve.jsx)(Ah,{severity:"success",sx:{mb:2},children:d}),(0,Ve.jsxs)($h,{container:!0,spacing:3,children:[(0,Ve.jsx)($h,{item:!0,xs:12,md:6,children:(0,Ve.jsxs)($t,{elevation:2,sx:{p:3},children:[(0,Ve.jsxs)($r,{variant:"subtitle1",gutterBottom:!0,children:[(0,Ve.jsx)(bs,{sx:{mr:1,verticalAlign:"middle"}}),"Persona que recibe el vale"]}),(0,Ve.jsx)(sA,{id:"busqueda-usuario",options:x,getOptionLabel:e=>e.nombre,filterOptions:e=>e,value:g,onChange:(e,t)=>{v(t)},inputValue:p,onInputChange:(e,t)=>{h(t.toUpperCase())},loading:f,loadingText:"Buscando...",noOptionsText:"No se encontraron coincidencias",renderInput:e=>(0,Ve.jsx)(jp,{...e,label:"Buscar por nombre o documento",fullWidth:!0,onClick:KA,onKeyDown:e=>R(e,"moneda"),autoComplete:"off",InputProps:{...e.InputProps,endAdornment:(0,Ve.jsxs)(Ve.Fragment,{children:[f?(0,Ve.jsx)(KS,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})}}),sx:{mb:2}}),g&&(0,Ve.jsxs)(Et,{sx:{mt:2,bgcolor:"background.default",p:2,borderRadius:1},children:[(0,Ve.jsx)($r,{variant:"subtitle2",gutterBottom:!0,children:"Detalles de la Persona"}),(0,Ve.jsx)(Ii,{sx:{mb:1}}),(0,Ve.jsxs)($h,{container:!0,spacing:1,children:[(0,Ve.jsx)($h,{item:!0,xs:4,children:(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"ID:"})}),(0,Ve.jsx)($h,{item:!0,xs:8,children:(0,Ve.jsx)($r,{variant:"body2",children:g.id})}),(0,Ve.jsx)($h,{item:!0,xs:4,children:(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"Nombre:"})}),(0,Ve.jsx)($h,{item:!0,xs:8,children:(0,Ve.jsx)($r,{variant:"body2",children:g.nombre})}),(0,Ve.jsx)($h,{item:!0,xs:4,children:(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"Tipo:"})}),(0,Ve.jsx)($h,{item:!0,xs:8,children:(0,Ve.jsx)($r,{variant:"body2",children:"funcionario"===g.tipo?"Funcionario":"VIP"})}),(0,Ve.jsx)($h,{item:!0,xs:4,children:(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"Direcci\xf3n:"})}),(0,Ve.jsx)($h,{item:!0,xs:8,children:(0,Ve.jsx)($r,{variant:"body2",children:g.direccion})})]})]})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:6,children:(0,Ve.jsxs)($t,{elevation:2,sx:{p:3},children:[(0,Ve.jsx)($r,{variant:"subtitle1",gutterBottom:!0,children:"Datos del Vale"}),(0,Ve.jsxs)(lu,{fullWidth:!0,sx:{mb:2},children:[(0,Ve.jsx)(ou,{id:"moneda-label",children:"Moneda"}),(0,Ve.jsxs)(gp,{labelId:"moneda-label",id:"moneda",value:y,label:"Moneda",onChange:e=>{j(e.target.value),S("")},disabled:i,children:[(0,Ve.jsx)(_h,{value:"PYG",children:"Guaran\xedes (Gs)"}),(0,Ve.jsx)(_h,{value:"USD",children:"D\xf3lares (US$)"}),(0,Ve.jsx)(_h,{value:"BRL",children:"Reales (R$)"})]})]}),(0,Ve.jsx)(jp,{fullWidth:!0,id:"monto",label:"Monto del Vale",value:w,onChange:e=>{let t=e.target.value;if("PYG"===y){const e=t.replace(/[^\d]/g,"");t=e?Number(e).toLocaleString("es-PY").split(",")[0]:""}else if("BRL"===y){const e=t.replace(/\D/g,"");if(""===e)t="";else{const r=e.padStart(3,"0"),n=r.slice(-2);t=`${(r.slice(0,-2).replace(/^0+/,"")||"0").replace(/\B(?=(\d{3})+(?!\d))/g,".")},${n}`}}else if("USD"===y){const e=t.replace(/\D/g,"");if(""===e)t="";else{const r=e.padStart(3,"0"),n=r.slice(-2);t=`${(r.slice(0,-2).replace(/^0+/,"")||"0").replace(/\B(?=(\d{3})+(?!\d))/g,",")}.${n}`}}S(t)},onClick:KA,onKeyDown:e=>R(e,"fecha-vencimiento"),disabled:i,autoComplete:"off",placeholder:"0",sx:{mb:2},InputProps:{endAdornment:(0,Ve.jsxs)($r,{variant:"caption",children:["\xa0",(e=>{switch(e){case"PYG":return"G$";case"USD":return"U$D";case"BRL":return"R$";default:return""}})(y)]})}}),(0,Ve.jsx)(Cm,{dateAdapter:xw,adapterLocale:Cw,children:(0,Ve.jsx)(Kx,{label:"Fecha de Vencimiento",value:C,onChange:e=>A(e),format:"dd/MM/yyyy",slotProps:{textField:{fullWidth:!0,id:"fecha-vencimiento",disabled:i,sx:{mb:2},onKeyDown:e=>R(e,"observacion")}}})}),(0,Ve.jsx)(jp,{fullWidth:!0,id:"observacion",label:"Motivo del Vale",multiline:!0,rows:3,value:E,onChange:e=>k(e.target.value.toUpperCase()),onClick:KA,onKeyDown:e=>R(e,"guardar-button"),disabled:i,autoComplete:"off",sx:{mb:1},placeholder:"Ingrese el motivo de la emisi\xf3n del vale"}),(0,Ve.jsx)(fu,{children:"Proporcione una descripci\xf3n clara del motivo del vale"}),C&&(0,Ve.jsx)(Et,{sx:{mt:2,p:1,bgcolor:"background.default",borderRadius:1},children:(0,Ve.jsxs)($r,{variant:"body2",color:"text.secondary",children:[(0,Ve.jsx)(tE,{sx:{fontSize:16,verticalAlign:"middle",mr:.5}}),"Este vale vence el ",z(C)," y ser\xe1 descontado en el cierre del mes."]})})]})})]})]}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:T,color:"inherit",disabled:i,children:"Cancelar"}),(0,Ve.jsx)(fs,{id:"guardar-button",variant:"contained",color:"primary",onClick:async()=>{if(g)if(w&&""!==w.trim())if(C)if(E&&""!==E.trim())try{let e;if(s(!0),c(null),"PYG"===y)e=parseInt(w.replace(/\./g,""),10);else if("BRL"===y){const t=w.replace(/\./g,"").replace(",",".");e=parseFloat(t)}else if("USD"===y){const t=w.replace(/,/g,"");e=parseFloat(t)}else e=parseFloat(w.replace(/\./g,"").replace(",","."));if(!o||!o.id)return c("No se pudo identificar al usuario actual"),void s(!1);const t={moneda:y,monto:e,fecha_vencimiento:C,motivo:E,persona_id:parseInt(g.id),persona_nombre:g.nombre,usuario_creador_id:o.id};console.log("Enviando datos del vale:",t);const r=await nE(t);let a;switch(console.log("Vale creado exitosamente:",r),n(),y){case"PYG":a=nC.guaranies(e);break;case"USD":a=nC.dollars(e);break;case"BRL":a=nC.reals(e)}u(`Vale registrado: ${a} para ${g.nombre}`),D({...r,montoFormateado:a}),P(!0)}catch(l){console.error("Error al procesar el vale:",l),c("Error al registrar el vale. Intente nuevamente.")}finally{s(!1)}else c("Debe ingresar una observaci\xf3n o motivo para el vale");else c("Debe seleccionar una fecha de vencimiento");else c("Debe ingresar un monto v\xe1lido");else c("Debe seleccionar una persona")},disabled:i||!g||!w||!C||!E,startIcon:i?(0,Ve.jsx)(KS,{size:20}):null,children:i?"Procesando...":"Registrar Vale"})]})]}),(0,Ve.jsxs)(Fi,{open:O,onClose:N,maxWidth:"sm",fullWidth:!0,children:[(0,Ve.jsx)(Gi,{children:(0,Ve.jsxs)($r,{variant:"h6",children:[(0,Ve.jsx)(eE,{sx:{mr:1,verticalAlign:"middle"}}),"Vale Registrado Correctamente"]})}),(0,Ve.jsx)(Ki,{dividers:!0,children:(0,Ve.jsxs)(Et,{sx:{p:1},children:[(0,Ve.jsx)($r,{variant:"body1",gutterBottom:!0,children:"El vale ha sido registrado con \xe9xito."}),I&&(0,Ve.jsxs)(Et,{sx:{mt:2,bgcolor:"background.default",p:2,borderRadius:1},children:[(0,Ve.jsx)($r,{variant:"subtitle2",gutterBottom:!0,children:"Detalles del Vale:"}),(0,Ve.jsxs)($h,{container:!0,spacing:1,children:[(0,Ve.jsx)($h,{item:!0,xs:4,children:(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"Persona:"})}),(0,Ve.jsx)($h,{item:!0,xs:8,children:(0,Ve.jsx)($r,{variant:"body2",children:I.persona_nombre})}),(0,Ve.jsx)($h,{item:!0,xs:4,children:(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"Monto:"})}),(0,Ve.jsx)($h,{item:!0,xs:8,children:(0,Ve.jsx)($r,{variant:"body2",children:I.montoFormateado})}),(0,Ve.jsx)($h,{item:!0,xs:4,children:(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"Vencimiento:"})}),(0,Ve.jsx)($h,{item:!0,xs:8,children:(0,Ve.jsx)($r,{variant:"body2",children:z(new Date(I.fecha_vencimiento))})})]})]}),(0,Ve.jsx)($r,{variant:"body1",sx:{mt:2},children:"\xbfDesea imprimir el comprobante del vale?"})]})}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{color:"inherit",onClick:N,children:"No Imprimir"}),(0,Ve.jsx)(fs,{variant:"contained",color:"primary",onClick:()=>{if(!I)return;const e=window.open("","_blank");if(!e)return void alert("Por favor, permita las ventanas emergentes para imprimir el recibo");const t=(new Date).toLocaleDateString("es-PY",{year:"numeric",month:"long",day:"numeric"}),r=function(e,t){if(null===e||void 0===e||isNaN(e))return console.error("N\xfamero inv\xe1lido para convertir a letras:",e),"";const r={numero:e,enteros:Math.floor(e),centavos:Math.round(100*(e-Math.floor(e))),letrasCentavos:"",letrasMonedaPlural:"",letrasMonedaSingular:"",letrasMonedaCentavoPlural:"",letrasMonedaCentavoSingular:""};switch(t){case"PYG":r.letrasMonedaPlural="GUARANIES",r.letrasMonedaSingular="GUARANI";break;case"USD":r.letrasMonedaPlural="DOLARES AMERICANOS",r.letrasMonedaSingular="DOLAR AMERICANO",r.letrasMonedaCentavoPlural="CENTAVOS",r.letrasMonedaCentavoSingular="CENTAVO";break;case"BRL":r.letrasMonedaPlural="REALES BRASILE\xd1OS",r.letrasMonedaSingular="REAL BRASILE\xd1O",r.letrasMonedaCentavoPlural="CENTAVOS",r.letrasMonedaCentavoSingular="CENTAVO";break;default:r.letrasMonedaPlural="",r.letrasMonedaSingular=""}if(r.centavos>0&&"PYG"!==t){const e=(r.centavos,cE(r.centavos)),t=1===r.centavos?r.letrasMonedaCentavoSingular:r.letrasMonedaCentavoPlural;r.letrasCentavos="CON "+e+" "+t}let n="";n=0===r.enteros?"CERO":cE(r.enteros);let o=n;t&&(o+=" "+(1===r.enteros?r.letrasMonedaSingular:r.letrasMonedaPlural));return r.letrasCentavos&&(o+=" "+r.letrasCentavos),o.replace(/\s+/g," ").trim().toUpperCase()}(I.monto,I.moneda),n=`\n      <!DOCTYPE html>\n      <html lang="es">\n      <head>\n        <meta charset="UTF-8">\n        <meta name="viewport" content="width=device-width, initial-scale=1.0">\n        <title>Recibo de Vale</title>\n        <style>\n          @page {\n            size: A4;\n            margin: 1cm;\n          }\n          body {\n            font-family: Arial, sans-serif;\n            line-height: 1.2;\n            font-size: 10pt;\n            margin: 0;\n            padding: 0;\n          }\n          .container {\n            max-width: 100%;\n            height: 9.9cm; /* Aproximadamente 1/3 de una hoja A4 */\n            padding: 0.5cm;\n            box-sizing: border-box;\n            border-bottom: 1px dashed #999;\n            page-break-inside: avoid;\n            position: relative; /* Needed for potential absolute positioning if float fails */\n          }\n          .title {\n            font-size: 12pt;\n            font-weight: bold;\n            margin: 5px 0 10px 0;\n            text-align: center;\n          }\n          .recibo-info {\n            display: flex;\n            justify-content: space-between;\n            margin-bottom: 5px; /* Reduced margin */\n          }\n          .recibo-nro {\n            font-weight: bold;\n          }\n          .fecha {\n            text-align: right;\n          }\n          .contenido {\n            margin: 10px 0;\n            clear: both; /* Clear floats */\n          }\n          .recibido {\n            font-size: 11pt;\n            margin: 10px 0;\n          }\n          .recibido strong.monto-letras { /* Style for amount in words */\n              font-weight: bold; /* Make it bold */\n              /* Add specific styling if needed */\n          }\n          .detalles {\n            margin: 10px 0;\n          }\n          .detalles p {\n            margin: 3px 0;\n          }\n          .monto {\n            font-size: 12pt;\n            font-weight: bold;\n            margin: 0 0 10px 10px; /* Adjust margins */\n            border: 1px solid #000;\n            padding: 5px;\n            float: right; /* Position to the right */\n            clear: right; /* Prevent interference */\n            /* display: inline-block; <-- Removed */\n          }\n          .observacion {\n            margin: 10px 0;\n          }\n          .firma {\n            margin-top: 30px;\n            text-align: center;\n          }\n          .firma-box {\n            width: 60%;\n            margin: 0 auto;\n            border-top: 1px solid #000;\n            padding-top: 3px;\n            text-align: center;\n          }\n          .info-adicional {\n            margin-top: 10px;\n            font-size: 8pt;\n            text-align: center;\n            color: #666;\n          }\n        </style>\n      </head>\n      <body>\n        <div class="container">\n          <div class="title">RECIBO DE VALE</div>\n          \n          <div class="recibo-info">\n            <div class="recibo-nro">N\xba: ${Math.floor(1e4*Math.random()).toString().padStart(4,"0")}</div>\n            <div class="fecha">Fecha: ${t}</div>\n          </div>\n          \n          <div class="monto">\n            ${I.montoFormateado}\n          </div>\n          \n          <div class="contenido">\n            <div class="recibido">\n              <strong>Recib\xed de FARMACIA FRANCO AREVALOS S.A.</strong> la suma de: \n              <strong class="monto-letras">${r}</strong>\n            </div>\n            \n            <div class="detalles">\n              <p><strong>Beneficiario:</strong> ${I.persona_nombre}</p>\n              <p><strong>Vencimiento:</strong> ${z(new Date(I.fecha_vencimiento))}</p>\n            </div>\n            \n            <div class="observacion">\n              <strong>En concepto de:</strong> ${I.motivo}\n            </div>\n          </div>\n          \n          <div class="firma">\n            <div class="firma-box">\n              Firma del Beneficiario\n            </div>\n          </div>\n          \n          <div class="info-adicional">\n            <p>Este vale vence el ${z(new Date(I.fecha_vencimiento))} y ser\xe1 descontado en el cierre del mes.</p>\n          </div>\n        </div>\n        \n        <script>\n          // Imprimir autom\xe1ticamente y cerrar la ventana despu\xe9s\n          window.onload = function() {\n            setTimeout(function() {\n              window.print();\n              setTimeout(function() {\n                window.close();\n              }, 500);\n            }, 500);\n          };\n        <\/script>\n      </body>\n      </html>\n    `;e.document.open(),e.document.write(n),e.document.close(),setTimeout((()=>{$()}),2e3)},startIcon:(0,Ve.jsx)(eE,{}),children:"Imprimir Vale"})]})]})]})},uE=e=>{let{open:t,onClose:r,onSaveTotal:n,saldoSistema:o=0,usuarioId:i=1}=e;const s=(0,a.useRef)({}),[l,c]=(0,a.useState)([{valor:1e5,cantidad:0},{valor:5e4,cantidad:0},{valor:2e4,cantidad:0},{valor:1e4,cantidad:0},{valor:5e3,cantidad:0},{valor:2e3,cantidad:0},{valor:1e3,cantidad:0},{valor:500,cantidad:0}]),[d,u]=(0,a.useState)(0),[p,h]=(0,a.useState)(""),[f,m]=(0,a.useState)(!1),[g,v]=(0,a.useState)(null),[x,b]=(0,a.useState)(!1),y=e=>new Intl.NumberFormat("es-PY").format(e);(0,a.useEffect)((()=>{const e=l.reduce(((e,t)=>e+t.valor*t.cantidad),0);u(e)}),[l]);const j=(0,a.useCallback)((()=>{c((e=>e.map((e=>({...e,cantidad:0}))))),h("")}),[]);(0,a.useEffect)((()=>{t&&j()}),[t,j]);const w=(0,a.useCallback)((e=>{const t=e.currentTarget.querySelector("input");t&&"0"!==t.value&&""!==t.value&&KA(e)}),[]);return(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsxs)(Fi,{open:t,onClose:r,maxWidth:"sm",fullWidth:!0,children:[(0,Ve.jsx)(Gi,{children:(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ve.jsxs)($r,{variant:"h6",children:[(0,Ve.jsx)(ws,{sx:{mr:1,verticalAlign:"middle"}}),"Conteo de Guaran\xedes"]}),(0,Ve.jsx)(Ir,{onClick:r,size:"small",children:(0,Ve.jsx)(AC,{})})]})}),(0,Ve.jsxs)(Ki,{dividers:!0,children:[(0,Ve.jsx)(Dp,{component:$t,variant:"outlined",sx:{mb:2},children:(0,Ve.jsxs)(zp,{size:"small",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Denominaci\xf3n"}),(0,Ve.jsx)(th,{children:"Cantidad"}),(0,Ve.jsx)(th,{children:"Subtotal"})]})}),(0,Ve.jsxs)(sh,{children:[l.map(((e,t)=>{const r=t===l.length-1?"":`denom-${t+1}`,n=`denom-${t}`;return(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsxs)(th,{children:[y(e.valor)," Gs"]}),(0,Ve.jsx)(th,{children:(0,Ve.jsx)(jp,{size:"small",type:"number",value:e.cantidad,onChange:e=>((e,t)=>{const r=[...l],n=""===t?0:parseInt(t);r[e].cantidad=n,c(r)})(t,e.target.value),InputProps:{inputProps:{min:0},inputRef:e=>((e,t)=>{s.current[e]=t})(n,e)},onKeyDown:e=>((e,t)=>{var r,n;"Enter"===e.key&&t&&s.current[t]&&(e.preventDefault(),null===(r=s.current[t])||void 0===r||r.focus(),null===(n=s.current[t])||void 0===n||n.select())})(e,r),onClick:w,fullWidth:!0})}),(0,Ve.jsxs)(th,{children:[y(e.valor*e.cantidad)," Gs"]})]},`PYG-${e.valor}`)})),(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{colSpan:2,align:"right",children:(0,Ve.jsx)($r,{variant:"subtitle2",children:"Total:"})}),(0,Ve.jsx)(th,{children:(0,Ve.jsxs)($r,{variant:"subtitle1",fontWeight:"bold",color:"primary.main",children:[y(d)," Gs"]})})]})]})]})}),(0,Ve.jsxs)(Et,{sx:{mb:2},children:[(0,Ve.jsxs)($r,{variant:"subtitle2",gutterBottom:!0,children:["Saldo en sistema: ",y(o)," Gs"]}),(0,Ve.jsxs)($r,{variant:"subtitle2",color:d-o>0?"success.main":d-o<0?"error.main":"inherit",children:["Diferencia: ",y(d-o)," Gs"]})]}),(0,Ve.jsx)(jp,{fullWidth:!0,label:"Observaciones",value:p,onChange:e=>h(e.target.value.toUpperCase()),multiline:!0,rows:2,variant:"outlined",placeholder:"Detalles adicionales sobre el conteo",onClick:w})]}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:j,color:"inherit",disabled:f,children:"Limpiar"}),(0,Ve.jsx)(fs,{onClick:r,color:"inherit",disabled:f,children:"Cancelar"}),(0,Ve.jsx)(fs,{onClick:async()=>{try{m(!0),v(null);const e=l.map((e=>({denominacion:e.valor,cantidad:e.cantidad,subtotal:e.valor*e.cantidad}))),t=d-o,a={moneda:"guaranies",total:d,saldo_sistema:o,observaciones:p,usuario_id:i,detalles:e,generarMovimiento:!0,concepto:t>0?"Sobr\xf3 - Diferencia en arqueo":t<0?"Falt\xf3 - Diferencia en arqueo":"Conteo sin diferencia"};console.log("Enviando datos de conteo a la API:",a);const s=await hA(a);console.log("Respuesta del servidor:",s),b(!0),n(d,p),m(!1),setTimeout((()=>{r()}),1e3)}catch(c){var e,t,a,s;console.error("Error al guardar conteo:",c);const r=(null===(e=c.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Ocurri\xf3 un error al guardar el conteo. Intente nuevamente.";console.error("Mensaje de error:",r),console.error("Estado HTTP:",null===(a=c.response)||void 0===a?void 0:a.status),console.error("Datos de respuesta:",null===(s=c.response)||void 0===s?void 0:s.data),v(r),m(!1)}},variant:"contained",color:"primary",disabled:f,children:f?"Guardando...":"Guardar Total"})]})]}),(0,Ve.jsx)(tf,{open:!!g,autoHideDuration:6e3,onClose:()=>v(null),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,Ve.jsx)(Ah,{onClose:()=>v(null),severity:"error",children:g})}),(0,Ve.jsx)(tf,{open:x,autoHideDuration:3e3,onClose:()=>b(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,Ve.jsx)(Ah,{onClose:()=>b(!1),severity:"success",children:"Conteo guardado exitosamente"})})]})},pE=e=>{let{open:t,onClose:r,onSaveTotal:n,saldoSistema:o=0,usuarioId:i=1}=e;const s=(0,a.useRef)({}),[l,c]=(0,a.useState)([{valor:200,cantidad:0},{valor:100,cantidad:0},{valor:50,cantidad:0},{valor:20,cantidad:0},{valor:10,cantidad:0},{valor:5,cantidad:0},{valor:2,cantidad:0},{valor:1,cantidad:0},{valor:.5,cantidad:0},{valor:.25,cantidad:0},{valor:.1,cantidad:0},{valor:.05,cantidad:0}]),[d,u]=(0,a.useState)(0),[p,h]=(0,a.useState)(""),[f,m]=(0,a.useState)(!1),[g,v]=(0,a.useState)(null),[x,b]=(0,a.useState)(!1),y=e=>new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e);(0,a.useEffect)((()=>{const e=l.reduce(((e,t)=>e+t.valor*t.cantidad),0);u(e)}),[l]);const j=()=>{c(l.map((e=>({...e,cantidad:0})))),h("")};(0,a.useEffect)((()=>{t&&j()}),[t]);return(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsxs)(Fi,{open:t,onClose:r,maxWidth:"sm",fullWidth:!0,children:[(0,Ve.jsx)(Gi,{children:(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ve.jsxs)($r,{variant:"h6",children:[(0,Ve.jsx)(ws,{sx:{mr:1,verticalAlign:"middle"}}),"Conteo de Reales"]}),(0,Ve.jsx)(Ir,{onClick:r,size:"small",children:(0,Ve.jsx)(AC,{})})]})}),(0,Ve.jsxs)(Ki,{dividers:!0,children:[(0,Ve.jsx)(Dp,{component:$t,variant:"outlined",sx:{mb:2},children:(0,Ve.jsxs)(zp,{size:"small",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Denominaci\xf3n"}),(0,Ve.jsx)(th,{children:"Cantidad"}),(0,Ve.jsx)(th,{children:"Subtotal"})]})}),(0,Ve.jsxs)(sh,{children:[l.map(((e,t)=>{const r=t===l.length-1?"":`denom-${t+1}`,n=`denom-${t}`;return(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsxs)(th,{children:["R$ ",y(e.valor)]}),(0,Ve.jsx)(th,{children:(0,Ve.jsx)(jp,{size:"small",type:"number",value:e.cantidad,onChange:e=>((e,t)=>{const r=[...l];r[e].cantidad=t,c(r)})(t,parseInt(e.target.value)||0),InputProps:{inputProps:{min:0},inputRef:e=>((e,t)=>{s.current[e]=t})(n,e)},onKeyDown:e=>((e,t)=>{var r,n;"Enter"===e.key&&t&&s.current[t]&&(e.preventDefault(),null===(r=s.current[t])||void 0===r||r.focus(),null===(n=s.current[t])||void 0===n||n.select())})(e,r),onClick:KA,fullWidth:!0})}),(0,Ve.jsxs)(th,{children:["R$ ",y(e.valor*e.cantidad)]})]},`BRL-${e.valor}`)})),(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{colSpan:2,align:"right",children:(0,Ve.jsx)($r,{variant:"subtitle2",children:"Total:"})}),(0,Ve.jsx)(th,{children:(0,Ve.jsxs)($r,{variant:"subtitle1",fontWeight:"bold",color:"primary.main",children:["R$ ",y(d)]})})]})]})]})}),(0,Ve.jsxs)(Et,{sx:{mb:2},children:[(0,Ve.jsxs)($r,{variant:"subtitle2",gutterBottom:!0,children:["Saldo en sistema: R$ ",y(o)]}),(0,Ve.jsxs)($r,{variant:"subtitle2",color:d-o>0?"success.main":d-o<0?"error.main":"inherit",children:["Diferencia: R$ ",y(d-o)]})]}),(0,Ve.jsx)(jp,{fullWidth:!0,label:"Observaciones",value:p,onChange:e=>h(e.target.value.toUpperCase()),multiline:!0,rows:2,variant:"outlined",placeholder:"Detalles adicionales sobre el conteo",onClick:KA})]}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:j,color:"inherit",disabled:f,children:"Limpiar"}),(0,Ve.jsx)(fs,{onClick:r,color:"inherit",disabled:f,children:"Cancelar"}),(0,Ve.jsx)(fs,{onClick:async()=>{try{m(!0),v(null);const e=l.map((e=>({denominacion:e.valor,cantidad:e.cantidad,subtotal:e.valor*e.cantidad}))),t=d-o,a={moneda:"reales",total:d,saldo_sistema:o,observaciones:p,usuario_id:i,detalles:e,generarMovimiento:!0,concepto:t>0?"Sobr\xf3 - Diferencia en arqueo":t<0?"Falt\xf3 - Diferencia en arqueo":"Conteo sin diferencia"};console.log("Enviando datos de conteo a la API:",a);const s=await hA(a);console.log("Respuesta del servidor:",s),b(!0),n(d,p),m(!1),setTimeout((()=>{r()}),1e3)}catch(c){var e,t,a,s;console.error("Error al guardar conteo:",c);const r=(null===(e=c.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Ocurri\xf3 un error al guardar el conteo. Intente nuevamente.";console.error("Mensaje de error:",r),console.error("Estado HTTP:",null===(a=c.response)||void 0===a?void 0:a.status),console.error("Datos de respuesta:",null===(s=c.response)||void 0===s?void 0:s.data),v(r),m(!1)}},variant:"contained",color:"primary",disabled:f,children:f?"Guardando...":"Guardar Total"})]})]}),(0,Ve.jsx)(tf,{open:!!g,autoHideDuration:6e3,onClose:()=>v(null),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,Ve.jsx)(Ah,{onClose:()=>v(null),severity:"error",children:g})}),(0,Ve.jsx)(tf,{open:x,autoHideDuration:3e3,onClose:()=>b(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,Ve.jsx)(Ah,{onClose:()=>b(!1),severity:"success",children:"Conteo guardado exitosamente"})})]})},hE=e=>{let{open:t,onClose:r,onSaveTotal:n,saldoSistema:o=0,usuarioId:i=1}=e;const s=(0,a.useRef)({}),[l,c]=(0,a.useState)([{valor:100,cantidad:0},{valor:50,cantidad:0},{valor:20,cantidad:0},{valor:10,cantidad:0},{valor:5,cantidad:0},{valor:2,cantidad:0},{valor:1,cantidad:0},{valor:.5,cantidad:0},{valor:.25,cantidad:0},{valor:.1,cantidad:0},{valor:.05,cantidad:0},{valor:.01,cantidad:0}]),[d,u]=(0,a.useState)(0),[p,h]=(0,a.useState)(""),[f,m]=(0,a.useState)(!1),[g,v]=(0,a.useState)(null),[x,b]=(0,a.useState)(!1),y=e=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e);(0,a.useEffect)((()=>{const e=l.reduce(((e,t)=>e+t.valor*t.cantidad),0);u(e)}),[l]);const j=()=>{c(l.map((e=>({...e,cantidad:0})))),h("")};(0,a.useEffect)((()=>{t&&j()}),[t]);return(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsxs)(Fi,{open:t,onClose:r,maxWidth:"sm",fullWidth:!0,children:[(0,Ve.jsx)(Gi,{children:(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ve.jsxs)($r,{variant:"h6",children:[(0,Ve.jsx)(ws,{sx:{mr:1,verticalAlign:"middle"}}),"Conteo de D\xf3lares"]}),(0,Ve.jsx)(Ir,{onClick:r,size:"small",children:(0,Ve.jsx)(AC,{})})]})}),(0,Ve.jsxs)(Ki,{dividers:!0,children:[(0,Ve.jsx)(Dp,{component:$t,variant:"outlined",sx:{mb:2},children:(0,Ve.jsxs)(zp,{size:"small",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Denominaci\xf3n"}),(0,Ve.jsx)(th,{children:"Cantidad"}),(0,Ve.jsx)(th,{children:"Subtotal"})]})}),(0,Ve.jsxs)(sh,{children:[l.map(((e,t)=>{const r=t===l.length-1?"":`denom-${t+1}`,n=`denom-${t}`;return(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsxs)(th,{children:["$ ",y(e.valor)]}),(0,Ve.jsx)(th,{children:(0,Ve.jsx)(jp,{size:"small",type:"number",value:e.cantidad,onChange:e=>((e,t)=>{const r=[...l];r[e].cantidad=t,c(r)})(t,parseInt(e.target.value)||0),InputProps:{inputProps:{min:0},inputRef:e=>((e,t)=>{s.current[e]=t})(n,e)},onKeyDown:e=>((e,t)=>{var r,n;"Enter"===e.key&&t&&s.current[t]&&(e.preventDefault(),null===(r=s.current[t])||void 0===r||r.focus(),null===(n=s.current[t])||void 0===n||n.select())})(e,r),onClick:KA,fullWidth:!0})}),(0,Ve.jsxs)(th,{children:["$ ",y(e.valor*e.cantidad)]})]},`USD-${e.valor}`)})),(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{colSpan:2,align:"right",children:(0,Ve.jsx)($r,{variant:"subtitle2",children:"Total:"})}),(0,Ve.jsx)(th,{children:(0,Ve.jsxs)($r,{variant:"subtitle1",fontWeight:"bold",color:"primary.main",children:["$ ",y(d)]})})]})]})]})}),(0,Ve.jsxs)(Et,{sx:{mb:2},children:[(0,Ve.jsxs)($r,{variant:"subtitle2",gutterBottom:!0,children:["Saldo en sistema: $ ",y(o)]}),(0,Ve.jsxs)($r,{variant:"subtitle2",color:d-o>0?"success.main":d-o<0?"error.main":"inherit",children:["Diferencia: $ ",y(d-o)]})]}),(0,Ve.jsx)(jp,{fullWidth:!0,label:"Observaciones",value:p,onChange:e=>h(e.target.value.toUpperCase()),multiline:!0,rows:2,variant:"outlined",placeholder:"Detalles adicionales sobre el conteo",onClick:KA})]}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:j,color:"inherit",disabled:f,children:"Limpiar"}),(0,Ve.jsx)(fs,{onClick:r,color:"inherit",disabled:f,children:"Cancelar"}),(0,Ve.jsx)(fs,{onClick:async()=>{try{m(!0),v(null);const e=l.map((e=>({denominacion:e.valor,cantidad:e.cantidad,subtotal:e.valor*e.cantidad}))),t=d-o,a={moneda:"dolares",total:d,saldo_sistema:o,observaciones:p,usuario_id:i,detalles:e,generarMovimiento:!0,concepto:t>0?"Sobr\xf3 - Diferencia en arqueo":t<0?"Falt\xf3 - Diferencia en arqueo":"Conteo sin diferencia"};console.log("Enviando datos de conteo a la API:",a);const s=await hA(a);console.log("Respuesta del servidor:",s),b(!0),n(d,p),m(!1),setTimeout((()=>{r()}),1e3)}catch(c){var e,t,a,s;console.error("Error al guardar conteo:",c);const r=(null===(e=c.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Ocurri\xf3 un error al guardar el conteo. Intente nuevamente.";console.error("Mensaje de error:",r),console.error("Estado HTTP:",null===(a=c.response)||void 0===a?void 0:a.status),console.error("Datos de respuesta:",null===(s=c.response)||void 0===s?void 0:s.data),v(r),m(!1)}},variant:"contained",color:"primary",disabled:f,children:f?"Guardando...":"Guardar Total"})]})]}),(0,Ve.jsx)(tf,{open:!!g,autoHideDuration:6e3,onClose:()=>v(null),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,Ve.jsx)(Ah,{onClose:()=>v(null),severity:"error",children:g})}),(0,Ve.jsx)(tf,{open:x,autoHideDuration:3e3,onClose:()=>b(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,Ve.jsx)(Ah,{onClose:()=>b(!1),severity:"success",children:"Conteo guardado exitosamente"})})]})},fE=(0,ms.A)((0,Ve.jsx)("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),mE=(0,ms.A)((0,Ve.jsx)("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),gE=["backIconButtonProps","count","disabled","getItemAriaLabel","nextIconButtonProps","onPageChange","page","rowsPerPage","showFirstButton","showLastButton","slots","slotProps"],vE=a.forwardRef((function(e,t){var r,n,o,a,i,s,l,c;const{backIconButtonProps:d,count:u,disabled:p=!1,getItemAriaLabel:h,nextIconButtonProps:f,onPageChange:m,page:g,rowsPerPage:v,showFirstButton:x,showLastButton:b,slots:y={},slotProps:j={}}=e,w=(0,Fe.A)(e,gE),S=Xe(),C=null!=(r=y.firstButton)?r:Ir,A=null!=(n=y.lastButton)?n:Ir,E=null!=(o=y.nextButton)?o:Ir,k=null!=(a=y.previousButton)?a:Ir,O=null!=(i=y.firstButtonIcon)?i:mE,P=null!=(s=y.lastButtonIcon)?s:fE,I=null!=(l=y.nextButtonIcon)?l:AA,D=null!=(c=y.previousButtonIcon)?c:CA,M=S?A:C,T=S?E:k,R=S?k:E,N=S?C:A,$=S?j.lastButton:j.firstButton,z=S?j.nextButton:j.previousButton,L=S?j.previousButton:j.nextButton,B=S?j.firstButton:j.lastButton;return(0,Ve.jsxs)("div",(0,Be.A)({ref:t},w,{children:[x&&(0,Ve.jsx)(M,(0,Be.A)({onClick:e=>{m(e,0)},disabled:p||0===g,"aria-label":h("first",g),title:h("first",g)},$,{children:S?(0,Ve.jsx)(P,(0,Be.A)({},j.lastButtonIcon)):(0,Ve.jsx)(O,(0,Be.A)({},j.firstButtonIcon))})),(0,Ve.jsx)(T,(0,Be.A)({onClick:e=>{m(e,g-1)},disabled:p||0===g,color:"inherit","aria-label":h("previous",g),title:h("previous",g)},null!=z?z:d,{children:S?(0,Ve.jsx)(I,(0,Be.A)({},j.nextButtonIcon)):(0,Ve.jsx)(D,(0,Be.A)({},j.previousButtonIcon))})),(0,Ve.jsx)(R,(0,Be.A)({onClick:e=>{m(e,g+1)},disabled:p||-1!==u&&g>=Math.ceil(u/v)-1,color:"inherit","aria-label":h("next",g),title:h("next",g)},null!=L?L:f,{children:S?(0,Ve.jsx)(D,(0,Be.A)({},j.previousButtonIcon)):(0,Ve.jsx)(I,(0,Be.A)({},j.nextButtonIcon))})),b&&(0,Ve.jsx)(N,(0,Be.A)({onClick:e=>{m(e,Math.max(0,Math.ceil(u/v)-1))},disabled:p||g>=Math.ceil(u/v)-1,"aria-label":h("last",g),title:h("last",g)},B,{children:S?(0,Ve.jsx)(O,(0,Be.A)({},j.firstButtonIcon)):(0,Ve.jsx)(P,(0,Be.A)({},j.lastButtonIcon))}))]}))}));function xE(e){return(0,Mt.Ay)("MuiTablePagination",e)}const bE=(0,St.A)("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]);var yE;const jE=["ActionsComponent","backIconButtonProps","className","colSpan","component","count","disabled","getItemAriaLabel","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","onPageChange","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps","showFirstButton","showLastButton","slotProps","slots"],wE=(0,Ot.Ay)(th,{name:"MuiTablePagination",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{overflow:"auto",color:(t.vars||t).palette.text.primary,fontSize:t.typography.pxToRem(14),"&:last-child":{padding:0}}})),SE=(0,Ot.Ay)(Gt,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(e,t)=>(0,Be.A)({[`& .${bE.actions}`]:t.actions},t.toolbar)})((e=>{let{theme:t}=e;return{minHeight:52,paddingRight:2,[`${t.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[t.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${bE.actions}`]:{flexShrink:0,marginLeft:20}}})),CE=(0,Ot.Ay)("div",{name:"MuiTablePagination",slot:"Spacer",overridesResolver:(e,t)=>t.spacer})({flex:"1 1 100%"}),AE=(0,Ot.Ay)("p",{name:"MuiTablePagination",slot:"SelectLabel",overridesResolver:(e,t)=>t.selectLabel})((e=>{let{theme:t}=e;return(0,Be.A)({},t.typography.body2,{flexShrink:0})})),EE=(0,Ot.Ay)(gp,{name:"MuiTablePagination",slot:"Select",overridesResolver:(e,t)=>(0,Be.A)({[`& .${bE.selectIcon}`]:t.selectIcon,[`& .${bE.select}`]:t.select},t.input,t.selectRoot)})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${bE.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),kE=(0,Ot.Ay)(_h,{name:"MuiTablePagination",slot:"MenuItem",overridesResolver:(e,t)=>t.menuItem})({}),OE=(0,Ot.Ay)("p",{name:"MuiTablePagination",slot:"DisplayedRows",overridesResolver:(e,t)=>t.displayedRows})((e=>{let{theme:t}=e;return(0,Be.A)({},t.typography.body2,{flexShrink:0})}));function PE(e){let{from:t,to:r,count:n}=e;return`${t}\u2013${r} of ${-1!==n?n:`more than ${r}`}`}function IE(e){return`Go to ${e} page`}const DE=a.forwardRef((function(e,t){var r;const n=(0,at.b)({props:e,name:"MuiTablePagination"}),{ActionsComponent:o=vE,backIconButtonProps:i,className:s,colSpan:l,component:c=th,count:d,disabled:u=!1,getItemAriaLabel:p=IE,labelDisplayedRows:h=PE,labelRowsPerPage:f="Rows per page:",nextIconButtonProps:m,onPageChange:g,onRowsPerPageChange:v,page:x,rowsPerPage:b,rowsPerPageOptions:y=[10,25,50,100],SelectProps:j={},showFirstButton:w=!1,showLastButton:S=!1,slotProps:C={},slots:A={}}=n,E=(0,Fe.A)(n,jE),k=n,O=(e=>{const{classes:t}=e;return(0,kt.A)({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},xE,t)})(k),P=null!=(r=null==C?void 0:C.select)?r:j,I=P.native?"option":kE;let D;c!==th&&"td"!==c||(D=l||1e3);const M=(0,Bo.A)(P.id),T=(0,Bo.A)(P.labelId);return(0,Ve.jsx)(wE,(0,Be.A)({colSpan:D,ref:t,as:c,ownerState:k,className:(0,vt.A)(O.root,s)},E,{children:(0,Ve.jsxs)(SE,{className:O.toolbar,children:[(0,Ve.jsx)(CE,{className:O.spacer}),y.length>1&&(0,Ve.jsx)(AE,{className:O.selectLabel,id:T,children:f}),y.length>1&&(0,Ve.jsx)(EE,(0,Be.A)({variant:"standard"},!P.variant&&{input:yE||(yE=(0,Ve.jsx)(wd,{}))},{value:b,onChange:v,id:M,labelId:T},P,{classes:(0,Be.A)({},P.classes,{root:(0,vt.A)(O.input,O.selectRoot,(P.classes||{}).root),select:(0,vt.A)(O.select,(P.classes||{}).select),icon:(0,vt.A)(O.selectIcon,(P.classes||{}).icon)}),disabled:u,children:y.map((e=>(0,a.createElement)(I,(0,Be.A)({},!zr(I)&&{ownerState:k},{className:O.menuItem,key:e.label?e.label:e,value:e.value?e.value:e}),e.label?e.label:e)))})),(0,Ve.jsx)(OE,{className:O.displayedRows,children:h({from:0===d?0:x*b+1,to:-1===d?(x+1)*b:-1===b?d:Math.min(d,(x+1)*b),count:-1===d?-1:d,page:x})}),(0,Ve.jsx)(o,{className:O.actions,backIconButtonProps:i,count:d,nextIconButtonProps:m,onPageChange:g,page:x,rowsPerPage:b,showFirstButton:w,showLastButton:S,slotProps:C.actions,slots:A.actions,getItemAriaLabel:p,disabled:u})]})}))})),ME=(0,ms.A)((0,Ve.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),TE=(0,ms.A)((0,Ve.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"RefreshOutlined"),RE=(0,ms.A)((0,Ve.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),NE=(0,ms.A)((0,Ve.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),$E="http://localhost:3000/api",zE=e=>{switch(e){case"PYG":default:return"guaranies";case"USD":return"dolares";case"BRL":return"reales"}},LE=e=>{switch(e){case"pendiente":return"Activo";case"cobrado":return"Pagado";case"anulado":return"Cancelado";default:return e.charAt(0).toUpperCase()+e.slice(1)}},BE=e=>{var t,r;let{open:n,onClose:o,movimientoId:i,onSuccess:s,tipoMovimiento:l="Vales"}=e;const[c,d]=(0,a.useState)(null),[u,p]=(0,a.useState)(!0),[h,f]=(0,a.useState)(null),[m,g]=(0,a.useState)(!1),[v,x]=(0,a.useState)(!1),[b,y]=(0,a.useState)(!1);(0,a.useEffect)((()=>{n&&i&&(async()=>{try{var e,t,r;if(p(!0),f(null),!i)return f("ID de movimiento no v\xe1lido"),void p(!1);if(l&&!["Vales","Vale","vales","vale"].includes(l.trim()))return console.log(`No se procesa el movimiento ID ${i} porque es de tipo "${l}" y no "Vales"`),f(`Este movimiento es de tipo "${l}" y no corresponde a un vale.`),void p(!1);console.log(`Cargando vale para el movimiento ID: ${i}`);const n=await ed.get(`${$E}/vales/por-movimiento/${i}`);if(console.log("Datos recibidos del vale:",n.data),!n.data||!n.data.id)return f("Datos del vale incompletos o no v\xe1lidos"),void p(!1);const o=n.data;console.log("Datos completos del vale:",JSON.stringify(o,null,2)),d({id:o.id,numero:o.numero||"",fecha:o.fecha_emision||"",persona:{id:(null===(e=o.persona)||void 0===e?void 0:e.id)||0,nombre:(null===(t=o.persona)||void 0===t?void 0:t.nombreCompleto)||o.persona_nombre||"-",documento:(null===(r=o.persona)||void 0===r?void 0:r.documento)||"-"},monto:parseFloat(o.monto)||0,moneda:zE(o.moneda),estado:o.estado||"pendiente",observacion:o.observaciones_internas||o.motivo||"Sin observaciones",movimientoId:i||0})}catch(c){var n,o,a,s;console.error("Error al cargar el vale:",c),c.response&&404===c.response.status?f("No se encontr\xf3 vale asociado a este movimiento. Es posible que este movimiento no corresponda a un vale."):f((null===(n=c.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.error)||(null===(a=c.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.mensaje)||c.message||"Error al cargar el vale")}finally{p(!1)}})()}),[i,n,l]);const j="anulado"===(null===c||void 0===c?void 0:c.estado)||"cancelado"===(null===c||void 0===c?void 0:c.estado),w=e=>{(e.currentTarget instanceof HTMLInputElement||e.currentTarget instanceof HTMLTextAreaElement)&&e.currentTarget.select()};return(0,Ve.jsxs)(Fi,{open:n,onClose:v?void 0:o,maxWidth:"md",fullWidth:!0,children:[(0,Ve.jsxs)(Gi,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:2},children:[(0,Ve.jsx)($r,{variant:"h6",children:j?"Detalles de Vale (Cancelado)":"Editar Vale"}),(0,Ve.jsx)(Ir,{onClick:o,disabled:v,children:(0,Ve.jsx)(AC,{})})]}),(0,Ve.jsx)(Ii,{}),(0,Ve.jsx)(Ki,{sx:{p:3},children:u?(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",my:4},children:(0,Ve.jsx)(KS,{})}):h?(0,Ve.jsx)(Ah,{severity:"error",sx:{mb:2},children:h}):b?(0,Ve.jsx)(Ah,{severity:"success",sx:{mb:2},children:"El vale ha sido cancelado exitosamente"}):c?(0,Ve.jsxs)(Ve.Fragment,{children:[j&&(0,Ve.jsx)(Ah,{severity:"warning",sx:{mb:3},children:"Este vale ha sido cancelado y no puede ser modificado."}),(0,Ve.jsxs)($t,{elevation:3,sx:{p:2,mb:3},children:[(0,Ve.jsx)($r,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:"Informaci\xf3n del Vale"}),(0,Ve.jsxs)($h,{container:!0,spacing:2,children:[(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"Persona",value:(null===(t=c.persona)||void 0===t?void 0:t.nombre)||"-",InputProps:{readOnly:!0,onClick:w},variant:"outlined",size:"small",margin:"normal"})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"Documento",value:(null===(r=c.persona)||void 0===r?void 0:r.documento)||"-",InputProps:{readOnly:!0,onClick:w},variant:"outlined",size:"small",margin:"normal"})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"Fecha",value:(e=>{try{if(!e)return"-";const t=new Date(e);if(isNaN(t.getTime()))return"-";const r=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),o=t.getFullYear(),a=String(t.getHours()).padStart(2,"0");return`${r}/${n}/${o} ${a}:${String(t.getMinutes()).padStart(2,"0")}`}catch(h){return console.error("Error al formatear la fecha:",h),"-"}})(c.fecha),InputProps:{readOnly:!0,onClick:w},variant:"outlined",size:"small",margin:"normal"})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"Estado",value:LE(c.estado),InputProps:{readOnly:!0,onClick:w},variant:"outlined",size:"small",margin:"normal"})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"Monto",value:(S=c.monto,C=c.moneda,S?`${(e=>{switch(e){case"guaranies":return"G$";case"dolares":return"U$D";case"reales":return"R$";default:return""}})(C)} ${((e,t)=>{if(!t)return nC.guaranies(e);switch(t){case"guaranies":return new Intl.NumberFormat("es-PY",{useGrouping:!0,maximumFractionDigits:0}).format(e);case"dolares":return nC.dollars(e);case"reales":return nC.reals(e);default:return nC.guaranies(e)}})(S,C)}`:"-"),InputProps:{readOnly:!0,onClick:w},variant:"outlined",size:"small",margin:"normal"})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:6,children:(0,Ve.jsx)(jp,{label:"Moneda",fullWidth:!0,variant:"outlined",size:"small",margin:"normal",InputProps:{readOnly:!0,onClick:w},value:"guaranies"===c.moneda?"Guaran\xedes":"dolares"===c.moneda?"D\xf3lares":"reales"===c.moneda?"Reales":"-"})}),(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"Observaci\xf3n",value:c.observacion||"Sin observaciones",InputProps:{readOnly:!0,onClick:w},variant:"outlined",size:"small",margin:"normal",multiline:!0,rows:2})})]})]}),m?(0,Ve.jsxs)(Et,{sx:{p:3,border:"1px solid #f44336",borderRadius:"4px",bgcolor:"rgba(244, 67, 54, 0.08)"},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,Ve.jsx)(RE,{color:"error",sx:{mr:1}}),(0,Ve.jsx)($r,{variant:"subtitle1",color:"error",children:"Confirmar cancelaci\xf3n de vale"})]}),(0,Ve.jsx)($r,{variant:"body2",paragraph:!0,children:"\xbfEst\xe1 seguro que desea cancelar este vale? Esta acci\xf3n:"}),(0,Ve.jsxs)("ul",{children:[(0,Ve.jsx)("li",{children:(0,Ve.jsx)($r,{variant:"body2",children:'Marcar\xe1 el vale como "Cancelado" en el sistema'})}),(0,Ve.jsx)("li",{children:(0,Ve.jsx)($r,{variant:"body2",children:"Crear\xe1 un movimiento opuesto en caja para anular el efecto del vale"})}),(0,Ve.jsx)("li",{children:(0,Ve.jsx)($r,{variant:"body2",children:"Esta acci\xf3n no se puede deshacer"})})]}),(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:[(0,Ve.jsx)(fs,{variant:"outlined",onClick:()=>{g(!1)},sx:{mr:1},disabled:v,children:"No, Mantener Vale"}),(0,Ve.jsx)(fs,{variant:"contained",color:"error",onClick:async()=>{if(c&&i)try{x(!0),f(null),await ed.post(`${$E}/vales/cancelar/${c.id}`,{movimientoId:i,razon:"Vale cancelado"}),y(!0),g(!1),setTimeout((()=>{s(),o()}),1500)}catch(r){var e,t;console.error("Error al cancelar el vale:",r),f("No se pudo cancelar el vale. "+((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.mensaje)||r.message||"Intente nuevamente."))}finally{x(!1)}},disabled:v,startIcon:v?(0,Ve.jsx)(KS,{size:20}):(0,Ve.jsx)(NE,{}),children:v?"Procesando...":"S\xed, Cancelar Vale"})]})]}):null]}):(0,Ve.jsx)(Ah,{severity:"warning",children:"No se encontr\xf3 informaci\xf3n del vale"})}),(0,Ve.jsxs)(ns,{sx:{p:2},children:[c&&!j&&!m&&(0,Ve.jsx)(fs,{variant:"outlined",color:"error",startIcon:(0,Ve.jsx)(NE,{}),onClick:()=>{g(!0)},children:"Cancelar Vale"}),(0,Ve.jsx)(fs,{onClick:o,variant:"outlined",disabled:v,children:"Cerrar"})]})]});var S,C},FE="http://localhost:3000/api",_E=e=>{switch(e){case"USO":return"Uso de Efectivo";case"DEVOLUCION":return"Devoluci\xf3n de Efectivo";default:return e}},UE=e=>{var t,r,n;let{open:o,onClose:i,movimientoId:s,onSuccess:l}=e;const[c,d]=(0,a.useState)(null),[u,p]=(0,a.useState)(!0),[h,f]=(0,a.useState)(null),[m,g]=(0,a.useState)(!1),[v,x]=(0,a.useState)(!1),[b,y]=(0,a.useState)(!1);(0,a.useEffect)((()=>{o&&s?(async()=>{try{var e,t,r,n;if(p(!0),f(null),y(!1),g(!1),d(null),!s)return f("ID de movimiento no v\xe1lido"),void p(!1);const o=await ed.get(`${FE}/uso-devolucion/por-movimiento/${s}`);if(console.log("Datos recibidos de Uso/Devoluci\xf3n:",o.data),!o.data||!o.data.id)return f("Datos de la operaci\xf3n incompletos o no v\xe1lidos"),void p(!1);const a=o.data;d({id:a.id,tipo:a.tipo,fecha:(null===(e=a.cajaMayorMovimiento)||void 0===e?void 0:e.fecha)||(new Date).toISOString(),persona:{id:(null===(t=a.persona)||void 0===t?void 0:t.id)||a.persona_id||0,nombre:(null===(r=a.persona)||void 0===r?void 0:r.nombreCompleto)||a.persona_nombre||"-",documento:(null===(n=a.persona)||void 0===n?void 0:n.documento)||"-"},guaranies:parseFloat(a.guaranies)||0,dolares:parseFloat(a.dolares)||0,reales:parseFloat(a.reales)||0,motivo:a.motivo||"-",anulado:a.anulado||!1,movimientoId:s||0})}catch(c){var o,a,i,l;console.error("Error al cargar la operaci\xf3n:",c),f((null===(o=c.response)||void 0===o||null===(a=o.data)||void 0===a?void 0:a.error)||(null===(i=c.response)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.mensaje)||c.message||"Error al cargar los detalles de la operaci\xf3n")}finally{p(!1)}})():o||(p(!0),f(null),y(!1),g(!1),d(null))}),[s,o]);const j=null===c||void 0===c?void 0:c.anulado,w=(e,t)=>{if(0===e)return null;let r="";switch(t){case"G$":r=new Intl.NumberFormat("es-PY",{useGrouping:!0,maximumFractionDigits:0}).format(e);break;case"U$D":r=new Intl.NumberFormat("en-US",{useGrouping:!0,minimumFractionDigits:2,maximumFractionDigits:2}).format(e);break;case"R$":r=new Intl.NumberFormat("pt-BR",{useGrouping:!0,minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}return(0,Ve.jsxs)($r,{variant:"body2",sx:{display:"flex",justifyContent:"space-between"},children:[(0,Ve.jsxs)("span",{children:[t,":"]}),(0,Ve.jsx)("span",{children:r})]})};return(0,Ve.jsxs)(Fi,{open:o,onClose:v?void 0:i,maxWidth:"md",fullWidth:!0,children:[(0,Ve.jsxs)(Gi,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:2},children:[(0,Ve.jsx)($r,{variant:"h6",children:j?"Detalles de Operaci\xf3n (Anulada)":"Detalles de Uso/Devoluci\xf3n"}),(0,Ve.jsx)(Ir,{onClick:i,disabled:v,children:(0,Ve.jsx)(AC,{})})]}),(0,Ve.jsx)(Ii,{}),(0,Ve.jsx)(Ki,{sx:{p:3},children:u?(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",my:4},children:(0,Ve.jsx)(KS,{})}):h?(0,Ve.jsx)(Ah,{severity:"error",sx:{mb:2},children:h}):b?(0,Ve.jsx)(Ah,{severity:"success",sx:{mb:2},children:"La operaci\xf3n ha sido cancelada exitosamente."}):c?(0,Ve.jsxs)(Ve.Fragment,{children:[j&&(0,Ve.jsx)(Ah,{severity:"warning",sx:{mb:3},children:"Esta operaci\xf3n ha sido anulada y no puede ser modificada."}),(0,Ve.jsxs)($t,{elevation:3,sx:{p:2,mb:3},children:[(0,Ve.jsx)($r,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:"Informaci\xf3n de la Operaci\xf3n"}),(0,Ve.jsxs)($h,{container:!0,spacing:2,children:[(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"Tipo de Operaci\xf3n",value:_E(c.tipo),InputProps:{readOnly:!0,onClick:KA},variant:"outlined",size:"small",margin:"dense"})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"Fecha y Hora",value:(e=>{try{if(!e)return"-";const t=new Date(e);if(isNaN(t.getTime()))return"-";const r=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),o=t.getFullYear(),a=String(t.getHours()).padStart(2,"0");return`${r}/${n}/${o} ${a}:${String(t.getMinutes()).padStart(2,"0")}`}catch(h){return console.error("Error al formatear la fecha:",h),"-"}})(c.fecha),InputProps:{readOnly:!0,onClick:KA},variant:"outlined",size:"small",margin:"dense"})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"Persona",value:(null===(t=c.persona)||void 0===t?void 0:t.nombre)||"-",InputProps:{readOnly:!0,onClick:KA},variant:"outlined",size:"small",margin:"dense"})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"Documento",value:(null===(r=c.persona)||void 0===r?void 0:r.documento)||"-",InputProps:{readOnly:!0,onClick:KA},variant:"outlined",size:"small",margin:"dense"})}),(0,Ve.jsxs)($h,{item:!0,xs:12,children:[(0,Ve.jsx)($r,{variant:"subtitle2",sx:{mt:1,mb:1},children:"Montos"}),(0,Ve.jsx)($t,{variant:"outlined",sx:{p:1.5},children:(0,Ve.jsxs)(oS,{spacing:.5,children:[w(c.guaranies,"G$"),w(c.dolares,"U$D"),w(c.reales,"R$"),0===c.guaranies&&0===c.dolares&&0===c.reales&&(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"Sin montos registrados."})]})})]}),(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"Motivo / Observaci\xf3n",value:c.motivo||"Sin motivo",InputProps:{readOnly:!0,onClick:KA},variant:"outlined",size:"small",margin:"dense",multiline:!0,rows:2})})]})]}),m?(0,Ve.jsxs)(Et,{sx:{p:3,border:"1px solid #f44336",borderRadius:"4px",bgcolor:"rgba(244, 67, 54, 0.08)",mt:2},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,Ve.jsx)(RE,{color:"error",sx:{mr:1}}),(0,Ve.jsx)($r,{variant:"subtitle1",color:"error",children:"Confirmar cancelaci\xf3n de operaci\xf3n"})]}),(0,Ve.jsxs)($r,{variant:"body2",paragraph:!0,children:["\xbfEst\xe1 seguro que desea cancelar esta operaci\xf3n de '",_E(c.tipo),"'? Esta acci\xf3n:"]}),(0,Ve.jsxs)("ul",{children:[(0,Ve.jsx)("li",{children:(0,Ve.jsx)($r,{variant:"body2",children:'Marcar\xe1 la operaci\xf3n como "Anulada".'})}),(0,Ve.jsx)("li",{children:(0,Ve.jsx)($r,{variant:"body2",children:"Crear\xe1 un movimiento contrario en caja para anular su efecto financiero."})}),(0,Ve.jsx)("li",{children:(0,Ve.jsx)($r,{variant:"body2",children:"Esta acci\xf3n no se puede deshacer."})})]}),(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:[(0,Ve.jsx)(fs,{variant:"outlined",onClick:()=>{g(!1)},sx:{mr:1},disabled:v,children:"No, Mantener Operaci\xf3n"}),(0,Ve.jsx)(fs,{variant:"contained",color:"error",onClick:async()=>{if(c)try{x(!0),f(null),await ed.post(`${FE}/uso-devolucion/cancelar/${c.id}`,{movimientoId:c.movimientoId,razon:`Cancelaci\xf3n de ${c.tipo.toLowerCase()} ID ${c.id}`}),y(!0),g(!1),setTimeout((()=>{l(),i()}),1500)}catch(r){var e,t;console.error("Error al cancelar la operaci\xf3n:",r),f("No se pudo cancelar la operaci\xf3n. "+((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.mensaje)||r.message||"Intente nuevamente."))}finally{x(!1)}},disabled:v,startIcon:v?(0,Ve.jsx)(KS,{size:20}):(0,Ve.jsx)(NE,{}),children:v?"Procesando...":"S\xed, Cancelar Operaci\xf3n"})]})]}):null]}):!u&&!h&&(0,Ve.jsx)(Ah,{severity:"info",children:"Cargando detalles de la operaci\xf3n..."})}),(0,Ve.jsxs)(ns,{sx:{p:2},children:[c&&!j&&!m&&(0,Ve.jsx)(Ve.Fragment,{children:"FARMACIA FRANCO"===(null===(n=c.persona)||void 0===n?void 0:n.nombre)?(0,Ve.jsx)(Ah,{severity:"warning",sx:{flexGrow:1,mr:2},children:"NO SE PUEDE ANULAR ESTA OPERACI\xd3N"}):(0,Ve.jsx)(fs,{variant:"outlined",color:"error",startIcon:(0,Ve.jsx)(NE,{}),onClick:()=>{g(!0)},disabled:u||v,children:"Anular Operaci\xf3n"})}),(0,Ve.jsx)(fs,{onClick:i,variant:"outlined",disabled:v,children:"Cerrar"})]})]})},WE=(0,ms.A)((0,Ve.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm4 18H6V4h7v5h5zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11z"}),"UploadFile"),VE=(0,ms.A)((0,Ve.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),GE=(0,ms.A)((0,Ve.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save"),HE="http://localhost:3000/api",qE=e=>{var t,r;let{open:n,onClose:o,movimientoId:i,onSuccess:s}=e;const[l,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(!0),[p,h]=(0,a.useState)(null),[f,m]=(0,a.useState)(!1),[g,v]=(0,a.useState)(!1),[x,b]=(0,a.useState)(!1),[y,j]=(0,a.useState)(null),[w,S]=(0,a.useState)(""),[C,A]=(0,a.useState)("view"),[E,k]=(0,a.useState)(""),[O,P]=(0,a.useState)(null),I=(0,a.useRef)(null);(0,a.useEffect)((()=>{n&&i?(async()=>{try{var e,t,r,n,o;if(u(!0),h(null),j(null),m(!1),A("view"),c(null),S(""),k(""),P(null),!i)return h("ID de movimiento no v\xe1lido"),void u(!1);console.log(`Cargando datos del dep\xf3sito para el movimiento ID: ${i}`);const a=await ed.get(`${HE}/depositos-bancarios/por-movimiento/${i}`);if(console.log("Datos recibidos de Dep\xf3sito:",a.data),!a.data||!a.data.id)return h("Datos del dep\xf3sito incompletos o no v\xe1lidos"),void u(!1);const s=a.data,l=s.observacion||"",d=l.includes("CANCELADO")||"anulado"===s.estado,p={id:s.id,fecha:s.fecha||(new Date).toISOString(),banco:{id:(null===(e=s.banco)||void 0===e?void 0:e.id)||0,nombre:s.bancoNombre||(null===(t=s.banco)||void 0===t?void 0:t.nombre)||"-"},cuenta:{id:(null===(r=s.cuentaBancaria)||void 0===r?void 0:r.id)||0,numero:s.numeroCuenta||(null===(n=s.cuentaBancaria)||void 0===n?void 0:n.numeroCuenta)||"-",tipoCuenta:s.tipoCuenta||(null===(o=s.cuentaBancaria)||void 0===o?void 0:o.tipo)||"-"},numeroBoleta:s.numeroBoleta||"-",monto:parseFloat(s.monto)||0,moneda:s.moneda||"guaranies",observacion:l,anulado:d,movimientoId:i||0,rutaComprobante:s.rutaComprobante||null};c(p),k(p.numeroBoleta)}catch(p){var a,s,l,d;console.error("Error al cargar el dep\xf3sito:",p),h((null===(a=p.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.error)||(null===(l=p.response)||void 0===l||null===(d=l.data)||void 0===d?void 0:d.mensaje)||p.message||"Error al cargar los detalles del dep\xf3sito")}finally{u(!1)}})():n||(u(!0),h(null),j(null),A("view"),m(!1),c(null),S(""),k(""),P(null))}),[i,n]);const D=null===l||void 0===l?void 0:l.anulado,M=()=>{A("view"),m(!1),h(null),l&&k(l.numeroBoleta),P(null)},T=g||x;return(0,Ve.jsxs)(Fi,{open:n,onClose:T?void 0:o,maxWidth:"md",fullWidth:!0,children:[(0,Ve.jsxs)(Gi,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:2},children:[(0,Ve.jsx)($r,{variant:"h6",children:"edit"===C?"Editar Dep\xf3sito Bancario":"cancel"===C?"Confirmar Cancelaci\xf3n de Dep\xf3sito":D?"Detalles de Dep\xf3sito (Anulado)":"Detalles del Dep\xf3sito Bancario"}),(0,Ve.jsx)(Ir,{onClick:o,disabled:T,children:(0,Ve.jsx)(AC,{})})]}),(0,Ve.jsx)(Ii,{}),(0,Ve.jsx)(Ki,{sx:{p:3},children:d?(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",my:4},children:(0,Ve.jsx)(KS,{})}):p?(0,Ve.jsx)(Ah,{severity:"error",sx:{mb:2},children:p}):y?(0,Ve.jsx)(Ah,{severity:"success",sx:{mb:2},children:y}):l?(0,Ve.jsxs)(Ve.Fragment,{children:[D&&"cancel"!==C&&(0,Ve.jsx)(Ah,{severity:"warning",sx:{mb:3},children:"Este dep\xf3sito ha sido anulado y no puede ser modificado."}),(0,Ve.jsxs)($t,{elevation:"edit"===C?6:3,sx:{p:2,mb:3},children:[(0,Ve.jsx)($r,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:"Informaci\xf3n del Dep\xf3sito"}),(0,Ve.jsxs)($h,{container:!0,spacing:2,children:[(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"Fecha y Hora",value:(e=>{try{if(!e)return"-";const t=new Date(e);if(isNaN(t.getTime()))return"-";const r=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),o=t.getFullYear(),a=String(t.getHours()).padStart(2,"0");return`${r}/${n}/${o} ${a}:${String(t.getMinutes()).padStart(2,"0")}`}catch(p){return console.error("Error al formatear la fecha:",p),"-"}})(l.fecha),InputProps:{readOnly:!0,onClick:KA},variant:"outlined",size:"small",margin:"dense"})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"N\xfamero de Boleta",value:"edit"===C?E:l.numeroBoleta,onChange:e=>k(e.target.value.toUpperCase()),InputProps:{readOnly:"edit"!==C,onClick:"edit"!==C?KA:void 0},variant:"edit"===C?"filled":"outlined",size:"small",margin:"dense",required:"edit"===C,error:"edit"===C&&!E.trim(),helperText:"edit"!==C||E.trim()?"":"El n\xfamero de boleta es obligatorio"})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"Banco",value:(null===(t=l.banco)||void 0===t?void 0:t.nombre)||"-",InputProps:{readOnly:!0,onClick:KA},variant:"outlined",size:"small",margin:"dense"})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"N\xfamero de Cuenta",value:(null===(r=l.cuenta)||void 0===r?void 0:r.numero)||"-",InputProps:{readOnly:!0,onClick:KA},variant:"outlined",size:"small",margin:"dense"})}),(0,Ve.jsxs)($h,{item:!0,xs:12,children:[(0,Ve.jsx)($r,{variant:"subtitle2",sx:{mt:1,mb:1},children:"Monto"}),(0,Ve.jsx)($t,{variant:"outlined",sx:{p:1.5},children:(0,Ve.jsx)(oS,{spacing:.5,children:(0,Ve.jsxs)($r,{variant:"body1",sx:{display:"flex",justifyContent:"space-between",fontWeight:"bold"},children:[(0,Ve.jsx)("span",{children:"guaranies"===l.moneda?"Guaran\xedes:":"dolares"===l.moneda?"D\xf3lares:":"Reales:"}),(0,Ve.jsx)("span",{children:((e,t)=>{switch(t){case"dolares":return nC.dollars(e);case"reales":return nC.reals(e);default:return nC.guaranies(e)}})(l.monto,l.moneda)})]})})})]}),(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"Observaci\xf3n / Comentario",value:l.observacion||"Sin observaciones",InputProps:{readOnly:!0,onClick:KA},variant:"outlined",size:"small",margin:"dense",multiline:!0,rows:2})}),"edit"===C&&(0,Ve.jsxs)($h,{item:!0,xs:12,children:[(0,Ve.jsx)($r,{variant:"subtitle2",sx:{mt:1,mb:.5},children:"Comprobante"}),(0,Ve.jsxs)(oS,{direction:"row",spacing:2,alignItems:"center",children:[(0,Ve.jsxs)(fs,{variant:"outlined",component:"label",startIcon:(0,Ve.jsx)(WE,{}),size:"small",children:[O?"Cambiar Archivo":"Seleccionar Archivo",(0,Ve.jsx)("input",{type:"file",hidden:!0,onChange:e=>{e.target.files&&e.target.files[0]?P(e.target.files[0]):P(null)},ref:I,accept:"image/*,.pdf"})]}),O&&(0,Ve.jsx)($r,{variant:"body2",sx:{fontStyle:"italic"},children:O.name}),!O&&l.rutaComprobante&&(0,Ve.jsxs)($r,{variant:"body2",children:["Actual: ",(0,Ve.jsx)("a",{href:`${HE}/uploads/${l.rutaComprobante}`,target:"_blank",rel:"noopener noreferrer",children:l.rutaComprobante.split("/").pop()})]}),O&&(0,Ve.jsx)(Ir,{size:"small",onClick:()=>P(null),children:(0,Ve.jsx)(AC,{fontSize:"small"})})]})]})]})]}),"cancel"===C&&f&&(0,Ve.jsxs)(Et,{sx:{p:3,border:"1px solid #f44336",borderRadius:"4px",bgcolor:"rgba(244, 67, 54, 0.08)",mt:2},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,Ve.jsx)(RE,{color:"error",sx:{mr:1}}),(0,Ve.jsx)($r,{variant:"subtitle1",color:"error",children:"Confirmar cancelaci\xf3n de dep\xf3sito"})]}),(0,Ve.jsx)($r,{variant:"body2",paragraph:!0,children:"\xbfEst\xe1 seguro que desea cancelar este dep\xf3sito? Esta acci\xf3n:"}),(0,Ve.jsxs)("ul",{children:[(0,Ve.jsx)("li",{children:(0,Ve.jsx)($r,{variant:"body2",children:'Marcar\xe1 el dep\xf3sito como "Anulado".'})}),(0,Ve.jsx)("li",{children:(0,Ve.jsx)($r,{variant:"body2",children:"Crear\xe1 un movimiento contrario en caja para anular su efecto financiero."})}),(0,Ve.jsx)("li",{children:(0,Ve.jsx)($r,{variant:"body2",children:"Esta acci\xf3n no se puede deshacer."})})]}),(0,Ve.jsx)(jp,{fullWidth:!0,label:"Motivo de la cancelaci\xf3n",value:w,onChange:e=>S(e.target.value.toUpperCase()),required:!0,multiline:!0,rows:2,sx:{mt:2,mb:2},error:g&&!w.trim(),helperText:g&&!w.trim()?"El motivo es obligatorio":""}),(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:[(0,Ve.jsx)(fs,{variant:"outlined",onClick:M,sx:{mr:1},disabled:g,startIcon:(0,Ve.jsx)(VE,{}),children:"No, Mantener Dep\xf3sito"}),(0,Ve.jsx)(fs,{variant:"contained",color:"error",onClick:async()=>{if(l)if(w.trim())try{v(!0),h(null),await ed.post(`${HE}/depositos-bancarios/cancelar/${l.id}`,{movimientoId:l.movimientoId,razon:w}),j("El dep\xf3sito ha sido cancelado exitosamente."),A("view"),m(!1),setTimeout((()=>{s(),o()}),1500)}catch(r){var e,t;console.error("Error al cancelar el dep\xf3sito:",r),h("No se pudo cancelar el dep\xf3sito. "+((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.mensaje)||r.message||"Intente nuevamente."))}finally{v(!1)}else h("Debe ingresar un motivo para la cancelaci\xf3n")},disabled:g||!w.trim(),startIcon:g?(0,Ve.jsx)(KS,{size:20}):(0,Ve.jsx)(NE,{}),children:g?"Procesando...":"S\xed, Cancelar Dep\xf3sito"})]})]})]}):!d&&!p&&(0,Ve.jsx)(Ah,{severity:"info",children:"Cargando detalles del dep\xf3sito..."})}),(0,Ve.jsxs)(ns,{sx:{p:2},children:[l&&!D&&"view"===C&&(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)(fs,{variant:"outlined",color:"error",startIcon:(0,Ve.jsx)(NE,{}),onClick:()=>{A("cancel"),m(!0),h(null),j(null)},disabled:d||x,children:"Anular Dep\xf3sito"}),(0,Ve.jsx)(fs,{variant:"contained",color:"primary",startIcon:(0,Ve.jsx)(yC,{}),onClick:()=>{l&&(A("edit"),k(l.numeroBoleta),P(null),h(null),j(null))},disabled:d||g,children:"Editar"})]}),"edit"===C&&(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)(fs,{variant:"outlined",onClick:M,disabled:x,startIcon:(0,Ve.jsx)(VE,{}),children:"Cancelar Edici\xf3n"}),(0,Ve.jsx)(fs,{variant:"contained",color:"primary",onClick:async()=>{if(!l||!E.trim())return void h("El n\xfamero de boleta no puede estar vac\xedo.");b(!0),h(null),j(null);const e=new FormData;e.append("numeroBoleta",E.trim()),O&&e.append("comprobante",O),e.append("movimientoId",l.movimientoId.toString());try{const t=await ed.put(`${HE}/depositos-bancarios/${l.id}`,e,{headers:{"Content-Type":"multipart/form-data"}});console.log("Respuesta de actualizaci\xf3n:",t.data),j("Dep\xf3sito actualizado exitosamente."),A("view"),setTimeout((()=>{s()}),1500)}catch(a){var t,r,n,o;console.error("Error al actualizar el dep\xf3sito:",a),h("No se pudo actualizar el dep\xf3sito. "+((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||(null===(n=a.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.mensaje)||a.message||"Intente nuevamente."))}finally{b(!1)}},disabled:x||!E.trim(),startIcon:x?(0,Ve.jsx)(KS,{size:20}):(0,Ve.jsx)(GE,{}),children:x?"Guardando...":"Guardar Cambios"})]}),"view"===C&&(0,Ve.jsx)(fs,{onClick:o,variant:"outlined",disabled:T,children:"Cerrar"})]})]})},YE=e=>{let{open:t,onClose:r,monedaActiva:n}=e;const[o,i]=(0,a.useState)(0),[s,l]=(0,a.useState)(25),[c,d]=(0,a.useState)(0),[u,p]=(0,a.useState)([]),[h,f]=(0,a.useState)(!1),[m,g]=(0,a.useState)(null),[v,x]=(0,a.useState)(!0),[b,y]=(0,a.useState)(null),[j,w]=(0,a.useState)(null),[S,C]=(0,a.useState)(""),[A,E]=(0,a.useState)(""),[k,O]=(0,a.useState)([]),[P,I]=(0,a.useState)(!1),[D,M]=(0,a.useState)(!1),[T,R]=(0,a.useState)(!1),[N,$]=(0,a.useState)(!1),[z,L]=(0,a.useState)(null),B=(0,a.useCallback)((async()=>{if(t){f(!0),g(null);try{let e=j?new Date(j):null;e&&e.setHours(23,59,59,999);const t={moneda:n,page:o+1,pageSize:s,sortOrder:v?"desc":"asc",fechaDesde:b?b.toISOString():void 0,fechaHasta:e?e.toISOString():void 0,tipo:S||void 0,concepto:A||void 0};Object.keys(t).forEach((e=>void 0===t[e]&&delete t[e])),console.log("[MovExpandidos] Cargando movimientos con params:",t);const r=await fA.getMovimientosPaginados(t);p(r.movimientos||[]),d(r.total||0)}catch(a){var e,r;console.error("Error al cargar movimientos expandidos:",a),g((null===(e=a.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.error)||"Error al cargar movimientos"),p([]),d(0)}finally{f(!1)}}}),[t,n,o,s,v,b,j,S,A]),F=(0,a.useCallback)((async()=>{if(t){I(!0);try{const e=await fA.getTiposUnicos();O(e)}catch(e){console.error("Error al cargar tipos \xfanicos para el filtro.")}finally{I(!1)}}}),[t]);(0,a.useEffect)((()=>{B()}),[B]),(0,a.useEffect)((()=>{t&&F()}),[t,F]);const _=e=>{if(!e)return"-";try{const t=new Date(e);if(isNaN(t.getTime()))return"Fecha inv\xe1lida";const r=t.getDate().toString().padStart(2,"0"),n=(t.getMonth()+1).toString().padStart(2,"0"),o=t.getFullYear(),a=t.getHours().toString().padStart(2,"0");return`${r}/${n}/${o} ${a}:${t.getMinutes().toString().padStart(2,"0")}`}catch(a0){return"Error fecha"}},U=e=>{if(void 0===e||null===e)return"-";switch(n){case"guaranies":default:return nC.guaranies(e);case"dolares":return nC.dollars(e);case"reales":return nC.reals(e)}};return(0,Ve.jsxs)(Fi,{open:t,onClose:r,fullScreen:!0,children:[(0,Ve.jsx)(Gi,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:2},children:(0,Ve.jsxs)($r,{variant:"h6",children:["Movimientos en ","guaranies"===n?"Guaran\xedes":"dolares"===n?"D\xf3lares":"Reales"]})}),(0,Ve.jsx)(Ii,{}),(0,Ve.jsxs)(Ki,{sx:{display:"flex",flexDirection:"column",p:2},children:[(0,Ve.jsx)($t,{sx:{p:1.5,mb:2},children:(0,Ve.jsxs)($h,{container:!0,spacing:2,alignItems:"center",children:[(0,Ve.jsx)($h,{item:!0,xs:12,md:1,children:(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center",height:"100%"},children:[(0,Ve.jsx)(kC,{sx:{mr:.5}}),(0,Ve.jsx)($r,{variant:"subtitle1",component:"div",children:"Filtros"})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,md:2,children:(0,Ve.jsx)(Cm,{dateAdapter:xw,adapterLocale:Cw,children:(0,Ve.jsx)(Kx,{label:"Fecha desde",value:b,onChange:e=>y(e),slotProps:{textField:{fullWidth:!0,size:"small",variant:"outlined"}}})})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,md:2,children:(0,Ve.jsx)(Cm,{dateAdapter:xw,adapterLocale:Cw,children:(0,Ve.jsx)(Kx,{label:"Fecha hasta",value:j,onChange:e=>w(e),slotProps:{textField:{fullWidth:!0,size:"small",variant:"outlined"}}})})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,md:2,children:(0,Ve.jsxs)(lu,{fullWidth:!0,size:"small",children:[(0,Ve.jsx)(ou,{id:"tipo-select-label",children:"Tipo"}),(0,Ve.jsxs)(gp,{labelId:"tipo-select-label",value:S,label:"Tipo",onChange:e=>C(e.target.value),disabled:P,children:[(0,Ve.jsx)(_h,{value:"",children:"Todos"}),k.map((e=>(0,Ve.jsx)(_h,{value:e,children:e},e)))]})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,md:3,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"Concepto",variant:"outlined",size:"small",value:A,onChange:e=>E(e.target.value),InputProps:{startAdornment:(0,Ve.jsx)(kp,{position:"start",children:(0,Ve.jsx)(EC,{fontSize:"small"})}),endAdornment:A?(0,Ve.jsx)(kp,{position:"end",children:(0,Ve.jsx)(Ir,{size:"small",onClick:()=>E(""),edge:"end",children:(0,Ve.jsx)(ME,{fontSize:"small"})})}):null}})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:2,children:(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"flex-end",gap:1},children:[(0,Ve.jsx)(fs,{variant:"outlined",size:"small",startIcon:(0,Ve.jsx)(ME,{fontSize:"small"}),onClick:()=>{y(null),w(null),C(""),E(""),i(0)},title:"Limpiar filtros",children:"Limpiar"}),(0,Ve.jsx)(fs,{variant:"outlined",size:"small",startIcon:(0,Ve.jsx)(TE,{fontSize:"small"}),onClick:B,title:"Actualizar resultados",children:"Actualizar"})]})})]})}),(0,Ve.jsxs)(Dp,{component:$t,sx:{flexGrow:1,overflowY:"auto"},children:[h&&(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,Ve.jsx)(KS,{})}),!h&&m&&(0,Ve.jsx)(Ah,{severity:"error",sx:{m:2},children:m}),!h&&!m&&(0,Ve.jsxs)(zp,{stickyHeader:!0,size:"small",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center"},children:["Fecha",(0,Ve.jsx)(Qo,{title:v?"Ordenar ascendente":"Ordenar descendente",children:(0,Ve.jsx)(Ir,{size:"small",onClick:()=>{const e=!v;x(e),localStorage.setItem("ordenMovimientosCaja",e.toString())},sx:{ml:.5},children:v?(0,Ve.jsx)(uC,{fontSize:"inherit"}):(0,Ve.jsx)(xC,{fontSize:"inherit"})})})]})}),(0,Ve.jsx)(th,{children:"Tipo"}),(0,Ve.jsx)(th,{align:"center",width:"50px",children:"Editar"}),(0,Ve.jsx)(th,{children:"Concepto"}),(0,Ve.jsx)(th,{align:"right",children:"Ingreso"}),(0,Ve.jsx)(th,{align:"right",children:"Egreso"}),(0,Ve.jsx)(th,{align:"right",children:"Saldo"})]})}),(0,Ve.jsx)(sh,{children:u.length>0?u.map((e=>{var t;const r="Cambio"===e.tipo&&e.concepto.startsWith("Cancelaci\xf3n de cambio"),n="Cancelaci\xf3n dep\xf3sito"===e.tipo,o="Vales"===e.tipo&&e.concepto.toLowerCase().includes("cancelado"),a=e.concepto.toLowerCase().includes("cancelaci\xf3n"),i=String(e.concepto||"").includes("[DEVUELTO]"),s=r||n||o||a||i;let l="Editar/Anular movimiento";r||n||o||a?l="Movimiento de anulaci\xf3n/cancelaci\xf3n (no editable)":i&&(l="Retiro devuelto (no editable)");const c=e.tipo.toLowerCase().includes("dep\xf3sito")||e.tipo.toLowerCase().includes("deposito"),d=!!e.rutaComprobante;return(0,Ve.jsxs)(Xp,{hover:!0,children:[(0,Ve.jsx)(th,{children:_(null!==(t=e.fechaHora)&&void 0!==t?t:e.fecha)}),(0,Ve.jsx)(th,{children:e.tipo}),(0,Ve.jsx)(th,{align:"center",children:(0,Ve.jsx)(Qo,{title:l,children:(0,Ve.jsx)("span",{children:(0,Ve.jsx)(Ir,{size:"small",color:"primary",onClick:()=>!s&&((e,t)=>{L(e),console.log(`Editando movimiento tipo: ${t} con ID: ${e}`);const r=t.toLowerCase().trim();"vales"===r||r.includes("vale")?M(!0):"uso y devoluci\xf3n"===r||r.includes("uso")||r.includes("devolucion")?R(!0):r.includes("dep\xf3sito")||r.includes("deposito")||r.includes("bancario")?$(!0):console.log(`No hay editor definido para el tipo: ${t}`)})(e.id,e.tipo),disabled:s,children:(0,Ve.jsx)(yC,{fontSize:"small"})})})})}),(0,Ve.jsx)(th,{children:(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center"},children:[(0,Ve.jsx)("span",{children:e.concepto}),c&&d&&!n&&(0,Ve.jsx)(Qo,{title:"Ver Comprobante",children:(0,Ve.jsx)("span",{style:{marginLeft:"4px"},children:(0,Ve.jsx)(Ir,{size:"small",color:"secondary",sx:{p:.25},onClick:()=>window.open(`http://localhost:3000/api/uploads/${e.rutaComprobante}`,"_blank"),children:(0,Ve.jsx)(jC,{fontSize:"small"})})})})]})}),(0,Ve.jsx)(th,{align:"right",sx:{color:e.esIngreso?"success.main":"inherit"},children:e.esIngreso?U(e.monto):"-"}),(0,Ve.jsx)(th,{align:"right",sx:{color:e.esIngreso?"inherit":"error.main"},children:e.esIngreso?"-":U(e.monto)}),(0,Ve.jsx)(th,{align:"right",children:U(e.saldoActual)})]},e.id)})):(0,Ve.jsx)(Xp,{children:(0,Ve.jsx)(th,{colSpan:7,align:"center",children:"No se encontraron movimientos con los filtros aplicados."})})})]})]}),(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",borderTop:"1px solid",borderColor:"divider",p:1,mt:"auto"},children:[(0,Ve.jsx)(DE,{component:"div",count:c,page:o,onPageChange:(e,t)=>{i(t)},rowsPerPage:s,onRowsPerPageChange:e=>{l(parseInt(e.target.value,10)),i(0)},rowsPerPageOptions:[10,25,50,100],labelRowsPerPage:"Filas por p\xe1gina:",labelDisplayedRows:e=>{let{from:t,to:r,count:n}=e;return`${t}-${r} de ${-1!==n?n:`m\xe1s de ${r}`}`}}),(0,Ve.jsx)(fs,{onClick:r,variant:"outlined",color:"primary",children:"Volver"})]})]}),D&&(0,Ve.jsx)(BE,{open:D,onClose:()=>M(!1),onSuccess:B,movimientoId:z,tipoMovimiento:"Vales"}),T&&(0,Ve.jsx)(UE,{open:T,onClose:()=>R(!1),onSuccess:B,movimientoId:z}),N&&(0,Ve.jsx)(qE,{open:N,onClose:()=>$(!1),onSuccess:B,movimientoId:z})]})},KE="http://localhost:3000/api",XE=e=>{switch(e){case"PYG":return"Guaran\xedes";case"USD":return"D\xf3lares";case"BRL":return"Reales";default:return e}},QE=e=>{var t;let{open:r,onClose:n,cambioId:o,onSuccess:i}=e;const[s,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(!0),[u,p]=(0,a.useState)(null),[h,f]=(0,a.useState)(!1),[m,g]=(0,a.useState)(!1),[v,x]=(0,a.useState)(!1);(0,a.useEffect)((()=>{r&&o?(async()=>{if(o)try{d(!0),p(null),console.log("Intentando cargar cambio con ID:",o);const e=await ed.get(`${KE}/cambios-moneda/${o}`);if(console.log("Datos recibidos del cambio:",e.data),!e.data||!e.data.id)return p("Datos del cambio incompletos o no v\xe1lidos"),void d(!1);const t=e.data;console.log("Datos completos del cambio:",JSON.stringify(t,null,2)),l({id:t.id,fecha:t.fecha||(new Date).toISOString(),monedaOrigen:t.monedaOrigen,monedaDestino:t.monedaDestino,monto:parseFloat(t.monto)||0,cotizacion:parseFloat(t.cotizacion)||0,resultado:parseFloat(t.resultado)||0,observacion:t.observacion||"",usuarioId:t.usuarioId,usuario:t.usuario,estado:"cancelado"===t.cajaId?"cancelado":"activo",cajaId:t.cajaId,movimientoId:t.movimientoId})}catch(a){var e,t,r,n;console.error("Error al cargar el cambio:",a),console.error("URL solicitada:",`${KE}/cambios-moneda/${o}`),p((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||(null===(r=a.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.mensaje)||a.message||"Error al cargar los datos del cambio")}finally{d(!1)}else d(!1)})():(l(null),p(null),x(!1),f(!1))}),[o,r]);const b="cancelado"===(null===s||void 0===s?void 0:s.estado)||"cancelado"===(null===s||void 0===s?void 0:s.cajaId),y=(e,t)=>{if(!e)return"-";switch(t){case"PYG":return new Intl.NumberFormat("es-PY",{useGrouping:!0,maximumFractionDigits:0}).format(e);case"USD":return nC.dollars(e);case"BRL":return nC.reals(e);default:return e.toString()}},j=e=>{(e.currentTarget instanceof HTMLInputElement||e.currentTarget instanceof HTMLTextAreaElement)&&e.currentTarget.select()},w=e=>{switch(e){case"PYG":return"G$";case"USD":return"U$D";case"BRL":return"R$";default:return""}},S=(e,t)=>e?`${w(t)} ${y(e,t)}`:"-";return(0,Ve.jsxs)(Fi,{open:r,onClose:m?void 0:n,maxWidth:"md",fullWidth:!0,children:[(0,Ve.jsxs)(Gi,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:2},children:[(0,Ve.jsx)($r,{variant:"h6",children:b?"Detalles de Cambio (Cancelado)":"Eliminar Cambio"}),(0,Ve.jsx)(Ir,{onClick:n,disabled:m,children:(0,Ve.jsx)(AC,{})})]}),(0,Ve.jsx)(Ii,{}),(0,Ve.jsx)(Ki,{sx:{p:3},children:c?(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",my:4},children:(0,Ve.jsx)(KS,{})}):u?(0,Ve.jsx)(Ah,{severity:"error",sx:{mb:2},children:u}):v?(0,Ve.jsx)(Ah,{severity:"success",sx:{mb:2},children:"El cambio ha sido cancelado exitosamente"}):s?(0,Ve.jsxs)(Ve.Fragment,{children:[b&&(0,Ve.jsx)(Ah,{severity:"warning",sx:{mb:3},children:"Este cambio ya ha sido cancelado y no puede ser modificado."}),(0,Ve.jsxs)($t,{elevation:3,sx:{p:2,mb:3},children:[(0,Ve.jsx)($r,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:"Informaci\xf3n del Cambio"}),(0,Ve.jsxs)($h,{container:!0,spacing:2,children:[(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"Fecha",value:(e=>{try{if(!e)return"-";const t=new Date(e);if(isNaN(t.getTime()))return"-";const r=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),o=t.getFullYear(),a=String(t.getHours()).padStart(2,"0");return`${r}/${n}/${o} ${a}:${String(t.getMinutes()).padStart(2,"0")}`}catch(u){return console.error("Error al formatear la fecha:",u),"-"}})(s.fecha),InputProps:{readOnly:!0,onClick:j},variant:"outlined",size:"small",margin:"normal"})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"Estado",value:b?"Cancelado":"Activo",InputProps:{readOnly:!0,onClick:j},variant:"outlined",size:"small",margin:"normal"})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"Moneda Origen",value:`${XE(s.monedaOrigen)} (${w(s.monedaOrigen)})`,InputProps:{readOnly:!0,onClick:j},variant:"outlined",size:"small",margin:"normal"})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"Moneda Destino",value:`${XE(s.monedaDestino)} (${w(s.monedaDestino)})`,InputProps:{readOnly:!0,onClick:j},variant:"outlined",size:"small",margin:"normal"})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"Monto Origen",value:S(s.monto,s.monedaOrigen),InputProps:{readOnly:!0,onClick:j},variant:"outlined",size:"small",margin:"normal"})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"Monto Destino",value:S(s.resultado,s.monedaDestino),InputProps:{readOnly:!0,onClick:j},variant:"outlined",size:"small",margin:"normal"})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"Cotizaci\xf3n",value:`1 ${w(s.monedaOrigen)} = ${y(s.cotizacion,"PYG"===s.monedaDestino?"PYG":s.monedaDestino)} ${w(s.monedaDestino)}`,InputProps:{readOnly:!0,onClick:j},variant:"outlined",size:"small",margin:"normal"})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"Usuario",value:(null===(t=s.usuario)||void 0===t?void 0:t.nombre)||`ID: ${s.usuarioId}`,InputProps:{readOnly:!0,onClick:j},variant:"outlined",size:"small",margin:"normal"})}),(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"Observaci\xf3n",value:s.observacion||"Sin observaciones",InputProps:{readOnly:!0,onClick:j},variant:"outlined",size:"small",margin:"normal",multiline:!0,rows:2})})]})]}),h?(0,Ve.jsxs)(Et,{sx:{p:3,border:"1px solid #f44336",borderRadius:"4px",bgcolor:"rgba(244, 67, 54, 0.08)"},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,Ve.jsx)(RE,{color:"error",sx:{mr:1}}),(0,Ve.jsx)($r,{variant:"subtitle1",color:"error",children:"Confirmar cancelaci\xf3n de cambio"})]}),(0,Ve.jsx)($r,{variant:"body2",paragraph:!0,children:"\xbfEst\xe1 seguro que desea cancelar este cambio de moneda? Esta acci\xf3n:"}),(0,Ve.jsxs)("ul",{children:[(0,Ve.jsx)("li",{children:(0,Ve.jsx)($r,{variant:"body2",children:'Marcar\xe1 el cambio como "Cancelado" en el sistema'})}),(0,Ve.jsx)("li",{children:(0,Ve.jsx)($r,{variant:"body2",children:"Crear\xe1 un movimiento opuesto para anular el efecto del cambio"})}),(0,Ve.jsx)("li",{children:(0,Ve.jsx)($r,{variant:"body2",children:"Esta acci\xf3n no se puede deshacer"})})]}),(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:[(0,Ve.jsx)(fs,{variant:"outlined",onClick:()=>{f(!1)},sx:{mr:1},disabled:m,children:"No, Mantener Cambio"}),(0,Ve.jsx)(fs,{variant:"contained",color:"error",onClick:async()=>{if(s&&o)try{g(!0),p(null),console.log("Enviando solicitud para cancelar cambio:",o);const e=await ed.post(`${KE}/cambios-moneda/cancelar/${o}`,{observacion:"Cambio cancelado por usuario"});console.log("Respuesta de cancelaci\xf3n:",e.data),x(!0),f(!1),setTimeout((()=>{i(),n()}),1500)}catch(l){var e,t,r,a;console.error("Error al cancelar el cambio:",l),console.error("URL solicitada:",`${KE}/cambios-moneda/cancelar/${o}`);const n=(null===(e=l.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||(null===(r=l.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.mensaje)||l.message||"Intente nuevamente.";p("No se pudo cancelar el cambio. "+n)}finally{g(!1),f(!1)}},disabled:m,startIcon:m?(0,Ve.jsx)(KS,{size:20}):(0,Ve.jsx)(NE,{}),children:m?"Procesando...":"S\xed, Cancelar Cambio"})]})]}):null]}):(0,Ve.jsx)(Ah,{severity:"warning",children:"No se encontr\xf3 informaci\xf3n del cambio"})}),(0,Ve.jsxs)(ns,{sx:{p:2},children:[s&&!b&&!h&&(0,Ve.jsx)(fs,{variant:"outlined",color:"error",startIcon:(0,Ve.jsx)(NE,{}),onClick:()=>{f(!0)},children:"Cancelar Cambio"}),(0,Ve.jsx)(fs,{onClick:n,variant:"outlined",disabled:m,children:"Cerrar"})]})]})},JE="http://localhost:3000/api";function ZE(e){switch(e){case 1:return"UN";case 2:return"DOS";case 3:return"TRES";case 4:return"CUATRO";case 5:return"CINCO";case 6:return"SEIS";case 7:return"SIETE";case 8:return"OCHO";case 9:return"NUEVE";default:return""}}function ek(e){const t=e%10;switch(Math.floor(e/10)){case 1:switch(t){case 0:return"DIEZ";case 1:return"ONCE";case 2:return"DOCE";case 3:return"TRECE";case 4:return"CATORCE";case 5:return"QUINCE";default:return"DIECI"+ZE(t)}case 2:return 0===t?"VEINTE":"VEINTI"+(1===t?"UNO":ZE(t));case 3:return tk("TREINTA",t);case 4:return tk("CUARENTA",t);case 5:return tk("CINCUENTA",t);case 6:return tk("SESENTA",t);case 7:return tk("SETENTA",t);case 8:return tk("OCHENTA",t);case 9:return tk("NOVENTA",t);case 0:return ZE(t);default:return""}}function tk(e,t){return t>0?e+" Y "+(1===t?"UNO":ZE(t)):e}function rk(e){const t=e%100;switch(Math.floor(e/100)){case 1:return t>0?"CIENTO "+ek(t):"CIEN";case 2:return"DOSCIENTOS "+ek(t);case 3:return"TRESCIENTOS "+ek(t);case 4:return"CUATROCIENTOS "+ek(t);case 5:return"QUINIENTOS "+ek(t);case 6:return"SEISCIENTOS "+ek(t);case 7:return"SETECIENTOS "+ek(t);case 8:return"OCHOCIENTOS "+ek(t);case 9:return"NOVECIENTOS "+ek(t);default:return ek(t)}}function nk(e,t,r,n){const o=Math.floor(e/t),a=e%t;let i="";o>0&&(i=1===o?r.startsWith("UN")?r:"UN "+r:rk(o)+" "+n);let s="";a>0&&(1e6===t?s=function(e){const t=1e3;return nk(e,t,"MIL","MIL").trim()}(a):1e3===t&&(s=rk(a)));let l="";return""!==i&&""!==s&&(l=1e6===t&&"MILLONES"===n?" DE ":" "),i+l+s}function ok(e){return nk(e,1e6,"MILLON","MILLONES").trim()}const ak=e=>{if(!e||!(e instanceof Date)||isNaN(e.getTime()))return"Fecha inv\xe1lida";try{const t=e.getDate().toString().padStart(2,"0"),r=(e.getMonth()+1).toString().padStart(2,"0");return`${t}/${r}/${e.getFullYear()}`}catch(a0){return console.error("Error formateando fecha simple:",e,a0),"Error fecha"}},ik=e=>{let{open:t,onClose:r,movimientoId:n}=e;const[o,i]=(0,a.useState)(!1),[s,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(null),[u,p]=(0,a.useState)(null),h=(0,a.useCallback)((async e=>{i(!0),l(null),d(null),p(e),console.log(`[ImprimirValeDialog] Buscando detalles para movimiento ID: ${e}`);try{var t;const r=await ed.get(`${JE}/caja_mayor_movimientos/${e}`);if(console.log("[ImprimirValeDialog] Respuesta Movimiento API:",r.data),!r.data||"Vales"!==r.data.tipo)throw new Error("El movimiento seleccionado no es un vale.");const n=r.data.operacionId;if(!n)throw new Error("No se encontr\xf3 el ID de operaci\xf3n (vale ID) en el movimiento.");console.log(`[ImprimirValeDialog] Obtenido operacionId (valeId): ${n}. Buscando detalles del vale...`);const o=await ed.get(`${JE}/vales/${n}`);if(console.log("[ImprimirValeDialog] Respuesta Vale API:",o.data),!o.data)throw new Error("No se encontraron detalles para el vale especificado.");const a=null===(t=o.data.moneda)||void 0===t?void 0:t.toUpperCase();let i=null;if("GUARANIES"===a)i="PYG";else if("DOLARES"===a)i="USD";else if("REALES"===a)i="BRL";else{if(!["PYG","USD","BRL"].includes(a))throw new Error(`Moneda inv\xe1lida o faltante recibida de la API de vales: ${o.data.moneda}`);i=a}const s=o.data.fecha_vencimiento;if(!s)throw new Error("Fecha de vencimiento no encontrada en los datos del vale.");const l={id:o.data.id,monto:o.data.monto||0,moneda:i,fecha_vencimiento:s,motivo:o.data.motivo||"Sin motivo especificado",persona_nombre:o.data.persona_nombre||"No especificado"};d(l)}catch(o){var r,n;console.error("[ImprimirValeDialog] Error al buscar detalles del vale:",o);const e=o instanceof Error&&(o.message.startsWith("Moneda inv\xe1lida")||o.message.startsWith("Fecha de vencimiento")||o.message.startsWith("No se encontr\xf3 el ID"))?o.message:(null===(r=o.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.error)||o.message||"No se pudieron cargar los detalles del vale.";l(e)}finally{i(!1)}}),[]);(0,a.useEffect)((()=>{t&&null!==n?h(n):(d(null),l(null),i(!1),p(null))}),[t,n,h]);const f=(e,t)=>{try{switch(t){case"PYG":return nC.guaranies(e);case"USD":return nC.dollars(e);case"BRL":return nC.reals(e);default:return console.warn(`[getMontoFormateado] Moneda no reconocida: ${t}. Retornando valor sin formato.`),e.toString()}}catch(a0){return console.error(`[getMontoFormateado] Error formateando monto: ${e}, moneda: ${t}`,a0),e.toString()}};return(0,Ve.jsxs)(Fi,{open:t,onClose:r,maxWidth:"sm",fullWidth:!0,children:[(0,Ve.jsx)(Gi,{children:(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:["Imprimir Comprobante de Vale",(0,Ve.jsx)(Ir,{onClick:r,size:"small",children:(0,Ve.jsx)(AC,{})})]})}),(0,Ve.jsxs)(Ki,{dividers:!0,children:[o&&(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"center",my:3},children:[(0,Ve.jsx)(KS,{}),(0,Ve.jsx)($r,{sx:{ml:2},children:"Cargando detalles del vale..."})]}),s&&(0,Ve.jsx)(Ah,{severity:"error",sx:{mb:2},children:s}),c&&!o&&!s&&(0,Ve.jsxs)(Et,{sx:{p:1},children:[(0,Ve.jsx)($r,{variant:"body1",gutterBottom:!0,children:"Se imprimir\xe1n los detalles del siguiente vale:"}),(0,Ve.jsxs)(Et,{sx:{mt:2,bgcolor:"background.default",p:2,borderRadius:1},children:[(0,Ve.jsx)($r,{variant:"subtitle2",gutterBottom:!0,children:"Detalles:"}),(0,Ve.jsxs)($h,{container:!0,spacing:1,children:[(0,Ve.jsx)($h,{item:!0,xs:4,children:(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"ID:"})}),(0,Ve.jsx)($h,{item:!0,xs:8,children:(0,Ve.jsx)($r,{variant:"body2",children:c.id})}),(0,Ve.jsx)($h,{item:!0,xs:4,children:(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"Persona:"})}),(0,Ve.jsx)($h,{item:!0,xs:8,children:(0,Ve.jsx)($r,{variant:"body2",children:c.persona_nombre})}),(0,Ve.jsx)($h,{item:!0,xs:4,children:(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"Monto:"})}),(0,Ve.jsx)($h,{item:!0,xs:8,children:(0,Ve.jsx)($r,{variant:"body2",children:f(c.monto,c.moneda)})}),(0,Ve.jsx)($h,{item:!0,xs:4,children:(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"Vencimiento:"})}),(0,Ve.jsx)($h,{item:!0,xs:8,children:(0,Ve.jsx)($r,{variant:"body2",children:ak(new Date(c.fecha_vencimiento))})}),(0,Ve.jsx)($h,{item:!0,xs:4,children:(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"Motivo:"})}),(0,Ve.jsx)($h,{item:!0,xs:8,children:(0,Ve.jsx)($r,{variant:"body2",children:c.motivo})})]})]}),(0,Ve.jsx)($r,{variant:"body1",sx:{mt:2},children:"\xbfDesea continuar con la impresi\xf3n?"})]}),!c&&!o&&!s&&t&&(0,Ve.jsx)($r,{sx:{textAlign:"center",my:3},children:"No se seleccion\xf3 ning\xfan vale para imprimir."})]}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:r,color:"inherit",children:"Cancelar"}),(0,Ve.jsx)(fs,{variant:"contained",color:"primary",onClick:()=>{if(!c||null===u)return void l("No hay datos del vale o falta ID de movimiento para imprimir.");const e=window.open("","_blank");if(!e)return void alert("Por favor, permita las ventanas emergentes para imprimir el recibo.");const t=(new Date).toLocaleDateString("es-PY",{year:"numeric",month:"long",day:"numeric"}),n=ak(new Date(c.fecha_vencimiento)),o=function(e,t){if(null===e||void 0===e||isNaN(e))return console.error("N\xfamero inv\xe1lido para convertir a letras:",e),"";const r={numero:e,enteros:Math.floor(e),centavos:Math.round(100*(e-Math.floor(e))),letrasCentavos:"",letrasMonedaPlural:"",letrasMonedaSingular:"",letrasMonedaCentavoPlural:"",letrasMonedaCentavoSingular:""};switch(t){case"PYG":r.letrasMonedaPlural="GUARANIES",r.letrasMonedaSingular="GUARANI";break;case"USD":r.letrasMonedaPlural="DOLARES AMERICANOS",r.letrasMonedaSingular="DOLAR AMERICANO",r.letrasMonedaCentavoPlural="CENTAVOS",r.letrasMonedaCentavoSingular="CENTAVO";break;case"BRL":r.letrasMonedaPlural="REALES BRASILE\xd1OS",r.letrasMonedaSingular="REAL BRASILE\xd1O",r.letrasMonedaCentavoPlural="CENTAVOS",r.letrasMonedaCentavoSingular="CENTAVO"}if(r.centavos>0&&"PYG"!==t){const e=ok(r.centavos),t=1===r.centavos?r.letrasMonedaCentavoSingular:r.letrasMonedaCentavoPlural;r.letrasCentavos="CON "+e+" "+t}let n="";n=0===r.enteros?"CERO":ok(r.enteros);let o=n;if(t){const e=1===r.enteros?r.letrasMonedaSingular:r.letrasMonedaPlural;e&&!o.toUpperCase().includes(e)&&(o+=" "+e)}return r.letrasCentavos&&(o+=" "+r.letrasCentavos),o.replace(/\s+/g," ").trim().toUpperCase()}(c.monto,c.moneda),a=f(c.monto,c.moneda),i=`\n      <!DOCTYPE html>\n      <html lang="es">\n      <head>\n        <meta charset="UTF-8">\n        <meta name="viewport" content="width=device-width, initial-scale=1.0">\n        <title>Recibo de Vale</title>\n        <style>\n          @page { size: A4; margin: 1cm; }\n          body { font-family: Arial, sans-serif; line-height: 1.2; font-size: 10pt; margin: 0; padding: 0; }\n          .container { max-width: 100%; height: 9.9cm; padding: 0.5cm; box-sizing: border-box; border-bottom: 1px dashed #999; page-break-inside: avoid; position: relative; }\n          .title { font-size: 12pt; font-weight: bold; margin: 5px 0 10px 0; text-align: center; }\n          .recibo-info { display: flex; justify-content: space-between; margin-bottom: 5px; }\n          .recibo-nro { font-weight: bold; }\n          .fecha { text-align: right; }\n          .contenido { margin: 10px 0; clear: both; }\n          .recibido { font-size: 11pt; margin: 10px 0; }\n          .recibido strong.monto-letras { font-weight: bold; }\n          .detalles { margin: 10px 0; }\n          .detalles p { margin: 3px 0; }\n          .monto { font-size: 12pt; font-weight: bold; margin: 0 0 10px 10px; border: 1px solid #000; padding: 5px; float: right; clear: right; }\n          .observacion { margin: 10px 0; }\n          .firma { margin-top: 30px; text-align: center; }\n          .firma-box { width: 60%; margin: 0 auto; border-top: 1px solid #000; padding-top: 3px; text-align: center; }\n          .info-adicional { margin-top: 10px; font-size: 8pt; text-align: center; color: #666; }\n        </style>\n      </head>\n      <body>\n        <div class="container">\n          <div class="title">RECIBO DE VALE</div>\n          <div class="recibo-info">\n            <div class="recibo-nro">N\xba: ${u.toString().padStart(4,"0")}</div>\n            <div class="fecha">Fecha: ${t}</div>\n          </div>\n          <div class="monto">${a}</div>\n          <div class="contenido">\n            <div class="recibido">\n              <strong>Recib\xed de FARMACIA FRANCO AREVALOS S.A.</strong> la suma de: \n              <strong class="monto-letras">${o}</strong>\n            </div>\n            <div class="detalles">\n              <p><strong>Beneficiario:</strong> ${c.persona_nombre}</p> \n              <p><strong>Vencimiento:</strong> ${n}</p>\n            </div>\n            <div class="observacion">\n              <strong>En concepto de:</strong> ${c.motivo}\n            </div>\n          </div>\n          <div class="firma">\n            <div class="firma-box">Firma del Beneficiario</div>\n          </div>\n          <div class="info-adicional">\n            <p>Este vale vence el ${n} y ser\xe1 descontado en el cierre del mes.</p>\n          </div>\n        </div>\n        <script>\n          window.onload = function() {\n            setTimeout(function() {\n              window.print();\n              setTimeout(function() { window.close(); }, 500);\n            }, 500);\n          };\n        <\/script>\n      </body>\n      </html>\n    `;e.document.open(),e.document.write(i),e.document.close(),r()},disabled:o||!!s||!c,startIcon:(0,Ve.jsx)(Rs,{}),children:"Imprimir Vale"})]})]})},sk=e=>{let{open:t,onClose:r,movimientoId:n,onSuccess:o}=e;const[i,s]=(0,a.useState)(!1),[l,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(null),[p,h]=(0,a.useState)(null),[f,m]=(0,a.useState)(""),[g,v]=(0,a.useState)(null);(0,a.useEffect)((()=>{(async()=>{if(t&&n){s(!0),c(null),u(null);try{const e=await ed.get(`/api/caja_mayor_movimientos/${n}`);if(e.data&&e.data.pagoServicioId){const t=e.data.pagoServicioId;v(t);const r=await ed.get(`/api/pagos-servicios/${t}`);r.data?h(r.data):c("No se encontraron datos del pago de servicio")}else c("No se pudo obtener el ID del pago de servicio desde el movimiento")}catch(o){var e,r;console.error("Error al obtener datos del pago:",o),c((null===(e=o.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.error)||"Error al cargar los datos del pago de servicio")}finally{s(!1)}}})()}),[t,n]);const x="ANULADO"===(null===p||void 0===p?void 0:p.estado);return(0,Ve.jsxs)(Fi,{open:t,onClose:i?void 0:r,maxWidth:"md",fullWidth:!0,children:[(0,Ve.jsx)(Gi,{children:(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ve.jsx)($r,{variant:"h6",children:"Anular Pago de Servicio"}),(0,Ve.jsx)(fs,{variant:"text",color:"inherit",onClick:r,disabled:i,startIcon:(0,Ve.jsx)(AC,{}),children:"Cerrar"})]})}),(0,Ve.jsxs)(Ki,{dividers:!0,children:[i&&(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",my:4},children:(0,Ve.jsx)(KS,{})}),l&&(0,Ve.jsx)(Ah,{severity:"error",sx:{mb:2},children:l}),d&&(0,Ve.jsx)(Ah,{severity:"success",sx:{mb:2},children:d}),!i&&p&&(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)($t,{elevation:1,sx:{p:2,mb:3},children:(0,Ve.jsxs)($h,{container:!0,spacing:2,children:[(0,Ve.jsxs)($h,{item:!0,xs:12,children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[(0,Ve.jsxs)($r,{variant:"h6",children:["Detalles del Pago #",p.id]}),(0,Ve.jsx)(Pg,{label:p.estado,color:(e=>{switch(e.toUpperCase()){case"PENDIENTE":return"warning";case"PROCESADO":return"success";case"ANULADO":case"RECHAZADO":return"error";default:return"default"}})(p.estado),size:"small"})]}),(0,Ve.jsx)(Ii,{sx:{mb:2}})]}),(0,Ve.jsxs)($h,{item:!0,xs:12,md:6,children:[(0,Ve.jsx)($r,{variant:"subtitle2",color:"text.secondary",children:"Servicio"}),(0,Ve.jsxs)($r,{variant:"body1",children:[p.operadora,": ",p.servicio]})]}),(0,Ve.jsxs)($h,{item:!0,xs:12,md:6,children:[(0,Ve.jsx)($r,{variant:"subtitle2",color:"text.secondary",children:"Monto"}),(0,Ve.jsx)($r,{variant:"body1",fontWeight:"bold",children:(b=p.monto,y=p.moneda,"PYG"===y?nC.guaranies(b):"USD"===y?nC.dollars(b):"BRL"===y?nC.reals(b):b.toString())})]}),(0,Ve.jsxs)($h,{item:!0,xs:12,md:6,children:[(0,Ve.jsx)($r,{variant:"subtitle2",color:"text.secondary",children:"Fecha de Creaci\xf3n"}),(0,Ve.jsx)($r,{variant:"body1",children:(e=>{try{return new Date(e).toLocaleDateString("es-PY",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(l){return"Fecha no disponible"}})(p.fechaCreacion)})]}),(0,Ve.jsxs)($h,{item:!0,xs:12,md:6,children:[(0,Ve.jsx)($r,{variant:"subtitle2",color:"text.secondary",children:"Caja ID"}),(0,Ve.jsx)($r,{variant:"body1",children:p.cajaId}),p.cajaEnteroId&&(0,Ve.jsx)($r,{variant:"subtitle2",color:"text.secondary",sx:{mt:.5},children:"Caja #"}),p.cajaEnteroId&&(0,Ve.jsx)($r,{variant:"body1",fontWeight:"bold",children:p.cajaEnteroId})]}),p.observacion&&(0,Ve.jsxs)($h,{item:!0,xs:12,children:[(0,Ve.jsx)($r,{variant:"subtitle2",color:"text.secondary",children:"Observaci\xf3n Original"}),(0,Ve.jsx)($r,{variant:"body1",children:p.observacion})]})]})}),x?(0,Ve.jsx)(Ah,{severity:"warning",sx:{mt:2},children:"Este pago ya se encuentra anulado y no puede modificarse."}):(0,Ve.jsxs)(Et,{children:[(0,Ve.jsx)($r,{variant:"subtitle1",gutterBottom:!0,children:"Motivo de Anulaci\xf3n"}),(0,Ve.jsx)(jp,{fullWidth:!0,multiline:!0,rows:3,label:"Especifique el motivo de la anulaci\xf3n",value:f,onChange:e=>m(e.target.value),disabled:i,required:!0,error:!f.trim()&&null!==l,helperText:f.trim()||null===l?"":"El motivo es obligatorio",placeholder:"Ej: Error en el registro de pago, Servicio no utilizado, etc."})]})]}),!i&&!p&&!l&&(0,Ve.jsx)(Ah,{severity:"info",children:"Cargando informaci\xf3n del pago..."})]}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:r,color:"inherit",disabled:i,children:"Cancelar"}),(0,Ve.jsx)(fs,{variant:"contained",color:"error",onClick:async()=>{if(g)if(f.trim()){s(!0),c(null);try{await ed.patch(`/api/pagos-servicios/${g}/estado`,{estado:"ANULADO",observacionAnulacion:f.trim().toUpperCase()});u("Pago de servicio anulado correctamente"),setTimeout((()=>{o(),r()}),1500)}catch(n){var e,t;console.error("Error al anular pago de servicio:",n),c((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Error al anular el pago de servicio")}finally{s(!1)}}else c("Debe ingresar un motivo para la anulaci\xf3n");else c("No se ha identificado el pago a anular")},disabled:i||!p||x||!f.trim(),startIcon:i?(0,Ve.jsx)(KS,{size:20,color:"inherit"}):null,children:i?"Procesando...":"Anular Pago"})]})]});var b,y},lk=(0,ms.A)((0,Ve.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),ck=e=>{let{open:t,onClose:r,onGuardarExito:n,retiroId:o}=e;const{cotizacionVigente:i}=SC(),{user:s}=eC(),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(null),[p,h]=(0,a.useState)(null),[f,m]=(0,a.useState)(null),[g,v]=(0,a.useState)("");(0,a.useEffect)((()=>{t&&o?b():x()}),[t,o]);const x=()=>{m(null),v(""),u(null),h(null)},b=async()=>{try{c(!0),u(null),console.log(`Intentando cargar datos del retiro asociado al UUID: ${o}`);let d=null,b=1,y=1,j=null;do{console.log(`Buscando en p\xe1gina ${b} de movimientos...`);const e=await ed.get("/api/caja_mayor_movimientos/movimientos",{params:{page:b,pageSize:50}});if(console.log(`Respuesta de p\xe1gina ${b}:`,e.data),e.data&&e.data.movimientos&&Array.isArray(e.data.movimientos)){y=e.data.totalPages||1,1===b&&e.data.movimientos.length>0&&!j&&(j=e.data.movimientos[0]);const t=e.data.movimientos.find((e=>{const t=e.operacionId&&e.operacionId.toString()===o||e.id&&e.id.toString()===o;return d||1!==b||e!==j||(console.log("Inspeccionando primer movimiento (recepci\xf3n):",e),console.log(`Comparando UUID ${o} con m.operacionId=${e.operacionId}, m.id=${e.id}`)),t}));if(t){console.log(`Movimiento de recepci\xf3n encontrado en p\xe1gina ${b}:`,t),d=t;break}}b++}while(b<=y&&!d);if(!d)throw console.log("No se encontr\xf3 el movimiento de recepci\xf3n en ninguna p\xe1gina."),j&&console.log("Estructura del primer movimiento (recepci\xf3n) inspeccionado:",j),new Error(`No se encontr\xf3 el movimiento de recepci\xf3n asociado al retiro con UUID ${o}`);{var e,t,r,n,a,i,s,l,p,h,f,g;let c=null;try{const e=d.operacionId||o;console.log(`Intentando obtener detalles del movimiento original con UUID: ${e}`);const t=await ed.get(`/api/caja_mayor_movimientos/${e}`);t.data?(console.log("Datos del movimiento original encontrados:",t.data),c=t.data):console.log("Endpoint de movimiento original no devolvi\xf3 datos.")}catch(x){var v;console.warn("No se pudieron obtener detalles adicionales del movimiento original.",(null===(v=x.response)||void 0===v?void 0:v.data)||x.message)}const u={id:o,cajaId:((null===(e=c)||void 0===e?void 0:e.cajaId)||d.cajaId||"desconocido").toString(),cajaNombre:(null===(t=c)||void 0===t?void 0:t.cajaNombre)||(null===(r=c)||void 0===r?void 0:r.caja)||"Caja desconocida",sucursalId:((null===(n=c)||void 0===n?void 0:n.sucursalId)||d.sucursalId||"desconocido").toString(),sucursalNombre:(null===(a=c)||void 0===a?void 0:a.sucursalNombre)||(null===(i=c)||void 0===i?void 0:i.sucursal)||"Sucursal desconocida",personaId:(d.usuarioId||"desconocido").toString(),personaNombre:(null===(s=d.usuario)||void 0===s?void 0:s.nombre)||d.concepto||"Responsable desconocido",fecha:d.fechaHora||(new Date).toISOString(),montoPYG:"guaranies"===(null===(l=d.moneda)||void 0===l?void 0:l.toLowerCase())?parseFloat(d.monto||"0"):0,montoBRL:"reales"===(null===(p=d.moneda)||void 0===p?void 0:p.toLowerCase())?parseFloat(d.monto||"0"):0,montoUSD:"dolares"===(null===(h=d.moneda)||void 0===h?void 0:h.toLowerCase())?parseFloat(d.monto||"0"):0,observacion:(null===(f=c)||void 0===f?void 0:f.observacion)||d.observaciones||"-",estadoRecepcion:d.estado||"RECIBIDO",fechaRecepcion:d.fechaRecepcion||d.fechaHora||"",usuarioRecepcion:d.usuarioRecepcion||(null===(g=d.usuario)||void 0===g?void 0:g.nombre)||"",observacionRecepcion:d.observacionRecepcion||d.observaciones||""};console.log("Datos combinados del retiro construidos:",u),m(u)}}catch(d){console.error("Error final al cargar datos del retiro:",d),u(`Error al cargar los datos del retiro: ${d.message||"Intente nuevamente"}`)}finally{c(!1)}},y=e=>{if(!e)return"-";try{return new Date(e).toLocaleDateString("es-PY",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).replace(",","")}catch(d){return console.error("Error al formatear fecha:",d),e}},j=()=>{l||r()};return(0,Ve.jsxs)(Fi,{open:t,onClose:j,maxWidth:"md",fullWidth:!0,children:[(0,Ve.jsx)(Gi,{children:(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ve.jsx)($r,{variant:"h6",children:"Devolver Retiro"}),(0,Ve.jsx)(Ir,{onClick:j,size:"small",disabled:l,children:(0,Ve.jsx)(AC,{})})]})}),(0,Ve.jsxs)(Ki,{dividers:!0,children:[d&&(0,Ve.jsx)(Ah,{severity:"error",sx:{mb:2},children:d}),p&&(0,Ve.jsx)(Ah,{severity:"success",sx:{mb:2},children:p}),l?(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",p:3},children:(0,Ve.jsx)(KS,{})}):f?(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsxs)($h,{container:!0,spacing:2,children:[(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsxs)($t,{sx:{p:2,height:"100%"},children:[(0,Ve.jsx)($r,{variant:"subtitle1",gutterBottom:!0,children:"Informaci\xf3n del Retiro"}),(0,Ve.jsx)(Ii,{sx:{mb:2}}),(0,Ve.jsxs)(Et,{sx:{mb:1},children:[(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"ID:"}),(0,Ve.jsx)($r,{variant:"body1",children:f.id})]}),(0,Ve.jsxs)(Et,{sx:{mb:1},children:[(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"Fecha:"}),(0,Ve.jsx)($r,{variant:"body1",children:y(f.fecha)})]}),(0,Ve.jsxs)(Et,{sx:{mb:1},children:[(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"Sucursal:"}),(0,Ve.jsx)($r,{variant:"body1",children:f.sucursalNombre})]}),(0,Ve.jsxs)(Et,{sx:{mb:1},children:[(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"Caja:"}),(0,Ve.jsx)($r,{variant:"body1",children:f.cajaNombre})]}),(0,Ve.jsxs)(Et,{sx:{mb:1},children:[(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"Responsable:"}),(0,Ve.jsx)($r,{variant:"body1",children:f.personaNombre})]})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsxs)($t,{sx:{p:2,height:"100%"},children:[(0,Ve.jsx)($r,{variant:"subtitle1",gutterBottom:!0,children:"Montos y Estado"}),(0,Ve.jsx)(Ii,{sx:{mb:2}}),(0,Ve.jsxs)(Et,{sx:{mb:1},children:[(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"Guaran\xedes:"}),(0,Ve.jsx)($r,{variant:"body1",fontWeight:f.montoPYG>0?"bold":"normal",children:(w=f.montoPYG,w>0?nC.guaranies(w):"-")})]}),(0,Ve.jsxs)(Et,{sx:{mb:1},children:[(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"Reales:"}),(0,Ve.jsx)($r,{variant:"body1",fontWeight:f.montoBRL>0?"bold":"normal",children:(e=>e>0?`R$ ${e.toLocaleString("es-PY",{minimumFractionDigits:2,maximumFractionDigits:2})}`:"-")(f.montoBRL)})]}),(0,Ve.jsxs)(Et,{sx:{mb:1},children:[(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"D\xf3lares:"}),(0,Ve.jsx)($r,{variant:"body1",fontWeight:f.montoUSD>0?"bold":"normal",children:(e=>e>0?`US$ ${e.toLocaleString("es-PY",{minimumFractionDigits:2,maximumFractionDigits:2})}`:"-")(f.montoUSD)})]}),(0,Ve.jsx)(Ii,{sx:{my:1}}),(0,Ve.jsxs)(Et,{sx:{mb:1},children:[(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"Estado de recepci\xf3n:"}),(0,Ve.jsx)($r,{variant:"body1",fontWeight:"bold",color:"RECIBIDO"===f.estadoRecepcion?"success.main":"PENDIENTE"===f.estadoRecepcion?"warning.main":"error.main",children:"RECIBIDO"===f.estadoRecepcion?"Recibido":"PENDIENTE"===f.estadoRecepcion?"Pendiente":"Rechazado"})]}),f.fechaRecepcion&&(0,Ve.jsxs)(Et,{sx:{mb:1},children:[(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"Fecha de recepci\xf3n:"}),(0,Ve.jsx)($r,{variant:"body1",children:y(f.fechaRecepcion)})]})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsxs)($t,{sx:{p:2},children:[(0,Ve.jsx)($r,{variant:"subtitle1",gutterBottom:!0,children:"Observaciones"}),(0,Ve.jsx)(Ii,{sx:{mb:2}}),(0,Ve.jsxs)(Et,{sx:{mb:2},children:[(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"Observaci\xf3n original:"}),(0,Ve.jsx)($r,{variant:"body1",children:f.observacion||"-"})]}),f.observacionRecepcion&&(0,Ve.jsxs)(Et,{sx:{mb:2},children:[(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"Observaci\xf3n de recepci\xf3n:"}),(0,Ve.jsx)($r,{variant:"body1",children:f.observacionRecepcion})]}),(0,Ve.jsx)(jp,{fullWidth:!0,label:"Observaci\xf3n de devoluci\xf3n",name:"observacionDevolucion",value:g,onChange:e=>{const{name:t,value:r}=e.target;"observacionDevolucion"===t&&v(r)},multiline:!0,rows:2,placeholder:"Ingrese el motivo de la devoluci\xf3n del retiro"})]})})]}),(0,Ve.jsx)(Ah,{severity:"warning",sx:{mt:2},children:'Al devolver este retiro, su estado cambiar\xe1 a "PENDIENTE" y se registrar\xe1 un egreso en Caja Mayor por el mismo valor.'})]}):(0,Ve.jsx)(Ah,{severity:"info",children:"No se pudieron cargar los datos del retiro"}),i&&(0,Ve.jsxs)($t,{sx:{p:1.5,bgcolor:"background.paper",mt:2},children:[(0,Ve.jsx)($r,{variant:"subtitle2",gutterBottom:!0,children:"Cotizaci\xf3n Vigente"}),(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,Ve.jsxs)($r,{variant:"body2",children:["D\xf3lar: ",nC.guaranies(i.valorDolar)]}),(0,Ve.jsxs)($r,{variant:"body2",children:["Real: ",nC.guaranies(i.valorReal)]})]})]})]}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:j,color:"inherit",disabled:l,startIcon:(0,Ve.jsx)(AC,{}),children:"Cancelar"}),f&&"RECIBIDO"===f.estadoRecepcion&&(0,Ve.jsx)(fs,{variant:"contained",color:"warning",startIcon:(0,Ve.jsx)(lk,{}),onClick:async()=>{if(f)if(s)try{c(!0),u(null);const e={retiroId:f.id,movimientoId:o,observacion:g,usuarioDevolucionId:s.id};console.log("Enviando datos para devolver retiro:",e);const t=await ed.post("/api/cajas-mayor/retiros/devolver",e);h(t.data.message||"Retiro devuelto correctamente."),v(""),n(),setTimeout((()=>{r()}),2e3)}catch(d){u("Error al devolver el retiro. Intente nuevamente."),console.error("Error al devolver retiro:",d)}finally{c(!1)}else u("Error de autenticaci\xf3n. No se pudo identificar al usuario.");else u("No se pudo encontrar el retiro a devolver")},disabled:l,children:"Devolver Retiro"})]})]});var w},dk={getCambiosAlberdi:async()=>{try{return(await ed.get("/api/cotizaciones-externas/cambios-alberdi")).data}catch(e){throw console.error("Error al obtener cotizaciones de Cambios Alberdi:",e),e}}},uk="http://localhost:3000/api",pk=()=>(0,Ve.jsx)(Et,{component:"span",sx:{fontWeight:"bold",fontSize:"1.2rem",display:"flex",alignItems:"center",justifyContent:"center",width:24,height:24},children:"\u20b2"}),hk=()=>(0,Ve.jsx)(Et,{component:"span",sx:{fontWeight:"bold",fontSize:"1.2rem",display:"flex",alignItems:"center",justifyContent:"center",width:24,height:24},children:"R$"}),fk=()=>(0,Ve.jsx)(Et,{component:"span",sx:{fontWeight:"bold",fontSize:"1.2rem",display:"flex",alignItems:"center",justifyContent:"center",width:24,height:24},children:"$"}),mk=(e,t)=>{if(void 0===e||null===e)return"-";t||(t="guaranies");const r={PYG:"guaranies",USD:"dollars",BRL:"reals",guaranies:"guaranies",dolares:"dollars",reales:"reals"}[t];if(!r)return console.error(`Clave de moneda no encontrada para: ${t}`),e.toString();try{return"function"===typeof nC[r]?nC[r](e):(console.error(`formatCurrency.${r} no es una funci\xf3n.`),e.toString())}catch(a0){return console.error(`Error formateando ${r}`,e,a0),e.toString()}},gk={"&::-webkit-scrollbar":{width:"12px",height:"12px"},"&::-webkit-scrollbar-track":{backgroundColor:"#121212"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#333",borderRadius:"6px","&:hover":{backgroundColor:"#444"}},scrollbarColor:"#333 #121212",scrollbarWidth:"thin"},vk=()=>{re();const[e,t]=(0,a.useState)(!0),[r,n]=(0,a.useState)(!1),[o,i]=(0,a.useState)(null),[s,l]=(0,a.useState)("guaranies"),{cotizacionVigente:c,convertirDolaresAGuaranies:d,convertirRealesAGuaranies:u,refrescarCotizacion:p}=SC(),[h,f]=(0,a.useState)(!0),[m,g]=(0,a.useState)(!1),[v,x]=(0,a.useState)(!1),[b,y]=(0,a.useState)(!1),[j,w]=(0,a.useState)(!1),[S,C]=(0,a.useState)(!1),[A,E]=(0,a.useState)(!1),[k,O]=(0,a.useState)(!1),[P,I]=(0,a.useState)(!1),[D,M]=(0,a.useState)(!1),[T,R]=(0,a.useState)(!1),[N,$]=(0,a.useState)(!1),[z,L]=(0,a.useState)(!1),[B,F]=(0,a.useState)(!1),[_,U]=(0,a.useState)(!1),[W,V]=(0,a.useState)(null),[G,H]=(0,a.useState)(null),[q,Y]=(0,a.useState)(!1),[K,X]=(0,a.useState)(null),[Q,J]=(0,a.useState)(!1),[Z,ee]=(0,a.useState)(!1),[te,ne]=(0,a.useState)(null),[oe,ae]=(0,a.useState)({}),[ie,se]=(0,a.useState)({}),[le,ce]=(0,a.useState)({dolar:{compra:7900,venta:8e3},real:{compra:1320,venta:1360},loading:!0,error:!1,lastUpdate:null}),[de,ue]=(0,a.useState)({guaranies:0,dolares:0,reales:0}),[pe,he]=(0,a.useState)({ingresos:{guaranies:0,dolares:0,reales:0},egresos:{guaranies:0,dolares:0,reales:0}}),[fe,me]=(0,a.useState)([]),[ge,ve]=(0,a.useState)(!1),[xe,be]=(0,a.useState)(!1),[ye,je]=(0,a.useState)("");(0,a.useEffect)((()=>{const e=localStorage.getItem("ordenMovimientosCaja");null!==e&&f("true"===e)}),[]);const we=(0,a.useCallback)((async()=>{t(!0),i(null);try{const[e]=await Promise.all([fA.getSaldosActuales()]);console.log("Saldos actuales recibidos:",e),ue({guaranies:e.guaranies||0,dolares:e.dolares||0,reales:e.reales||0})}catch(n){var e,r;console.error("Error al cargar datos iniciales de caja mayor:",n);const t=(null===(e=n.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.error)||"No se pudieron cargar los datos de la caja mayor.";i(t),ue({guaranies:0,dolares:0,reales:0})}finally{t(!1)}}),[]),Se=(0,a.useCallback)((async()=>{if(s){n(!0),i(null);try{console.log(`[Balance] Cargando \xfaltimos 10 movimientos para: ${s}, orden: ${h?"desc":"asc"}`);const e=await fA.getMovimientosPaginados({moneda:s,page:1,pageSize:10,sortOrder:h?"desc":"asc"});console.log(`[Balance] Movimientos recibidos para ${s}:`,e.movimientos),me(e.movimientos||[])}catch(r){var e,t;console.error(`Error al cargar movimientos para ${s}:`,r);const n=(null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||`No se pudieron cargar los movimientos de ${s}.`;i(n),me([])}finally{n(!1)}}}),[s,h]);(0,a.useEffect)((()=>{we(),p()}),[we]),(0,a.useEffect)((()=>{Se()}),[Se]),(0,a.useEffect)((()=>{p()}),[]);const Ce=e=>{if(!e)return"-";try{const t=new Date(e);if(isNaN(t.getTime()))return console.warn("[formatDate] Fecha inv\xe1lida al parsear:",e),"Fecha inv\xe1lida";const r=t.getDate().toString().padStart(2,"0"),n=(t.getMonth()+1).toString().padStart(2,"0"),o=t.getFullYear(),a=t.getHours().toString().padStart(2,"0"),i=t.getMinutes().toString().padStart(2,"0");return`${r}/${n}/${o} ${a}:${i}`}catch(a0){return console.error("[formatDate] Error formateando fecha:",e,a0),"Error fecha"}},Ae=e=>{if(void 0===e||null===e)return"-";switch(s){case"guaranies":default:return nC.guaranies(e);case"dolares":return nC.dollars(e);case"reales":return nC.reals(e)}},Ee=()=>{O(!1),I(!1),M(!1),we()},ke=(0,a.useCallback)((async()=>{try{ce((e=>({...e,loading:!0,error:!1})));const e=await dk.getCambiosAlberdi();if(!e.success)throw new Error("La respuesta no fue exitosa");ce({dolar:{compra:e.cotizaciones.dolar.compra,venta:e.cotizaciones.dolar.venta},real:{compra:e.cotizaciones.real.compra,venta:e.cotizaciones.real.venta},loading:!1,error:!1,lastUpdate:e.cotizaciones.lastUpdate?new Date:null})}catch(e){console.error("Error al obtener cotizaciones de Cambios Alberdi:",e),ce((e=>({...e,loading:!1,error:!0})))}}),[]);(0,a.useEffect)((()=>{ke();const e=setInterval((()=>{ke()}),36e5);return()=>clearInterval(e)}),[ke]);const Oe=()=>{ee(!1),ne(null)};(0,a.useEffect)((()=>{fe.length>0&&(async()=>{if(!Array.isArray(fe))return void console.warn("[Balance] movimientosMonedaActiva no es un array, omitiendo fetch de detalles de cambio.");const e=fe.filter((e=>"Cambio"===e.tipo&&e.operacionId)).map((e=>e.operacionId)).filter((e=>e&&!oe[e]&&!ie[e]));if(0===e.length)return;se((t=>{const r={...t};return e.forEach((e=>{r[e]=!0})),r})),console.log("[Balance] Fetching details for Cambios with IDs:",e);const t=e.map((async e=>{try{const t=await ed.get(`${uk}/cambios-moneda/${e}`);return t.data?{id:e,details:t.data}:{id:e,error:"No data received"}}catch(t){return console.error(`[Balance] Error fetching details for cambio ${e}:`,t),{id:e,error:"Fetch error"}}})),r=await Promise.all(t);ae((e=>{const t={...e};return r.forEach((e=>{e.details&&(t[e.id]=e.details)})),t})),se((e=>{const t={...e};return r.forEach((e=>{t[e.id]=!1})),t}))})()}),[fe]);const Pe=e=>{if(ie[e])return"Cargando detalles...";const t=oe[e];if(!t)return void 0===ie[e]?"Obteniendo detalles...":"Error al cargar detalles";const r=mk(t.monto,t.monedaOrigen),n=mk(t.resultado,t.monedaDestino);let o=`Cotizaci\xf3n: ${t.cotizacion.toLocaleString("es-PY")}`;return o="PYG"===t.monedaDestino?`Cotizaci\xf3n: 1 ${t.monedaOrigen} = ${mk(t.cotizacion,"PYG")}`:"PYG"===t.monedaOrigen?`Cotizaci\xf3n: 1 ${t.monedaDestino} = ${mk(t.cotizacion,"PYG")}`:`Cotizaci\xf3n: 1 ${t.monedaOrigen} = ${t.cotizacion.toFixed(4)} ${t.monedaDestino}`,(0,Ve.jsxs)(Et,{sx:{textAlign:"left",p:.5},children:[(0,Ve.jsxs)($r,{variant:"caption",display:"block",children:["Origen: ",r," ",t.monedaOrigen]}),(0,Ve.jsxs)($r,{variant:"caption",display:"block",children:["Destino: ",n," ",t.monedaDestino]}),(0,Ve.jsx)($r,{variant:"caption",display:"block",children:o})]})},Ie=()=>{we(),Se()};return(0,Ve.jsxs)(Et,{sx:{p:2},children:[(0,Ve.jsx)(pt,{styles:{"*::-webkit-scrollbar":{width:"12px",height:"12px"},"*::-webkit-scrollbar-track":{backgroundColor:"#121212"},"*::-webkit-scrollbar-thumb":{backgroundColor:"#333",borderRadius:"6px","&:hover":{backgroundColor:"#444"}},html:{scrollbarColor:"#333 #121212",scrollbarWidth:"thin"},body:{scrollbarColor:"#333 #121212",scrollbarWidth:"thin"}}}),(0,Ve.jsxs)(Et,{sx:{"& .MuiTableContainer-root, & .MuiDialog-paper, & *":gk,height:"100%"},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,Ve.jsx)($r,{variant:"h5",children:"Balance de Caja Mayor"}),(0,Ve.jsxs)(dC,{variant:"outlined",size:"small",children:[(0,Ve.jsx)(fs,{startIcon:(0,Ve.jsx)(uC,{}),onClick:()=>{g(!0)},children:"Recibir Retiros"}),(0,Ve.jsx)(fs,{startIcon:(0,Ve.jsx)(pC,{}),onClick:()=>{x(!0)},children:"Pagos de Servicios"}),(0,Ve.jsx)(fs,{startIcon:(0,Ve.jsx)(vs,{}),onClick:()=>{y(!0)},children:"Dep\xf3sito"}),(0,Ve.jsx)(fs,{startIcon:(0,Ve.jsx)(hC,{}),onClick:()=>{w(!0)},children:"Uso/Devoluci\xf3n"}),(0,Ve.jsx)(fs,{startIcon:(0,Ve.jsx)(fC,{}),onClick:()=>{C(!0)},children:"Cambio"}),(0,Ve.jsx)(fs,{startIcon:(0,Ve.jsx)(mC,{}),onClick:()=>{E(!0)},children:"Vales"})]})]}),Q&&(0,Ve.jsx)(Ah,{severity:"info",sx:{mb:2},children:"Verificando estado del vale..."}),o&&(0,Ve.jsx)(Ah,{severity:"error",sx:{mb:2},onClose:()=>i(null),children:o}),e?(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",my:3},children:(0,Ve.jsx)(KS,{})}):(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsxs)($h,{container:!0,spacing:2,sx:{mb:2},children:[(0,Ve.jsx)($h,{item:!0,xs:12,md:4,children:(0,Ve.jsx)($t,{sx:{p:1.5,height:"100%",bgcolor:"background.paper"},children:(0,Ve.jsxs)(Et,{display:"flex",justifyContent:"space-between",children:[(0,Ve.jsxs)(Et,{children:[(0,Ve.jsx)($r,{variant:"subtitle1",gutterBottom:!0,children:"Cotizaci\xf3n Vigente"}),(0,Ve.jsxs)(Et,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[(0,Ve.jsxs)($r,{variant:"body2",children:["D\xf3lar: ",c?nC.guaranies(c.valorDolar):"No disponible"]}),(0,Ve.jsxs)($r,{variant:"body2",children:["Real: ",c?nC.guaranies(c.valorReal):"No disponible"]})]})]}),(0,Ve.jsxs)(Et,{children:[(0,Ve.jsxs)($r,{variant:"subtitle1",gutterBottom:!0,sx:{display:"flex",alignItems:"center"},children:["Cambio Alberdi",le.loading&&(0,Ve.jsx)(KS,{size:16,sx:{ml:1}})]}),(0,Ve.jsx)(Et,{sx:{display:"flex",flexDirection:"column",gap:.5},children:le.error?(0,Ve.jsx)(Ah,{severity:"error",sx:{py:0,fontSize:"0.75rem"},children:"No se pudo obtener la cotizaci\xf3n"}):(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsxs)($r,{variant:"body2",children:["D\xf3lar: ",nC.guaranies(le.dolar.compra)," / ",nC.guaranies(le.dolar.venta)]}),(0,Ve.jsxs)($r,{variant:"body2",children:["Real: ",nC.guaranies(le.real.compra)," / ",nC.guaranies(le.real.venta)]})]})}),le.lastUpdate&&!le.error&&(0,Ve.jsxs)($r,{variant:"caption",sx:{display:"block",mt:.5,fontSize:"0.7rem",color:"text.secondary"},children:["Actualizado: ",le.lastUpdate.toLocaleDateString("es-PY")," ",le.lastUpdate.toLocaleTimeString("es-PY")]})]})]})})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:8,children:(0,Ve.jsx)($t,{sx:{p:1.5,height:"100%",bgcolor:"background.paper"},children:(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,Ve.jsxs)(Et,{children:[(0,Ve.jsx)($r,{variant:"subtitle1",gutterBottom:!0,children:"Saldo Total (Equivalente en Guaran\xedes)"}),(0,Ve.jsx)($r,{variant:"h4",component:"div",sx:{fontWeight:"bold",color:"primary.main"},children:nC.guaranies(de.guaranies+d(de.dolares)+u(de.reales))})]}),(0,Ve.jsxs)(Et,{sx:{display:"flex",gap:2,alignItems:"center",pt:.5},children:[(0,Ve.jsxs)(Et,{sx:{textAlign:"center"},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:.5},children:[(0,Ve.jsx)(gC,{fontSize:"small",color:"success",sx:{mr:.5}}),(0,Ve.jsxs)($r,{variant:"caption",children:["Ingresos Mes (","guaranies"===s?"Gs":"dolares"===s?"$":"R$",")"]})]}),(0,Ve.jsx)($r,{variant:"body2",component:"div",sx:{fontWeight:"medium",color:"success.main"},children:Ae(pe.ingresos[s])})]}),(0,Ve.jsxs)(Et,{sx:{textAlign:"center"},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:.5},children:[(0,Ve.jsx)(vC,{fontSize:"small",color:"error",sx:{mr:.5}}),(0,Ve.jsxs)($r,{variant:"caption",children:["Egresos Mes (","guaranies"===s?"Gs":"dolares"===s?"$":"R$",")"]})]}),(0,Ve.jsx)($r,{variant:"body2",component:"div",sx:{fontWeight:"medium",color:"error.main"},children:Ae(pe.egresos[s])})]})]})]})})})]}),(0,Ve.jsxs)($h,{container:!0,spacing:2,sx:{mb:2},children:[(0,Ve.jsx)($h,{item:!0,xs:12,md:4,children:(0,Ve.jsxs)($t,{elevation:"guaranies"===s?8:2,sx:{p:2,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",height:140,bgcolor:"rgba(33, 150, 243, 0.12)",color:e=>e.palette.primary.main,borderRadius:2,borderLeft:e=>`4px solid ${e.palette.primary.main}`,transition:"transform 0.2s",boxShadow:e=>"guaranies"===s?e.shadows[8]:e.shadows[2],"&:hover":{transform:"translateY(-5px)",boxShadow:e=>e.shadows[8],cursor:"pointer"}},onClick:()=>l("guaranies"),children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center",mb:1,justifyContent:"space-between",width:"100%"},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center"},children:[(0,Ve.jsx)(pk,{}),(0,Ve.jsx)($r,{variant:"subtitle1",sx:{ml:1},children:"Saldo en Guaran\xedes"})]}),(0,Ve.jsx)(Ir,{size:"small",onClick:e=>{e.stopPropagation(),O(!0)},title:"Conteo de Guaran\xedes",children:(0,Ve.jsx)(ws,{fontSize:"small"})})]}),(0,Ve.jsx)($r,{variant:"h3",component:"div",sx:{fontWeight:"bold",width:"100%"},children:nC.guaranies(de.guaranies)})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:4,children:(0,Ve.jsxs)($t,{elevation:"reales"===s?8:2,sx:{p:2,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",height:140,bgcolor:"rgba(76, 175, 80, 0.12)",color:e=>e.palette.success.main,borderRadius:2,borderLeft:e=>`4px solid ${e.palette.success.main}`,transition:"transform 0.2s",boxShadow:e=>"reales"===s?e.shadows[8]:e.shadows[2],"&:hover":{transform:"translateY(-5px)",boxShadow:e=>e.shadows[8],cursor:"pointer"}},onClick:()=>l("reales"),children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center",mb:1,justifyContent:"space-between",width:"100%"},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center"},children:[(0,Ve.jsx)(hk,{}),(0,Ve.jsx)($r,{variant:"subtitle1",sx:{ml:1},children:"Saldo en Reales"})]}),(0,Ve.jsx)(Ir,{size:"small",onClick:e=>{e.stopPropagation(),I(!0)},title:"Conteo de Reales",children:(0,Ve.jsx)(ws,{fontSize:"small"})})]}),(0,Ve.jsx)($r,{variant:"h3",component:"div",sx:{fontWeight:"bold",width:"100%"},children:nC.reals(de.reales)})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:4,children:(0,Ve.jsxs)($t,{elevation:"dolares"===s?8:2,sx:{p:2,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",height:140,bgcolor:"rgba(156, 39, 176, 0.12)",color:e=>e.palette.secondary.main,borderRadius:2,borderLeft:e=>`4px solid ${e.palette.secondary.main}`,transition:"transform 0.2s",boxShadow:e=>"dolares"===s?e.shadows[8]:e.shadows[2],"&:hover":{transform:"translateY(-5px)",boxShadow:e=>e.shadows[8],cursor:"pointer"}},onClick:()=>l("dolares"),children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center",mb:1,justifyContent:"space-between",width:"100%"},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center"},children:[(0,Ve.jsx)(fk,{}),(0,Ve.jsx)($r,{variant:"subtitle1",sx:{ml:1},children:"Saldo en D\xf3lares"})]}),(0,Ve.jsx)(Ir,{size:"small",onClick:e=>{e.stopPropagation(),M(!0)},title:"Conteo de D\xf3lares",children:(0,Ve.jsx)(ws,{fontSize:"small"})})]}),(0,Ve.jsx)($r,{variant:"h3",component:"div",sx:{fontWeight:"bold",width:"100%"},children:nC.dollars(de.dolares)})]})})]}),(0,Ve.jsxs)($t,{sx:{p:1.5,mb:2,bgcolor:"background.paper"},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center"},children:[(0,Ve.jsxs)($r,{variant:"subtitle1",children:["\xdaltimos Movimientos en ","guaranies"===s?"Guaran\xedes":"dolares"===s?"D\xf3lares":"Reales"]}),(0,Ve.jsx)(Qo,{title:h?"Orden actual: M\xe1s reciente primero. Clic para cambiar.":"Orden actual: M\xe1s antiguo primero. Clic para cambiar.",children:(0,Ve.jsx)(Ir,{size:"small",onClick:()=>{const e=!h;f(e),localStorage.setItem("ordenMovimientosCaja",e.toString())},color:"primary",sx:{ml:1},children:h?(0,Ve.jsx)(uC,{fontSize:"small"}):(0,Ve.jsx)(xC,{fontSize:"small"})})})]}),(0,Ve.jsx)(Qo,{title:"Ver listado completo con filtros",children:(0,Ve.jsx)(fs,{variant:"outlined",size:"small",startIcon:(0,Ve.jsx)(bC,{}),onClick:()=>{R(!0)},children:"Expandir"})})]}),(0,Ve.jsx)(Dp,{children:(0,Ve.jsxs)(zp,{size:"small",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Fecha"}),(0,Ve.jsx)(th,{children:"Tipo"}),(0,Ve.jsx)(th,{align:"center",width:"50px",children:"Editar"}),(0,Ve.jsx)(th,{children:"Concepto"}),(0,Ve.jsx)(th,{align:"right",children:"Ingreso"}),(0,Ve.jsx)(th,{align:"right",children:"Egreso"}),(0,Ve.jsx)(th,{align:"right",children:"Saldo"})]})}),(0,Ve.jsx)(sh,{children:fe.length>0?fe.map((e=>{var t,r;const n="Cambio"===e.tipo&&e.concepto.startsWith("Cancelaci\xf3n de cambio"),o="Cancelaci\xf3n dep\xf3sito"===e.tipo,a="Vales"===e.tipo&&e.concepto.toLowerCase().includes("cancelado"),s=e.concepto.toLowerCase().includes("cancelaci\xf3n"),l=String(e.concepto||"").includes("[DEVUELTO]"),c=n||o||a||s||l;let d="Editar/Anular movimiento";n||o||a||s?d="Movimiento de anulaci\xf3n/cancelaci\xf3n (no editable)":l&&(d="Retiro devuelto (no editable)");const u=e.tipo.toLowerCase().includes("dep\xf3sito")||e.tipo.toLowerCase().includes("deposito"),p=!!e.rutaComprobante;return(0,Ve.jsxs)(Xp,{hover:!0,children:[(0,Ve.jsx)(th,{children:Ce(null!==(t=e.fechaHora)&&void 0!==t?t:e.fecha)}),(0,Ve.jsx)(th,{children:e.tipo}),(0,Ve.jsx)(th,{align:"center",children:(0,Ve.jsx)(Qo,{title:d,children:(0,Ve.jsx)("span",{children:(0,Ve.jsx)(Ir,{size:"small",color:"primary",onClick:()=>!c&&((e,t)=>{if(console.log(`Editando movimiento tipo: ${t} con ID: ${e}`),V(Number(e)),"Recepci\xf3n Retiro"===t){const t=fe.find((t=>t.id.toString()===e)),r=(null===t||void 0===t?void 0:t.retiroId)||(null===t||void 0===t?void 0:t.movimientoId);return void(t&&r?(je(r),be(!0)):(console.error("No se puede devolver el retiro: ID del retiro no encontrado",e,t),i("No se puede devolver el retiro: ID del retiro no encontrado")))}const r=t.toLowerCase();"vales"===r?$(!0):"uso y devoluci\xf3n"===r?L(!0):r.includes("dep\xf3sito")||r.includes("deposito")?ve(!0):"pago servicio"===r?U(!0):console.warn(`No hay editor definido para el tipo: ${t}`)})(e.id.toString(),e.tipo),disabled:c,children:(0,Ve.jsx)(yC,{fontSize:"small"})})})})}),(0,Ve.jsx)(th,{children:(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center"},children:[(0,Ve.jsx)("span",{children:e.concepto}),"Vales"===e.tipo&&(()=>{const t=e.concepto.toLowerCase().includes("cancelado");return(0,Ve.jsx)(Qo,{title:t?"Movimiento de cancelaci\xf3n (no se puede imprimir)":"Imprimir Vale",children:(0,Ve.jsx)("span",{style:{marginLeft:"4px"},children:(0,Ve.jsx)(Ir,{size:"small",color:"info",onClick:()=>!t&&(async e=>{if(!Q){J(!0),i(null),console.log(`[Balance] Verificando estado para imprimir vale (Movimiento ID: ${e})...`);try{var t,r,n;const o=null===(t=(await ed.get(`${uk}/caja_mayor_movimientos/${e}`)).data)||void 0===t?void 0:t.operacionId;if(!o)throw new Error("No se pudo obtener el ID de operaci\xf3n del vale.");const a=await ed.get(`${uk}/vales/${o}`),i=null===(r=a.data)||void 0===r?void 0:r.estado,s=null===(n=a.data)||void 0===n?void 0:n.motivo_cancelacion;if(console.log(`[Balance] Estado del vale ${o}:`,i),i&&"cancelado"===i.toLowerCase()){let t="Este vale ha sido cancelado y no se puede imprimir.";s&&(t+=` Motivo: ${s}`),ne(t),ee(!0),console.warn(`[Balance] Intento de imprimir vale cancelado (Movimiento ID: ${e}, Vale ID: ${o})`)}else X(e),Y(!0)}catch(s){var o,a;console.error("[Balance] Error al verificar estado del vale antes de imprimir:",s),i((null===(o=s.response)||void 0===o||null===(a=o.data)||void 0===a?void 0:a.error)||s.message||"Error al verificar el estado del vale.")}finally{J(!1)}}})(e.id),disabled:t,sx:{p:.25},children:(0,Ve.jsx)(Rs,{fontSize:"small"})})})})})(),"Cambio"===e.tipo&&e.operacionId&&(0,Ve.jsx)(Qo,{title:Pe(e.operacionId),placement:"top",arrow:!0,children:(0,Ve.jsx)("span",{style:{marginLeft:"4px"},children:(0,Ve.jsx)(Ir,{size:"small",color:"success",sx:{p:.25},children:(0,Ve.jsx)(ys,{fontSize:"small"})})})}),u&&p&&!o&&(0,Ve.jsx)(Qo,{title:"Ver Comprobante",children:(0,Ve.jsx)("span",{style:{marginLeft:"4px"},children:(0,Ve.jsx)(Ir,{size:"small",color:"secondary",sx:{p:.25},onClick:()=>window.open(`http://localhost:3000/uploads/${e.rutaComprobante}`,"_blank"),children:(0,Ve.jsx)(jC,{fontSize:"small"})})})})]})}),(0,Ve.jsx)(th,{align:"right",sx:{color:e.esIngreso?"success.main":"inherit"},children:e.esIngreso?mk(e.monto,e.moneda):"-"}),(0,Ve.jsx)(th,{align:"right",sx:{color:e.esIngreso?"inherit":"error.main"},children:e.esIngreso?"-":mk(e.monto||0,e.moneda||"guaranies")}),(0,Ve.jsx)(th,{align:"right",children:mk(null!==(r=e.saldoActual)&&void 0!==r?r:0,e.moneda||"guaranies")})]},e.id)})):(0,Ve.jsx)(Xp,{children:(0,Ve.jsx)(th,{colSpan:7,align:"center",children:"No hay movimientos registrados en esta moneda"})})})]})})]})]}),(0,Ve.jsx)(PC,{open:m,onClose:()=>{g(!1)},onGuardarExito:Ie}),(0,Ve.jsx)(uA,{open:v,onClose:()=>{x(!1)},onGuardarExito:Ie}),(0,Ve.jsx)(vA,{open:b,onClose:()=>{y(!1)},onGuardarExito:Ie}),(0,Ve.jsx)(JA,{open:j,onClose:()=>{w(!1)},onGuardarExito:Ie}),(0,Ve.jsx)(ZA,{open:S,onClose:()=>{C(!1)},onGuardarExito:Ie}),(0,Ve.jsx)(dE,{open:A,onClose:()=>{E(!1)},onGuardarExito:Ie}),(0,Ve.jsx)(uE,{open:k,onClose:()=>{O(!1)},onSaveTotal:Ee,saldoSistema:de.guaranies,usuarioId:1}),(0,Ve.jsx)(pE,{open:P,onClose:()=>{I(!1)},onSaveTotal:Ee,saldoSistema:de.reales,usuarioId:1}),(0,Ve.jsx)(hE,{open:D,onClose:()=>{M(!1)},onSaveTotal:Ee,saldoSistema:de.dolares,usuarioId:1}),(0,Ve.jsx)(YE,{open:T,onClose:()=>{R(!1)},monedaActiva:s}),(0,Ve.jsx)(BE,{open:N,onClose:()=>$(!1),onSuccess:()=>{$(!1),Ie()},movimientoId:W,tipoMovimiento:"Vales"}),(0,Ve.jsx)(UE,{open:z,onClose:()=>{L(!1),V(null)},movimientoId:W,onSuccess:Ie}),(0,Ve.jsx)(QE,{open:B,onClose:()=>F(!1),cambioId:G,onSuccess:Ie}),(0,Ve.jsx)(ik,{open:q,onClose:()=>Y(!1),movimientoId:K}),(0,Ve.jsx)(qE,{open:ge,onClose:()=>{ve(!1),V(null)},movimientoId:W,onSuccess:Ie}),(0,Ve.jsx)(sk,{open:_,onClose:()=>U(!1),movimientoId:W,onSuccess:Ie}),(0,Ve.jsx)(ck,{open:xe,onClose:()=>{be(!1),je("")},onGuardarExito:Ie,retiroId:ye}),(0,Ve.jsxs)(Fi,{open:Z,onClose:Oe,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,Ve.jsx)(Gi,{id:"alert-dialog-title",children:"Vale Cancelado"}),(0,Ve.jsx)(Ki,{children:(0,Ve.jsx)($r,{variant:"body1",id:"alert-dialog-description",children:te})}),(0,Ve.jsx)(ns,{children:(0,Ve.jsx)(fs,{onClick:Oe,color:"primary",autoFocus:!0,children:"Aceptar"})})]})]})]})};function xk(e){return(0,Mt.Ay)("MuiCard",e)}(0,St.A)("MuiCard",["root"]);const bk=["className","raised"],yk=(0,Ot.Ay)($t,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),jk=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiCard"}),{className:n,raised:o=!1}=r,a=(0,Fe.A)(r,bk),i=(0,Be.A)({},r,{raised:o}),s=(e=>{const{classes:t}=e;return(0,kt.A)({root:["root"]},xk,t)})(i);return(0,Ve.jsx)(yk,(0,Be.A)({className:(0,vt.A)(s.root,n),elevation:o?8:void 0,ref:t,ownerState:i},a))}));function wk(e){return(0,Mt.Ay)("MuiCardContent",e)}(0,St.A)("MuiCardContent",["root"]);const Sk=["className","component"],Ck=(0,Ot.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),Ak=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiCardContent"}),{className:n,component:o="div"}=r,a=(0,Fe.A)(r,Sk),i=(0,Be.A)({},r,{component:o}),s=(e=>{const{classes:t}=e;return(0,kt.A)({root:["root"]},wk,t)})(i);return(0,Ve.jsx)(Ck,(0,Be.A)({as:o,className:(0,vt.A)(s.root,n),ownerState:i,ref:t},a))})),Ek=()=>(0,Ve.jsx)(Et,{component:"span",sx:{fontWeight:"bold",fontSize:"1.2rem",display:"flex",alignItems:"center",justifyContent:"center",width:24,height:24},children:"\u20b2"}),kk=()=>(0,Ve.jsx)(Et,{component:"span",sx:{fontWeight:"bold",fontSize:"1.2rem",display:"flex",alignItems:"center",justifyContent:"center",width:24,height:24},children:"R$"}),Ok=()=>(0,Ve.jsx)(Et,{component:"span",sx:{fontWeight:"bold",fontSize:"1.2rem",display:"flex",alignItems:"center",justifyContent:"center",width:24,height:24},children:"$"}),Pk=()=>{re();const[e,t]=(0,a.useState)(!0),[r,n]=(0,a.useState)(null),[o,i]=(0,a.useState)("guaranies"),[s,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(!1),[u,p]=(0,a.useState)(!1),[h,f]=(0,a.useState)(!1),[m,g]=(0,a.useState)(!1),[v,x]=(0,a.useState)(!1),[b,y]=(0,a.useState)(!1),j=(0,a.useCallback)((async()=>{try{t(!0);const e=(await ed.get("/api/caja/movimientos")).data;e&&e.movimientos&&(e.movimientos=e.movimientos.map((e=>{let t=e.moneda;return"PYG"===e.moneda?t="guaranies":"USD"===e.moneda?t="dolares":"BRL"===e.moneda&&(t="reales"),["guaranies","dolares","reales"].includes(t)||console.warn(`Moneda no reconocida recibida: ${e.moneda}`),{...e,moneda:t}}))),l(e),n(null)}catch(e){console.error("Error al cargar los datos de caja:",e),n("Error al cargar los datos de caja. Por favor, intente nuevamente.")}finally{t(!1)}}),[]);(0,a.useEffect)((()=>{j()}),[j]);const w=e=>{const[t,r,n]=e.split("-");return`${n}/${r}/${t}`},S=(null===s||void 0===s?void 0:s.movimientos.filter((e=>e.moneda===o)))||[],C=e=>{switch(o){case"guaranies":default:return nC.guaranies(e);case"dolares":return nC.dollars(e);case"reales":return nC.reals(e)}};return(0,Ve.jsxs)(Et,{sx:{p:2},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,Ve.jsx)($r,{variant:"h5",children:"Movimientos de Caja"}),(0,Ve.jsxs)(dC,{variant:"outlined",size:"small",children:[(0,Ve.jsx)(fs,{startIcon:(0,Ve.jsx)(uC,{}),onClick:()=>{d(!0)},children:"Recibir Retiros"}),(0,Ve.jsx)(fs,{startIcon:(0,Ve.jsx)(pC,{}),onClick:()=>{p(!0)},children:"Pagos de Servicios"}),(0,Ve.jsx)(fs,{startIcon:(0,Ve.jsx)(vs,{}),onClick:()=>{f(!0)},children:"Dep\xf3sito"}),(0,Ve.jsx)(fs,{startIcon:(0,Ve.jsx)(hC,{}),onClick:()=>{g(!0)},children:"Uso/Devoluci\xf3n"}),(0,Ve.jsx)(fs,{startIcon:(0,Ve.jsx)(fC,{}),onClick:()=>{x(!0)},children:"Cambio"}),(0,Ve.jsx)(fs,{startIcon:(0,Ve.jsx)(mC,{}),onClick:()=>{y(!0)},children:"Vales"})]})]}),r&&(0,Ve.jsx)(Ah,{severity:"error",sx:{mb:2},children:r}),e?(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",my:3},children:(0,Ve.jsx)(KS,{})}):s?(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsxs)($h,{container:!0,spacing:2,sx:{mb:2},children:[(0,Ve.jsx)($h,{item:!0,xs:12,md:4,children:(0,Ve.jsx)(jk,{sx:{height:"100%",bgcolor:"background.paper"},children:(0,Ve.jsxs)(Ak,{sx:{py:1.5,"&:last-child":{pb:1.5}},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center",mb:1},children:[(e=>{switch(e){case"guaranies":default:return(0,Ve.jsx)(Ek,{});case"dolares":return(0,Ve.jsx)(Ok,{});case"reales":return(0,Ve.jsx)(kk,{})}})(o),(0,Ve.jsxs)($r,{variant:"subtitle1",sx:{ml:1},children:["Saldo en ","guaranies"===o?"Guaran\xedes":"dolares"===o?"D\xf3lares":"Reales"]})]}),(0,Ve.jsx)($r,{variant:"h5",component:"div",sx:{fontWeight:"bold"},children:C(s.saldoActual[o])})]})})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:4,children:(0,Ve.jsx)(jk,{sx:{height:"100%",bgcolor:"background.paper"},children:(0,Ve.jsxs)(Ak,{sx:{py:1.5,"&:last-child":{pb:1.5}},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,Ve.jsx)(gC,{color:"success",sx:{mr:1}}),(0,Ve.jsx)($r,{variant:"subtitle1",children:"Ingresos del Mes"})]}),(0,Ve.jsx)($r,{variant:"h5",component:"div",sx:{fontWeight:"bold",color:"success.main"},children:C(s.ingresosMes[o])})]})})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:4,children:(0,Ve.jsx)(jk,{sx:{height:"100%",bgcolor:"background.paper"},children:(0,Ve.jsxs)(Ak,{sx:{py:1.5,"&:last-child":{pb:1.5}},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,Ve.jsx)(vC,{color:"error",sx:{mr:1}}),(0,Ve.jsx)($r,{variant:"subtitle1",children:"Egresos del Mes"})]}),(0,Ve.jsx)($r,{variant:"h5",component:"div",sx:{fontWeight:"bold",color:"error.main"},children:C(s.egresosMes[o])})]})})})]}),(0,Ve.jsx)($t,{sx:{mb:2},children:(0,Ve.jsxs)(WA,{value:o,onChange:(e,t)=>i(t),variant:"fullWidth",indicatorColor:"primary",textColor:"primary",sx:{borderBottom:1,borderColor:"divider"},children:[(0,Ve.jsx)(YA,{label:"Guaran\xedes",value:"guaranies",icon:(0,Ve.jsx)(Ek,{}),iconPosition:"start"}),(0,Ve.jsx)(YA,{label:"Reales",value:"reales",icon:(0,Ve.jsx)(kk,{}),iconPosition:"start"}),(0,Ve.jsx)(YA,{label:"D\xf3lares",value:"dolares",icon:(0,Ve.jsx)(Ok,{}),iconPosition:"start"})]})}),(0,Ve.jsxs)($t,{sx:{p:1.5,mb:2,bgcolor:"background.paper"},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[(0,Ve.jsxs)($r,{variant:"subtitle1",children:["Movimientos en ","guaranies"===o?"Guaran\xedes":"dolares"===o?"D\xf3lares":"Reales"]}),(0,Ve.jsx)(fs,{variant:"contained",size:"small",startIcon:(0,Ve.jsx)(XS,{}),color:"primary",children:"Nuevo Movimiento"})]}),(0,Ve.jsx)(Dp,{children:(0,Ve.jsxs)(zp,{size:"small",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Fecha"}),(0,Ve.jsx)(th,{children:"Tipo"}),(0,Ve.jsx)(th,{children:"Concepto"}),(0,Ve.jsx)(th,{align:"right",children:"Ingreso"}),(0,Ve.jsx)(th,{align:"right",children:"Egreso"}),(0,Ve.jsx)(th,{align:"right",children:"Saldo"})]})}),(0,Ve.jsx)(sh,{children:S.length>0?S.map((e=>(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:w(e.fecha)}),(0,Ve.jsx)(th,{children:e.tipo}),(0,Ve.jsx)(th,{children:e.concepto}),(0,Ve.jsx)(th,{align:"right",sx:{color:e.ingreso>0?"success.main":"inherit"},children:e.ingreso>0?C(e.ingreso):"-"}),(0,Ve.jsx)(th,{align:"right",sx:{color:e.egreso>0?"error.main":"inherit"},children:e.egreso>0?C(e.egreso):"-"}),(0,Ve.jsx)(th,{align:"right",children:C(e.saldo)})]},e.id))):(0,Ve.jsx)(Xp,{children:(0,Ve.jsx)(th,{colSpan:6,align:"center",children:"No hay movimientos registrados en esta moneda"})})})]})})]})]}):(0,Ve.jsx)(Ah,{severity:"warning",sx:{mb:2},children:"No se pudieron cargar los datos de caja."}),(0,Ve.jsx)(PC,{open:c,onClose:()=>{d(!1)},onGuardarExito:j}),(0,Ve.jsx)(uA,{open:u,onClose:()=>{p(!1)},onGuardarExito:j}),(0,Ve.jsx)(vA,{open:h,onClose:()=>{f(!1)},onGuardarExito:j}),(0,Ve.jsx)(JA,{open:m,onClose:()=>{g(!1)},onGuardarExito:j}),(0,Ve.jsx)(ZA,{open:v,onClose:()=>{x(!1)},onGuardarExito:j}),(0,Ve.jsx)(dE,{open:b,onClose:()=>{y(!1)},onGuardarExito:j})]})},Ik="sucursal_seleccionada",Dk=(0,a.createContext)(void 0),Mk=()=>{const e=(0,a.useContext)(Dk);if(void 0===e)throw new Error("useSucursal debe ser usado dentro de un SucursalProvider");return e},Tk=[{id:"SUC001",nombre:"Central",codigo:"CEN",direccion:"Av. Eusebio Ayala 1234, Asunci\xf3n",telefono:"021-123-4567",email:"central@farmaciafranco.com"},{id:"SUC002",nombre:"Itaipu",codigo:"ITA",direccion:"Ruta Internacional, Ciudad del Este",telefono:"061-589-6785",email:"itaipu@farmaciafranco.com"},{id:"SUC003",nombre:"Calle 10",codigo:"C10",direccion:"Calle 10, Ciudad del Este",telefono:"061-512-3489",email:"calle10@farmaciafranco.com"}],Rk=()=>{try{const e=localStorage.getItem(Ik);return e?JSON.parse(e):null}catch(e){return console.error("Error al leer sucursal del almacenamiento local:",e),null}},Nk=e=>{let{children:t}=e;const{user:r}=eC(),[n,o]=(0,a.useState)(Rk()),[i,s]=(0,a.useState)(!0),[l,c]=(0,a.useState)(null);(0,a.useEffect)((()=>{r&&!n?(async()=>{s(!0),c(null);try{const e=Rk();if(e)return console.log(`Sucursal cargada desde almacenamiento local: ${e.nombre}`),o(e),void s(!1);if(null!==r&&void 0!==r&&r.branchId){await new Promise((e=>setTimeout(e,500)));const e=Tk.find((e=>e.id===r.branchId||e.codigo===r.branchId));e?(o(e),console.log(`Sucursal encontrada: ${e.nombre}`)):(o(Tk[0]),console.warn(`No se encontr\xf3 una sucursal para el branchId: ${r.branchId}. Se asigna sucursal Central por defecto.`))}else o(Tk[0]),console.warn("Usuario sin sucursal asignada. Se asigna sucursal Central por defecto.")}catch(e){console.error("Error al cargar la sucursal:",e),c("No se pudo cargar la informaci\xf3n de la sucursal")}finally{s(!1)}})():r||(o(null),s(!1))}),[r,n]);const d={sucursalActual:n,loading:i,error:l,setSucursal:e=>{if(o(e),e)try{localStorage.setItem(Ik,JSON.stringify(e)),console.log(`Sucursal guardada en almacenamiento local: ${e.nombre}`)}catch(t){console.error("Error al guardar sucursal en almacenamiento local:",t)}else localStorage.removeItem(Ik)}};return(0,Ve.jsx)(Dk.Provider,{value:d,children:t})},$k=[{valor:1e5,cantidad:0,moneda:"PYG"},{valor:5e4,cantidad:0,moneda:"PYG"},{valor:2e4,cantidad:0,moneda:"PYG"},{valor:1e4,cantidad:0,moneda:"PYG"},{valor:5e3,cantidad:0,moneda:"PYG"},{valor:2e3,cantidad:0,moneda:"PYG"},{valor:1e3,cantidad:0,moneda:"PYG"},{valor:500,cantidad:0,moneda:"PYG"}],zk=[{valor:200,cantidad:0,moneda:"BRL"},{valor:100,cantidad:0,moneda:"BRL"},{valor:50,cantidad:0,moneda:"BRL"},{valor:20,cantidad:0,moneda:"BRL"},{valor:10,cantidad:0,moneda:"BRL"},{valor:5,cantidad:0,moneda:"BRL"},{valor:2,cantidad:0,moneda:"BRL"},{valor:1,cantidad:0,moneda:"BRL"},{valor:.5,cantidad:0,moneda:"BRL"},{valor:.25,cantidad:0,moneda:"BRL"},{valor:.1,cantidad:0,moneda:"BRL"},{valor:.05,cantidad:0,moneda:"BRL"}],Lk=[{valor:100,cantidad:0,moneda:"USD"},{valor:50,cantidad:0,moneda:"USD"},{valor:20,cantidad:0,moneda:"USD"},{valor:10,cantidad:0,moneda:"USD"},{valor:5,cantidad:0,moneda:"USD"},{valor:1,cantidad:0,moneda:"USD"}],Bk=[{servicio:"Minicarga",monto:0},{servicio:"Maxicarga",monto:0},{servicio:"Recarga Claro",monto:0},{servicio:"Tigo Money",monto:0},{servicio:"Billetera Personal",monto:0},{servicio:"Billetera Claro",monto:0}],Fk={sucursalId:"",usuarioId:"1",usuario:"Usuario Actual",maletinId:"",saldoInicial:{denominaciones:[...$k.map((e=>({...e,cantidad:0}))),...zk.map((e=>({...e,cantidad:0}))),...Lk.map((e=>({...e,cantidad:0})))],total:{PYG:0,BRL:0,USD:0}},saldosServiciosInicial:Bk.map((e=>({...e,monto:0})))},_k={tigo:["Minicarga","Giros","Billetera"],personal:["Maxicarga","Giros","Billetera"],claro:["Recarga","Giros","Billetera"],otrosServicios:["Aqui Pago Pagos","Wepa Pagos","Efectivizacion Tarjeta"],vepaguaranies:["Env\xedo","Retiro"],vepadolares:["Env\xedo","Retiro"],aquiPago:["Copaco","ANDE","ESSAP","Tigo Hogar","Personal Hogar","Creditos","Impuestos"]},Uk="http://localhost:3000/api",Wk={getAllOperacionesBancarias:async()=>{try{return(await ed.get(`${Uk}/operaciones-bancarias`)).data}catch(e){throw console.error("Error al obtener operaciones bancarias:",e.message),e}},getOperacionesBancariasByCajaId:async e=>{try{return(await ed.get(`${Uk}/operaciones-bancarias/caja/${e}`)).data}catch(t){throw console.error(`Error al obtener operaciones bancarias para caja ${e}:`,t.message),t}},getOperacionBancariaById:async e=>{try{return(await ed.get(`${Uk}/operaciones-bancarias/${e}`)).data}catch(t){throw console.error(`Error al obtener operaci\xf3n bancaria ${e}:`,t.message),t}},createOperacionBancaria:async(e,t)=>{try{if(t){const r=new FormData;r.append("data",JSON.stringify(e)),r.append("comprobante",t);return(await ed.post(`${Uk}/operaciones-bancarias`,r,{headers:{"Content-Type":"multipart/form-data"}})).data}return(await ed.post(`${Uk}/operaciones-bancarias`,e)).data}catch(r){throw console.error("Error al crear operaci\xf3n bancaria:",r.message),r}},updateOperacionBancaria:async(e,t,r)=>{try{if(r){const n=new FormData;n.append("data",JSON.stringify(t)),n.append("comprobante",r);return(await ed.put(`${Uk}/operaciones-bancarias/${e}`,n,{headers:{"Content-Type":"multipart/form-data"}})).data}return(await ed.put(`${Uk}/operaciones-bancarias/${e}`,t)).data}catch(n){throw console.error(`Error al actualizar operaci\xf3n bancaria ${e}:`,n.message),n}},deleteOperacionBancaria:async e=>{try{await ed.delete(`${Uk}/operaciones-bancarias/${e}`)}catch(t){throw console.error(`Error al eliminar operaci\xf3n bancaria ${e}:`,t.message),t}}},Vk=(0,a.createContext)(void 0),Gk=e=>{let{children:t}=e;const[r,n]=(0,a.useState)([]),[o,i]=(0,a.useState)([]),[s,l]=(0,a.useState)([]),[c,d]=(0,a.useState)(!1),[u,p]=(0,a.useState)(null),[h,f]=(0,a.useState)(null),[m,g]=(0,a.useState)(0),[v,x]=(0,a.useState)(null),[b,y]=(0,a.useState)(!1),[j,w]=(0,a.useState)(!1),[S,C]=(0,a.useState)(!1),[A,E]=(0,a.useState)(!1),[k,O]=(0,a.useState)(!1),[P,I]=(0,a.useState)(!1),[D,M]=(0,a.useState)([]),[T,R]=(0,a.useState)(!1),[N,$]=(0,a.useState)(!1),[z,L]=(0,a.useState)({montoPYG:"",montoBRL:"",montoUSD:"",personaId:"",personaNombre:"",observacion:""}),[B,F]=(0,a.useState)(null),[_,U]=(0,a.useState)([]),[W,V]=(0,a.useState)(""),[G,H]=(0,a.useState)(!1),[q,Y]=(0,a.useState)([]),[K,X]=(0,a.useState)([]),[Q,J]=(0,a.useState)(!1),[Z,ee]=(0,a.useState)(!1),[te,re]=(0,a.useState)({tipo:"pos",monto:0,tipoServicio:""}),[ne,oe]=(0,a.useState)(null),[ae,ie]=(0,a.useState)(Fk),[se,le]=(0,a.useState)([]),[ce,de]=(0,a.useState)(!1),[ue,pe]=(0,a.useState)(!1),[he,fe]=(0,a.useState)({operadora:"",servicio:"",monto:"",moneda:"PYG"}),[me,ge]=(0,a.useState)(null),{sucursalActual:ve}=Mk(),{user:xe,hasPermission:be}=eC();xe&&xe.rol&&xe.rol.nombre.toUpperCase();(0,a.useEffect)((()=>{const e=r.filter((e=>"abierta"===e.estado)).map((e=>e.maletinId));l(e)}),[r]),(0,a.useEffect)((()=>{ve&&(ye(ve.id),je(ve.id))}),[ve]),(0,a.useEffect)((()=>{if(""!==W.trim()){const e=W.toUpperCase(),t=q.filter((t=>t.nombreCompleto.toUpperCase().includes(e)||t.documento&&t.documento.toUpperCase().includes(e))).map((e=>({id:e.id.toString(),nombre:e.nombreCompleto,tipo:e.tipo.toLowerCase()})));U(t)}else""!==W.trim()||z.personaId||U(q.map((e=>({id:e.id.toString(),nombre:e.nombreCompleto,tipo:e.tipo.toLowerCase()}))))}),[W,q,z.personaId]);const ye=async e=>{try{if(d(!0),xe&&xe.rol&&"ADMINISTRADOR"===xe.rol.nombre.toUpperCase()){const e=[...(await ed.get("/api/cajas")).data].sort(((e,t)=>new Date(t.fechaApertura).getTime()-new Date(e.fechaApertura).getTime()));n(e)}else{let t=e;if(e.startsWith("SUC")){t=parseInt(e.replace("SUC",""),10).toString()}const r=[...(await ed.get(`/api/cajas/sucursal/${t}`)).data].sort(((e,t)=>new Date(t.fechaApertura).getTime()-new Date(e.fechaApertura).getTime()));n(r)}}catch(t){console.error("Error al cargar cajas:",t),p("Error al cargar las cajas de la sucursal")}finally{d(!1)}},je=async e=>{try{let t=e;if(e.startsWith("SUC")){t=parseInt(e.replace("SUC",""),10).toString()}const r=await ed.get(`/api/maletines/sucursal/${t}`);i(r.data)}catch(t){console.error("Error al cargar maletines:",t),i([])}},we=async()=>{try{H(!0);const e=await ed.get("/api/personas"),t=e.data.filter((e=>"Funcionario"===e.tipo||"Vip"===e.tipo));Y(t),U(t.map((e=>({id:e.id.toString(),nombre:e.nombreCompleto,tipo:e.tipo.toLowerCase()})))),H(!1)}catch(e){console.error("Error al cargar personas elegibles:",e),H(!1)}},Se=async e=>{console.log("Cargando operaciones bancarias para caja:",e);try{const t=await Wk.getOperacionesBancariasByCajaId(e);return console.log("Operaciones bancarias cargadas:",t),X(t),t}catch(t){return console.error("Error al cargar operaciones bancarias:",t),p("Error al cargar operaciones bancarias"),[]}},Ce={cajas:r,maletines:o,maletinesEnUso:s,loading:c,errorMessage:u,successMessage:h,tabIndex:m,cajaSeleccionada:v,dialogAperturaOpen:b,dialogCierreOpen:j,dialogDetalleOpen:S,dialogVerAperturaOpen:A,dialogVerMovimientosOpen:k,dialogPagosOpen:P,retiros:D,formRetiro:z,retirosDialogOpen:T,listaRetirosDialogOpen:N,confirmarEliminarRetiroId:B,personasBusqueda:_,busquedaPersona:W,buscandoPersonas:G,personasDisponibles:q,operacionesBancarias:K,operacionesBancariasDialogOpen:Q,formOperacionDialogOpen:Z,formOperacion:te,confirmarEliminarOperacionId:ne,formApertura:ae,pagos:se,formPago:he,pagosDialogOpen:ce,listaPagosDialogOpen:ue,confirmarEliminarPagoId:me,setErrorMessage:p,setSuccessMessage:f,setLoading:d,setTabIndex:g,setCajaSeleccionada:x,setFormApertura:ie,setDialogAperturaOpen:y,setDialogCierreOpen:w,setDialogDetalleOpen:C,setDialogVerAperturaOpen:E,setDialogVerMovimientosOpen:O,setDialogPagosOpen:I,setRetiros:M,setFormRetiro:L,setRetirosDialogOpen:R,setListaRetirosDialogOpen:$,setConfirmarEliminarRetiroId:F,setBusquedaPersona:V,setOperacionesBancarias:X,setOperacionesBancariasDialogOpen:J,setFormOperacionDialogOpen:ee,setFormOperacion:re,setConfirmarEliminarOperacionId:oe,setPagos:le,setFormPago:fe,setPagosDialogOpen:de,setListaPagosDialogOpen:pe,setConfirmarEliminarPagoId:ge,loadCajas:ye,loadMaletines:je,loadPersonasElegibles:we,handleRetiros:e=>{x(e),d(!0),ed.get(`/api/cajas/${e.id}/retiros`).then((e=>{M(e.data),$(!0)})).catch((e=>{console.error("Error al cargar retiros:",e),p("Error al cargar los retiros de la caja"),M([]),$(!0)})).finally((()=>{d(!1)}))},handleVerOperacionesBancarias:e=>{x(e),d(!0),ed.get(`/api/cajas/${e.id}/operaciones-bancarias`).then((e=>{X(e.data),J(!0)})).catch((e=>{console.error("Error al cargar operaciones bancarias:",e),p("Error al cargar las operaciones bancarias de la caja"),X([]),J(!0)})).finally((()=>{d(!1)}))},handleNuevoRetiro:()=>{L({montoPYG:"",montoBRL:"",montoUSD:"",personaId:"",personaNombre:"",observacion:""}),we(),R(!0),$(!1)},handleGuardarRetiro:async()=>{if(!v)return;const e=z.montoPYG?parseFloat(z.montoPYG.replace(/\./g,"")):0,t=z.montoBRL?parseFloat(z.montoBRL.replace(/\./g,"").replace(",",".")):0,r=z.montoUSD?parseFloat(z.montoUSD.replace(/,/g,"")):0;if(e<=0&&t<=0&&r<=0)p("Debe ingresar al menos un monto en alguna moneda para realizar el retiro");else if(z.personaId)try{d(!0);const n={montoPYG:e.toString(),montoBRL:t.toString(),montoUSD:r.toString(),personaId:z.personaId,personaNombre:z.personaNombre,observacion:z.observacion},o=(await ed.post(`/api/cajas/${v.id}/retiros`,n)).data;f("Retiro registrado correctamente"),R(!1),M([...D,o]),$(!0),ve&&ye(ve.id),L({montoPYG:"",montoBRL:"",montoUSD:"",personaId:"",personaNombre:"",observacion:""})}catch(n){console.error("Error al registrar retiro:",n),p("Error al registrar el retiro. Intente nuevamente.")}finally{d(!1)}else p("Debe seleccionar una persona para registrar el retiro")},handleEliminarRetiro:e=>{F(e)},confirmarEliminacionRetiro:async()=>{if(B)try{d(!0);const e=D.find((e=>e.id===B));if(!e)return void p("Error al eliminar el retiro: No se encontr\xf3 el retiro seleccionado.");const t=e.ids||[e.id];await ed.delete(`/api/cajas/retiros/${B}`,{data:{ids:t}}),M((e=>e.filter((e=>e.id!==B)))),F(null),f("Retiro eliminado correctamente"),ve&&v&&ye(ve.id)}catch(e){console.error("Error al eliminar retiro:",e),p("Error al eliminar el retiro. Intente nuevamente.")}finally{d(!1)}},cancelarEliminacionRetiro:()=>{F(null)},handleNuevaOperacion:()=>{re({tipo:"pos",monto:0,tipoServicio:""}),ee(!0),J(!1)},handleEditarOperacion:e=>{re(e),ee(!0),J(!1)},handleEliminarOperacion:async e=>{if(e)try{await Wk.deleteOperacionBancaria(e),v&&await Se(v.id)}catch(t){console.error("Error al eliminar operaci\xf3n bancaria:",t)}},handleNuevoPago:()=>{fe({operadora:"",servicio:"",monto:"",moneda:"PYG",observacion:""}),de(!0)},handleGuardarPago:async()=>{try{if(d(!0),!v)return void p("No hay una caja seleccionada");if(!he.operadora||!he.servicio||!he.monto)return void p("Faltan datos requeridos para el pago");if("string"!==typeof he.monto)return void p("El formato del monto es inv\xe1lido");const e=he.monto.replace(/\./g,""),t=parseInt(e,10);if(isNaN(t)||t<=0)return void p("El monto debe ser mayor a cero");const r=new FormData;r.append("operadora",he.operadora),r.append("servicio",he.servicio),r.append("monto",t.toString()),r.append("moneda",he.moneda),he.observacion&&r.append("observacion",he.observacion),he.comprobante&&r.append("comprobante",he.comprobante);const n=await ed.post(`/api/cajas/${v.id}/pagos`,r,{headers:{"Content-Type":"multipart/form-data"}});le((e=>[...e,n.data])),f("Pago registrado correctamente"),de(!1),fe({operadora:"",servicio:"",monto:"",moneda:"PYG"})}catch(e){console.error("Error al guardar el pago:",e),p("Error al registrar el pago. Por favor, int\xe9ntelo de nuevo.")}finally{d(!1)}},handleEliminarPago:e=>{ge(e)},confirmarEliminacionPago:async()=>{try{if(d(!0),!me)return;await ed.delete(`/api/cajas/pagos/${me}`),le((e=>e.filter((e=>e.id!==me)))),f("Pago eliminado correctamente"),ge(null)}catch(e){console.error("Error al eliminar el pago:",e),p("Error al eliminar el pago. Por favor, int\xe9ntelo de nuevo.")}finally{d(!1)}},cancelarEliminacionPago:()=>{ge(null)},handleVerDetalle:e=>{if("cerrada"!==e.estado||e.saldoFinal&&e.saldoFinal.total){const t={...e,saldosServiciosInicial:Array.isArray(e.saldosServiciosInicial)?e.saldosServiciosInicial:[],saldoFinal:"cerrada"!==e.estado||e.saldoFinal?e.saldoFinal:{denominaciones:[],total:{PYG:0,BRL:0,USD:0}},saldosServiciosFinal:Array.isArray(e.saldosServiciosFinal)?e.saldosServiciosFinal:[]};x(t),C(!0)}else console.log("Caja cerrada sin saldos finales. Cargando datos desde el backend..."),ed.get(`/api/cajas/${e.id}/datos-cierre`).then((t=>{console.log("Datos de cierre cargados:",t.data);const r={...e,saldoFinal:t.data.saldoFinal||{denominaciones:[],total:{PYG:0,BRL:0,USD:0}},saldosServiciosFinal:t.data.saldosServiciosFinal||[]};x(r),C(!0)})).catch((t=>{console.error("Error al cargar datos de cierre:",t);const r={...e,saldosServiciosInicial:Array.isArray(e.saldosServiciosInicial)?e.saldosServiciosInicial:[],saldoFinal:e.saldoFinal||{denominaciones:[],total:{PYG:0,BRL:0,USD:0}},saldosServiciosFinal:Array.isArray(e.saldosServiciosFinal)?e.saldosServiciosFinal:[]};x(r),C(!0)}))},handleCerrarCaja:e=>{"cerrada"===e.estado?(d(!0),ed.get(`/api/cajas/${e.id}/datos-cierre`).then((t=>{console.log("Datos de cierre cargados:",t.data);const r={...e,saldoFinal:t.data.saldoFinal||null,saldosServiciosFinal:t.data.saldosServiciosFinal||[]};x(r),w(!0)})).catch((e=>{console.error("Error al cargar datos de cierre:",e),p("Error al cargar los datos de cierre. Por favor, int\xe9ntelo de nuevo.")})).finally((()=>{d(!1)}))):(x(e),w(!0))},handleNuevaCaja:()=>{var e;const t=[...$k.map((e=>({...e,cantidad:0}))),...zk.map((e=>({...e,cantidad:0}))),...Lk.map((e=>({...e,cantidad:0})))],r=Bk.map((e=>({...e,monto:0})));ie({sucursalId:(null===ve||void 0===ve?void 0:ve.id)||"",usuarioId:(null===xe||void 0===xe||null===(e=xe.id)||void 0===e?void 0:e.toString())||"1",usuario:(null===xe||void 0===xe?void 0:xe.username)||"Usuario Actual",maletinId:"",saldoInicial:{denominaciones:t,total:{PYG:0,BRL:0,USD:0}},saldosServiciosInicial:r}),y(!0)},handleVerApertura:e=>{e&&(e.saldosServiciosInicial&&Array.isArray(e.saldosServiciosInicial)&&0!==e.saldosServiciosInicial.length||(console.log("Inicializando servicios iniciales para la caja",e.id),e.saldosServiciosInicial=Bk.map((e=>({...e,monto:0})))),x(e),E(!0))},handleVerMovimientos:e=>{x(e),O(!0)},handlePagos:e=>{x(e),d(!0),ed.get(`/api/cajas/${e.id}/pagos`).then((e=>{le(e.data),pe(!0)})).catch((e=>{console.error("Error al cargar los pagos:",e),p("Error al cargar los pagos. Por favor, int\xe9ntelo de nuevo.")})).finally((()=>{d(!1)}))},handleImprimirResumen:e=>{x(e),setTimeout((()=>{const e=document.createElement("style");e.innerHTML="\n        @media print {\n          body * {\n            visibility: hidden;\n          }\n          .MuiDialog-root * {\n            visibility: hidden;\n          }\n          #resumen-para-imprimir, #resumen-para-imprimir * {\n            visibility: visible;\n          }\n          #resumen-para-imprimir {\n            position: absolute;\n            left: 0;\n            top: 0;\n            width: 100%;\n          }\n          #boton-cerrar-dialogo {\n            display: none;\n          }\n          @page {\n            size: auto;\n            margin: 10mm;\n          }\n        }\n      ",document.head.appendChild(e),window.print(),setTimeout((()=>{document.head.removeChild(e)}),1e3)}),300)},cargarOperacionesBancarias:Se,cerrarCajaActual:async e=>{if(v)try{d(!0),await ed.put(`http://localhost:3000/api/cajas/${v.id}/cerrar`,e),ve&&await ye(ve.id),f("Caja cerrada correctamente"),w(!1)}catch(n){var t,r;console.error("Error al cerrar la caja:",n),p(`Error al cerrar la caja: ${(null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||"Error en la conexi\xf3n"}`)}finally{d(!1)}else p("No hay una caja seleccionada para cerrar")}};return(0,Ve.jsx)(Vk.Provider,{value:Ce,children:t})},Hk=()=>{const e=(0,a.useContext)(Vk);if(void 0===e)throw new Error("useCajas debe ser usado dentro de un CajasProvider");return e};var qk=r(7598);const Yk=["className","component","disableGutters","fixed","maxWidth","classes"],Kk=(0,st.A)(),Xk=Xw("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`maxWidth${(0,qk.A)(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),Qk=e=>Nf({props:e,name:"MuiContainer",defaultTheme:Kk});const Jk=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=Xk,useThemeProps:r=Qk,componentName:n="MuiContainer"}=e,o=t((e=>{let{theme:t,ownerState:r}=e;return(0,Be.A)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!r.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}})}),(e=>{let{theme:t,ownerState:r}=e;return r.fixed&&Object.keys(t.breakpoints.values).reduce(((e,r)=>{const n=r,o=t.breakpoints.values[n];return 0!==o&&(e[t.breakpoints.up(n)]={maxWidth:`${o}${t.breakpoints.unit}`}),e}),{})}),(e=>{let{theme:t,ownerState:r}=e;return(0,Be.A)({},"xs"===r.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}},r.maxWidth&&"xs"!==r.maxWidth&&{[t.breakpoints.up(r.maxWidth)]:{maxWidth:`${t.breakpoints.values[r.maxWidth]}${t.breakpoints.unit}`}})}));return a.forwardRef((function(e,t){const a=r(e),{className:i,component:s="div",disableGutters:l=!1,fixed:c=!1,maxWidth:d="lg"}=a,u=(0,Fe.A)(a,Yk),p=(0,Be.A)({},a,{component:s,disableGutters:l,fixed:c,maxWidth:d}),h=((e,t)=>{const{classes:r,fixed:n,disableGutters:o,maxWidth:a}=e,i={root:["root",a&&`maxWidth${(0,qk.A)(String(a))}`,n&&"fixed",o&&"disableGutters"]};return(0,kt.A)(i,(e=>(0,Mt.Ay)(t,e)),r)})(p,n);return(0,Ve.jsx)(o,(0,Be.A)({as:s,ownerState:p,className:(0,vt.A)(h.root,i),ref:t},u))}))}({createStyledComponent:(0,Ot.Ay)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`maxWidth${(0,Pt.A)(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,at.b)({props:e,name:"MuiContainer"})}),Zk=(0,ms.A)((0,Ve.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAlt"),eO=(0,ms.A)((0,Ve.jsx)("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m2 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Assignment"),tO=(e,t,r)=>{console.log(`[API Request] ${e.toUpperCase()} ${t}`,r)},rO=e=>{console.error("[API Request Error]",e)},nO=(e,t,r)=>{console.log(`[API Response] ${e} ${t}`,r)},oO=e=>{var t;e.response?console.error(`[API Response Error] ${e.response.status} ${(null===(t=e.config)||void 0===t?void 0:t.url)||""}`,e.response.data):console.error("[API Response Error] No response",e.message)};ed.defaults.baseURL="http://localhost:3000",ed.defaults.headers.common.Accept="application/json",ed.defaults.headers.post["Content-Type"]="application/json",ed.interceptors.request.use((e=>(tO(e.method||"unknown",e.url||"",e.data),e)),(e=>(rO(e),Promise.reject(e)))),ed.interceptors.response.use((e=>(nO(e.status,e.config.url||"",e.data),e)),(e=>(oO(e),Promise.reject(e))));const aO={getAll:()=>ed.get("/api/maletines"),getById:e=>ed.get(`/api/maletines/${e}`),create:e=>ed.post("/api/maletines",e),update:(e,t)=>ed.put(`/api/maletines/${e}`,t),delete:e=>ed.delete(`/api/maletines/${e}`)},iO={getAll:()=>ed.get("/api/sucursales"),getById:e=>ed.get(`/api/sucursales/${e}`),create:e=>ed.post("/api/sucursales",e),update:(e,t)=>ed.put(`/api/sucursales/${e}`,t),delete:e=>ed.delete(`/api/sucursales/${e}`)},sO=e=>{let{open:t,onClose:r}=e;const n=(0,a.useRef)({}),{cajaSeleccionada:o,formRetiro:i,setFormRetiro:s,loading:l,busquedaPersona:c,setBusquedaPersona:d,personasBusqueda:u,buscandoPersonas:p,handleGuardarRetiro:h}=Hk();(0,a.useEffect)((()=>{t&&(d(""),setTimeout((()=>{n.current.montoPYG&&n.current.montoPYG.focus()}),100))}),[t,d]);const f=(e,t)=>{t&&(n.current[e]=t)},m=(e,t)=>{"Tab"!==e.key&&"Enter"!==e.key||("Enter"===e.key&&e.preventDefault(),t&&n.current[t]&&n.current[t].focus())};return(0,Ve.jsxs)(Fi,{open:t,onClose:r,maxWidth:"sm",fullWidth:!0,sx:{"& .MuiDialog-paper":{bgcolor:"#333",color:"white",minHeight:"calc(80% - 128px)",maxHeight:"calc(80% - 64px)"}},children:[(0,Ve.jsx)(Gi,{sx:{pb:1},children:(0,Ve.jsxs)(Et,{children:[(0,Ve.jsx)($r,{variant:"h6",component:"span",children:"Registrar Retiro de Caja"}),o&&(0,Ve.jsxs)($r,{variant:"subtitle2",component:"div",color:"text.secondary",children:["Caja ID: ",o.cajaEnteroId]})]})}),(0,Ve.jsx)(Ki,{sx:{pt:0,height:"100%"},children:(0,Ve.jsx)("form",{autoComplete:"off",style:{height:"100%"},children:(0,Ve.jsx)(Et,{sx:{pt:1,height:"100%"},children:(0,Ve.jsxs)($h,{container:!0,spacing:1.5,children:[(0,Ve.jsx)($h,{item:!0,xs:12,sx:{pb:.5,pt:1.5},children:(0,Ve.jsx)($r,{variant:"subtitle1",fontWeight:"bold",sx:{mb:0},children:"Montos a retirar"})}),(0,Ve.jsx)($h,{item:!0,xs:4,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"Guaran\xedes",name:"montoPYG",inputRef:e=>f("montoPYG",e),value:i.montoPYG,autoComplete:"off",onChange:e=>{const t=e.target.value.replace(/[^\d]/g,""),r=t?Number(t).toLocaleString("es-PY"):"";s((e=>({...e,montoPYG:r})))},onClick:KA,onKeyDown:e=>m(e,"montoBRL"),InputProps:{startAdornment:(0,Ve.jsx)($r,{variant:"body2",sx:{mr:1},children:"G$"})},size:"small",sx:{"& .MuiInputBase-root":{bgcolor:"#444"},"& .MuiInputBase-input":{color:"white"},"& .MuiInputLabel-root":{color:"#ccc"},"& .MuiFormHelperText-root":{fontSize:"0.7rem",mt:.5}}})}),(0,Ve.jsx)($h,{item:!0,xs:4,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"Reales",name:"montoBRL",inputRef:e=>f("montoBRL",e),value:i.montoBRL,autoComplete:"off",onChange:e=>{const t=e.target.value.replace(/\D/g,"");if(""===t)return void s((e=>({...e,montoBRL:""})));const r=t.padStart(3,"0"),n=r.slice(-2),o=`${(r.slice(0,-2).replace(/^0+/,"")||"0").replace(/\B(?=(\d{3})+(?!\d))/g,".")},${n}`;s((e=>({...e,montoBRL:o})))},onClick:KA,onKeyDown:e=>m(e,"montoUSD"),InputProps:{startAdornment:(0,Ve.jsx)($r,{variant:"body2",sx:{mr:1},children:"R$"})},size:"small",sx:{"& .MuiInputBase-root":{bgcolor:"#444"},"& .MuiInputBase-input":{color:"white"},"& .MuiInputLabel-root":{color:"#ccc"},"& .MuiFormHelperText-root":{fontSize:"0.7rem",mt:.5}}})}),(0,Ve.jsx)($h,{item:!0,xs:4,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"D\xf3lares",name:"montoUSD",inputRef:e=>f("montoUSD",e),value:i.montoUSD,autoComplete:"off",onChange:e=>{const t=e.target.value.replace(/\D/g,"");if(""===t)return void s((e=>({...e,montoUSD:""})));const r=t.padStart(3,"0"),n=r.slice(-2),o=`${(r.slice(0,-2).replace(/^0+/,"")||"0").replace(/\B(?=(\d{3})+(?!\d))/g,",")}.${n}`;s((e=>({...e,montoUSD:o})))},onClick:KA,onKeyDown:e=>m(e,"busquedaPersona"),InputProps:{startAdornment:(0,Ve.jsx)($r,{variant:"body2",sx:{mr:1},children:"U$D"})},size:"small",sx:{"& .MuiInputBase-root":{bgcolor:"#444"},"& .MuiInputBase-input":{color:"white"},"& .MuiInputLabel-root":{color:"#ccc"},"& .MuiFormHelperText-root":{fontSize:"0.7rem",mt:.5}}})}),(0,Ve.jsx)($h,{item:!0,xs:12,sx:{pt:1.5,pb:.5},children:(0,Ve.jsx)($r,{variant:"subtitle1",fontWeight:"bold",sx:{mb:0},children:"Persona que recibe"})}),(0,Ve.jsxs)($h,{item:!0,xs:12,sx:{position:"relative"},children:[(0,Ve.jsx)(jp,{fullWidth:!0,label:"Buscar por nombre o documento",inputRef:e=>f("busquedaPersona",e),value:c,autoComplete:"off",onChange:e=>{const t=e.target.value.toUpperCase();d(t),i.personaId&&t!==i.personaNombre&&s((e=>({...e,personaId:"",personaNombre:""})))},onClick:e=>{KA(e),i.personaId&&c===i.personaNombre&&d("")},onKeyDown:e=>m(e,"observacion"),placeholder:"Escriba para buscar...",size:"small",sx:{"& .MuiInputBase-root":{bgcolor:"#444"},"& .MuiInputBase-input":{color:"white"},"& .MuiInputLabel-root":{color:"#ccc"}}}),""!==c&&c!==i.personaNombre&&u.length>0&&(0,Ve.jsx)($t,{elevation:3,sx:{position:"absolute",width:"100%",maxHeight:200,overflow:"auto",bgcolor:"#444",zIndex:1e3},children:(0,Ve.jsx)(Va,{dense:!0,sx:{p:0},children:u.map((e=>(0,Ve.jsx)(ai,{button:!0,onClick:()=>(e=>{s((t=>({...t,personaId:e.id,personaNombre:e.nombre}))),d(e.nombre),setTimeout((()=>{n.current.observacion&&n.current.observacion.focus()}),100)})(e),sx:{borderBottom:"1px solid #555","&:hover":{bgcolor:"#555"}},children:(0,Ve.jsx)(mi,{primary:e.nombre,secondary:""+("funcionario"===e.tipo?"Funcionario":"VIP"),primaryTypographyProps:{color:"white"},secondaryTypographyProps:{color:"#ccc"}})},e.id)))})}),p&&(0,Ve.jsx)(KS,{size:20,sx:{position:"absolute",right:10,top:10,color:"white"}})]}),(0,Ve.jsx)($h,{item:!0,xs:12,sx:{pt:1.5},children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"Observaciones",name:"observacion",inputRef:e=>f("observacion",e),value:i.observacion,onChange:e=>{const t=e.target.value.toUpperCase();s((e=>({...e,observacion:t})))},onKeyDown:e=>m(e,"guardarRetiro"),multiline:!0,rows:2,placeholder:"Detalles adicionales o motivo del retiro",size:"small",sx:{"& .MuiInputBase-root":{bgcolor:"#444"},"& .MuiInputBase-input":{color:"white"},"& .MuiInputLabel-root":{color:"#ccc"}}})})]})})})}),(0,Ve.jsxs)(ns,{sx:{bgcolor:"#333",pb:2,px:3},children:[(0,Ve.jsx)(fs,{variant:"outlined",onClick:r,sx:{color:"white",borderColor:"rgba(255,255,255,0.5)"},children:"Cancelar"}),(0,Ve.jsx)(fs,{variant:"contained",onClick:h,ref:e=>f("guardarRetiro",e),disabled:!i.montoPYG&&!i.montoBRL&&!i.montoUSD||!i.personaId||l,sx:{bgcolor:"#4caf50","&:hover":{bgcolor:"#388e3c"},"&.Mui-disabled":{bgcolor:"rgba(255,255,255,0.12)",color:"rgba(255,255,255,0.3)"}},children:l?(0,Ve.jsx)(KS,{size:24}):"Guardar Retiro"})]})]})},lO=(0,ms.A)((0,Ve.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),cO=e=>new Intl.NumberFormat("es-PY").format(e),dO=e=>isNaN(Number(e))&&e.includes("-")?`CAJA #${e.split("-")[0].toUpperCase()}`:e,uO=e=>new Intl.NumberFormat("es-PY").format(e),pO=e=>{let{open:t,onClose:n,retiro:o,cajaId:a}=e;if(!o)return null;const i=o.id.slice(-6),s=new Date(o.fecha),l=s.toLocaleDateString("es-PY"),c=s.toLocaleTimeString("es-PY");return(0,Ve.jsxs)(Fi,{open:t,onClose:n,maxWidth:"xs",PaperProps:{sx:{width:"58mm",minHeight:"350px",bgcolor:"#fff",color:"#000",borderRadius:1,p:1}},children:[(0,Ve.jsx)(Ki,{children:(0,Ve.jsxs)(Et,{sx:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",fontSize:"10px",fontFamily:"monospace"},children:[(0,Ve.jsx)($r,{variant:"subtitle1",align:"center",sx:{width:"100%",fontWeight:"bold",mb:1},children:"COMPROBANTE DE RETIRO"}),(0,Ve.jsxs)(Et,{sx:{width:"100%",borderTop:"1px dashed #000",borderBottom:"1px dashed #000",py:1,my:1},children:[(0,Ve.jsxs)($r,{variant:"body2",children:["N\xb0: ",i]}),(0,Ve.jsxs)($r,{variant:"body2",children:["CAJA: ",a]}),(0,Ve.jsxs)($r,{variant:"body2",children:["FECHA: ",l]}),(0,Ve.jsxs)($r,{variant:"body2",children:["HORA: ",c]})]}),(0,Ve.jsxs)(Et,{sx:{width:"100%",py:1},children:[(0,Ve.jsxs)($r,{variant:"body2",children:["ENTREGADO A: ",o.personaNombre]}),o.montoPYG>0&&(0,Ve.jsxs)($r,{variant:"body2",children:["GUARAN\xcdES: ",cO(o.montoPYG)," G$"]}),o.montoBRL>0&&(0,Ve.jsxs)($r,{variant:"body2",children:["REALES: R$ ",new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(o.montoBRL)]}),o.montoUSD>0&&(0,Ve.jsxs)($r,{variant:"body2",children:["D\xd3LARES: U$D ",new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(o.montoUSD)]})]}),o.observacion&&(0,Ve.jsxs)(Et,{sx:{width:"100%",py:1},children:[(0,Ve.jsx)($r,{variant:"body2",children:"OBSERVACI\xd3N:"}),(0,Ve.jsx)($r,{variant:"body2",children:o.observacion})]}),(0,Ve.jsx)(Et,{sx:{width:"100%",borderTop:"1px dashed #000",mt:2,pt:1,display:"flex",justifyContent:"center"},children:(0,Ve.jsx)($r,{variant:"body2",align:"center",children:"______________________________"})}),(0,Ve.jsx)($r,{variant:"body2",align:"center",children:"Firma"})]})}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:n,size:"small",children:"Cerrar"}),(0,Ve.jsx)(fs,{variant:"contained",color:"primary",size:"small",onClick:async()=>{try{const e=(await Promise.resolve().then(r.bind(r,4906))).default,t=await e.getPrinterConfig();let n={};t.success&&t.config&&(n={...t.config,preview:!1,silent:!0});const s=[{type:"text",value:"COMPROBANTE DE RETIRO",style:{fontSize:"15px",fontWeight:"bold",textAlign:"center",width:"100%",margin:"0 0 5px 0"}},{type:"text",value:"--------------------------------",style:{fontSize:"12px",textAlign:"center",width:"100%",margin:"5px 0"}},{type:"text",value:`N\xb0: ${i}`,style:{fontSize:"12px",textAlign:"left",width:"100%"}},{type:"text",value:`CAJA: ${a}`,style:{fontSize:"12px",textAlign:"left",width:"100%"}},{type:"text",value:`FECHA: ${l}`,style:{fontSize:"12px",textAlign:"left",width:"100%"}},{type:"text",value:`HORA: ${c}`,style:{fontSize:"12px",textAlign:"left",width:"100%",margin:"0 0 5px 0"}},{type:"text",value:"--------------------------------",style:{fontSize:"12px",textAlign:"center",width:"100%",margin:"5px 0"}},{type:"text",value:`ENTREGADO A: ${o.personaNombre}`,style:{fontSize:"12px",textAlign:"left",width:"100%",margin:"5px 0"}}];o.montoPYG>0&&s.push({type:"text",value:`GUARANIES: ${cO(o.montoPYG)} G$`,style:{fontSize:"12px",textAlign:"left",width:"100%"}}),o.montoBRL>0&&s.push({type:"text",value:`REALES: R$ ${new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(o.montoBRL)}`,style:{fontSize:"12px",textAlign:"left",width:"100%"}}),o.montoUSD>0&&s.push({type:"text",value:`D\xd3LARES: U$D ${new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(o.montoUSD)}`,style:{fontSize:"12px",textAlign:"left",width:"100%"}}),o.observacion&&(s.push({type:"text",value:"OBSERVACI\xd3N:",style:{fontSize:"12px",textAlign:"left",width:"100%",margin:"5px 0 0 0"}}),s.push({type:"text",value:o.observacion,style:{fontSize:"12px",textAlign:"left",width:"100%"}})),s.push({type:"text",value:"--------------------------------",style:{fontSize:"12px",textAlign:"center",width:"100%",margin:"10px 0 5px 0"}}),s.push({type:"text",value:"______________________________",style:{fontSize:"12px",textAlign:"center",width:"100%"}}),s.push({type:"text",value:"Firma",style:{fontSize:"12px",textAlign:"center",width:"100%"}}),s.push({type:"text",value:`Impreso: ${(new Date).toLocaleString("es-PY")}`,style:{fontSize:"10px",textAlign:"center",width:"100%",margin:"10px 0 0 0"}});const d={lines:[],htmlContent:s,options:n},u=await e.printTicket(d);u.success||(console.error("Error al imprimir con impresora t\xe9rmica:",u.error),window.print())}catch(e){console.error("Error al preparar la impresi\xf3n t\xe9rmica:",e),window.print()}},children:"Imprimir"})]})]})},hO=e=>{let{open:t,onClose:r}=e;const{cajaSeleccionada:n,retiros:o,retirosDialogOpen:i,setRetirosDialogOpen:s,handleNuevoRetiro:l,handleEliminarRetiro:c}=Hk(),[d,u]=(0,a.useState)(!1),[p,h]=(0,a.useState)(null),f=e=>{try{return new Date(e).toLocaleDateString("es-PY",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(",","")}catch(t){return console.error("Error al formatear fecha:",t),e}},m=(e,t)=>"BRL"===t?new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e):new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e);return(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsxs)(Fi,{open:t,onClose:r,maxWidth:"md",fullWidth:!0,sx:{"& .MuiDialog-paper":{bgcolor:"#333",color:"white"}},children:[(0,Ve.jsx)(Gi,{children:"Retiros de Caja"}),(0,Ve.jsxs)(Ki,{children:[n&&(0,Ve.jsxs)($r,{variant:"subtitle2",color:"text.secondary",sx:{mb:2},children:["Caja ID: ",n.cajaEnteroId]}),(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"flex-end",mb:2},children:(0,Ve.jsx)(fs,{variant:"contained",color:"primary",startIcon:(0,Ve.jsx)(XS,{}),onClick:l,children:"Nuevo Retiro"})}),0===o.length?(0,Ve.jsx)(Ah,{severity:"info",sx:{mt:2,bgcolor:"#1e1e1e",color:"white"},children:"No hay retiros registrados para esta caja."}):(0,Ve.jsx)(Dp,{component:$t,sx:{bgcolor:"#444"},children:(0,Ve.jsxs)(zp,{size:"small",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{sx:{color:"#ccc"},children:"Fecha"}),(0,Ve.jsx)(th,{sx:{color:"#ccc"},children:"Persona"}),(0,Ve.jsx)(th,{align:"right",sx:{color:"#ccc"},children:"Guaran\xedes"}),(0,Ve.jsx)(th,{align:"right",sx:{color:"#ccc"},children:"Reales"}),(0,Ve.jsx)(th,{align:"right",sx:{color:"#ccc"},children:"D\xf3lares"}),(0,Ve.jsx)(th,{sx:{color:"#ccc"},children:"Observaci\xf3n"}),(0,Ve.jsx)(th,{align:"center",sx:{color:"#ccc"},children:"Acciones"})]})}),(0,Ve.jsx)(sh,{children:o.map(((e,t)=>{console.log(`Retiro #${t+1}:`,e,"Estado Recepci\xf3n:",e.estadoRecepcion);const r="RECIBIDO"===e.estadoRecepcion;return(0,Ve.jsxs)(Xp,{sx:{"&:hover":{bgcolor:"#555"},opacity:r?.6:1},children:[(0,Ve.jsx)(th,{sx:{color:"white"},children:f(e.fecha)}),(0,Ve.jsxs)(th,{sx:{color:"white"},children:[e.personaNombre,e.ids&&e.ids.length>1&&(0,Ve.jsx)(Qo,{title:`Este registro agrupa ${e.ids.length} movimientos diferentes`,children:(0,Ve.jsx)(lO,{fontSize:"small",color:"info",sx:{ml:1,verticalAlign:"middle",fontSize:"1rem"}})})]}),(0,Ve.jsx)(th,{align:"right",sx:{color:"white"},children:e.montoPYG>0?`${cO(e.montoPYG)} G$`:"-"}),(0,Ve.jsx)(th,{align:"right",sx:{color:"white"},children:e.montoBRL>0?`R$ ${m(e.montoBRL,"BRL")}`:"-"}),(0,Ve.jsx)(th,{align:"right",sx:{color:"white"},children:e.montoUSD>0?`U$D ${m(e.montoUSD,"USD")}`:"-"}),(0,Ve.jsx)(th,{sx:{color:"white"},children:e.observacion}),(0,Ve.jsx)(th,{align:"center",children:(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"center"},children:[(0,Ve.jsx)(Qo,{title:"Vista previa de impresi\xf3n",children:(0,Ve.jsx)(Ir,{size:"small",color:"primary",onClick:()=>(e=>{h(e),u(!0)})(e),sx:{mr:1},children:(0,Ve.jsx)(Rs,{fontSize:"small"})})}),(0,Ve.jsx)(Qo,{title:r?"No se puede eliminar un retiro ya recibido":"Eliminar retiro",children:(0,Ve.jsx)("span",{children:(0,Ve.jsx)(Ir,{size:"small",color:"error",onClick:()=>c(e.id),disabled:r,children:(0,Ve.jsx)(NE,{fontSize:"small"})})})})]})})]},e.id)}))})]})})]}),(0,Ve.jsx)(ns,{sx:{bgcolor:"#333"},children:(0,Ve.jsx)(fs,{onClick:r,sx:{color:"white"},children:"Cerrar"})})]}),(0,Ve.jsx)(sO,{open:i,onClose:()=>s(!1)}),(0,Ve.jsx)(pO,{open:d,onClose:()=>u(!1),retiro:p,cajaId:(null===n||void 0===n?void 0:n.cajaEnteroId)||""})]})},fO="http://localhost:3000/api",mO={getAllPos:async()=>{try{return(await ed.get(`${fO}/pos`)).data}catch(e){throw console.error("Error al obtener dispositivos POS:",e.message),e}},getPosById:async e=>{try{return(await ed.get(`${fO}/pos/id/${e}`)).data}catch(t){throw console.error(`Error al obtener dispositivo POS ${e}:`,t.message),t}},getPosByCodigoBarras:async e=>{try{console.log(`Buscando POS con c\xf3digo de barras ${e}`),console.log("URL:",`${fO}/pos/codigo/${e}`);const t=await ed.get(`${fO}/pos/codigo/${e}`);return console.log("Respuesta del servidor (buscar POS por c\xf3digo):",t.data),t.data}catch(t){if(console.error(`Error al buscar POS con c\xf3digo ${e}:`,t.message),t.response&&404===t.response.status)return null;throw t}},createPos:async e=>{try{return(await ed.post(`${fO}/pos`,e)).data}catch(t){throw console.error("Error al crear dispositivo POS:",t.message),t}},updatePos:async(e,t)=>{try{return(await ed.put(`${fO}/pos/${e}`,t)).data}catch(r){throw console.error(`Error al actualizar dispositivo POS ${e}:`,r.message),r}},deletePos:async e=>{try{await ed.delete(`${fO}/pos/${e}`)}catch(t){throw console.error(`Error al eliminar dispositivo POS ${e}:`,t.message),t}}},gO="http://localhost:3000/api",vO=e=>{var t,r;let{open:n,onClose:o}=e;const{cajaSeleccionada:i,formOperacion:s,setFormOperacion:l,cargarOperacionesBancarias:c}=Hk(),{cotizacionVigente:d}=SC(),[u,p]=(0,a.useState)(!1),[h,f]=(0,a.useState)(null),[m,g]=(0,a.useState)(null),[v,x]=(0,a.useState)(!1),[b,y]=(0,a.useState)(null),[j,w]=(0,a.useState)([]),S=(0,a.useRef)(null),C=(0,a.useRef)(null);(0,a.useEffect)((()=>{(async()=>{try{const e=await ed.get(`${gO}/cuentas-bancarias`);w(e.data)}catch(b){console.error("Error al cargar cuentas bancarias:",b)}})()}),[]);const A=async e=>{const{name:t,value:r}=e.target;if("monto"===t){g(null);const e=O(r);let n=0;if("pos"===s.tipo&&h&&h.cuentaBancaria){const t=h.cuentaBancaria.moneda;if("PYG"===t)n=1.06*e;else if("BRL"===t&&d){const t=e/d.valorReal;n=1.06*t*d.valorReal}else n=1.06*e}else n="pos"===s.tipo?1.06*e:e;l((r=>({...r,[t]:e,montoACobrar:n})))}else if("codigoBarrasPos"===t){if(g(null),l((e=>({...e,[t]:r,posDescripcion:"Buscando..."}))),""===r.trim())return l((e=>({...e,posDescripcion:""}))),void f(null);try{const e=await mO.getPosByCodigoBarras(r);if(f(e),e){let t=0;if(e.cuentaBancaria){const r=e.cuentaBancaria.moneda,n=s.monto||0;if("PYG"===r)t=1.06*n;else if("BRL"===r&&d){const e=n/d.valorReal;t=1.06*e*d.valorReal}else t=1.06*n}else t=1.06*(s.monto||0);l((r=>({...r,posDescripcion:e.nombre||"",montoACobrar:t})))}else g("C\xf3digo de POS no v\xe1lido"),l((e=>({...e,posDescripcion:`POS ${r} (No encontrado)`})))}catch(b){console.error("Error al obtener descripci\xf3n del POS:",b),g("Error al buscar el POS"),l((e=>({...e,posDescripcion:"Error al buscar el POS"})))}}else l((e=>({...e,[t]:r})))},E=e=>{const{name:t,value:r}=e.target;if("tipo"===t){g(null);const e=r;let t={tipo:e,cuentaBancariaId:void 0,tipoServicio:""};const n=s.monto||0;"pos"===e?(t.montoACobrar=1.06*n,t.codigoBarrasPos=s.codigoBarrasPos||"",t.posDescripcion=s.posDescripcion||"",t.numeroComprobante=s.numeroComprobante||""):(t.montoACobrar=n,t.codigoBarrasPos=void 0,t.posDescripcion=void 0,t.numeroComprobante=void 0,f(null)),l((e=>({...e,...t})))}else l((e=>({...e,[t]:r})))},k=(e,t)=>{t&&(t.preventDefault(),t.stopPropagation()),console.log("Seleccionando servicio:",e),l((t=>({...t,tipoServicio:e}))),setTimeout((()=>{p(!1)}),100)},O=e=>e&&parseFloat(e.replace(/\./g,"").replace(",","."))||0,P=e=>{if(!e)return"";if(h&&h.cuentaBancaria){const t=h.cuentaBancaria.moneda;if("BRL"===t&&d){const t=e/d.valorReal;return new Intl.NumberFormat("es-PY",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t)}if("USD"===t&&d){const t=e/d.valorDolar;return new Intl.NumberFormat("es-PY",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t)}}return new Intl.NumberFormat("es-PY").format(e)};return(0,a.useEffect)((()=>{n&&C.current&&setTimeout((()=>{var e;null===(e=C.current)||void 0===e||e.focus()}),300)}),[n]),(0,Ve.jsxs)(Fi,{open:n,onClose:o,maxWidth:"md",fullWidth:!0,children:[(0,Ve.jsx)(Gi,{children:s.id?"Editar Operaci\xf3n Bancaria":"Nueva Operaci\xf3n Bancaria"}),(0,Ve.jsxs)(Ki,{children:[i&&(0,Ve.jsxs)($r,{variant:"subtitle2",color:"text.secondary",sx:{mb:2},children:[dO(i.id)," (ID: ",i.cajaEnteroId,")"]}),b&&(0,Ve.jsx)(Et,{sx:{mt:2,mb:2,p:1,bgcolor:"error.light",color:"error.contrastText",borderRadius:1},children:(0,Ve.jsx)($r,{variant:"body2",children:b})}),(0,Ve.jsx)(Et,{component:"form",sx:{mt:2},children:(0,Ve.jsxs)($h,{container:!0,spacing:2,children:[(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsxs)(lu,{fullWidth:!0,children:[(0,Ve.jsx)(ou,{children:"Tipo de Operaci\xf3n"}),(0,Ve.jsxs)(gp,{name:"tipo",value:s.tipo,label:"Tipo de Operaci\xf3n",onChange:e=>{const t=e.target.value,r=s.monto||0;l((e=>({...e,tipo:t,posId:null,codigoBarrasPos:"",montoACobrar:"transferencia"===t?r:1.06*r}))),f(null),setTimeout((()=>{C.current&&C.current.focus()}),100)},autoComplete:"off",children:[(0,Ve.jsx)(_h,{value:"pos",children:"POS"}),(0,Ve.jsx)(_h,{value:"transferencia",children:"Transferencia Bancaria"})]})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"Monto",name:"monto",value:s.monto?new Intl.NumberFormat("es-PY").format(s.monto):"",onChange:e=>{const{value:t}=e.target,r=O(t);l((e=>({...e,monto:r,montoACobrar:"transferencia"===e.tipo?r:1.06*r})))},autoComplete:"off",inputRef:C,InputProps:{startAdornment:(0,Ve.jsx)($r,{variant:"body2",sx:{mr:1},children:"\u20b2"})},helperText:"Ingrese el monto en guaran\xedes",onClick:e=>e.target.select()})}),"pos"===s.tipo&&(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"C\xf3digo de Barras POS",name:"codigoBarrasPos",value:s.codigoBarrasPos||"",onChange:A,onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),!m&&s.codigoBarrasPos&&""!==s.codigoBarrasPos.trim()&&S.current&&S.current.focus())},autoComplete:"off",error:null!==m,helperText:m||"Escanee o ingrese el c\xf3digo de barras del POS",onClick:e=>e.target.select()})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"N\xfamero de Comprobante",name:"numeroComprobante",value:s.numeroComprobante||"",onChange:A,autoComplete:"off",inputRef:S,helperText:"Ingrese el n\xfamero de comprobante",onClick:e=>e.target.select()})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"Descripci\xf3n POS",name:"posDescripcion",value:s.posDescripcion||"",onChange:A,autoComplete:"off",InputProps:{readOnly:!0},error:null!==m,helperText:m||(h&&h.cuentaBancaria?`Moneda: ${h.cuentaBancaria.moneda}`:"Descripci\xf3n del POS (se completa autom\xe1ticamente)")})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"Monto a Cobrar (6%)",name:"montoACobrar",value:s.montoACobrar?h&&"BRL"===(null===(t=h.cuentaBancaria)||void 0===t?void 0:t.moneda)&&d?`${P(s.montoACobrar)} (\u20b2 ${new Intl.NumberFormat("es-PY").format(s.montoACobrar)})`:P(s.montoACobrar):"",autoComplete:"off",InputProps:{readOnly:!0,startAdornment:(0,Ve.jsx)($r,{variant:"body2",sx:{mr:1},children:(()=>{if(h&&h.cuentaBancaria){const e=h.cuentaBancaria.moneda;if("BRL"===e)return"R$";if("USD"===e)return"US$"}return"\u20b2"})()})},helperText:`Monto a cobrar con comisi\xf3n del 6% (${(null===h||void 0===h||null===(r=h.cuentaBancaria)||void 0===r?void 0:r.moneda)||"PYG"})`})})]}),"transferencia"===s.tipo&&(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsxs)(lu,{fullWidth:!0,children:[(0,Ve.jsx)(ou,{children:"Cuenta Bancaria"}),(0,Ve.jsxs)(gp,{name:"cuentaBancariaId",value:s.cuentaBancariaId?s.cuentaBancariaId.toString():"",label:"Cuenta Bancaria",onChange:E,autoComplete:"off",children:[(0,Ve.jsx)(_h,{value:"",disabled:!0,children:"Seleccione una cuenta bancaria"}),j.map((e=>(0,Ve.jsxs)(_h,{value:e.id.toString(),children:[e.banco," - ",e.numeroCuenta," (",e.moneda,")"]},e.id)))]})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"Monto a Cobrar",name:"montoACobrar",value:s.montoACobrar?P(s.montoACobrar):"",autoComplete:"off",InputProps:{readOnly:!0,startAdornment:(0,Ve.jsx)($r,{variant:"body2",sx:{mr:1},children:"\u20b2"})},helperText:"Monto a cobrar (igual al monto ingresado)"})})]}),(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsxs)(lu,{fullWidth:!0,children:[(0,Ve.jsx)(ou,{children:"Tipo de Servicio"}),(0,Ve.jsxs)(gp,{name:"tipoServicio",value:s.tipoServicio||"",label:"Tipo de Servicio",onChange:E,autoComplete:"off",renderValue:e=>e,open:u,onOpen:()=>p(!0),onClose:()=>p(!1),MenuProps:{PaperProps:{style:{maxHeight:400,width:800},onClick:e=>e.stopPropagation()}},children:[(0,Ve.jsx)(_h,{value:"",children:"Seleccione un servicio"}),(0,Ve.jsxs)(Et,{sx:{display:"flex",flexDirection:"row",p:1},children:[(0,Ve.jsxs)(Et,{sx:{width:200},children:[(0,Ve.jsx)($r,{variant:"subtitle2",sx:{fontWeight:"bold",mb:1,color:"#0066CC",backgroundColor:"#E6F0FF",p:.5,borderRadius:1,textAlign:"center"},children:"TIGO"}),_k.tigo.map((e=>(0,Ve.jsx)(_h,{value:`Tigo ${e}`,onClick:t=>k(`Tigo ${e}`,t),children:e},`tigo-${e}`)))]}),(0,Ve.jsxs)(Et,{sx:{width:200},children:[(0,Ve.jsx)($r,{variant:"subtitle2",sx:{fontWeight:"bold",mb:1,color:"#CC0000",backgroundColor:"#FFEBEE",p:.5,borderRadius:1,textAlign:"center"},children:"PERSONAL"}),_k.personal.map((e=>(0,Ve.jsx)(_h,{value:`Personal ${e}`,onClick:t=>k(`Personal ${e}`,t),children:e},`personal-${e}`)))]}),(0,Ve.jsxs)(Et,{sx:{width:200},children:[(0,Ve.jsx)($r,{variant:"subtitle2",sx:{fontWeight:"bold",mb:1,color:"#FF0000",backgroundColor:"#FFF0F0",p:.5,borderRadius:1,textAlign:"center"},children:"CLARO"}),_k.claro.map((e=>(0,Ve.jsx)(_h,{value:`Claro ${e}`,onClick:t=>k(`Claro ${e}`,t),children:e},`claro-${e}`)))]}),(0,Ve.jsxs)(Et,{sx:{width:200},children:[(0,Ve.jsx)($r,{variant:"subtitle2",sx:{fontWeight:"bold",mb:1,color:"#9C27B0",backgroundColor:"#F3E5F5",p:.5,borderRadius:1,textAlign:"center"},children:"OTROS SERVICIOS"}),_k.otrosServicios.map((e=>(0,Ve.jsx)(_h,{value:e,onClick:t=>k(e,t),children:e},`otros-${e}`)))]})]})]})]})}),(0,Ve.jsxs)($h,{item:!0,xs:12,children:[(0,Ve.jsxs)(fs,{component:"label",variant:"outlined",startIcon:(0,Ve.jsx)(lA,{}),sx:{mt:1},children:[s.nombreArchivo||"Adjuntar comprobante",(0,Ve.jsx)("input",{type:"file",hidden:!0,onChange:e=>{if(e.target.files&&e.target.files.length>0){const t=e.target.files[0];l((e=>({...e,archivoAdjunto:t,nombreArchivo:t.name})))}},accept:"image/*,.pdf"})]}),s.nombreArchivo&&(0,Ve.jsxs)($r,{variant:"caption",display:"block",sx:{mt:1},children:["Archivo seleccionado: ",s.nombreArchivo]})]})]})})]}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:o,disabled:v,children:"Cancelar"}),(0,Ve.jsx)(fs,{onClick:async()=>{if(i)if(s.tipo)if(!s.monto||s.monto<=0)y("Debe ingresar un monto v\xe1lido");else if("pos"!==s.tipo||s.codigoBarrasPos)if("transferencia"!==s.tipo||s.cuentaBancariaId){x(!0),y(null);try{console.log("Guardando operaci\xf3n bancaria..."),console.log("Datos a enviar:",s);const e=new FormData,t={tipo:s.tipo,monto:s.monto,montoACobrar:s.montoACobrar,tipoServicio:s.tipoServicio||"Sin especificar",codigoBarrasPos:s.codigoBarrasPos,posDescripcion:s.posDescripcion,numeroComprobante:s.numeroComprobante,cuentaBancariaId:"transferencia"===s.tipo?Number(s.cuentaBancariaId):void 0,cajaId:i.id,crearMovimientoFarmacia:!0};let r;if(console.log("Datos operaci\xf3n preparados:",t),e.append("data",JSON.stringify(t)),s.archivoAdjunto&&(e.append("comprobante",s.archivoAdjunto),console.log("Archivo adjunto a\xf1adido:",s.archivoAdjunto.name)),s.id?(console.log(`Actualizando operaci\xf3n con ID ${s.id}...`),r=await ed.put(`${gO}/operaciones-bancarias/${s.id}`,e,{headers:{"Content-Type":"multipart/form-data"}})):(console.log("Creando nueva operaci\xf3n..."),r=await ed.post(`${gO}/operaciones-bancarias`,e,{headers:{"Content-Type":"multipart/form-data"}})),console.log("Respuesta del servidor:",r.data),c){console.log("Recargando operaciones bancarias...");const e=await c(i.id);console.log("Operaciones actualizadas:",e)}else console.error("La funci\xf3n cargarOperacionesBancarias no est\xe1 disponible");l({tipo:"pos",monto:0,tipoServicio:""}),o()}catch(b){var e,t;console.error("Error al guardar operaci\xf3n bancaria:",b),y((null===(e=b.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Error al guardar la operaci\xf3n bancaria")}finally{x(!1)}}else y("Debe seleccionar una cuenta bancaria");else y("Debe ingresar el c\xf3digo de barras del POS");else y("Debe seleccionar un tipo de operaci\xf3n");else y("No hay una caja seleccionada")},variant:"contained",color:"primary",disabled:v,startIcon:v?(0,Ve.jsx)(KS,{size:20}):null,children:v?"Guardando...":"Guardar"})]})]})},xO=e=>{let{open:t,onClose:r}=e;const{cajaSeleccionada:n,operacionesBancarias:o,formOperacionDialogOpen:i,setFormOperacionDialogOpen:s,handleNuevaOperacion:l,handleEditarOperacion:c,handleEliminarOperacion:d,cargarOperacionesBancarias:u}=Hk();return(0,a.useEffect)((()=>{(async()=>{if(t&&n){console.log("ListaOperaciones: Cargando operaciones bancarias para la caja:",n.id);const e=await u(n.id);console.log("ListaOperaciones: Operaciones cargadas:",e)}})()}),[t,n,u]),(0,a.useEffect)((()=>{console.log("ListaOperaciones: Estado actual de operaciones:",o)}),[o]),(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsxs)(Fi,{open:t,onClose:r,maxWidth:"lg",fullWidth:!0,children:[(0,Ve.jsx)(Gi,{children:"Operaciones Bancarias"}),(0,Ve.jsxs)(Ki,{children:[n&&(0,Ve.jsxs)($r,{variant:"subtitle2",color:"text.secondary",sx:{mb:2},children:[dO(n.id)," (ID: ",n.cajaEnteroId,")"]}),(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"flex-end",mb:2},children:(0,Ve.jsx)(fs,{variant:"contained",color:"primary",startIcon:(0,Ve.jsx)(XS,{}),onClick:l,children:"Nueva Operaci\xf3n"})}),0===o.length?(0,Ve.jsx)(Ah,{severity:"info",sx:{mt:2},children:"No hay operaciones bancarias registradas para esta caja."}):(0,Ve.jsx)(Dp,{component:$t,children:(0,Ve.jsxs)(zp,{size:"small",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Fecha"}),(0,Ve.jsx)(th,{children:"Tipo"}),(0,Ve.jsx)(th,{children:"Servicio"}),(0,Ve.jsx)(th,{children:"Detalles"}),(0,Ve.jsx)(th,{align:"right",children:"Monto"}),(0,Ve.jsx)(th,{align:"right",children:"Monto Cobrado"}),(0,Ve.jsx)(th,{align:"center",children:"Acciones"})]})}),(0,Ve.jsx)(sh,{children:o.map((e=>(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:e.fecha}),(0,Ve.jsx)(th,{children:"pos"===e.tipo?"POS":"Transferencia"}),(0,Ve.jsx)(th,{children:e.tipoServicio}),(0,Ve.jsx)(th,{children:"pos"===e.tipo?`${e.posDescripcion} - Comprobante: ${e.numeroComprobante}`:e.cuentaBancaria?`${e.cuentaBancaria.banco} - ${e.cuentaBancaria.numeroCuenta}`:""}),(0,Ve.jsxs)(th,{align:"right",children:[cO(e.monto)," \u20b2"]}),(0,Ve.jsx)(th,{align:"right",children:e.montoACobrar?`${cO(e.montoACobrar)} \u20b2`:"-"}),(0,Ve.jsxs)(th,{align:"center",children:[(0,Ve.jsx)(Ir,{size:"small",color:"primary",onClick:()=>c(e),sx:{mr:1},children:(0,Ve.jsx)(yC,{fontSize:"small"})}),(0,Ve.jsx)(Ir,{size:"small",color:"error",onClick:()=>d(e.id||""),children:(0,Ve.jsx)(NE,{fontSize:"small"})})]})]},e.id)))})]})})]}),(0,Ve.jsx)(ns,{children:(0,Ve.jsx)(fs,{onClick:r,children:"Cerrar"})})]}),(0,Ve.jsx)(vO,{open:i,onClose:()=>s(!1)})]})},bO=e=>{let{open:t,onClose:r}=e;const{maletines:n,maletinesEnUso:o,formApertura:i,setFormApertura:s,setErrorMessage:l,setSuccessMessage:c,loading:d,loadCajas:u}=Hk(),[p,h]=(0,a.useState)(!1),f=(0,a.useRef)({}),m=(e,t)=>{f.current[e]=t},g=(e,t)=>`denom-${e}-${t}`,v=e=>o.includes(e),x=e=>v(e.id)?" (En uso)":"",b=(e,t)=>{const r=[...i.saldoInicial.denominaciones];r[e].cantidad=t;const n=r.filter((e=>"PYG"===e.moneda)).reduce(((e,t)=>e+t.valor*t.cantidad),0),o=r.filter((e=>"BRL"===e.moneda)).reduce(((e,t)=>e+t.valor*t.cantidad),0),a=r.filter((e=>"USD"===e.moneda)).reduce(((e,t)=>e+t.valor*t.cantidad),0);s((e=>({...e,saldoInicial:{...e.saldoInicial,denominaciones:r,total:{PYG:n,BRL:o,USD:a}}})))},y=(e,t)=>{var r,n;"Enter"===e.key&&t&&f.current[t]&&(e.preventDefault(),null===(r=f.current[t])||void 0===r||r.focus(),null===(n=f.current[t])||void 0===n||n.select())};return(0,Ve.jsxs)(Fi,{open:t,onClose:r,maxWidth:"lg",fullWidth:!0,PaperProps:{sx:{maxHeight:"90vh"}},children:[(0,Ve.jsx)(Gi,{children:"Apertura de Caja"}),(0,Ve.jsx)(Ki,{dividers:!0,children:(0,Ve.jsxs)($h,{container:!0,spacing:3,children:[(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsxs)(lu,{fullWidth:!0,variant:"outlined",size:"small",error:p,required:!0,children:[(0,Ve.jsx)(ou,{id:"maletin-label",children:"Malet\xedn"}),(0,Ve.jsxs)(gp,{labelId:"maletin-label",id:"maletinId",name:"maletinId",value:i.maletinId,onChange:e=>{h(!1),(e=>{const{name:t,value:r}=e.target;t&&s((e=>({...e,[t]:r})))})(e)},label:"Malet\xedn",children:[(0,Ve.jsx)(_h,{value:"",children:(0,Ve.jsx)("em",{children:"Seleccione un malet\xedn"})}),n.map((e=>(0,Ve.jsxs)(_h,{value:e.id,disabled:v(e.id),sx:{color:v(e.id)?"text.disabled":"text.primary"},children:[e.codigo," ",x(e)]},e.id)))]}),p&&(0,Ve.jsx)(fu,{children:"Debe seleccionar un malet\xedn para continuar"})]})}),(0,Ve.jsxs)($h,{item:!0,xs:12,md:4,children:[(0,Ve.jsx)($r,{variant:"subtitle1",gutterBottom:!0,children:"Conteo de Guaran\xedes"}),(0,Ve.jsx)(Dp,{component:$t,variant:"outlined",children:(0,Ve.jsxs)(zp,{size:"small",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Denominaci\xf3n"}),(0,Ve.jsx)(th,{children:"Cantidad"}),(0,Ve.jsx)(th,{children:"Subtotal"})]})}),(0,Ve.jsxs)(sh,{children:[i.saldoInicial.denominaciones.filter((e=>"PYG"===e.moneda)).map(((e,t,r)=>{const n=i.saldoInicial.denominaciones.indexOf(e),o=t===r.length-1;let a="";if(o){const e=i.saldoInicial.denominaciones.find((e=>"BRL"===e.moneda));a=e?g("BRL",e.valor):""}else a=g("PYG",r[t+1].valor);const s=g("PYG",e.valor);return(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsxs)(th,{children:[cO(e.valor)," Gs"]}),(0,Ve.jsx)(th,{children:(0,Ve.jsx)(jp,{size:"small",type:"number",value:e.cantidad,onChange:e=>b(n,parseInt(e.target.value)||0),InputProps:{inputProps:{min:0},inputRef:e=>m(s,e)},onKeyDown:e=>y(e,a),onClick:KA})}),(0,Ve.jsxs)(th,{children:[cO(e.valor*e.cantidad)," Gs"]})]},`PYG-${e.valor}`)})),(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{colSpan:2,align:"right",children:(0,Ve.jsx)("strong",{children:"Total Gs:"})}),(0,Ve.jsx)(th,{children:(0,Ve.jsxs)("strong",{children:[cO(i.saldoInicial.total.PYG)," Gs"]})})]})]})]})})]}),(0,Ve.jsxs)($h,{item:!0,xs:12,md:4,children:[(0,Ve.jsx)($r,{variant:"subtitle1",gutterBottom:!0,children:"Conteo de Reales"}),(0,Ve.jsx)(Dp,{component:$t,variant:"outlined",children:(0,Ve.jsxs)(zp,{size:"small",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Denominaci\xf3n"}),(0,Ve.jsx)(th,{children:"Cantidad"}),(0,Ve.jsx)(th,{children:"Subtotal"})]})}),(0,Ve.jsxs)(sh,{children:[i.saldoInicial.denominaciones.filter((e=>"BRL"===e.moneda)).map(((e,t,r)=>{const n=i.saldoInicial.denominaciones.indexOf(e),o=t===r.length-1;let a="";if(o){const e=i.saldoInicial.denominaciones.find((e=>"USD"===e.moneda));a=e?g("USD",e.valor):""}else a=g("BRL",r[t+1].valor);const s=g("BRL",e.valor);return(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsxs)(th,{children:["R$ ",new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e.valor)]}),(0,Ve.jsx)(th,{children:(0,Ve.jsx)(jp,{size:"small",type:"number",value:e.cantidad,onChange:e=>b(n,parseInt(e.target.value)||0),InputProps:{inputProps:{min:0},inputRef:e=>m(s,e)},onKeyDown:e=>y(e,a),onClick:KA})}),(0,Ve.jsxs)(th,{children:["R$ ",new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e.valor*e.cantidad)]})]},`BRL-${e.valor}`)})),(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{colSpan:2,align:"right",children:(0,Ve.jsx)("strong",{children:"Total R$:"})}),(0,Ve.jsx)(th,{children:(0,Ve.jsxs)("strong",{children:["R$ ",new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(i.saldoInicial.total.BRL)]})})]})]})]})})]}),(0,Ve.jsxs)($h,{item:!0,xs:12,md:4,children:[(0,Ve.jsx)($r,{variant:"subtitle1",gutterBottom:!0,children:"Conteo de D\xf3lares"}),(0,Ve.jsx)(Dp,{component:$t,variant:"outlined",children:(0,Ve.jsxs)(zp,{size:"small",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Denominaci\xf3n"}),(0,Ve.jsx)(th,{children:"Cantidad"}),(0,Ve.jsx)(th,{children:"Subtotal"})]})}),(0,Ve.jsxs)(sh,{children:[i.saldoInicial.denominaciones.filter((e=>"USD"===e.moneda)).map(((e,t,r)=>{const n=i.saldoInicial.denominaciones.indexOf(e),o=t===r.length-1;let a="";o&&i.saldosServiciosInicial.length>0?a="servicio-0":o||(a=g("USD",r[t+1].valor));const s=g("USD",e.valor);return(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsxs)(th,{children:["$ ",new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e.valor)]}),(0,Ve.jsx)(th,{children:(0,Ve.jsx)(jp,{size:"small",type:"number",value:e.cantidad,onChange:e=>b(n,parseInt(e.target.value)||0),InputProps:{inputProps:{min:0},inputRef:e=>m(s,e)},onKeyDown:e=>y(e,a),onClick:KA})}),(0,Ve.jsxs)(th,{children:["$ ",new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e.valor*e.cantidad)]})]},`USD-${e.valor}`)})),(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{colSpan:2,align:"right",children:(0,Ve.jsx)("strong",{children:"Total $:"})}),(0,Ve.jsx)(th,{children:(0,Ve.jsxs)("strong",{children:["$ ",new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(i.saldoInicial.total.USD)]})})]})]})]})})]}),i.saldosServiciosInicial.length>0&&(0,Ve.jsxs)($h,{item:!0,xs:12,children:[(0,Ve.jsx)($r,{variant:"subtitle1",gutterBottom:!0,children:"Saldos de Servicios"}),(0,Ve.jsx)(Dp,{component:$t,variant:"outlined",children:(0,Ve.jsxs)(zp,{size:"small",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Servicio"}),(0,Ve.jsx)(th,{children:"Monto"})]})}),(0,Ve.jsx)(sh,{children:i.saldosServiciosInicial.map(((e,t)=>{const r=t<i.saldosServiciosInicial.length-1?t+1:-1,n=r>=0?`servicio-${r}`:"",o=`servicio-${t}`;return(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:e.servicio}),(0,Ve.jsx)(th,{children:(0,Ve.jsx)(jp,{size:"small",value:uO(e.monto),onChange:e=>{const r=e.target.value.replace(/\D/g,""),n=parseInt(r)||0;((e,t)=>{const r=[...i.saldosServiciosInicial];r[e].monto=t,s((e=>({...e,saldosServiciosInicial:r})))})(t,n)},InputProps:{endAdornment:(0,Ve.jsx)($r,{variant:"caption",children:"\xa0Gs"}),inputProps:{min:0,style:{textAlign:"right"}},inputRef:e=>m(o,e)},onKeyDown:e=>y(e,n),onClick:KA})})]},`servicio-${t}`)}))})]})})]})]})}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:()=>{r()},color:"inherit",children:"Cancelar"}),(0,Ve.jsx)(fs,{onClick:async()=>{if(!i.maletinId)return h(!0),void l("Debe seleccionar un malet\xedn para abrir la caja");h(!1),l(null);try{const e=await ed.post("/api/cajas",i);201===e.status?(c("Caja abierta correctamente"),i.sucursalId&&await u(i.sucursalId),r()):l(e.data.message||"Error al abrir la caja")}catch(n){var e,t;console.error("Error al abrir la caja:",n);const r=(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Error de conexi\xf3n al intentar abrir la caja.";l(r)}},variant:"contained",color:"primary",disabled:d||!i.maletinId,children:"Guardar"})]})]})},yO=e=>{let{open:t,onClose:r}=e;const{cajaSeleccionada:n,setErrorMessage:o,setSuccessMessage:i,loading:s,cerrarCajaActual:l}=Hk(),[c,d]=(0,a.useState)(null),[u,p]=(0,a.useState)(!1),h=(0,a.useRef)({});(0,a.useEffect)((()=>{n&&d(f(n))}),[n]);const f=e=>{if(!e)return null;if("cerrada"===e.estado&&e.saldoFinal)return console.log("Usando datos existentes para edici\xf3n:",e.saldoFinal),{cajaId:e.id,saldoFinal:e.saldoFinal,saldosServiciosFinal:e.saldosServiciosFinal||[]};const t={denominaciones:[],total:{PYG:0,BRL:0,USD:0}},r=$k.map((e=>({...e,cantidad:0}))),n=zk.map((e=>({...e,cantidad:0}))),o=Lk.map((e=>({...e,cantidad:0})));t.denominaciones=[...r,...n,...o];let a=[];return Array.isArray(e.saldosServiciosInicial)&&e.saldosServiciosInicial.length>0?a=e.saldosServiciosInicial.map((e=>({...e,monto:0}))):(console.log("Inicializando servicios finales con valores por defecto"),a=Bk.map((e=>({...e,monto:0})))),console.log("Saldos de servicios finales inicializados:",a),{cajaId:e.id,saldoFinal:t,saldosServiciosFinal:a}},m=(e,t)=>{h.current[e]=t},g=(e,t)=>`cierre-denom-${e}-${t}`,v=e=>`cierre-servicio-${e}`,x=(e,t)=>{var r,n;"Enter"===e.key&&t&&h.current[t]&&(e.preventDefault(),null===(r=h.current[t])||void 0===r||r.focus(),null===(n=h.current[t])||void 0===n||n.select())},b=(e,t)=>{if(!c)return;const r=[...c.saldoFinal.denominaciones];r[e].cantidad=t;const n=r.filter((e=>"PYG"===e.moneda)).reduce(((e,t)=>e+t.valor*t.cantidad),0),o=r.filter((e=>"BRL"===e.moneda)).reduce(((e,t)=>e+t.valor*t.cantidad),0),a=r.filter((e=>"USD"===e.moneda)).reduce(((e,t)=>e+t.valor*t.cantidad),0);d({...c,saldoFinal:{...c.saldoFinal,denominaciones:r,total:{PYG:n,BRL:o,USD:a}}})};if(!n||!c)return null;const y="cerrada"===n.estado;return(0,Ve.jsxs)(Fi,{open:t,onClose:r,maxWidth:"lg",fullWidth:!0,PaperProps:{sx:{maxHeight:"90vh"}},children:[(0,Ve.jsxs)(Gi,{children:[y?"Editar Datos de Cierre":"Cierre de Caja",(0,Ve.jsxs)($r,{variant:"subtitle2",color:"text.secondary",component:"div",children:[dO(n.id)," (ID: ",n.cajaEnteroId,")"]})]}),(0,Ve.jsx)(Ki,{dividers:!0,children:(0,Ve.jsxs)($h,{container:!0,spacing:3,children:[(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsx)($t,{variant:"outlined",sx:{p:2,mb:2},children:(0,Ve.jsxs)($h,{container:!0,spacing:2,children:[(0,Ve.jsxs)($h,{item:!0,xs:12,md:4,children:[(0,Ve.jsx)($r,{variant:"subtitle2",color:"text.secondary",children:"Usuario:"}),(0,Ve.jsx)($r,{variant:"body1",children:n.usuario})]}),(0,Ve.jsxs)($h,{item:!0,xs:12,md:4,children:[(0,Ve.jsx)($r,{variant:"subtitle2",color:"text.secondary",children:"Fecha Apertura:"}),(0,Ve.jsx)($r,{variant:"body1",children:new Date(n.fechaApertura).toLocaleString()})]}),(0,Ve.jsxs)($h,{item:!0,xs:12,md:4,children:[(0,Ve.jsx)($r,{variant:"subtitle2",color:"text.secondary",children:"Malet\xedn:"}),(0,Ve.jsx)($r,{variant:"body1",children:n.maletinId})]})]})})}),(0,Ve.jsxs)($h,{item:!0,xs:12,md:4,children:[(0,Ve.jsx)($r,{variant:"subtitle1",gutterBottom:!0,children:"Conteo de Guaran\xedes"}),(0,Ve.jsx)(Dp,{component:$t,variant:"outlined",children:(0,Ve.jsxs)(zp,{size:"small",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Denominaci\xf3n"}),(0,Ve.jsx)(th,{children:"Cantidad"}),(0,Ve.jsx)(th,{children:"Subtotal"})]})}),(0,Ve.jsxs)(sh,{children:[c.saldoFinal.denominaciones.filter((e=>"PYG"===e.moneda)).map(((e,t,r)=>{const n=c.saldoFinal.denominaciones.indexOf(e),o=t===r.length-1;let a="";if(o){const e=c.saldoFinal.denominaciones.find((e=>"BRL"===e.moneda));a=e?g("BRL",e.valor):""}else a=g("PYG",r[t+1].valor);const i=g("PYG",e.valor);return(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsxs)(th,{children:[cO(e.valor)," Gs"]}),(0,Ve.jsx)(th,{children:(0,Ve.jsx)(jp,{size:"small",type:"number",value:e.cantidad,onChange:e=>b(n,parseInt(e.target.value)||0),InputProps:{inputProps:{min:0},inputRef:e=>m(i,e)},onKeyDown:e=>x(e,a),onClick:KA})}),(0,Ve.jsxs)(th,{children:[cO(e.valor*e.cantidad)," Gs"]})]},`PYG-${e.valor}`)})),(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{colSpan:2,align:"right",children:(0,Ve.jsx)("strong",{children:"Total Gs:"})}),(0,Ve.jsx)(th,{children:(0,Ve.jsxs)("strong",{children:[cO(c.saldoFinal.total.PYG)," Gs"]})})]})]})]})})]}),(0,Ve.jsxs)($h,{item:!0,xs:12,md:4,children:[(0,Ve.jsx)($r,{variant:"subtitle1",gutterBottom:!0,children:"Conteo de Reales"}),(0,Ve.jsx)(Dp,{component:$t,variant:"outlined",children:(0,Ve.jsxs)(zp,{size:"small",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Denominaci\xf3n"}),(0,Ve.jsx)(th,{children:"Cantidad"}),(0,Ve.jsx)(th,{children:"Subtotal"})]})}),(0,Ve.jsxs)(sh,{children:[c.saldoFinal.denominaciones.filter((e=>"BRL"===e.moneda)).map(((e,t,r)=>{const n=c.saldoFinal.denominaciones.indexOf(e),o=t===r.length-1;let a="";if(o){const e=c.saldoFinal.denominaciones.find((e=>"USD"===e.moneda));a=e?g("USD",e.valor):""}else a=g("BRL",r[t+1].valor);const i=g("BRL",e.valor);return(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsxs)(th,{children:["R$ ",new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e.valor)]}),(0,Ve.jsx)(th,{children:(0,Ve.jsx)(jp,{size:"small",type:"number",value:e.cantidad,onChange:e=>b(n,parseInt(e.target.value)||0),InputProps:{inputProps:{min:0},inputRef:e=>m(i,e)},onKeyDown:e=>x(e,a),onClick:KA})}),(0,Ve.jsxs)(th,{children:["R$ ",new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e.valor*e.cantidad)]})]},`BRL-${e.valor}`)})),(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{colSpan:2,align:"right",children:(0,Ve.jsx)("strong",{children:"Total R$:"})}),(0,Ve.jsx)(th,{children:(0,Ve.jsxs)("strong",{children:["R$ ",new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(c.saldoFinal.total.BRL)]})})]})]})]})})]}),(0,Ve.jsxs)($h,{item:!0,xs:12,md:4,children:[(0,Ve.jsx)($r,{variant:"subtitle1",gutterBottom:!0,children:"Conteo de D\xf3lares"}),(0,Ve.jsx)(Dp,{component:$t,variant:"outlined",children:(0,Ve.jsxs)(zp,{size:"small",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Denominaci\xf3n"}),(0,Ve.jsx)(th,{children:"Cantidad"}),(0,Ve.jsx)(th,{children:"Subtotal"})]})}),(0,Ve.jsxs)(sh,{children:[c.saldoFinal.denominaciones.filter((e=>"USD"===e.moneda)).map(((e,t,r)=>{const n=c.saldoFinal.denominaciones.indexOf(e),o=t===r.length-1;let a="";o&&c.saldosServiciosFinal&&c.saldosServiciosFinal.length>0?a=c.saldosServiciosFinal[0]?v(c.saldosServiciosFinal[0].servicio):"":o||(a=g("USD",r[t+1].valor));const i=g("USD",e.valor);return(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsxs)(th,{children:["$ ",new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e.valor)]}),(0,Ve.jsx)(th,{children:(0,Ve.jsx)(jp,{size:"small",type:"number",value:e.cantidad,onChange:e=>b(n,parseInt(e.target.value)||0),InputProps:{inputProps:{min:0},inputRef:e=>m(i,e)},onKeyDown:e=>x(e,a),onClick:KA})}),(0,Ve.jsxs)(th,{children:["$ ",new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e.valor*e.cantidad)]})]},`USD-${e.valor}`)})),(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{colSpan:2,align:"right",children:(0,Ve.jsx)("strong",{children:"Total $:"})}),(0,Ve.jsx)(th,{children:(0,Ve.jsxs)("strong",{children:["$ ",new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(c.saldoFinal.total.USD)]})})]})]})]})})]}),c&&c.saldosServiciosFinal&&Array.isArray(c.saldosServiciosFinal)&&(0,Ve.jsxs)($h,{item:!0,xs:12,children:[(0,Ve.jsx)($r,{variant:"subtitle1",gutterBottom:!0,children:"Saldos Finales de Servicios"}),(0,Ve.jsx)(Dp,{component:$t,variant:"outlined",children:(0,Ve.jsxs)(zp,{size:"small",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Servicio"}),(0,Ve.jsx)(th,{children:"Monto"})]})}),(0,Ve.jsx)(sh,{children:c&&c.saldosServiciosFinal&&Array.isArray(c.saldosServiciosFinal)?c.saldosServiciosFinal.map(((e,t)=>{const r=t<c.saldosServiciosFinal.length-1?t+1:-1,n=r>=0?v(c.saldosServiciosFinal[r].servicio):"",o=v(e.servicio);return(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:e.servicio}),(0,Ve.jsx)(th,{children:(0,Ve.jsx)(jp,{size:"small",value:uO(e.monto),onChange:e=>{const r=e.target.value.replace(/\D/g,""),n=parseInt(r)||0;((e,t)=>{if(!c)return;const r=[...c.saldosServiciosFinal];r[e].monto=t,d({...c,saldosServiciosFinal:r})})(t,n)},InputProps:{endAdornment:(0,Ve.jsx)($r,{variant:"caption",children:"\xa0Gs"}),inputProps:{min:0,style:{textAlign:"right"}},inputRef:e=>m(o,e)},onKeyDown:e=>x(e,n),onClick:KA})})]},`servicio-${t}`)})):(0,Ve.jsx)(Xp,{children:(0,Ve.jsx)(th,{colSpan:2,children:"No hay servicios disponibles"})})})]})})]})]})}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:()=>{r()},color:"inherit",children:"Cancelar"}),(0,Ve.jsx)(fs,{onClick:y?async()=>{if(n&&c)try{p(!0);const e={saldoFinal:c.saldoFinal,saldosServiciosFinal:c.saldosServiciosFinal};console.log("Actualizando datos de cierre:",e),await ed.put(`/api/cajas/${n.id}/datos-cierre`,e),i("Datos de cierre actualizados correctamente"),r()}catch(e){console.error("Error al actualizar datos de cierre:",e),o("Error al actualizar datos de cierre")}finally{p(!1)}}:async()=>{if(n&&c)try{p(!0);const e={saldoFinal:c.saldoFinal,saldosServiciosFinal:c.saldosServiciosFinal};console.log("Cerrando caja:",e),await l(e),r()}catch(e){console.error("Error al cerrar la caja:",e),o("Error al cerrar la caja")}finally{p(!1)}},variant:"contained",color:"primary",disabled:s||u,children:u?(0,Ve.jsx)(KS,{size:24}):y?"Guardar Cambios":"Cerrar Caja"})]})]})};let jO;const wO=e=>{var t,r,n,o,i,s,l,c,d,u,p,h,f;let{cajaSeleccionada:m,diferenciasEfectivo:g,diferenciasServicios:v,diferenciaTotal:x}=e;const b="abierta"===m.estado,[y,j]=(0,a.useState)([]);(0,a.useEffect)((()=>{m&&m.id&&w()}),[m]);const w=async()=>{if(m&&m.id)try{console.log(`Cargando retiros para caja ID: ${m.id}`);const e=await ed.get(`http://localhost:3000/api/cajas/${m.id}/retiros`);e.data&&Array.isArray(e.data)?(j(e.data),console.log("Retiros cargados:",e.data)):(console.warn("No se recibieron datos de retiros v\xe1lidos"),j([]))}catch(e){console.error("Error al cargar retiros:",e),j([])}},S=y.reduce(((e,t)=>e+(Number(t.montoPYG)||0)),0),C=y.reduce(((e,t)=>e+(Number(t.montoBRL)||0)),0),A=y.reduce(((e,t)=>e+(Number(t.montoUSD)||0)),0),E=(null===(t=m.saldoInicial)||void 0===t||null===(r=t.total)||void 0===r?void 0:r.PYG)||0,k=(null===(n=m.saldoInicial)||void 0===n||null===(o=n.total)||void 0===o?void 0:o.BRL)||0,O=(null===(i=m.saldoInicial)||void 0===i||null===(s=i.total)||void 0===s?void 0:s.USD)||0;return(0,Ve.jsxs)("div",{id:"ticket-imprimir",className:"ticket-impresion",children:[(0,Ve.jsxs)("div",{className:"ticket-header",children:[(0,Ve.jsx)("h3",{className:"ticket-titulo",children:"COMPROBANTE DE CIERRE"}),(0,Ve.jsx)("p",{className:"ticket-sucursal",children:(null===(l=m.sucursal)||void 0===l?void 0:l.nombre)||"N/A"}),(0,Ve.jsxs)("p",{className:"ticket-fecha",children:["Fecha: ",uy(new Date,"dd/MM/yyyy HH:mm",{locale:Cw})]})]}),(0,Ve.jsx)("div",{className:"ticket-linea-divisoria",children:"--------------------------------"}),(0,Ve.jsxs)("div",{className:"ticket-info",children:[(0,Ve.jsxs)("p",{className:"ticket-info-item",children:["Caja #",m.cajaEnteroId]}),(0,Ve.jsxs)("p",{className:"ticket-info-item",children:["Usuario: ",m.usuario]}),(0,Ve.jsxs)("p",{className:"ticket-info-item",children:["Apertura: ",uy(new Date(m.fechaApertura),"dd/MM/yyyy HH:mm",{locale:Cw})]}),m.fechaCierre&&(0,Ve.jsxs)("p",{className:"ticket-info-item",children:["Cierre: ",uy(new Date(m.fechaCierre),"dd/MM/yyyy HH:mm",{locale:Cw})]})]}),(0,Ve.jsx)("div",{className:"ticket-linea-divisoria",children:"--------------------------------"}),(0,Ve.jsx)("h4",{className:"ticket-subtitulo",children:"SALDOS DE APERTURA"}),(0,Ve.jsxs)("div",{className:"ticket-saldos",children:[(0,Ve.jsxs)("div",{className:"ticket-linea",children:[(0,Ve.jsx)("span",{className:"ticket-concepto",children:"Guaran\xedes:"}),(0,Ve.jsx)("span",{className:"ticket-monto",children:cO(E)})]}),(0,Ve.jsxs)("div",{className:"ticket-linea",children:[(0,Ve.jsx)("span",{className:"ticket-concepto",children:"Reales:"}),(0,Ve.jsx)("span",{className:"ticket-monto",children:new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(k)})]}),(0,Ve.jsxs)("div",{className:"ticket-linea",children:[(0,Ve.jsx)("span",{className:"ticket-concepto",children:"D\xf3lares:"}),(0,Ve.jsx)("span",{className:"ticket-monto",children:new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(O)})]})]}),(0,Ve.jsx)("div",{className:"ticket-linea-divisoria",children:"--------------------------------"}),(0,Ve.jsx)("h4",{className:"ticket-subtitulo",children:"SALDOS DE CIERRE"}),(0,Ve.jsxs)("div",{className:"ticket-saldos",children:[(0,Ve.jsxs)("div",{className:"ticket-linea",children:[(0,Ve.jsx)("span",{className:"ticket-concepto",children:"Guaran\xedes:"}),(0,Ve.jsx)("span",{className:"ticket-monto",children:b?"-":cO((null===(c=m.saldoFinal)||void 0===c||null===(d=c.total)||void 0===d?void 0:d.PYG)||0)})]}),(0,Ve.jsxs)("div",{className:"ticket-linea",children:[(0,Ve.jsx)("span",{className:"ticket-concepto",children:"Reales:"}),(0,Ve.jsx)("span",{className:"ticket-monto",children:b?"-":new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format((null===(u=m.saldoFinal)||void 0===u||null===(p=u.total)||void 0===p?void 0:p.BRL)||0)})]}),(0,Ve.jsxs)("div",{className:"ticket-linea",children:[(0,Ve.jsx)("span",{className:"ticket-concepto",children:"D\xf3lares:"}),(0,Ve.jsx)("span",{className:"ticket-monto",children:b?"-":new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format((null===(h=m.saldoFinal)||void 0===h||null===(f=h.total)||void 0===f?void 0:f.USD)||0)})]})]}),!b&&(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)("div",{className:"ticket-linea-divisoria",children:"--------------------------------"}),(0,Ve.jsx)("h4",{className:"ticket-subtitulo",children:"RETIROS"}),(0,Ve.jsxs)("div",{className:"ticket-saldos",children:[(0,Ve.jsxs)("div",{className:"ticket-linea",children:[(0,Ve.jsx)("span",{className:"ticket-concepto",children:"Guaran\xedes:"}),(0,Ve.jsx)("span",{className:"ticket-monto",children:cO(S)})]}),(0,Ve.jsxs)("div",{className:"ticket-linea",children:[(0,Ve.jsx)("span",{className:"ticket-concepto",children:"Reales:"}),(0,Ve.jsx)("span",{className:"ticket-monto",children:new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(C)})]}),(0,Ve.jsxs)("div",{className:"ticket-linea",children:[(0,Ve.jsx)("span",{className:"ticket-concepto",children:"D\xf3lares:"}),(0,Ve.jsx)("span",{className:"ticket-monto",children:new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(A)})]})]})]}),!b&&g&&(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)("div",{className:"ticket-linea-divisoria",children:"--------------------------------"}),(0,Ve.jsx)("h4",{className:"ticket-subtitulo",children:"DIFERENCIAS"}),(0,Ve.jsx)("div",{className:"ticket-saldos",children:void 0!==x&&(0,Ve.jsxs)("div",{className:"ticket-linea",children:[(0,Ve.jsx)("span",{className:"ticket-concepto",children:"Diferencia Total:"}),(0,Ve.jsx)("span",{className:"ticket-monto "+(0!==x?x>0?"ticket-positivo":"ticket-negativo":""),children:cO(x)})]})})]}),!b&&v&&v.length>0&&(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)("h4",{className:"ticket-subtitulo",children:"DIFERENCIAS SERVICIOS"}),(0,Ve.jsx)("div",{className:"ticket-saldos",children:v.filter((e=>"Efectivo"!==e.servicio)).map(((e,t)=>(0,Ve.jsxs)("div",{className:"ticket-linea",children:[(0,Ve.jsxs)("span",{className:"ticket-concepto",children:[e.servicio,":"]}),(0,Ve.jsx)("span",{className:"ticket-monto "+(0!==e.diferencia?e.diferencia>0?"ticket-positivo":"ticket-negativo":""),children:cO(e.diferencia)})]},`dif-servicio-${t}`)))})]}),(0,Ve.jsx)("div",{className:"ticket-linea-divisoria",children:"--------------------------------"}),(0,Ve.jsxs)("div",{className:"ticket-firmas",children:[(0,Ve.jsxs)("div",{className:"ticket-firma",children:[(0,Ve.jsx)("div",{className:"ticket-linea-firma",children:"_______________"}),(0,Ve.jsx)("p",{children:"Firma Cajero"})]}),(0,Ve.jsxs)("div",{className:"ticket-firma",children:[(0,Ve.jsx)("div",{className:"ticket-linea-firma",children:"_______________"}),(0,Ve.jsx)("p",{children:"Firma Supervisor"})]})]}),(0,Ve.jsx)("div",{className:"ticket-footer",children:(0,Ve.jsxs)("p",{children:["Impreso el: ",uy(new Date,"dd/MM/yyyy HH:mm:ss",{locale:Cw})]})})]})},SO=e=>{const[t,n]=(0,a.useState)(!1),o=()=>{n(!1)},i=()=>{const t=e.cajaSeleccionada,n="abierta"===t.estado;let o=0,a=0,i=0;jO=()=>{var r;const s=document.createElement("iframe");s.style.position="absolute",s.style.top="-9999px",s.style.left="-9999px",document.body.appendChild(s);const l=s.contentDocument||(null===(r=s.contentWindow)||void 0===r?void 0:r.document);if(l){var c,d,u,p,h,f,m,g,v,x,b,y,j;l.write("\n          <html>\n            <head>\n              <title>Ticket de Cierre</title>\n              <style>\n                @page { \n                  size: 58mm auto; \n                  margin: 0mm; \n                }\n                body { \n                  margin: 0;\n                  padding: 0;\n                  font-family: Arial, sans-serif;\n                }\n                .ticket-impresion {\n                  width: 58mm;\n                  padding: 5px;\n                }\n                /* Otros estilos necesarios */\n                .ticket-header { text-align: center; }\n                .ticket-titulo { margin: 0; font-size: 14px; }\n                .ticket-sucursal { margin: 2px 0; font-size: 12px; }\n                .ticket-fecha { margin: 2px 0; font-size: 10px; }\n                .ticket-info { font-size: 10px; }\n                .ticket-info-item { margin: 2px 0; }\n                .ticket-linea-divisoria { border-top: 1px dashed #000; margin: 5px 0; font-size: 10px; }\n                .ticket-subtitulo { margin: 5px 0; font-size: 12px; text-align: center; }\n                .ticket-saldos { font-size: 10px; }\n                .ticket-linea { display: flex; justify-content: space-between; margin: 2px 0; }\n                .ticket-concepto { flex: 1; }\n                .ticket-monto { text-align: right; }\n                .ticket-positivo { color: green; }\n                .ticket-negativo { color: red; }\n                .ticket-firmas { display: flex; justify-content: space-between; margin-top: 20px; }\n                .ticket-firma { text-align: center; flex: 1; }\n                .ticket-linea-firma { border-top: 1px solid #000; margin: 0 10px; }\n                .ticket-footer { text-align: center; font-size: 9px; margin-top: 10px; }\n              </style>\n            </head>\n            <body>\n            </body>\n          </html>\n        "),l.close();const r=`\n          <div class="ticket-header">\n            <h3 class="ticket-titulo">COMPROBANTE DE CIERRE</h3>\n            <p class="ticket-sucursal">${(null===(c=t.sucursal)||void 0===c?void 0:c.nombre)||"N/A"}</p>\n            <p class="ticket-fecha">Fecha: ${uy(new Date,"dd/MM/yyyy HH:mm",{locale:Cw})}</p>\n          </div>\n          \n          <div class="ticket-linea-divisoria">--------------------------------</div>\n          \n          <div class="ticket-info">\n            <p class="ticket-info-item">Caja #${t.cajaEnteroId}</p>\n            <p class="ticket-info-item">Usuario: ${t.usuario}</p>\n            <p class="ticket-info-item">\n              Apertura: ${uy(new Date(t.fechaApertura),"dd/MM/yyyy HH:mm",{locale:Cw})}\n            </p>\n            ${t.fechaCierre?`<p class="ticket-info-item">Cierre: ${uy(new Date(t.fechaCierre),"dd/MM/yyyy HH:mm",{locale:Cw})}</p>`:""}\n          </div>\n          \n          <div class="ticket-linea-divisoria">--------------------------------</div>\n          \n          <h4 class="ticket-subtitulo">SALDOS DE APERTURA</h4>\n          <div class="ticket-saldos">\n            <div class="ticket-linea">\n              <span class="ticket-concepto">Guaran\xedes:</span>\n              <span class="ticket-monto">${cO((null===(d=t.saldoInicial)||void 0===d||null===(u=d.total)||void 0===u?void 0:u.PYG)||0)}</span>\n            </div>\n            <div class="ticket-linea">\n              <span class="ticket-concepto">Reales:</span>\n              <span class="ticket-monto">${new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format((null===(p=t.saldoInicial)||void 0===p||null===(h=p.total)||void 0===h?void 0:h.BRL)||0)}</span>\n            </div>\n            <div class="ticket-linea">\n              <span class="ticket-concepto">D\xf3lares:</span>\n              <span class="ticket-monto">${new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format((null===(f=t.saldoInicial)||void 0===f||null===(m=f.total)||void 0===m?void 0:m.USD)||0)}</span>\n            </div>\n          </div>\n          \n          <div class="ticket-linea-divisoria">--------------------------------</div>\n          \n          <h4 class="ticket-subtitulo">SALDOS DE CIERRE</h4>\n          <div class="ticket-saldos">\n            <div class="ticket-linea">\n              <span class="ticket-concepto">Guaran\xedes:</span>\n              <span class="ticket-monto">${n?"-":cO((null===(g=t.saldoFinal)||void 0===g||null===(v=g.total)||void 0===v?void 0:v.PYG)||0)}</span>\n            </div>\n            <div class="ticket-linea">\n              <span class="ticket-concepto">Reales:</span>\n              <span class="ticket-monto">${n?"-":new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format((null===(x=t.saldoFinal)||void 0===x||null===(b=x.total)||void 0===b?void 0:b.BRL)||0)}</span>\n            </div>\n            <div class="ticket-linea">\n              <span class="ticket-concepto">D\xf3lares:</span>\n              <span class="ticket-monto">${n?"-":new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format((null===(y=t.saldoFinal)||void 0===y||null===(j=y.total)||void 0===j?void 0:j.USD)||0)}</span>\n            </div>\n          </div>\n          \n          ${n?"":`\n            <div class="ticket-linea-divisoria">--------------------------------</div>\n            <h4 class="ticket-subtitulo">RETIROS</h4>\n            <div class="ticket-saldos">\n              <div class="ticket-linea">\n                <span class="ticket-concepto">Guaran\xedes:</span>\n                <span class="ticket-monto">${cO(o)}</span>\n              </div>\n              <div class="ticket-linea">\n                <span class="ticket-concepto">Reales:</span>\n                <span class="ticket-monto">${new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(a)}</span>\n              </div>\n              <div class="ticket-linea">\n                <span class="ticket-concepto">D\xf3lares:</span>\n                <span class="ticket-monto">${new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(i)}</span>\n              </div>\n            </div>\n          `}\n          \n          ${!n&&e.diferenciasEfectivo?`\n            <div class="ticket-linea-divisoria">--------------------------------</div>\n            <h4 class="ticket-subtitulo">DIFERENCIAS</h4>\n            <div class="ticket-saldos">\n              ${void 0!==e.diferenciaTotal?`\n                <div class="ticket-linea">\n                  <span class="ticket-concepto">Diferencia Total:</span>\n                  <span class="ticket-monto ${0!==e.diferenciaTotal?e.diferenciaTotal>0?"ticket-positivo":"ticket-negativo":""}">${cO(e.diferenciaTotal)}</span>\n                </div>\n              `:""}\n            </div>\n          `:""}\n          \n          ${!n&&e.diferenciasServicios&&e.diferenciasServicios.length>0?`\n            <h4 class="ticket-subtitulo">DIFERENCIAS SERVICIOS</h4>\n            <div class="ticket-saldos">\n              ${e.diferenciasServicios.filter((e=>"Efectivo"!==e.servicio)).map((e=>`\n                  <div class="ticket-linea">\n                    <span class="ticket-concepto">${e.servicio}:</span>\n                    <span class="ticket-monto ${0!==e.diferencia?e.diferencia>0?"ticket-positivo":"ticket-negativo":""}">${cO(e.diferencia)}</span>\n                  </div>\n                `)).join("")}\n            </div>\n          `:""}\n          \n          <div class="ticket-linea-divisoria">--------------------------------</div>\n          \n          <div class="ticket-firmas">\n            <div class="ticket-firma">\n              <div class="ticket-linea-firma">_______________</div>\n              <p>Firma Cajero</p>\n            </div>\n            \n            <div class="ticket-firma">\n              <div className="ticket-linea-firma">_______________</div>\n              <p>Firma Supervisor</p>\n            </div>\n          </div>\n          \n          <div class="ticket-footer">\n            <p>Impreso el: ${uy(new Date,"dd/MM/yyyy HH:mm:ss",{locale:Cw})}</p>\n          </div>\n        `,w=document.createElement("div");w.className="ticket-impresion",w.innerHTML=r,l.body.appendChild(w),setTimeout((()=>{try{var e;s.focus(),null===(e=s.contentWindow)||void 0===e||e.print(),setTimeout((()=>{document.body.removeChild(s)}),500)}catch(t){console.error("Error al imprimir:",t),document.body.removeChild(s)}}),500)}else console.error("No se pudo obtener el documento del iframe")};(async()=>{try{if(t&&t.id){const e=await ed.get(`http://localhost:3000/api/cajas/${t.id}/retiros`);e.data&&Array.isArray(e.data)&&(o=e.data.reduce(((e,t)=>e+(Number(t.montoPYG)||0)),0),a=e.data.reduce(((e,t)=>e+(Number(t.montoBRL)||0)),0),i=e.data.reduce(((e,t)=>e+(Number(t.montoUSD)||0)),0))}}catch(n){console.error("Error al cargar retiros para impresi\xf3n:",n)}(async()=>{try{var s,l,c,d,u,p,h,f,m,g,v,x,b,y;const n=(await Promise.resolve().then(r.bind(r,4906))).default,{diferenciasEfectivo:j,diferenciasServicios:w,diferenciaTotal:S}=e,C=[{type:"text",value:"COMPROBANTE DE CIERRE",style:{fontSize:"15px",fontWeight:"bold",textAlign:"center",width:"100%",display:"block",alignment:"center",margin:"0"}},{type:"text",value:`${(null===(s=t.sucursal)||void 0===s?void 0:s.nombre)||"CENTRAL"}`,style:{fontSize:"14px",fontWeight:"bold",textAlign:"center",width:"100%",display:"block",alignment:"center",margin:"0"}},{type:"text",value:`Fecha: ${uy(new Date(t.fechaCierre||new Date),"dd/MM/yyyy HH:mm",{locale:Cw})}`,style:{fontSize:"12px",textAlign:"center",width:"100%",display:"block",alignment:"center",margin:"0 0 2px 0"}},{type:"text",value:"--------------------------------",style:{fontSize:"12px",textAlign:"center",width:"100%",display:"block",alignment:"center",margin:"0"}},{type:"text",value:`Caja #${t.cajaEnteroId}`,style:{fontSize:"12px",textAlign:"left",width:"100%",display:"block",alignment:"left",margin:"2px 0 0 0"}},{type:"text",value:`Usuario: ${t.usuario}`,style:{fontSize:"12px",textAlign:"left",width:"100%",display:"block",alignment:"left",margin:"0"}},{type:"text",value:`Apertura: ${uy(new Date(t.fechaApertura),"dd/MM/yyyy HH:mm",{locale:Cw})}`,style:{fontSize:"12px",textAlign:"left",width:"100%",display:"block",alignment:"left",margin:"0"}}];t.fechaCierre&&C.push({type:"text",value:`Cierre: ${uy(new Date(t.fechaCierre),"dd/MM/yyyy HH:mm",{locale:Cw})}`,style:{fontSize:"12px",textAlign:"left",width:"100%",display:"block",alignment:"left",margin:"0 0 2px 0"}}),C.push({type:"text",value:"--------------------------------",style:{fontSize:"12px",textAlign:"center",width:"100%",display:"block",alignment:"center",margin:"0"}}),C.push({type:"text",value:"SALDOS DE APERTURA",style:{fontSize:"13px",fontWeight:"bold",textAlign:"center",width:"100%",display:"block",alignment:"center",margin:"2px 0 2px 0"}});const A="abierta"===t.estado;C.push({type:"text",value:"Guaranies:",style:{fontSize:"12px",textAlign:"left",width:"50%",display:"inline-block",alignment:"left",margin:"0"}}),C.push({type:"text",value:`${cO((null===(l=t.saldoInicial)||void 0===l||null===(c=l.total)||void 0===c?void 0:c.PYG)||0)}`,style:{fontSize:"12px",textAlign:"right",width:"50%",display:"inline-block",alignment:"right",margin:"0"}}),C.push({type:"text",value:"Reales:",style:{fontSize:"12px",textAlign:"left",width:"50%",display:"inline-block",alignment:"left",margin:"0"}}),C.push({type:"text",value:`${new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format((null===(d=t.saldoInicial)||void 0===d||null===(u=d.total)||void 0===u?void 0:u.BRL)||0)}`,style:{fontSize:"12px",textAlign:"right",width:"50%",display:"inline-block",alignment:"right",margin:"0"}}),C.push({type:"text",value:"Dolares:",style:{fontSize:"12px",textAlign:"left",width:"50%",display:"inline-block",alignment:"left",margin:"0"}}),C.push({type:"text",value:`${new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format((null===(p=t.saldoInicial)||void 0===p||null===(h=p.total)||void 0===h?void 0:h.USD)||0)}`,style:{fontSize:"12px",textAlign:"right",width:"50%",display:"inline-block",alignment:"right",margin:"0 0 2px 0"}}),C.push({type:"text",value:"--------------------------------",style:{fontSize:"12px",textAlign:"center",width:"100%",display:"block",alignment:"center",margin:"0"}}),C.push({type:"text",value:"SALDOS DE CIERRE",style:{fontSize:"13px",fontWeight:"bold",textAlign:"center",width:"100%",display:"block",alignment:"center",margin:"2px 0 2px 0"}}),C.push({type:"text",value:"Guaranies:",style:{fontSize:"12px",textAlign:"left",width:"50%",display:"inline-block",alignment:"left",margin:"0"}}),C.push({type:"text",value:`${A?"0":cO((null===(f=t.saldoFinal)||void 0===f||null===(m=f.total)||void 0===m?void 0:m.PYG)||0)}`,style:{fontSize:"12px",textAlign:"right",width:"50%",display:"inline-block",alignment:"right",margin:"0"}}),C.push({type:"text",value:"Reales:",style:{fontSize:"12px",textAlign:"left",width:"50%",display:"inline-block",alignment:"left",margin:"0"}}),C.push({type:"text",value:`${A?"0,00":new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format((null===(g=t.saldoFinal)||void 0===g||null===(v=g.total)||void 0===v?void 0:v.BRL)||0)}`,style:{fontSize:"12px",textAlign:"right",width:"50%",display:"inline-block",alignment:"right",margin:"0"}}),C.push({type:"text",value:"Dolares:",style:{fontSize:"12px",textAlign:"left",width:"50%",display:"inline-block",alignment:"left",margin:"0"}}),C.push({type:"text",value:`${A?"0.00":new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format((null===(x=t.saldoFinal)||void 0===x||null===(b=x.total)||void 0===b?void 0:b.USD)||0)}`,style:{fontSize:"12px",textAlign:"right",width:"50%",display:"inline-block",alignment:"right",margin:"0 0 2px 0"}}),C.push({type:"text",value:"--------------------------------",style:{fontSize:"12px",textAlign:"center",width:"100%",display:"block",alignment:"center",margin:"0"}}),A||(C.push({type:"text",value:"RETIROS",style:{fontSize:"12px",fontWeight:"bold",textAlign:"center",width:"100%",display:"block",alignment:"center",margin:"0"}}),C.push({type:"text",value:"Guaranies:",style:{fontSize:"12px",textAlign:"left",width:"50%",display:"inline-block",alignment:"left",margin:"0"}}),C.push({type:"text",value:`${cO(o)}`,style:{fontSize:"12px",textAlign:"right",width:"50%",display:"inline-block",alignment:"right",margin:"0"}}),C.push({type:"text",value:"Reales:",style:{fontSize:"12px",textAlign:"left",width:"50%",display:"inline-block",alignment:"left",margin:"0"}}),C.push({type:"text",value:`${new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(a)}`,style:{fontSize:"12px",textAlign:"right",width:"50%",display:"inline-block",alignment:"right",margin:"0"}}),C.push({type:"text",value:"Dolares:",style:{fontSize:"12px",textAlign:"left",width:"50%",display:"inline-block",alignment:"left",margin:"0"}}),C.push({type:"text",value:`${new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(i)}`,style:{fontSize:"12px",textAlign:"right",width:"50%",display:"inline-block",alignment:"right",margin:"0 0 2px 0"}}),C.push({type:"text",value:"--------------------------------",style:{fontSize:"12px",textAlign:"center",width:"100%",display:"block",alignment:"center",margin:"0"}})),!A&&j&&(C.push({type:"text",value:"DIFERENCIAS",style:{fontSize:"12px",fontWeight:"bold",textAlign:"center",width:"100%",display:"block",alignment:"center",margin:"0"}}),void 0!==S&&(C.push({type:"text",value:"Diferencia Total:",style:{fontSize:"12px",textAlign:"left",width:"50%",display:"inline-block",alignment:"left",margin:"0"}}),C.push({type:"text",value:`${cO(S)}`,style:{fontSize:"12px",textAlign:"right",width:"50%",display:"inline-block",alignment:"right",margin:"0"}})),w&&w.length>0&&(C.push({type:"text",value:"DIFERENCIAS SERVICIOS",style:{fontSize:"12px",fontWeight:"bold",textAlign:"center",width:"100%",display:"block",alignment:"center",margin:"0"}}),w.filter((e=>"Efectivo"!==e.servicio)).forEach((e=>{const t=e.servicio.includes("Mini")?"Minicarga":e.servicio.includes("Maxi")?"Maxicarga":e.servicio.includes("Tigo")?"Tigo Money":e.servicio.includes("Billetera Personal")?"Billetera Personal":e.servicio.includes("Recarga Claro")?"Recarga Claro":e.servicio.includes("Billetera Claro")?"Billetera Claro":e.servicio;C.push({type:"text",value:`${t}:`,style:{fontSize:"12px",textAlign:"left",width:"50%",display:"inline-block",alignment:"left",margin:"0"}}),C.push({type:"text",value:`${cO(e.diferencia)}`,style:{fontSize:"12px",textAlign:"right",width:"50%",display:"inline-block",alignment:"right",margin:"0"}})}))),C.push({type:"text",value:"--------------------------------",style:{fontSize:"12px",textAlign:"center",width:"100%",display:"block",alignment:"center",margin:"0"}})),C.push({type:"text",value:"Firma Cajero",style:{fontSize:"12px",textAlign:"left",width:"50%",display:"inline-block",alignment:"left",margin:"0"}}),C.push({type:"text",value:"Firma Supervisor",style:{fontSize:"12px",textAlign:"right",width:"50%",display:"inline-block",alignment:"right",margin:"0"}}),C.push({type:"text",value:" ",style:{fontSize:"10px",textAlign:"center",width:"100%",display:"block",alignment:"center",margin:"5px 0"}});const E=JSON.stringify({caja:t.cajaEnteroId,fecha:uy(new Date,"dd/MM/yyyy HH:mm:ss",{locale:Cw}),sucursal:(null===(y=t.sucursal)||void 0===y?void 0:y.nombre)||"CENTRAL",usuario:t.usuario,diferenciaTotal:S});C.push({type:"qrCode",value:E,style:{fontSize:"0px",textAlign:"center",width:"100%",display:"block",alignment:"center",margin:"0"}}),C.push({type:"text",value:" ",style:{fontSize:"10px",textAlign:"center",width:"100%",display:"block",alignment:"center",margin:"5px 0"}}),C.push({type:"text",value:`Impreso el: ${uy(new Date,"dd/MM/yyyy HH:mm:ss",{locale:Cw})}`,style:{fontSize:"10px",textAlign:"center",width:"100%",display:"block",alignment:"center",margin:"0"}});const k={lines:[],htmlContent:C},O=await n.printTicket(k);O.success||(console.error("Error al imprimir con impresora t\xe9rmica:",O.error),jO())}catch(n){console.error("Error al preparar la impresi\xf3n t\xe9rmica:",n),jO()}})().catch((()=>{jO()}))})()};return(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsxs)(Et,{display:"flex",gap:1,children:[(0,Ve.jsx)(fs,{variant:"contained",color:"primary",size:"small",startIcon:(0,Ve.jsx)(cA,{}),onClick:()=>{n(!0)},children:"Vista Previa"}),(0,Ve.jsx)(fs,{variant:"contained",color:"secondary",size:"small",startIcon:(0,Ve.jsx)(Rs,{}),onClick:i,children:"Imprimir Ticket"})]}),(0,Ve.jsxs)(Fi,{open:t,onClose:o,maxWidth:"xs",fullWidth:!0,PaperProps:{style:{backgroundColor:"#f5f5f5",boxShadow:"0px 0px 10px rgba(0, 0, 0, 0.1)",borderRadius:"8px"}},children:[(0,Ve.jsxs)(Ki,{children:[(0,Ve.jsx)(Et,{display:"flex",justifyContent:"flex-end",mb:1,children:(0,Ve.jsx)(Ir,{onClick:o,size:"small",children:(0,Ve.jsx)(AC,{})})}),(0,Ve.jsx)(Et,{sx:{backgroundColor:"white",p:1,border:"1px solid #ddd",borderRadius:"4px",maxHeight:"70vh",overflowY:"auto"},children:(0,Ve.jsx)(wO,{cajaSeleccionada:e.cajaSeleccionada,diferenciasEfectivo:e.diferenciasEfectivo,diferenciasServicios:e.diferenciasServicios,diferenciaTotal:e.diferenciaTotal})})]}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:o,color:"primary",children:"Cerrar"}),(0,Ve.jsx)(fs,{onClick:()=>{o(),i()},color:"secondary",variant:"contained",startIcon:(0,Ve.jsx)(Rs,{}),children:"Imprimir"})]})]})]})},CO=e=>{var t,r,n,o,i,s,l,c,d,u,p,h,f,m,g,v,x,b,y,j,w,S,C,A,E,k,O,P,I;let{open:D,onClose:M}=e;console.log("Renderizando DetalleDialog, open:",D);const{cajaSeleccionada:T,handleVerApertura:R,handleVerMovimientos:N,handleRetiros:$,handleVerOperacionesBancarias:z,handlePagos:L,handleCerrarCaja:B,handleImprimirResumen:F,setLoading:_,setErrorMessage:U,operacionesBancarias:W,setOperacionesBancarias:V}=Hk(),{cotizacionVigente:G}=SC(),[H,q]=(0,a.useState)({}),[Y,K]=(0,a.useState)([]),[X,Q]=(0,a.useState)([]),[J,Z]=(0,a.useState)(!1),[ee,te]=(0,a.useState)([]),[re,ne]=(0,a.useState)(null);(0,a.useEffect)((()=>{if(D&&T&&T.id){Z(!1),ie(),ae(),oe(),console.log("Iniciando carga de operaciones bancarias para caja:",T.id);const e=`http://localhost:3000/api/operaciones-bancarias/caja/${T.id}`;console.log("URL de carga de operaciones bancarias:",e),ed.get(e).then((e=>{console.log("Operaciones bancarias recibidas:",e.data),V(e.data)})).catch((e=>{console.error("Error al cargar operaciones bancarias para c\xe1lculo:",e),V([])}))}}),[D,T,V]),(0,a.useEffect)((()=>{D||(q({}),Q([]),te([]),Z(!1),ne(null))}),[D]);const oe=async()=>{if(T&&T.id)try{console.log(`Cargando retiros para caja ID: ${T.id}`);const e=await ed.get(`http://localhost:3000/api/cajas/${T.id}/retiros`);e.data&&Array.isArray(e.data)?(te(e.data),console.log("Retiros cargados:",e.data)):(console.warn("No se recibieron datos de retiros v\xe1lidos"),te([]))}catch(e){console.error("Error al cargar retiros:",e),te([])}},ae=async()=>{if(T&&T.fechaApertura)try{let t;console.log(`Cargando cotizaci\xf3n para la fecha de apertura: ${T.fechaApertura}`);try{t=await JS.getCotizacionByFecha(T.fechaApertura)}catch(e){console.error("Error al cargar cotizaci\xf3n por fecha, usando cotizaci\xf3n vigente:",e),t=G||{valorReal:1380,valorDolar:7980}}console.log("Cotizaci\xf3n de apertura cargada:",t),ne({valorReal:Number(t.valorReal)||1380,valorDolar:Number(t.valorDolar)||7980})}catch(e){console.error("Error al cargar cotizaci\xf3n de apertura:",e),ne({valorReal:(null===G||void 0===G?void 0:G.valorReal)||1380,valorDolar:(null===G||void 0===G?void 0:G.valorDolar)||7980})}},ie=async()=>{if(T&&T.id){_(!0),Z(!1);try{console.log(`Cargando datos para caja ID: ${T.id}`);const[e,t,r]=await Promise.all([ed.get(`http://localhost:3000/api/cajas/${T.id}/movimiento`),ed.get(`http://localhost:3000/api/pagos-servicios?cajaId=${T.id}`),ed.get(`http://localhost:3000/api/cajas/${T.id}/pagos`)]);e.data&&e.data.data?(q(e.data.data),console.log("Movimientos cargados:",e.data.data)):(console.warn("No se recibieron datos de movimientos v\xe1lidos"),q({})),t.data?(Q(t.data),console.log("Pagos de Servicios (todos) cargados:",t.data)):(console.warn("No se recibieron datos de pagos de servicios v\xe1lidos"),Q([])),r.data?(K(r.data),console.log("Pagos desde Caja cargados:",r.data)):(console.warn("No se recibieron datos de pagos desde caja v\xe1lidos"),K([])),Z(!!e.data&&!!e.data.data),console.log("Datos actualizados correctamente")}catch(e){console.error("Error al cargar datos adicionales:",e),U("Error al cargar datos de movimientos y pagos"),q({}),Q([]),K([]),Z(!1)}finally{_(!1)}}};if((0,a.useEffect)((()=>{W&&W.length>0&&(console.log("Operaciones bancarias actualizadas, recalculando diferencia:",W),Z(!0))}),[W]),!T)return null;const se="abierta"===T.estado,le=T.saldoInicial&&T.saldoInicial.total&&"object"===typeof T.saldoInicial.total;console.log("Estado de caja:",T.estado),console.log("Saldo final:",T.saldoFinal),console.log("Servicios finales:",T.saldosServiciosFinal);T.saldoFinal&&T.saldoFinal.total&&T.saldoFinal.total;const ce={Minicarga:{operadora:"tigo",servicio:"miniCarga"},"Mini Carga":{operadora:"tigo",servicio:"miniCarga"},MINICARGA:{operadora:"tigo",servicio:"miniCarga"},"Tigo Money":{operadora:"tigo",servicio:"retiros"},"TIGO MONEY":{operadora:"tigo",servicio:"retiros"},Maxicarga:{operadora:"personal",servicio:"maxiCarga"},"Maxi Carga":{operadora:"personal",servicio:"maxiCarga"},MAXICARGA:{operadora:"personal",servicio:"maxiCarga"},"Billetera Personal":{operadora:"personal",servicio:"cargaBilleteras"},"BILLETERA PERSONAL":{operadora:"personal",servicio:"cargaBilleteras"},"Recarga Claro":{operadora:"claro",servicio:"recargaClaro"},"RECARGA CLARO":{operadora:"claro",servicio:"recargaClaro"},"Billetera Claro":{operadora:"claro",servicio:"cargaBilleteras"},"BILLETERA CLARO":{operadora:"claro",servicio:"cargaBilleteras"}},de=(e,t,r)=>{if("Tigo Money"===e||"TIGO MONEY"===e){var n,o,a;const e=(null===(n=t.tigo)||void 0===n?void 0:n.girosEnviados)||0,r=(null===(o=t.tigo)||void 0===o?void 0:o.retiros)||0,i=(null===(a=t.tigo)||void 0===a?void 0:a.cargaBilleteras)||0;return console.log("TigoMoney - girosEnviados:",e,"retiros:",r,"cargaBilleteras:",i),e+i-r}if("Billetera Personal"===e||"BILLETERA PERSONAL"===e){var i,s,l;const e=(null===(i=t.personal)||void 0===i?void 0:i.girosEnviados)||0,r=(null===(s=t.personal)||void 0===s?void 0:s.retiros)||0,n=(null===(l=t.personal)||void 0===l?void 0:l.cargaBilleteras)||0;return console.log("BilleteraPersonal - girosEnviados:",e,"retiros:",r,"cargaBilleteras:",n),e+n-r}if("Billetera Claro"===e||"BILLETERA CLARO"===e){var c,d,u;const e=(null===(c=t.claro)||void 0===c?void 0:c.girosEnviados)||0,r=(null===(d=t.claro)||void 0===d?void 0:d.retiros)||0,n=(null===(u=t.claro)||void 0===u?void 0:u.cargaBilleteras)||0;return console.log("BilleteraClaro - girosEnviados:",e,"retiros:",r,"cargaBilleteras:",n),e+n-r}{const r=ce[e];if(!r)return 0;const{operadora:n,servicio:o}=r;return t[n]&&t[n][o]||0}},ue=e=>{if(!X||!Array.isArray(X)||0===X.length)return 0;const t=ce[e];if(!t)return 0;const{operadora:r,servicio:n}=t,o=r.toLowerCase(),a=n.toLowerCase();let i=[];i="minicarga"===a?["mini carga","minicarga"]:"maxicarga"===a?["maxi carga","maxicarga"]:"recargaclaro"===a?["recarga claro","recargaclaro","recargas","recarga"]:"retiros"===a?"Tigo Money"===e||"TIGO MONEY"===e?["billetera","billeteras","tigo money"]:["retiro","tigo money"]:"cargabilleteras"===a?"Billetera Personal"===e||"BILLETERA PERSONAL"===e?["billetera personal","billetera","personal"]:["billetera","billeteras"]:[a];const s=X.filter((t=>{const r=t.operadora.toLowerCase(),n=t.servicio.toLowerCase();return"claro"===o&&"recargaclaro"===a?r.includes("claro")&&(n.includes("recarga")||n.includes("recargas")):"Tigo Money"===e||"TIGO MONEY"===e?r.includes("tigo")&&(n.includes("billetera")||n.includes("tigo money")):"Billetera Personal"===e||"BILLETERA PERSONAL"===e?r.includes("personal")&&(n.includes("billetera")||n.includes("personal")):"Billetera Claro"===e||"BILLETERA CLARO"===e?r.includes("claro")&&(n.includes("billetera")||n.includes("claro")):!(r!==o&&!r.includes(o))&&i.some((e=>n.includes(e)))})),l=s.reduce(((e,t)=>e+(Number(t.monto)||0)),0),c="Tigo Money"===e||"TIGO MONEY"===e||("Billetera Personal"===e||"BILLETERA PERSONAL"===e)||("Billetera Claro"===e||"BILLETERA CLARO"===e),d=c?l:1.05*l;return console.log(`Pagos filtrados para ${e} (${r}/${n}):`,s.map((e=>({...e,monto:Number(e.monto)})))),console.log(`Total pagos sin comisi\xf3n para ${e}: ${l}`),c?console.log(`Total pagos para ${e} (sin comisi\xf3n): ${d}`):console.log(`Total pagos CON 5% para ${e}: ${d}`),d},pe=()=>{const e=void 0!==H&&null!==H,t=Y&&Array.isArray(Y),r=X&&Array.isArray(X),n=null!==re;return console.log("Estado de disponibilidad de datos:",{hayMovimientos:e,hayPagosOriginales:t,hayPagosServicios:r,hayCotizacion:n,datosActualizados:J}),J&&t&&r&&e&&n},he=(()=>{var e,t,r,n,o,a;if(!T.saldoFinal||!le)return{PYG:0,BRL:0,USD:0};const i=(null===(e=T.saldoFinal.total)||void 0===e?void 0:e.PYG)||0,s=(null===(t=T.saldoFinal.total)||void 0===t?void 0:t.BRL)||0,l=(null===(r=T.saldoFinal.total)||void 0===r?void 0:r.USD)||0;return{PYG:i-((null===(n=T.saldoInicial.total)||void 0===n?void 0:n.PYG)||0),BRL:s-((null===(o=T.saldoInicial.total)||void 0===o?void 0:o.BRL)||0),USD:l-((null===(a=T.saldoInicial.total)||void 0===a?void 0:a.USD)||0)}})(),fe=(()=>{try{const e=["Minicarga","Tigo Money","Maxicarga","Billetera Personal","Recarga Claro","Billetera Claro"],t=(()=>{if(!pe())return console.log("No se pueden calcular diferencias de servicios - datos no disponibles"),[];console.log("Calculando diferencias con datos actualizados:",{movimientos:H,todosPagosServicios:X,pagos:Y});const e=new Map,t=Array.isArray(T.saldosServiciosInicial)?T.saldosServiciosInicial:Array.isArray(T.servicios)?T.servicios:[],r=Array.isArray(T.saldosServiciosFinal)?T.saldosServiciosFinal:[];return console.log("Servicios iniciales:",t),console.log("Servicios finales:",r),0===t.length&&0===r.length?(console.warn("No hay servicios iniciales ni finales para calcular diferencias"),[]):(t.forEach((t=>{const r=t.servicio||"",n=de(r,H),o=ue(r);console.log(`Agregando servicio inicial: ${r}, monto: ${t.monto}`),e.set(r,{servicio:r,montoInicial:Number(t.monto)||0,montoFinal:0,montoMovimiento:n,montoPagos:o,diferencia:0})})),r.forEach((t=>{const r=t.servicio||"";if(e.has(r)){const n=e.get(r);if(!n)return void console.warn(`Servicio ${r} encontrado en Map keys pero no al obtenerlo? Saltando.`);n.montoFinal=Number(t.monto)||0;const o=Number(n.montoInicial)||0,a=Number(n.montoMovimiento)||0,i=Number(t.monto)||0;let s=0;const l=r.toUpperCase();if(l.includes("MINICARGA")){const e=Y.filter((e=>e.servicio.toLowerCase().includes("minicarga")||e.servicio.toLowerCase().includes("mini carga"))).reduce(((e,t)=>e+(Number(t.monto)||0)),0),r=X.filter((e=>{var t;return(e.servicio.toLowerCase().includes("minicarga")||e.servicio.toLowerCase().includes("mini carga"))&&"PENDIENTE"===(null===(t=e.estado)||void 0===t?void 0:t.toUpperCase())})).reduce(((e,t)=>e+(Number(t.monto)||0)),0),l=e+r;s=1.05*l,n.pagosDesdeCaja=e,n.pagosServiciosPendientes=r,n.pagosConComision=s,console.log(`C\xe1lculo diferencia para ${t.servicio} (Minicarga Modificado):`,{inicial:o,movimiento:a,final:i,pagosCaja:e,pagosServiciosPendientes:r,totalPagosParaComision:l,pagosCalculados:s})}else if(l.includes("MAXICARGA")){const e=Y.filter((e=>e.servicio.toLowerCase().includes("maxicarga")||e.servicio.toLowerCase().includes("maxi carga"))).reduce(((e,t)=>e+(Number(t.monto)||0)),0),r=X.filter((e=>{var t;return(e.servicio.toLowerCase().includes("maxicarga")||e.servicio.toLowerCase().includes("maxi carga"))&&"PENDIENTE"===(null===(t=e.estado)||void 0===t?void 0:t.toUpperCase())})).reduce(((e,t)=>e+(Number(t.monto)||0)),0),l=e+r;s=1.05*l,n.pagosDesdeCaja=e,n.pagosServiciosPendientes=r,n.pagosConComision=s,console.log(`C\xe1lculo diferencia para ${t.servicio} (Maxicarga Modificado):`,{inicial:o,movimiento:a,final:i,pagosCaja:e,pagosServiciosPendientes:r,totalPagosParaComision:l,pagosCalculados:s})}else if(l.includes("RECARGA CLARO")){const e=Y.filter((e=>"claro"===e.operadora.toLowerCase()&&"recarga"===e.servicio.toLowerCase())).reduce(((e,t)=>e+(Number(t.monto)||0)),0),r=X.filter((e=>{var t;return"claro"===e.operadora.toLowerCase()&&"recarga"===e.servicio.toLowerCase()&&"PENDIENTE"===(null===(t=e.estado)||void 0===t?void 0:t.toUpperCase())})).reduce(((e,t)=>e+(Number(t.monto)||0)),0),l=e+r;s=1.05*l,n.pagosDesdeCaja=e,n.pagosServiciosPendientes=r,n.pagosConComision=s,console.log(`C\xe1lculo diferencia para ${t.servicio} (Recarga Claro Modificado):`,{inicial:o,movimiento:a,final:i,pagosCaja:e,pagosServiciosPendientes:r,totalPagosParaComision:l,pagosCalculados:s})}else if("TIGO MONEY"===l){const e=Y.filter((e=>"tigo"===e.operadora.toLowerCase()&&"billetera"===e.servicio.toLowerCase())).reduce(((e,t)=>e+(Number(t.monto)||0)),0),r=X.filter((e=>{var t;return"tigo"===e.operadora.toLowerCase()&&"billetera"===e.servicio.toLowerCase()&&"PENDIENTE"===(null===(t=e.estado)||void 0===t?void 0:t.toUpperCase())})).reduce(((e,t)=>e+(Number(t.monto)||0)),0);s=e+r,n.pagosDesdeCaja=e,n.pagosServiciosPendientes=r,n.pagosConComision=s,console.log(`C\xe1lculo diferencia para ${t.servicio} (Tigo Money Modificado):`,{inicial:o,movimiento:a,final:i,pagosCaja:e,pagosServiciosPendientes:r,pagosCalculados:s})}else if(l.includes("BILLETERA PERSONAL")){const e=Y.filter((e=>"personal"===e.operadora.toLowerCase()&&"billetera"===e.servicio.toLowerCase())).reduce(((e,t)=>e+(Number(t.monto)||0)),0),r=X.filter((e=>{var t;return"personal"===e.operadora.toLowerCase()&&"billetera"===e.servicio.toLowerCase()&&"PENDIENTE"===(null===(t=e.estado)||void 0===t?void 0:t.toUpperCase())})).reduce(((e,t)=>e+(Number(t.monto)||0)),0);s=e+r,n.pagosDesdeCaja=e,n.pagosServiciosPendientes=r,n.pagosConComision=s,console.log(`C\xe1lculo diferencia para ${t.servicio} (Billetera Personal Modificado):`,{inicial:o,movimiento:a,final:i,pagosCaja:e,pagosServiciosPendientes:r,pagosCalculados:s})}else if(l.includes("BILLETERA CLARO")){const e=Y.filter((e=>"claro"===e.operadora.toLowerCase()&&"billetera"===e.servicio.toLowerCase())).reduce(((e,t)=>e+(Number(t.monto)||0)),0),r=X.filter((e=>{var t;return"claro"===e.operadora.toLowerCase()&&"billetera"===e.servicio.toLowerCase()&&"PENDIENTE"===(null===(t=e.estado)||void 0===t?void 0:t.toUpperCase())})).reduce(((e,t)=>e+(Number(t.monto)||0)),0);s=e+r,n.pagosDesdeCaja=e,n.pagosServiciosPendientes=r,n.pagosConComision=s,console.log(`C\xe1lculo diferencia para ${t.servicio} (Billetera Claro Modificado):`,{inicial:o,movimiento:a,final:i,pagosCaja:e,pagosServiciosPendientes:r,pagosCalculados:s})}else s=Number(n.montoPagos)||0,n.pagosConComision=s,console.log(`C\xe1lculo diferencia para ${t.servicio} (Original):`,{inicial:o,movimiento:a,final:i,pagosCalculados:s});const c=-1*(o-a+s-i);n.diferencia=c}else{const n=de(r,H),o=ue(r);console.log(`Agregando servicio solo en final: ${r}, monto: ${t.monto}`),e.set(r,{servicio:r,montoInicial:0,montoFinal:Number(t.monto)||0,montoMovimiento:n,montoPagos:o,diferencia:-1*(Number(t.monto)||0)})}})),console.log("Mapa de servicios calculado:",Array.from(e.values())),Array.from(e.values()))})(),r=new Map;return Array.isArray(t)&&t.forEach((e=>{e&&e.servicio&&r.set(e.servicio.toUpperCase(),e)})),e.map((e=>{const t=r.get(e.toUpperCase());return t||{servicio:e,montoInicial:0,montoFinal:0,montoMovimiento:0,montoPagos:0,diferencia:0}}))}catch(e){return console.error("Error en obtenerDiferenciasServiciosEstandarizados:",e),["Minicarga","Tigo Money","Maxicarga","Billetera Personal","Recarga Claro","Billetera Claro"].map((e=>({servicio:e,montoInicial:0,montoFinal:0,montoMovimiento:0,montoPagos:0,diferencia:0})))}})(),me=(()=>{var e,t,r,n,o,a,i,s,l,c,d,u,p,h;if(!pe()||!T.saldoFinal||!le||!re)return 0;console.log("Operaciones bancarias disponibles al calcular diferencia:",W);const f=re.valorReal,m=re.valorDolar;console.log("Cotizaciones para c\xe1lculo (fecha apertura):",{BRL:f,USD:m});const g=((null===(e=T.saldoInicial.total)||void 0===e?void 0:e.PYG)||0)+((null===(t=T.saldoInicial.total)||void 0===t?void 0:t.BRL)||0)*f+((null===(r=T.saldoInicial.total)||void 0===r?void 0:r.USD)||0)*m,v=fe.reduce(((e,t)=>e+(t.montoMovimiento||0)),0),x=(null===(n=H.aquiPago)||void 0===n?void 0:n.pagos)||0,b=(null===(o=H.aquiPago)||void 0===o?void 0:o.retiros)||0,y=(null===(a=H.wepaGuaranies)||void 0===a?void 0:a.pagos)||0,j=(null===(i=H.wepaGuaranies)||void 0===i?void 0:i.retiros)||0,w="string"===typeof(null===(s=H.wepaDolares)||void 0===s?void 0:s.pagos)?parseFloat(H.wepaDolares.pagos)||0:(null===(l=H.wepaDolares)||void 0===l?void 0:l.pagos)||0,S=w*m,C="string"===typeof(null===(c=H.wepaDolares)||void 0===c?void 0:c.retiros)?parseFloat(H.wepaDolares.retiros)||0:(null===(d=H.wepaDolares)||void 0===d?void 0:d.retiros)||0,A=C*m,E=ee.reduce(((e,t)=>e+(Number(t.montoPYG)||0)),0),k=ee.reduce(((e,t)=>e+(Number(t.montoBRL)||0)),0),O=k*f,P=ee.reduce(((e,t)=>e+(Number(t.montoUSD)||0)),0),I=P*m,D=Y.reduce(((e,t)=>e+(Number(t.monto)||0)),0),M=Array.isArray(W)?W.reduce(((e,t)=>{const r=Number(t.monto)||0;return console.log("Operaci\xf3n bancaria:",t.tipo,t.tipoServicio,"Monto:",r),e+r}),0):0;console.log("Total operaciones bancarias calculado:",M);const R=((null===(u=T.saldoFinal.total)||void 0===u?void 0:u.PYG)||0)+((null===(p=T.saldoFinal.total)||void 0===p?void 0:p.BRL)||0)*f+((null===(h=T.saldoFinal.total)||void 0===h?void 0:h.USD)||0)*m,N=X.filter((e=>{var t;return"efectivo"===e.servicio.toLowerCase()&&"PENDIENTE"===(null===(t=e.estado)||void 0===t?void 0:t.toUpperCase())})),$=N.filter((e=>"PYG"===e.moneda)).reduce(((e,t)=>e+(Number(t.monto)||0)),0)+N.filter((e=>"BRL"===e.moneda)).reduce(((e,t)=>e+(Number(t.monto)||0)),0)*f+N.filter((e=>"USD"===e.moneda)).reduce(((e,t)=>e+(Number(t.monto)||0)),0)*m,z=g+v+x-b+y-j+S-A+$-E-O-I-D-M-R,L=-1*z;return console.log("C\xe1lculo diferencia total en guaran\xedes:",{totalInicialEnPYG:g,totalMovimientos:v,aquiPagoPagos:x,aquiPagoRetiros:b,wepaGuaraniesPagos:y,wepaGuaraniesRetiros:j,wepaDolaresPagosUSD:w,wepaDolaresPagos:S,wepaDolaresRetirosUSD:C,wepaDolaresRetiros:A,totalPagosEfectivoPendienteEnPYG:$,totalRetirosPYG:E,totalRetirosBRL:k,totalRetirosBRLenPYG:O,totalRetirosUSD:P,totalRetirosUSDenPYG:I,totalPagosTablaPago:D,totalOperacionesBancarias:M,totalFinalEnPYG:R,diferenciaIntermedida:z,diferenciaFinal:L}),L})(),ge=(0,Ve.jsxs)("div",{className:"p-4 max-w-md",children:[(0,Ve.jsx)("h3",{className:"text-lg font-bold mb-2",children:"Diferencia Total (Gs)"}),(0,Ve.jsx)("p",{children:"Esta diferencia se calcula con la siguiente f\xf3rmula:"}),(0,Ve.jsxs)("p",{className:"mt-2",children:["(",(0,Ve.jsx)("strong",{children:"Inicial"})," + ",(0,Ve.jsx)("strong",{children:"Movimientos"})," + ",(0,Ve.jsx)("strong",{children:"Aqui Pago"})," + ",(0,Ve.jsx)("strong",{children:"Wepa"})," + ",(0,Ve.jsx)("strong",{children:"Pagos Efectivo (Caja Mayor)"})," - ",(0,Ve.jsx)("strong",{children:"Retiros"})," - ",(0,Ve.jsx)("strong",{children:"Pagos Servicios"})," - ",(0,Ve.jsx)("strong",{children:"Operaciones Bancarias"})," - ",(0,Ve.jsx)("strong",{children:"Final"}),") \xd7 ",(0,Ve.jsx)("strong",{children:"-1"})," = ",(0,Ve.jsx)("strong",{children:"Diferencia"})]}),(0,Ve.jsx)("p",{className:"mt-2",children:"Donde:"}),(0,Ve.jsx)("ul",{className:"list-disc pl-6 mt-1",children:pe()&&T.saldoFinal&&le&&re&&(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)("li",{children:(0,Ve.jsx)("strong",{children:"Inicial:"})}),(0,Ve.jsxs)("ul",{className:"list-disc pl-6",children:[(0,Ve.jsxs)("li",{children:["+ Saldo Inicial PYG: ",cO((null===(t=T.saldoInicial)||void 0===t||null===(r=t.total)||void 0===r?void 0:r.PYG)||0)," Gs"]}),(0,Ve.jsxs)("li",{children:["+ Saldo Inicial BRL: ",cO(((null===(n=T.saldoInicial)||void 0===n||null===(o=n.total)||void 0===o?void 0:o.BRL)||0)*re.valorReal)," Gs"]}),(0,Ve.jsxs)("li",{children:["+ Saldo Inicial USD: ",cO(((null===(i=T.saldoInicial)||void 0===i||null===(s=i.total)||void 0===s?void 0:s.USD)||0)*re.valorDolar)," Gs"]})]}),(0,Ve.jsx)("li",{children:(0,Ve.jsx)("strong",{children:"Movimientos:"})}),(0,Ve.jsx)("ul",{className:"list-disc pl-6",children:(0,Ve.jsxs)("li",{children:["+ Total Movimientos: ",cO(fe.reduce(((e,t)=>e+(t.montoMovimiento||0)),0))," Gs"]})}),(0,Ve.jsx)("li",{children:(0,Ve.jsx)("strong",{children:"Aqui Pago:"})}),(0,Ve.jsxs)("ul",{className:"list-disc pl-6",children:[(0,Ve.jsxs)("li",{children:["+ Pagos: ",cO((null===(l=H.aquiPago)||void 0===l?void 0:l.pagos)||0)," Gs"]}),(0,Ve.jsxs)("li",{children:["- Retiros: ",cO((null===(c=H.aquiPago)||void 0===c?void 0:c.retiros)||0)," Gs"]})]}),(0,Ve.jsx)("li",{children:(0,Ve.jsx)("strong",{children:"Wepa Guaran\xedes:"})}),(0,Ve.jsxs)("ul",{className:"list-disc pl-6",children:[(0,Ve.jsxs)("li",{children:["+ Pagos: ",cO((null===(d=H.wepaGuaranies)||void 0===d?void 0:d.pagos)||0)," Gs"]}),(0,Ve.jsxs)("li",{children:["- Retiros: ",cO((null===(u=H.wepaGuaranies)||void 0===u?void 0:u.retiros)||0)," Gs"]})]}),(0,Ve.jsx)("li",{children:(0,Ve.jsx)("strong",{children:"Wepa D\xf3lares:"})}),(0,Ve.jsxs)("ul",{className:"list-disc pl-6",children:[(0,Ve.jsxs)("li",{children:["+ Pagos: ",cO(("string"===typeof(null===(p=H.wepaDolares)||void 0===p?void 0:p.pagos)?parseFloat(H.wepaDolares.pagos)||0:(null===(h=H.wepaDolares)||void 0===h?void 0:h.pagos)||0)*re.valorDolar)," Gs"]}),(0,Ve.jsxs)("li",{children:["- Retiros: ",cO(("string"===typeof(null===(f=H.wepaDolares)||void 0===f?void 0:f.retiros)?parseFloat(H.wepaDolares.retiros)||0:(null===(m=H.wepaDolares)||void 0===m?void 0:m.retiros)||0)*re.valorDolar)," Gs"]})]}),(0,Ve.jsx)("li",{children:(0,Ve.jsx)("strong",{children:"Efectivo (Caja Mayor):"})}),(0,Ve.jsx)("ul",{className:"list-disc pl-6",children:(0,Ve.jsxs)("li",{children:["+ Total Efectivo: ",cO(X.filter((e=>{var t;return"efectivo"===e.servicio.toLowerCase()&&"PENDIENTE"===(null===(t=e.estado)||void 0===t?void 0:t.toUpperCase())&&"PYG"===e.moneda})).reduce(((e,t)=>e+(Number(t.monto)||0)),0)+X.filter((e=>{var t;return"efectivo"===e.servicio.toLowerCase()&&"PENDIENTE"===(null===(t=e.estado)||void 0===t?void 0:t.toUpperCase())&&"BRL"===e.moneda})).reduce(((e,t)=>e+(Number(t.monto)||0)),0)*re.valorReal+X.filter((e=>{var t;return"efectivo"===e.servicio.toLowerCase()&&"PENDIENTE"===(null===(t=e.estado)||void 0===t?void 0:t.toUpperCase())&&"USD"===e.moneda})).reduce(((e,t)=>e+(Number(t.monto)||0)),0)*re.valorDolar)," Gs"]})}),(0,Ve.jsx)("li",{children:(0,Ve.jsx)("strong",{children:"Retiros:"})}),(0,Ve.jsxs)("ul",{className:"list-disc pl-6",children:[(0,Ve.jsxs)("li",{children:["- Retiros PYG: ",cO(ee.reduce(((e,t)=>e+(Number(t.montoPYG)||0)),0))," Gs"]}),(0,Ve.jsxs)("li",{children:["- Retiros BRL: ",cO(ee.reduce(((e,t)=>e+(Number(t.montoBRL)||0)),0)*re.valorReal)," Gs"]}),(0,Ve.jsxs)("li",{children:["- Retiros USD: ",cO(ee.reduce(((e,t)=>e+(Number(t.montoUSD)||0)),0)*re.valorDolar)," Gs"]})]}),(0,Ve.jsx)("li",{children:(0,Ve.jsx)("strong",{children:"Pagos Servicios:"})}),(0,Ve.jsx)("ul",{className:"list-disc pl-6",children:(0,Ve.jsxs)("li",{children:["- Total Pagos Servicios (sin comisi\xf3n): ",cO(Y.reduce(((e,t)=>e+(Number(t.monto)||0)),0))," Gs"]})}),(0,Ve.jsx)("li",{children:(0,Ve.jsx)("strong",{children:"Operaciones Bancarias:"})}),(0,Ve.jsx)("ul",{className:"list-disc pl-6",children:(0,Ve.jsxs)("li",{children:["- Total Operaciones: ",cO(W.reduce(((e,t)=>e+(Number(t.monto)||0)),0))," Gs"]})}),(0,Ve.jsx)("li",{children:(0,Ve.jsx)("strong",{children:"Final:"})}),(0,Ve.jsxs)("ul",{className:"list-disc pl-6",children:[(0,Ve.jsxs)("li",{children:["- Saldo Final PYG: ",cO((null===(g=T.saldoFinal)||void 0===g||null===(v=g.total)||void 0===v?void 0:v.PYG)||0)," Gs"]}),(0,Ve.jsxs)("li",{children:["- Saldo Final BRL: ",cO(((null===(x=T.saldoFinal)||void 0===x||null===(b=x.total)||void 0===b?void 0:b.BRL)||0)*re.valorReal)," Gs"]}),(0,Ve.jsxs)("li",{children:["- Saldo Final USD: ",cO(((null===(y=T.saldoFinal)||void 0===y||null===(j=y.total)||void 0===j?void 0:j.USD)||0)*re.valorDolar)," Gs"]})]}),(0,Ve.jsxs)("li",{children:[(0,Ve.jsx)("strong",{children:"Resultado intermedio:"})," ",cO(-me)," Gs"]}),(0,Ve.jsxs)("li",{children:[(0,Ve.jsx)("strong",{children:"Resultado final (\xd7 -1):"})," ",cO(me)," Gs"]}),(0,Ve.jsxs)("li",{children:[(0,Ve.jsx)("strong",{children:"Cotizaci\xf3n Apertura:"})," USD: ",null===re||void 0===re?void 0:re.valorDolar.toLocaleString()," Gs | Real: ",null===re||void 0===re?void 0:re.valorReal.toLocaleString()," Gs"]})]})})]});return(0,Ve.jsxs)(Fi,{open:D,onClose:M,maxWidth:"lg",fullWidth:!0,PaperProps:{sx:{maxHeight:"90vh"}},children:[(0,Ve.jsx)(Gi,{sx:{p:1,pb:.5},children:(0,Ve.jsxs)(Et,{children:[(0,Ve.jsx)($r,{variant:"h6",component:"span",children:"Detalle de Caja"}),(0,Ve.jsxs)($r,{variant:"subtitle2",component:"div",color:"text.secondary",sx:{mb:0},children:[dO(T.id)," (ID: ",T.cajaEnteroId,") "]})]})}),(0,Ve.jsx)(Ki,{dividers:!0,sx:{p:1},children:(0,Ve.jsxs)($h,{container:!0,spacing:1,children:[(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsx)($t,{variant:"outlined",sx:{p:1,mb:.5},children:(0,Ve.jsxs)($h,{container:!0,spacing:1,children:[(0,Ve.jsxs)($h,{item:!0,xs:12,md:3,children:[(0,Ve.jsx)($r,{variant:"subtitle2",color:"text.secondary",children:"Estado:"}),(0,Ve.jsx)(Et,{sx:{backgroundColor:se?"green":"gray",color:"white",padding:"2px 8px",borderRadius:"4px",display:"inline-block",mt:1,mb:1},children:se?"ABIERTA":"CERRADA"}),(0,Ve.jsx)($r,{variant:"subtitle2",color:"text.secondary",sx:{mt:1},children:"Fecha Apertura:"}),(0,Ve.jsx)($r,{variant:"body1",children:uy(new Date(T.fechaApertura),"dd/MM/yyyy HH:mm",{locale:Cw})})]}),(0,Ve.jsxs)($h,{item:!0,xs:12,md:3,children:[(0,Ve.jsx)($r,{variant:"subtitle2",color:"text.secondary",children:"Usuario:"}),(0,Ve.jsxs)($r,{variant:"body1",sx:{mb:1},children:[" ",T.usuario]}),(0,Ve.jsx)($r,{variant:"subtitle2",color:"text.secondary",sx:{mt:1},children:"Fecha Cierre:"}),(0,Ve.jsx)($r,{variant:"body1",children:T.fechaCierre?uy(new Date(T.fechaCierre),"dd/MM/yyyy HH:mm",{locale:Cw}):"-"})]}),(0,Ve.jsxs)($h,{item:!0,xs:12,md:3,children:[(0,Ve.jsx)($r,{variant:"subtitle2",color:"text.secondary",children:"Malet\xedn:"}),(0,Ve.jsxs)($r,{variant:"body1",sx:{mb:1},children:[" ",T.maletinId]}),(0,Ve.jsx)($r,{variant:"subtitle2",color:"text.secondary",sx:{mt:1},children:"Sucursal:"}),(0,Ve.jsxs)($r,{variant:"body1",sx:{mb:1},children:[" ",(null===(w=T.sucursal)||void 0===w?void 0:w.nombre)||"-"]})]}),(0,Ve.jsxs)($h,{item:!0,xs:12,md:3,children:[(0,Ve.jsx)($r,{variant:"subtitle2",color:"text.secondary",children:"Cotizaci\xf3n Apertura:"}),re?(0,Ve.jsxs)(Et,{children:[(0,Ve.jsxs)($r,{variant:"body1",children:["USD: ",cO(re.valorDolar)," Gs"]}),(0,Ve.jsxs)($r,{variant:"body1",children:["BRL: ",cO(re.valorReal)," Gs"]})]}):(0,Ve.jsx)($r,{variant:"body1",children:"Cargando..."})]}),(0,Ve.jsxs)($h,{item:!0,xs:12,sx:{mt:.5},children:[(0,Ve.jsx)(Ii,{sx:{mb:.5}}),(0,Ve.jsx)($r,{variant:"subtitle2",gutterBottom:!0,sx:{mb:.5},children:"Acciones disponibles:"}),(0,Ve.jsxs)(Et,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:[(0,Ve.jsx)(Qo,{title:"Ver Datos de Apertura",children:(0,Ve.jsx)(fs,{variant:"outlined",color:"info",size:"small",startIcon:(0,Ve.jsx)(ys,{}),onClick:()=>{R(T),M()},sx:{mb:1},children:"Datos Apertura"})}),(0,Ve.jsx)(Qo,{title:"Ver Movimientos",children:(0,Ve.jsx)(fs,{variant:"outlined",color:"secondary",size:"small",startIcon:(0,Ve.jsx)(eO,{}),onClick:()=>{N(T),M()},sx:{mb:1},children:"Movimientos"})}),se&&(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)(Qo,{title:"Retiros",children:(0,Ve.jsx)(fs,{variant:"outlined",color:"warning",size:"small",startIcon:(0,Ve.jsx)(Ss,{}),onClick:()=>{$(T),M()},sx:{mb:1},children:"Retiros"})}),(0,Ve.jsx)(Qo,{title:"Operaciones Bancarias",children:(0,Ve.jsx)(fs,{variant:"outlined",color:"success",size:"small",startIcon:(0,Ve.jsx)(vs,{}),onClick:()=>{z(T),M()},sx:{mb:1},children:"Op. Bancarias"})}),(0,Ve.jsx)(Qo,{title:"Pagos",children:(0,Ve.jsx)(fs,{variant:"outlined",color:"info",size:"small",startIcon:(0,Ve.jsx)(pC,{}),onClick:()=>{L(T),M()},sx:{mb:1},children:"Pagos"})}),(0,Ve.jsx)(Qo,{title:"Cerrar Caja",children:(0,Ve.jsx)(fs,{variant:"outlined",color:"error",size:"small",startIcon:(0,Ve.jsx)(AC,{}),onClick:()=>{B(T),M()},sx:{mb:1},children:"Cerrar Caja"})})]}),(0,Ve.jsx)(Qo,{title:"Imprimir Resumen",children:(0,Ve.jsx)("span",{children:(0,Ve.jsx)(fs,{variant:"contained",color:"primary",size:"small",startIcon:(0,Ve.jsx)(Rs,{}),onClick:()=>F(T),sx:{mb:1},disabled:se,children:"Imprimir"})})}),!se&&(0,Ve.jsx)(Qo,{title:"Imprimir Ticket de Cierre",children:(0,Ve.jsx)(Et,{sx:{mb:1},children:(0,Ve.jsx)(SO,{cajaSeleccionada:T,diferenciasEfectivo:he,diferenciasServicios:fe,diferenciaTotal:me})})})]})]})]})})}),(0,Ve.jsxs)($h,{item:!0,xs:12,sx:{mt:.5},children:[(0,Ve.jsx)($r,{variant:"subtitle1",fontWeight:"bold",sx:{mb:.5},children:"Resumen de Saldos"}),(0,Ve.jsx)(Ii,{sx:{mb:.5}})]}),(0,Ve.jsx)($h,{item:!0,xs:12,md:3.3,sx:{p:.5},children:(0,Ve.jsxs)($t,{variant:"outlined",sx:{height:"100%",borderRadius:2,overflow:"hidden",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,Ve.jsx)(Et,{sx:{bgcolor:"#1976d2",p:.5,color:"white"},children:(0,Ve.jsx)($r,{variant:"subtitle1",fontWeight:"bold",align:"center",children:"Saldos de Apertura"})}),(0,Ve.jsx)(Dp,{children:(0,Ve.jsxs)(zp,{size:"small",padding:"none",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{sx:{backgroundColor:"#333",color:"white"},children:[(0,Ve.jsx)(th,{sx:{color:"white",py:.3,px:.8},children:(0,Ve.jsx)("strong",{children:"Moneda"})}),(0,Ve.jsx)(th,{align:"right",sx:{color:"white",py:.3,px:.8},children:(0,Ve.jsx)("strong",{children:"Monto"})})]})}),(0,Ve.jsxs)(sh,{children:[(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{sx:{py:.3,px:.8},children:(0,Ve.jsx)("strong",{children:"Guaran\xedes"})}),(0,Ve.jsx)(th,{align:"right",sx:{py:.3,px:.8},children:le?cO(T.saldoInicial.total.PYG||0)+" Gs":"0 Gs"})]}),(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{sx:{py:.3,px:.8},children:(0,Ve.jsx)("strong",{children:"Reales"})}),(0,Ve.jsx)(th,{align:"right",sx:{py:.3,px:.8},children:le?"R$ "+new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(T.saldoInicial.total.BRL||0):"R$ 0,00"})]}),(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{sx:{py:.3,px:.8},children:(0,Ve.jsx)("strong",{children:"D\xf3lares"})}),(0,Ve.jsx)(th,{align:"right",sx:{py:.3,px:.8},children:le?"$ "+new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(T.saldoInicial.total.USD||0):"$ 0.00"})]})]})]})}),Array.isArray(T.saldosServiciosInicial)&&T.saldosServiciosInicial.length>0||Array.isArray(T.servicios)&&T.servicios.length>0?(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)(Et,{sx:{bgcolor:"#1976d2",p:.3,color:"white",mt:.5},children:(0,Ve.jsx)($r,{variant:"body2",fontWeight:"bold",align:"center",children:"Servicios (Apertura)"})}),(0,Ve.jsx)(Dp,{children:(0,Ve.jsxs)(zp,{size:"small",padding:"none",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{sx:{backgroundColor:"#333",color:"white"},children:[(0,Ve.jsx)(th,{sx:{color:"white",py:.3,px:.8},children:(0,Ve.jsx)("strong",{children:"Servicio"})}),(0,Ve.jsx)(th,{align:"right",sx:{color:"white",py:.3,px:.8},children:(0,Ve.jsx)("strong",{children:"Monto"})})]})}),(0,Ve.jsx)(sh,{children:(Array.isArray(T.saldosServiciosInicial)?T.saldosServiciosInicial:T.servicios||[]).map(((e,t)=>(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{sx:{py:.3,px:.8},children:e.servicio}),(0,Ve.jsxs)(th,{align:"right",sx:{py:.3,px:.8},children:[cO(e.monto)," Gs"]})]},`servicio-apertura-${t}`)))})]})})]}):null]})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:3.3,sx:{p:.5},children:(0,Ve.jsxs)($t,{variant:"outlined",sx:{height:"100%",borderRadius:2,overflow:"hidden",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,Ve.jsx)(Et,{sx:{bgcolor:"#f44336",p:.5,color:"white"},children:(0,Ve.jsx)($r,{variant:"subtitle1",fontWeight:"bold",align:"center",children:"Saldos de Cierre"})}),(0,Ve.jsx)(Dp,{children:(0,Ve.jsxs)(zp,{size:"small",padding:"none",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{sx:{backgroundColor:"#333",color:"white"},children:[(0,Ve.jsx)(th,{sx:{color:"white",py:.3,px:.8},children:(0,Ve.jsx)("strong",{children:"Moneda"})}),(0,Ve.jsx)(th,{align:"right",sx:{color:"white",py:.3,px:.8},children:(0,Ve.jsx)("strong",{children:"Monto"})})]})}),(0,Ve.jsxs)(sh,{children:[(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{sx:{py:.3,px:.8},children:(0,Ve.jsx)("strong",{children:"Guaran\xedes"})}),(0,Ve.jsx)(th,{align:"right",sx:{py:.3,px:.8},children:se?"-":cO((null===(S=T.saldoFinal)||void 0===S||null===(C=S.total)||void 0===C?void 0:C.PYG)||0)+" Gs"})]}),(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{sx:{py:.3,px:.8},children:(0,Ve.jsx)("strong",{children:"Reales"})}),(0,Ve.jsx)(th,{align:"right",sx:{py:.3,px:.8},children:se?"-":"R$ "+new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format((null===(A=T.saldoFinal)||void 0===A||null===(E=A.total)||void 0===E?void 0:E.BRL)||0)})]}),(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{sx:{py:.3,px:.8},children:(0,Ve.jsx)("strong",{children:"D\xf3lares"})}),(0,Ve.jsx)(th,{align:"right",sx:{py:.3,px:.8},children:se?"-":"$ "+new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format((null===(k=T.saldoFinal)||void 0===k||null===(O=k.total)||void 0===O?void 0:O.USD)||0)})]})]})]})}),!se&&(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)(Et,{sx:{bgcolor:"#f44336",p:.3,color:"white",mt:.5},children:(0,Ve.jsx)($r,{variant:"body2",fontWeight:"bold",align:"center",children:"Servicios (Cierre)"})}),(0,Ve.jsx)(Dp,{children:(0,Ve.jsxs)(zp,{size:"small",padding:"none",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{sx:{backgroundColor:"#333",color:"white"},children:[(0,Ve.jsx)(th,{sx:{color:"white",py:.3,px:.8},children:(0,Ve.jsx)("strong",{children:"Servicio"})}),(0,Ve.jsx)(th,{align:"right",sx:{color:"white",py:.3,px:.8},children:(0,Ve.jsx)("strong",{children:"Monto"})})]})}),(0,Ve.jsx)(sh,{children:T.saldosServiciosFinal&&T.saldosServiciosFinal.length>0?T.saldosServiciosFinal.map(((e,t)=>(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{sx:{py:.3,px:.8},children:e.servicio}),(0,Ve.jsxs)(th,{align:"right",sx:{py:.3,px:.8},children:[cO(e.monto)," Gs"]})]},`servicio-cierre-${t}`))):(0,Ve.jsx)(Xp,{children:(0,Ve.jsx)(th,{colSpan:2,align:"center",sx:{py:1},children:"No hay servicios registrados"})})})]})})]})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:5.4,sx:{p:.5},children:(0,Ve.jsxs)($t,{variant:"outlined",sx:{height:"100%",borderRadius:2,overflow:"hidden",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,Ve.jsx)(Et,{sx:{bgcolor:"#4caf50",p:.5,color:"white"},children:(0,Ve.jsx)($r,{variant:"subtitle1",fontWeight:"bold",align:"center",children:"Diferencias"})}),(0,Ve.jsx)(Dp,{children:(0,Ve.jsxs)(zp,{size:"small",padding:"none",sx:{"& .MuiTableCell-root":{fontSize:"0.8rem"}},children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{sx:{backgroundColor:"#333",color:"white"},children:[(0,Ve.jsx)(th,{sx:{color:"white",py:.3,px:.6},children:(0,Ve.jsx)("strong",{children:"Moneda"})}),(0,Ve.jsx)(th,{align:"right",sx:{color:"white",py:.3,px:.6},children:(0,Ve.jsx)("strong",{children:"Diferencia"})})]})}),(0,Ve.jsx)(sh,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{sx:{py:.3,px:.6},children:(0,Ve.jsx)("strong",{children:"Diferencia Total"})}),(0,Ve.jsx)(th,{align:"right",sx:{py:.3,px:.6},children:se?"-":(0,Ve.jsx)(Qo,{title:ge,arrow:!0,children:(0,Ve.jsxs)($r,{color:me>0?"success.main":me<0?"error.main":"inherit",fontWeight:"bold",sx:{fontSize:"0.8rem",display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[0===me?"0 Gs":cO(me)+" Gs",(0,Ve.jsx)(cA,{fontSize:"small",sx:{ml:.4,fontSize:"0.8rem",opacity:.7}})]})})})]})})]})}),!se&&(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)(Et,{sx:{bgcolor:"#4caf50",p:.3,color:"white",mt:.5},children:(0,Ve.jsx)($r,{variant:"body2",fontWeight:"bold",align:"center",sx:{fontSize:"0.8rem"},children:"Diferencias en Servicios"})}),J?fe.length>0?(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)(Dp,{children:(0,Ve.jsxs)(zp,{size:"small",padding:"none",sx:{"& .MuiTableCell-root":{fontSize:"0.8rem"}},children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{sx:{backgroundColor:"#333",color:"white"},children:[(0,Ve.jsx)(th,{sx:{color:"white",py:.3,px:.6},children:(0,Ve.jsx)("strong",{children:"Servicio"})}),(0,Ve.jsx)(th,{align:"right",sx:{color:"white",py:.3,px:.6},children:(0,Ve.jsx)("strong",{children:"Diferencia"})})]})}),(0,Ve.jsx)(sh,{children:fe.filter((e=>"Efectivo"!==e.servicio)).map(((e,t)=>(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{sx:{py:.3,px:.6},children:(0,Ve.jsx)(Qo,{title:(0,Ve.jsxs)(a.Fragment,{children:[(0,Ve.jsx)($r,{color:"inherit",sx:{fontSize:"0.8rem"},children:"C\xe1lculo de diferencia:"}),(0,Ve.jsx)(Et,{component:"ul",sx:{pl:2,m:0,fontSize:"0.8rem"},children:e.servicio.toUpperCase().includes("MINICARGA")||e.servicio.toUpperCase().includes("MAXICARGA")||e.servicio.toUpperCase().includes("RECARGA CLARO")?(0,Ve.jsxs)(a.Fragment,{children:[(0,Ve.jsxs)("li",{children:["Inicial: ",cO(e.montoInicial)," Gs"]}),(0,Ve.jsxs)("li",{children:["- Movimientos: ",cO(e.montoMovimiento||0)," Gs"]}),(0,Ve.jsxs)("li",{children:["+ Pagos Caja: ",cO(e.pagosDesdeCaja||0)," Gs"]}),(0,Ve.jsxs)("li",{children:["+ Pagos Caja Mayor: ",cO(e.pagosServiciosPendientes||0)," Gs"]}),(0,Ve.jsxs)("li",{children:["\xa0\xa0Total Pagos: ",cO((e.pagosDesdeCaja||0)+(e.pagosServiciosPendientes||0))," Gs"]}),(0,Ve.jsxs)("li",{children:["\xa0\xa0\xd7 1.05 (Comisi\xf3n) = ",cO(e.pagosConComision||0)," Gs"]}),(0,Ve.jsxs)("li",{children:["- Final: ",cO(e.montoFinal)," Gs"]}),(0,Ve.jsxs)("li",{children:["= Subtotal: ",cO(e.montoInicial-(e.montoMovimiento||0)+(e.pagosConComision||0)-e.montoFinal)," Gs"]}),(0,Ve.jsxs)("li",{children:["\xd7 (-1) = ",cO(e.diferencia)," Gs"]})]}):e.servicio.toUpperCase().includes("TIGO MONEY")||e.servicio.toUpperCase().includes("BILLETERA PERSONAL")||e.servicio.toUpperCase().includes("BILLETERA CLARO")?(0,Ve.jsxs)(a.Fragment,{children:[(0,Ve.jsxs)("li",{children:["Inicial: ",cO(e.montoInicial)," Gs"]}),(0,Ve.jsxs)("li",{children:["- Movimiento (G+C-R): ",cO(e.montoMovimiento||0)," Gs"]}),(0,Ve.jsxs)("li",{children:["+ Pagos Caja: ",cO(e.pagosDesdeCaja||0)," Gs"]}),(0,Ve.jsxs)("li",{children:["+ Pagos Caja Mayor: ",cO(e.pagosServiciosPendientes||0)," Gs"]}),(0,Ve.jsxs)("li",{children:["- Final: ",cO(e.montoFinal)," Gs"]}),(0,Ve.jsxs)("li",{children:["= Subtotal: ",cO(e.montoInicial-(e.montoMovimiento||0)+(e.pagosDesdeCaja||0)+(e.pagosServiciosPendientes||0)-e.montoFinal)," Gs"]}),(0,Ve.jsxs)("li",{children:["\xd7 (-1) = ",cO(e.diferencia)," Gs"]})]}):(0,Ve.jsxs)(a.Fragment,{children:[(0,Ve.jsxs)("li",{children:["Inicial: ",cO(e.montoInicial)," Gs"]}),(0,Ve.jsxs)("li",{children:["- Movimientos: ",cO(e.montoMovimiento||0)," Gs"]}),(0,Ve.jsxs)("li",{children:["+ Pagos c/Comisi\xf3n 5%: ",cO(e.pagosConComision||0)," Gs"]}),(0,Ve.jsxs)("li",{children:["- Final: ",cO(e.montoFinal)," Gs"]}),(0,Ve.jsxs)("li",{children:["= Subtotal: ",cO(e.montoInicial-(e.montoMovimiento||0)+(e.pagosConComision||0)-e.montoFinal)," Gs"]}),(0,Ve.jsxs)("li",{children:["\xd7 (-1) = ",cO(e.diferencia)," Gs"]})]})})]}),arrow:!0,children:(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center"},children:[e.servicio,(0,Ve.jsx)(cA,{fontSize:"small",sx:{ml:.4,fontSize:"0.8rem",opacity:.7}})]})})}),(0,Ve.jsx)(th,{align:"right",sx:{py:.3,px:.6},children:se?"-":(0,Ve.jsx)($r,{color:e.diferencia>0?"success.main":e.diferencia<0?"error.main":"inherit",fontWeight:"bold",sx:{fontSize:"0.8rem"},children:0===e.diferencia?"0 Gs":cO(e.diferencia)+" Gs"})})]},`servicio-diferencia-${t}`)))})]})}),(0,Ve.jsx)(Et,{sx:{bgcolor:"#4caf50",p:.3,color:"white",mt:.5},children:(0,Ve.jsx)($r,{variant:"body2",fontWeight:"bold",align:"center",sx:{fontSize:"0.8rem"},children:"Detalle del c\xe1lculo"})}),(0,Ve.jsx)(Dp,{children:(0,Ve.jsxs)(zp,{size:"small",padding:"none",sx:{"& .MuiTableCell-root":{fontSize:"0.8rem"}},children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{sx:{backgroundColor:"#333",color:"white"},children:[(0,Ve.jsx)(th,{sx:{color:"white",py:.3,px:.6},children:(0,Ve.jsx)("strong",{children:"Servicio"})}),(0,Ve.jsx)(th,{align:"right",sx:{color:"white",py:.3,px:.6},children:(0,Ve.jsx)("strong",{children:"Inicial"})}),(0,Ve.jsx)(th,{align:"right",sx:{color:"white",py:.3,px:.6},children:(0,Ve.jsx)("strong",{children:"Movimiento"})}),(0,Ve.jsx)(th,{align:"right",sx:{color:"white",py:.3,px:.6},children:(0,Ve.jsx)("strong",{children:"Pagos"})}),(0,Ve.jsx)(th,{align:"right",sx:{color:"white",py:.3,px:.6},children:(0,Ve.jsx)("strong",{children:"Com. 5%"})}),(0,Ve.jsx)(th,{align:"right",sx:{color:"white",py:.3,px:.6},children:(0,Ve.jsx)("strong",{children:"Final"})}),(0,Ve.jsx)(th,{align:"right",sx:{color:"white",py:.3,px:.6},children:(0,Ve.jsx)("strong",{children:"Diferencia"})})]})}),(0,Ve.jsx)(sh,{children:fe.filter((e=>"Efectivo"!==e.servicio)).map(((e,t)=>(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{sx:{py:.3,px:.6},children:e.servicio}),(0,Ve.jsxs)(th,{align:"right",sx:{py:.3,px:.6},children:[cO(e.montoInicial)," Gs"]}),(0,Ve.jsxs)(th,{align:"right",sx:{py:.3,px:.6},children:[cO(e.montoMovimiento||0)," Gs"]}),(0,Ve.jsx)(th,{align:"right",sx:{py:.3,px:.6},children:"Minicarga"===e.servicio||"Mini Carga"===e.servicio||"MINICARGA"===e.servicio?(0,Ve.jsx)(Qo,{title:`Pagos Caja: ${cO(e.pagosDesdeCaja||0)} Gs + Pagos Caja Mayor: ${cO(e.pagosServiciosPendientes||0)} Gs`,arrow:!0,children:(0,Ve.jsxs)(Et,{children:[cO((e.pagosDesdeCaja||0)+(e.pagosServiciosPendientes||0))," Gs"]})}):"Tigo Money"===e.servicio||"TIGO MONEY"===e.servicio||"Billetera Personal"===e.servicio||"BILLETERA PERSONAL"===e.servicio||"Billetera Claro"===e.servicio||"BILLETERA CLARO"===e.servicio?(0,Ve.jsxs)(Ve.Fragment,{children:[cO(e.montoPagos||0)," Gs"]}):(0,Ve.jsxs)(Ve.Fragment,{children:[cO(e.pagosConComision?Math.round(e.pagosConComision/1.05):0)," Gs"]})}),(0,Ve.jsx)(th,{align:"right",sx:{py:.3,px:.6},children:"Minicarga"===e.servicio||"Mini Carga"===e.servicio||"MINICARGA"===e.servicio?(0,Ve.jsxs)(Ve.Fragment,{children:[cO(e.pagosConComision?Math.round(e.pagosConComision-((e.pagosDesdeCaja||0)+(e.pagosServiciosPendientes||0))):0)," Gs"]}):"Tigo Money"===e.servicio||"TIGO MONEY"===e.servicio||"Billetera Personal"===e.servicio||"BILLETERA PERSONAL"===e.servicio||"Billetera Claro"===e.servicio||"BILLETERA CLARO"===e.servicio?(0,Ve.jsx)(Ve.Fragment,{children:"0 Gs"}):(0,Ve.jsxs)(Ve.Fragment,{children:[cO(e.pagosConComision?Math.round(e.pagosConComision-e.pagosConComision/1.05):0)," Gs"]})}),(0,Ve.jsxs)(th,{align:"right",sx:{py:.3,px:.6},children:[cO(e.montoFinal)," Gs"]}),(0,Ve.jsx)(th,{align:"right",sx:{py:.3,px:.6},children:(0,Ve.jsx)($r,{color:e.diferencia>0?"success.main":e.diferencia<0?"error.main":"inherit",fontWeight:"bold",sx:{fontSize:"0.8rem"},children:0===e.diferencia?"0 Gs":cO(e.diferencia)+" Gs"})})]},`servicio-calculo-${t}`)))})]})})]}):(0,Ve.jsx)(Et,{sx:{p:1,textAlign:"center"},children:(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.8rem"},children:"No hay diferencias de servicios para mostrar"})}):(0,Ve.jsx)(Et,{sx:{p:1,textAlign:"center"},children:(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.8rem"},children:"Cargando datos de movimientos y pagos..."})})]})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,sx:{mt:1},children:(0,Ve.jsxs)(Et,{children:[(0,Ve.jsx)(fs,{color:"primary",onClick:()=>R(T),sx:{mr:1,py:.5,px:1,fontSize:"0.8rem"},size:"small",children:"Ver detalle completo de denominaciones"}),!se&&(0,Ve.jsx)(fs,{color:"secondary",onClick:()=>N(T),sx:{py:.5,px:1,fontSize:"0.8rem"},size:"small",children:"Ver movimientos"})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,sx:{display:"none"},children:(0,Ve.jsxs)(Et,{id:"resumen-para-imprimir",sx:{p:2},children:[(0,Ve.jsxs)($r,{variant:"h5",align:"center",gutterBottom:!0,children:["Resumen de Caja - ",dO(T.id)]}),(0,Ve.jsxs)($r,{variant:"subtitle1",align:"center",gutterBottom:!0,children:[(null===(P=T.sucursal)||void 0===P?void 0:P.nombre)||"N/A"," - ",uy(new Date(T.fechaApertura),"dd/MM/yyyy",{locale:Cw})]}),(0,Ve.jsx)(Ii,{sx:{my:2}}),(0,Ve.jsxs)(Et,{sx:{mb:2},children:[(0,Ve.jsx)($r,{variant:"subtitle1",fontWeight:"bold",children:"Informaci\xf3n General"}),(0,Ve.jsxs)($h,{container:!0,spacing:1,children:[(0,Ve.jsxs)($h,{item:!0,xs:6,children:[(0,Ve.jsxs)($r,{variant:"body2",children:[(0,Ve.jsx)("strong",{children:"Usuario:"})," ",T.usuario]}),(0,Ve.jsxs)($r,{variant:"body2",children:[(0,Ve.jsx)("strong",{children:"Estado:"})," ",se?"ABIERTA":"CERRADA"]})]}),(0,Ve.jsxs)($h,{item:!0,xs:6,children:[(0,Ve.jsxs)($r,{variant:"body2",children:[(0,Ve.jsx)("strong",{children:"Fecha Apertura:"})," ",uy(new Date(T.fechaApertura),"dd/MM/yyyy HH:mm",{locale:Cw})]}),(0,Ve.jsxs)($r,{variant:"body2",children:[(0,Ve.jsx)("strong",{children:"Fecha Cierre:"})," ",T.fechaCierre?uy(new Date(T.fechaCierre),"dd/MM/yyyy HH:mm",{locale:Cw}):"-"]})]})]})]}),(0,Ve.jsx)($r,{variant:"subtitle1",fontWeight:"bold",sx:{mt:2},children:"Saldos"}),(0,Ve.jsxs)(zp,{size:"small",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:(0,Ve.jsx)("strong",{children:"Moneda"})}),(0,Ve.jsx)(th,{align:"right",children:(0,Ve.jsx)("strong",{children:"Saldo Inicial"})}),(0,Ve.jsx)(th,{align:"right",children:(0,Ve.jsx)("strong",{children:"Saldo Final"})}),(0,Ve.jsx)(th,{align:"right",children:(0,Ve.jsx)("strong",{children:"Diferencia"})})]})}),(0,Ve.jsx)(sh,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:(0,Ve.jsx)("strong",{children:"Guaran\xedes"})}),(0,Ve.jsx)(th,{align:"right",children:le?cO(T.saldoInicial.total.PYG||0)+" Gs":"0 Gs"}),(0,Ve.jsx)(th,{align:"right",children:se?"-":`${cO((null===(I=T.saldoFinal)||void 0===I?void 0:I.total.PYG)||0)} Gs`}),(0,Ve.jsx)(th,{align:"right",children:se?"-":`${cO(he.PYG)} Gs`})]})})]}),T.saldosServiciosInicial&&T.saldosServiciosInicial.length>0&&(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)($r,{variant:"subtitle1",fontWeight:"bold",sx:{mt:3},children:"Servicios"}),(0,Ve.jsxs)(zp,{size:"small",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:(0,Ve.jsx)("strong",{children:"Servicio"})}),(0,Ve.jsx)(th,{align:"right",children:(0,Ve.jsx)("strong",{children:"Saldo Inicial"})}),(0,Ve.jsx)(th,{align:"right",children:(0,Ve.jsx)("strong",{children:"Saldo Final"})}),(0,Ve.jsx)(th,{align:"right",children:(0,Ve.jsx)("strong",{children:"Diferencia"})})]})}),(0,Ve.jsx)(sh,{children:fe.filter((e=>"Efectivo"!==e.servicio)).map(((e,t)=>(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:e.servicio}),(0,Ve.jsxs)(th,{align:"right",children:[cO(e.montoInicial)," Gs"]}),(0,Ve.jsx)(th,{align:"right",children:se?"-":`${cO(e.montoFinal)} Gs`}),(0,Ve.jsx)(th,{align:"right",children:se?"-":`${cO(e.diferencia)} Gs`})]},`print-servicio-${t}`)))})]})]}),(0,Ve.jsx)(Et,{sx:{mt:4,display:"flex",justifyContent:"space-between"},children:(0,Ve.jsxs)($r,{variant:"body2",children:[(0,Ve.jsx)("strong",{children:"Fecha de impresi\xf3n:"})," ",uy(new Date,"dd/MM/yyyy HH:mm:ss",{locale:Cw})]})}),(0,Ve.jsxs)(Et,{sx:{mt:5,display:"flex",justifyContent:"space-around"},children:[(0,Ve.jsx)(Et,{sx:{textAlign:"center",width:"40%",borderTop:"1px solid black",pt:1},children:(0,Ve.jsx)($r,{variant:"body2",children:"Firma Responsable"})}),(0,Ve.jsx)(Et,{sx:{textAlign:"center",width:"40%",borderTop:"1px solid black",pt:1},children:(0,Ve.jsx)($r,{variant:"body2",children:"Firma Supervisor"})})]})]})})]})}),(0,Ve.jsx)(ns,{children:(0,Ve.jsx)(fs,{onClick:M,color:"primary",children:"Cerrar"})})]})},AO=e=>{var t;let{open:r,onClose:n}=e;const{cajaSeleccionada:o,setSuccessMessage:i,setErrorMessage:s}=Hk(),[l,c]=(0,a.useState)("visualizacion"),[d,u]=(0,a.useState)(!1),p=(null===o||void 0===o?void 0:o.saldoInicial)&&o.saldoInicial.total&&"object"===typeof o.saldoInicial.total,[h,f]=(0,a.useState)((()=>({saldoInicial:(null===o||void 0===o?void 0:o.saldoInicial)||{denominaciones:[],total:{PYG:0,BRL:0,USD:0}},saldosServiciosInicial:(null===o||void 0===o?void 0:o.saldosServiciosInicial)||[]}))),m=(0,a.useRef)({}),g=(e,t)=>{m.current[e]=t},v=(e,t)=>`denom-${e}-${t}`;if((0,a.useEffect)((()=>{if(o){const e=o.saldoInicial&&o.saldoInicial.total&&"object"===typeof o.saldoInicial.total,t=e?[...o.saldoInicial.denominaciones]:[],r=(e,r)=>t.some((t=>t.valor===e&&t.moneda===r)),n=[...t];$k.forEach((e=>{r(e.valor,"PYG")||n.push({...e,cantidad:0})})),zk.forEach((e=>{r(e.valor,"BRL")||n.push({...e,cantidad:0})})),Lk.forEach((e=>{r(e.valor,"USD")||n.push({...e,cantidad:0})}));let a=[];a=o.saldosServiciosInicial&&Array.isArray(o.saldosServiciosInicial)?[...o.saldosServiciosInicial]:Bk.map((e=>({...e,monto:0}))),console.log("Servicios iniciales:",a),f({saldoInicial:{denominaciones:n,total:e?{...o.saldoInicial.total}:{PYG:0,BRL:0,USD:0}},saldosServiciosInicial:a})}}),[o,r]),!o)return null;const x=(e,t)=>[...e].filter((e=>e.moneda===t)).sort(((e,t)=>t.valor-e.valor)),b=(e,t)=>{const r=[...h.saldoInicial.denominaciones];r[e].cantidad=t;const n=r.filter((e=>"PYG"===e.moneda)).reduce(((e,t)=>e+t.valor*t.cantidad),0),o=r.filter((e=>"BRL"===e.moneda)).reduce(((e,t)=>e+t.valor*t.cantidad),0),a=r.filter((e=>"USD"===e.moneda)).reduce(((e,t)=>e+t.valor*t.cantidad),0);f((e=>({...e,saldoInicial:{...e.saldoInicial,denominaciones:r,total:{PYG:n,BRL:o,USD:a}}})))},y=(e,t)=>{var r,n;"Enter"===e.key&&t&&m.current[t]&&(e.preventDefault(),null===(r=m.current[t])||void 0===r||r.focus(),null===(n=m.current[t])||void 0===n||n.select())},j=x(h.saldoInicial.denominaciones,"PYG"),w=x(h.saldoInicial.denominaciones,"BRL"),S=x(h.saldoInicial.denominaciones,"USD");return(0,Ve.jsxs)(Fi,{open:r,onClose:n,maxWidth:"lg",fullWidth:!0,PaperProps:{sx:{maxHeight:"90vh"}},children:[(0,Ve.jsx)(Gi,{children:(0,Ve.jsxs)(Et,{children:[(0,Ve.jsx)($r,{variant:"h6",component:"span",children:"visualizacion"===l?"Datos de Apertura de Caja":"Editar Datos de Apertura"}),(0,Ve.jsx)($r,{variant:"subtitle2",component:"div",color:"text.secondary",children:dO(o.id)})]})}),(0,Ve.jsx)(Ki,{dividers:!0,children:(0,Ve.jsxs)($h,{container:!0,spacing:3,children:[(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsx)($t,{variant:"outlined",sx:{p:2,mb:2},children:(0,Ve.jsxs)($h,{container:!0,spacing:2,children:[(0,Ve.jsxs)($h,{item:!0,xs:12,md:4,children:[(0,Ve.jsx)($r,{variant:"subtitle2",color:"text.secondary",children:"Fecha de Apertura:"}),(0,Ve.jsx)($r,{variant:"body1",children:uy(new Date(o.fechaApertura),"dd/MM/yyyy HH:mm",{locale:Cw})})]}),(0,Ve.jsxs)($h,{item:!0,xs:12,md:4,children:[(0,Ve.jsx)($r,{variant:"subtitle2",color:"text.secondary",children:"Usuario:"}),(0,Ve.jsx)($r,{variant:"body1",children:o.usuario})]}),(0,Ve.jsxs)($h,{item:!0,xs:12,md:4,children:[(0,Ve.jsx)($r,{variant:"subtitle2",color:"text.secondary",children:"Malet\xedn:"}),(0,Ve.jsx)($r,{variant:"body1",children:o.maletinId})]}),(0,Ve.jsxs)($h,{item:!0,xs:12,md:4,children:[(0,Ve.jsx)($r,{variant:"subtitle2",color:"text.secondary",children:"Sucursal:"}),(0,Ve.jsx)($r,{variant:"body1",children:(null===(t=o.sucursal)||void 0===t?void 0:t.nombre)||"-"})]}),(0,Ve.jsxs)($h,{item:!0,xs:12,md:4,children:[(0,Ve.jsx)($r,{variant:"subtitle2",color:"text.secondary",children:"Estado:"}),(0,Ve.jsx)(Et,{sx:{backgroundColor:"abierta"===o.estado?"green":"gray",color:"white",padding:"2px 8px",borderRadius:"4px",display:"inline-block",mt:1},children:"abierta"===o.estado?"ABIERTA":"CERRADA"})]})]})})}),(0,Ve.jsxs)($h,{item:!0,xs:12,children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,children:"Saldos Iniciales"}),(0,Ve.jsx)(Ii,{sx:{mb:2}}),(0,Ve.jsxs)($h,{container:!0,spacing:3,children:[(0,Ve.jsxs)($h,{item:!0,xs:12,md:4,children:[(0,Ve.jsx)($r,{variant:"subtitle1",gutterBottom:!0,children:"Guaran\xedes"}),(0,Ve.jsx)(Dp,{component:$t,variant:"outlined",children:(0,Ve.jsxs)(zp,{size:"small",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Denominaci\xf3n"}),(0,Ve.jsx)(th,{children:"Cantidad"}),(0,Ve.jsx)(th,{children:"Subtotal"})]})}),(0,Ve.jsxs)(sh,{children:[j.map(((e,t,r)=>{const n=h.saldoInicial.denominaciones.indexOf(e),o=t===r.length-1;let a="";"edicion"===l&&(a=o?w.length>0?v("BRL",w[0].valor):"":v("PYG",r[t+1].valor));const i=v("PYG",e.valor);return(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsxs)(th,{children:[cO(e.valor)," Gs"]}),(0,Ve.jsx)(th,{children:"visualizacion"===l?e.cantidad:(0,Ve.jsx)(jp,{size:"small",type:"number",value:e.cantidad,onChange:e=>b(n,parseInt(e.target.value)||0),InputProps:{inputProps:{min:0},inputRef:e=>g(i,e)},onKeyDown:e=>y(e,a),onClick:KA})}),(0,Ve.jsxs)(th,{children:[cO(e.valor*e.cantidad)," Gs"]})]},`PYG-${e.valor}`)})),(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{colSpan:2,align:"right",children:(0,Ve.jsx)("strong",{children:"Total Gs:"})}),(0,Ve.jsx)(th,{children:(0,Ve.jsxs)("strong",{children:[cO("visualizacion"===l?p?o.saldoInicial.total.PYG:0:h.saldoInicial.total.PYG)," Gs"]})})]})]})]})})]}),(0,Ve.jsxs)($h,{item:!0,xs:12,md:4,children:[(0,Ve.jsx)($r,{variant:"subtitle1",gutterBottom:!0,children:"Reales"}),(0,Ve.jsx)(Dp,{component:$t,variant:"outlined",children:(0,Ve.jsxs)(zp,{size:"small",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Denominaci\xf3n"}),(0,Ve.jsx)(th,{children:"Cantidad"}),(0,Ve.jsx)(th,{children:"Subtotal"})]})}),(0,Ve.jsxs)(sh,{children:[w.map(((e,t,r)=>{const n=h.saldoInicial.denominaciones.indexOf(e),o=t===r.length-1;let a="";"edicion"===l&&(a=o?S.length>0?v("USD",S[0].valor):"":v("BRL",r[t+1].valor));const i=v("BRL",e.valor);return(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsxs)(th,{children:["R$ ",new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e.valor)]}),(0,Ve.jsx)(th,{children:"visualizacion"===l?e.cantidad:(0,Ve.jsx)(jp,{size:"small",type:"number",value:e.cantidad,onChange:e=>b(n,parseInt(e.target.value)||0),InputProps:{inputProps:{min:0},inputRef:e=>g(i,e)},onKeyDown:e=>y(e,a),onClick:KA})}),(0,Ve.jsxs)(th,{children:["R$ ",new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e.valor*e.cantidad)]})]},`BRL-${e.valor}`)})),(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{colSpan:2,align:"right",children:(0,Ve.jsx)("strong",{children:"Total R$:"})}),(0,Ve.jsx)(th,{children:(0,Ve.jsxs)("strong",{children:["R$ ",new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format("visualizacion"===l?p?o.saldoInicial.total.BRL:0:h.saldoInicial.total.BRL)]})})]})]})]})})]}),(0,Ve.jsxs)($h,{item:!0,xs:12,md:4,children:[(0,Ve.jsx)($r,{variant:"subtitle1",gutterBottom:!0,children:"D\xf3lares"}),(0,Ve.jsx)(Dp,{component:$t,variant:"outlined",children:(0,Ve.jsxs)(zp,{size:"small",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Denominaci\xf3n"}),(0,Ve.jsx)(th,{children:"Cantidad"}),(0,Ve.jsx)(th,{children:"Subtotal"})]})}),(0,Ve.jsxs)(sh,{children:[S.map(((e,t,r)=>{const n=h.saldoInicial.denominaciones.indexOf(e),o=t===r.length-1;let a="";"edicion"===l&&(o&&h.saldosServiciosInicial.length>0?a="servicio-0":o||(a=v("USD",r[t+1].valor)));const i=v("USD",e.valor);return(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsxs)(th,{children:["$ ",new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e.valor)]}),(0,Ve.jsx)(th,{children:"visualizacion"===l?e.cantidad:(0,Ve.jsx)(jp,{size:"small",type:"number",value:e.cantidad,onChange:e=>b(n,parseInt(e.target.value)||0),InputProps:{inputProps:{min:0},inputRef:e=>g(i,e)},onKeyDown:e=>y(e,a),onClick:KA})}),(0,Ve.jsxs)(th,{children:["$ ",new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e.valor*e.cantidad)]})]},`USD-${e.valor}`)})),(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{colSpan:2,align:"right",children:(0,Ve.jsx)("strong",{children:"Total $:"})}),(0,Ve.jsx)(th,{children:(0,Ve.jsxs)("strong",{children:["$ ",new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format("visualizacion"===l?p?o.saldoInicial.total.USD:0:h.saldoInicial.total.USD)]})})]})]})]})})]})]})]}),h.saldosServiciosInicial.length>0&&(0,Ve.jsxs)($h,{item:!0,xs:12,children:[(0,Ve.jsx)($r,{variant:"subtitle1",gutterBottom:!0,children:"Saldos Iniciales de Servicios"}),(0,Ve.jsx)(Dp,{component:$t,variant:"outlined",children:(0,Ve.jsxs)(zp,{size:"small",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Servicio"}),(0,Ve.jsx)(th,{children:"Monto"})]})}),(0,Ve.jsx)(sh,{children:h.saldosServiciosInicial.map(((e,t)=>{const r=t<h.saldosServiciosInicial.length-1?t+1:-1,n=r>=0&&"edicion"===l?`servicio-${r}`:"",o=`servicio-${t}`;return(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:e.servicio}),(0,Ve.jsx)(th,{children:"visualizacion"===l?`${cO(e.monto)} Gs`:(0,Ve.jsx)(jp,{size:"small",value:cO(e.monto),onChange:e=>{const r=e.target.value.replace(/\D/g,""),n=parseInt(r)||0;((e,t)=>{const r=[...h.saldosServiciosInicial];r[e].monto=t,f((e=>({...e,saldosServiciosInicial:r})))})(t,n)},InputProps:{endAdornment:(0,Ve.jsx)($r,{variant:"caption",children:"\xa0Gs"}),inputProps:{min:0,style:{textAlign:"right"}},inputRef:e=>g(o,e)},onKeyDown:e=>y(e,n),onClick:KA})})]},`servicio-inicial-${t}`)}))})]})})]})]})}),(0,Ve.jsx)(ns,{children:"visualizacion"===l?(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)(fs,{onClick:n,color:"inherit",children:"Cerrar"}),(0,Ve.jsx)(fs,{onClick:()=>{c("edicion")},color:"primary",variant:"contained",children:"Editar Datos"})]}):(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)(fs,{onClick:()=>{c("visualizacion")},color:"inherit",disabled:d,children:"Cancelar"}),(0,Ve.jsx)(fs,{onClick:async()=>{u(!0);try{const e=await ed.put(`http://localhost:3000/api/cajas/${o.id}/datos-apertura`,h);console.log("Datos actualizados:",e.data),o&&(o.saldoInicial=e.data.saldoInicial,o.saldosServiciosInicial=e.data.saldosServiciosInicial),i("Datos de apertura actualizados correctamente"),c("visualizacion")}catch(r){var e,t;console.error("Error al actualizar datos:",r),s("Error al actualizar los datos de apertura: "+((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Error en la conexi\xf3n con el servidor"))}finally{u(!1)}},color:"primary",variant:"contained",disabled:d,children:d?(0,Ve.jsx)(KS,{size:24}):"Guardar Cambios"})]})})]})},EO=e=>{let{open:t,onClose:r}=e;const{cajaSeleccionada:n,setSuccessMessage:o,setErrorMessage:i,setLoading:s}=Hk(),[l,c]=(0,a.useState)({tigo:{miniCarga:0,girosEnviados:0,retiros:0,cargaBilleteras:0},personal:{maxiCarga:0,girosEnviados:0,retiros:0,cargaBilleteras:0},claro:{recargaClaro:0,girosEnviados:0,retiros:0,cargaBilleteras:0},aquiPago:{pagos:0,retiros:0},wepaGuaranies:{pagos:0,retiros:0},wepaDolares:{pagos:"0",retiros:"0"}}),[d,u]=(0,a.useState)({tigo_miniCarga:null,tigo_girosEnviados:null,tigo_retiros:null,tigo_cargaBilleteras:null,personal_maxiCarga:null,personal_girosEnviados:null,personal_retiros:null,personal_cargaBilleteras:null,claro_recargaClaro:null,claro_girosEnviados:null,claro_retiros:null,claro_cargaBilleteras:null,aquiPago:null,wepaGuaranies:null,wepaDolares:null});if((0,a.useEffect)((()=>{t&&n&&n.id&&(s(!0),ed.get(`http://localhost:3000/api/cajas/${n.id}/movimiento`).then((e=>{if(console.log("Movimientos cargados:",e.data),e.data&&e.data.data){const r=e.data.data;if(c((e=>{const t=JSON.parse(JSON.stringify(e));return Object.keys(t).forEach((e=>{r[e]&&Object.keys(t[e]).forEach((n=>{e in r&&n in r[e]&&(t[e][n]=r[e][n])}))})),t})),e.data&&e.data.serviciosData){const r=e.data.serviciosData;try{console.log("Servicios Data recibida de la API:",r);const e={...d},t={minicargas:"tigo_miniCarga",maxicargas:"personal_maxiCarga",recargaClaro:"claro_recargaClaro",retirosTigoMoney:"tigo_retiros",retirosBilleteraPersonal:"personal_retiros",retirosBilleteraClaro:"claro_retiros",cargasBilleteraTigo:"tigo_cargaBilleteras",cargasBilleteraPersonal:"personal_cargaBilleteras",cargasBilleteraClaro:"claro_cargaBilleteras",girosEnviadosTigo:"tigo_girosEnviados",girosEnviadosPersonal:"personal_girosEnviados",girosEnviadosClaro:"claro_girosEnviados",aquiPago:"aquiPago",wepaGuaranies:"wepaGuaranies",wepaDolares:"wepaDolares",retirosAquiPago:"aquiPago_retiros",retirosWepaGuaranies:"wepaGuaranies_retiros",retirosWepaDolares:"wepaDolares_retiros"};Object.keys(t).forEach((n=>{if(r[n]&&"string"===typeof r[n]){const r=new File([""],`comprobante_${n}.jpg`,{type:"image/jpeg"});Object.defineProperty(r,"comprobanteId",{value:n,writable:!1});const o=t[n];o&&(e[o]=r,console.log(`Comprobante encontrado para ${n}, guardado en estado como ${o}`))}})),u(e)}catch(t){console.error("Error al procesar comprobantes desde serviciosData:",t)}}}})).catch((e=>{var t,r;(console.error("Error al cargar movimientos:",e),e.response&&404!==e.response.status)&&i("Error al cargar los movimientos existentes: "+((null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||e.message))})).finally((()=>{s(!1)})))}),[t,n,s,i]),!n)return null;const p=e=>{const t=isNaN(e)?0:e;return new Intl.NumberFormat("es-PY").format(t)},h=(e,t,r)=>{const n=""===r?0:parseInt(r.replace(/\D/g,""),10);c((r=>({...r,[e]:{...r[e],[t]:n}})))},f=e=>{try{const t=e.target;setTimeout((()=>{if(t&&document.activeElement===t&&"select"in t&&(t.select(),"setSelectionRange"in t)){const e=t.value.length;t.setSelectionRange(0,e)}}),10)}catch(t){console.error("Error al seleccionar texto:",t)}},m=(e,t,r)=>{if(r.target.files&&r.target.files[0]){const n=r.target.files[0];let a;a=t?`${e}_${t}`:e;const i=d[a],s=null!==i;if(u((e=>({...e,[a]:n}))),s&&null!==i&&void 0!==i&&i.comprobanteId){const r=i.comprobanteId;console.log(`Reemplazando comprobante existente con ID: ${r}. Se guardar\xe1 al confirmar.`);o(t?`Comprobante para ${t} en ${e} reemplazado. Se guardar\xe1 al confirmar.`:`Comprobante para ${e} reemplazado. Se guardar\xe1 al confirmar.`)}else{o(s?t?`Comprobante para ${t} en ${e} reemplazado. Se guardar\xe1 al confirmar.`:`Comprobante para ${e} reemplazado. Se guardar\xe1 al confirmar.`:t?`Comprobante para ${t} en ${e} seleccionado. Se guardar\xe1 al confirmar.`:`Comprobante para ${e} seleccionado. Se guardar\xe1 al confirmar.`)}}},g=(e,t)=>{const r=t?`${e}_${t}`:e,o=d[r];if(o)if(o.comprobanteId){const e=o.comprobanteId,t={tigo_miniCarga:"minicargas",personal_maxiCarga:"maxicargas",claro_recargaClaro:"recargaClaro",tigo_retiros:"retirosTigoMoney",personal_retiros:"retirosBilleteraPersonal",claro_retiros:"retirosBilleteraClaro",tigo_cargaBilleteras:"cargasBilleteraTigo",personal_cargaBilleteras:"cargasBilleteraPersonal",claro_cargaBilleteras:"cargasBilleteraClaro",tigo_girosEnviados:"girosEnviadosTigo",personal_girosEnviados:"girosEnviadosPersonal",claro_girosEnviados:"girosEnviadosClaro",aquiPago:"aquiPago",wepaGuaranies:"wepaGuaranies",wepaDolares:"wepaDolares",aquiPago_retiros:"retirosAquiPago",wepaGuaranies_retiros:"retirosWepaGuaranies",wepaDolares_retiros:"retirosWepaDolares"},a=Object.keys(t).includes(r)?t[r]:e;console.log(`Solicitando comprobante con ID: ${a}`),s(!0),ed.get(`http://localhost:3000/api/cajas/${n.id}/comprobante/${a}`).then((e=>{e.data&&e.data.url?window.open(e.data.url,"_blank"):i("No se pudo obtener la URL del comprobante")})).catch((e=>{var t,r;console.error("Error al obtener URL del comprobante:",e),i("Error al obtener el comprobante: "+((null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||e.message))})).finally((()=>{s(!1)}))}else window.open(URL.createObjectURL(o),"_blank");else{i(t?`No hay comprobante disponible para ${t} en ${e}`:`No hay comprobante disponible para ${e}`)}},v=(e,t)=>`movimiento-${e}-${t.replace(/\s+/g,"-").toLowerCase()}`,x=(e,t)=>{if("Enter"===e.key&&t){e.preventDefault();const r=document.getElementById(t);r&&(r.focus(),r.select())}},b=(e,t)=>{const r=[{op:"tigo",campo:"miniCarga"},{op:"tigo",campo:"girosEnviados"},{op:"tigo",campo:"retiros"},{op:"tigo",campo:"cargaBilleteras"},{op:"personal",campo:"maxiCarga"},{op:"personal",campo:"girosEnviados"},{op:"personal",campo:"retiros"},{op:"personal",campo:"cargaBilleteras"},{op:"claro",campo:"recargaClaro"},{op:"claro",campo:"girosEnviados"},{op:"claro",campo:"retiros"},{op:"claro",campo:"cargaBilleteras"},{op:"aquiPago",campo:"pagos"},{op:"aquiPago",campo:"retiros"},{op:"wepaGuaranies",campo:"pagos"},{op:"wepaGuaranies",campo:"retiros"},{op:"wepaDolares",campo:"pagos"},{op:"wepaDolares",campo:"retiros"}],n=r.findIndex((r=>r.op===e&&r.campo===t));return-1===n||n===r.length-1?v(r[0].op,r[0].campo):v(r[n+1].op,r[n+1].campo)},y={},j=(e,t)=>{y[e]=t};return(0,Ve.jsxs)(Fi,{open:t,onClose:r,maxWidth:"lg",fullWidth:!0,children:[(0,Ve.jsxs)(Gi,{children:["Movimientos por Operadora - ",dO(n.id)," (ID: ",n.cajaEnteroId,")"]}),(0,Ve.jsx)(Ki,{children:(0,Ve.jsxs)($h,{container:!0,spacing:3,children:[(0,Ve.jsx)($h,{item:!0,xs:12,md:4,children:(0,Ve.jsxs)($t,{elevation:2,sx:{p:2,height:"100%"},children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,sx:{color:"primary.main",borderBottom:"1px solid",pb:1},children:"TIGO"}),(0,Ve.jsx)(Dp,{children:(0,Ve.jsxs)(zp,{size:"small",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Servicio"}),(0,Ve.jsx)(th,{align:"right",children:"Monto"}),(0,Ve.jsx)(th,{align:"center",children:"Acciones"})]})}),(0,Ve.jsxs)(sh,{children:[(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Mini Carga"}),(0,Ve.jsx)(th,{align:"right",children:(0,Ve.jsx)(jp,{variant:"outlined",size:"small",value:p(l.tigo.miniCarga),onChange:e=>h("tigo","miniCarga",e.target.value),autoComplete:"off",InputProps:{endAdornment:(0,Ve.jsx)($r,{variant:"caption",children:"\u20b2"}),inputProps:{style:{textAlign:"right"},id:v("tigo","miniCarga"),onFocus:f}},sx:{width:"135%"},onKeyDown:e=>x(e,b("tigo","miniCarga")),inputRef:e=>j(v("tigo","miniCarga"),e)})}),(0,Ve.jsx)(th,{align:"center",children:(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"center"},children:[(0,Ve.jsxs)(Ir,{size:"small",component:"label",color:"primary",title:"Subir comprobante",children:[(0,Ve.jsx)(lA,{fontSize:"small"}),(0,Ve.jsx)("input",{type:"file",hidden:!0,accept:"image/*",onChange:e=>m("tigo","miniCarga",e)})]}),(0,Ve.jsx)(Ir,{size:"small",color:"info",onClick:()=>g("tigo","miniCarga"),disabled:!d.tigo_miniCarga,title:"Ver comprobante",children:(0,Ve.jsx)(cA,{fontSize:"small"})})]})})]}),(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Giros Enviados"}),(0,Ve.jsx)(th,{align:"right",children:(0,Ve.jsx)(jp,{variant:"outlined",size:"small",value:p(l.tigo.girosEnviados),onChange:e=>h("tigo","girosEnviados",e.target.value),autoComplete:"off",InputProps:{endAdornment:(0,Ve.jsx)($r,{variant:"caption",children:"\u20b2"}),inputProps:{style:{textAlign:"right"},id:v("tigo","girosEnviados"),onFocus:f}},sx:{width:"135%"},onKeyDown:e=>x(e,b("tigo","girosEnviados")),inputRef:e=>j(v("tigo","girosEnviados"),e)})}),(0,Ve.jsx)(th,{align:"center",children:(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"center"},children:[(0,Ve.jsxs)(Ir,{size:"small",component:"label",color:"primary",title:"Subir comprobante",children:[(0,Ve.jsx)(lA,{fontSize:"small"}),(0,Ve.jsx)("input",{type:"file",hidden:!0,accept:"image/*",onChange:e=>m("tigo","girosEnviados",e)})]}),(0,Ve.jsx)(Ir,{size:"small",color:"info",onClick:()=>g("tigo","girosEnviados"),disabled:!d.tigo_girosEnviados,title:"Ver comprobante",children:(0,Ve.jsx)(cA,{fontSize:"small"})})]})})]}),(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Retiros"}),(0,Ve.jsx)(th,{align:"right",children:(0,Ve.jsx)(jp,{variant:"outlined",size:"small",value:p(l.tigo.retiros),onChange:e=>h("tigo","retiros",e.target.value),autoComplete:"off",InputProps:{endAdornment:(0,Ve.jsx)($r,{variant:"caption",children:"\u20b2"}),inputProps:{style:{textAlign:"right"},id:v("tigo","retiros"),onFocus:f}},sx:{width:"135%"},onKeyDown:e=>x(e,b("tigo","retiros")),inputRef:e=>j(v("tigo","retiros"),e)})}),(0,Ve.jsx)(th,{align:"center",children:(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"center"},children:[(0,Ve.jsxs)(Ir,{size:"small",component:"label",color:"primary",title:"Subir comprobante",children:[(0,Ve.jsx)(lA,{fontSize:"small"}),(0,Ve.jsx)("input",{type:"file",hidden:!0,accept:"image/*",onChange:e=>m("tigo","retiros",e)})]}),(0,Ve.jsx)(Ir,{size:"small",color:"info",onClick:()=>g("tigo","retiros"),disabled:!d.tigo_retiros,title:"Ver comprobante",children:(0,Ve.jsx)(cA,{fontSize:"small"})})]})})]}),(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Carga de Billeteras"}),(0,Ve.jsx)(th,{align:"right",children:(0,Ve.jsx)(jp,{variant:"outlined",size:"small",value:p(l.tigo.cargaBilleteras),onChange:e=>h("tigo","cargaBilleteras",e.target.value),autoComplete:"off",InputProps:{endAdornment:(0,Ve.jsx)($r,{variant:"caption",children:"\u20b2"}),inputProps:{style:{textAlign:"right"},id:v("tigo","cargaBilleteras"),onFocus:f}},sx:{width:"135%"},onKeyDown:e=>x(e,b("tigo","cargaBilleteras")),inputRef:e=>j(v("tigo","cargaBilleteras"),e)})}),(0,Ve.jsx)(th,{align:"center",children:(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"center"},children:[(0,Ve.jsxs)(Ir,{size:"small",component:"label",color:"primary",title:"Subir comprobante",children:[(0,Ve.jsx)(lA,{fontSize:"small"}),(0,Ve.jsx)("input",{type:"file",hidden:!0,accept:"image/*",onChange:e=>m("tigo","cargaBilleteras",e)})]}),(0,Ve.jsx)(Ir,{size:"small",color:"info",onClick:()=>g("tigo","cargaBilleteras"),disabled:!d.tigo_cargaBilleteras,title:"Ver comprobante",children:(0,Ve.jsx)(cA,{fontSize:"small"})})]})})]})]})]})})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:4,children:(0,Ve.jsxs)($t,{elevation:2,sx:{p:2,height:"100%"},children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,sx:{color:"secondary.main",borderBottom:"1px solid",pb:1},children:"PERSONAL"}),(0,Ve.jsx)(Dp,{children:(0,Ve.jsxs)(zp,{size:"small",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Servicio"}),(0,Ve.jsx)(th,{align:"right",children:"Monto"}),(0,Ve.jsx)(th,{align:"center",children:"Acciones"})]})}),(0,Ve.jsxs)(sh,{children:[(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Maxi Carga"}),(0,Ve.jsx)(th,{align:"right",children:(0,Ve.jsx)(jp,{variant:"outlined",size:"small",value:p(l.personal.maxiCarga),onChange:e=>h("personal","maxiCarga",e.target.value),autoComplete:"off",InputProps:{endAdornment:(0,Ve.jsx)($r,{variant:"caption",children:"\u20b2"}),inputProps:{style:{textAlign:"right"},id:v("personal","maxiCarga"),onFocus:f}},sx:{width:"135%"},onKeyDown:e=>x(e,b("personal","maxiCarga")),inputRef:e=>j(v("personal","maxiCarga"),e)})}),(0,Ve.jsx)(th,{align:"center",children:(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"center"},children:[(0,Ve.jsxs)(Ir,{size:"small",component:"label",color:"primary",title:"Subir comprobante",children:[(0,Ve.jsx)(lA,{fontSize:"small"}),(0,Ve.jsx)("input",{type:"file",hidden:!0,accept:"image/*",onChange:e=>m("personal","maxiCarga",e)})]}),(0,Ve.jsx)(Ir,{size:"small",color:"info",onClick:()=>g("personal","maxiCarga"),disabled:!d.personal_maxiCarga,title:"Ver comprobante",children:(0,Ve.jsx)(cA,{fontSize:"small"})})]})})]}),(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Giros Enviados"}),(0,Ve.jsx)(th,{align:"right",children:(0,Ve.jsx)(jp,{variant:"outlined",size:"small",value:p(l.personal.girosEnviados),onChange:e=>h("personal","girosEnviados",e.target.value),autoComplete:"off",InputProps:{endAdornment:(0,Ve.jsx)($r,{variant:"caption",children:"\u20b2"}),inputProps:{style:{textAlign:"right"},id:v("personal","girosEnviados"),onFocus:f}},sx:{width:"135%"},onKeyDown:e=>x(e,b("personal","girosEnviados")),inputRef:e=>j(v("personal","girosEnviados"),e)})}),(0,Ve.jsx)(th,{align:"center",children:(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"center"},children:[(0,Ve.jsxs)(Ir,{size:"small",component:"label",color:"primary",title:"Subir comprobante",children:[(0,Ve.jsx)(lA,{fontSize:"small"}),(0,Ve.jsx)("input",{type:"file",hidden:!0,accept:"image/*",onChange:e=>m("personal","girosEnviados",e)})]}),(0,Ve.jsx)(Ir,{size:"small",color:"info",onClick:()=>g("personal","girosEnviados"),disabled:!d.personal_girosEnviados,title:"Ver comprobante",children:(0,Ve.jsx)(cA,{fontSize:"small"})})]})})]}),(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Retiros"}),(0,Ve.jsx)(th,{align:"right",children:(0,Ve.jsx)(jp,{variant:"outlined",size:"small",value:p(l.personal.retiros),onChange:e=>h("personal","retiros",e.target.value),autoComplete:"off",InputProps:{endAdornment:(0,Ve.jsx)($r,{variant:"caption",children:"\u20b2"}),inputProps:{style:{textAlign:"right"},id:v("personal","retiros"),onFocus:f}},sx:{width:"135%"},onKeyDown:e=>x(e,b("personal","retiros")),inputRef:e=>j(v("personal","retiros"),e)})}),(0,Ve.jsx)(th,{align:"center",children:(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"center"},children:[(0,Ve.jsxs)(Ir,{size:"small",component:"label",color:"primary",title:"Subir comprobante",children:[(0,Ve.jsx)(lA,{fontSize:"small"}),(0,Ve.jsx)("input",{type:"file",hidden:!0,accept:"image/*",onChange:e=>m("personal","retiros",e)})]}),(0,Ve.jsx)(Ir,{size:"small",color:"info",onClick:()=>g("personal","retiros"),disabled:!d.personal_retiros,title:"Ver comprobante",children:(0,Ve.jsx)(cA,{fontSize:"small"})})]})})]}),(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Carga de Billeteras"}),(0,Ve.jsx)(th,{align:"right",children:(0,Ve.jsx)(jp,{variant:"outlined",size:"small",value:p(l.personal.cargaBilleteras),onChange:e=>h("personal","cargaBilleteras",e.target.value),autoComplete:"off",InputProps:{endAdornment:(0,Ve.jsx)($r,{variant:"caption",children:"\u20b2"}),inputProps:{style:{textAlign:"right"},id:v("personal","cargaBilleteras"),onFocus:f}},sx:{width:"135%"},onKeyDown:e=>x(e,b("personal","cargaBilleteras")),inputRef:e=>j(v("personal","cargaBilleteras"),e)})}),(0,Ve.jsx)(th,{align:"center",children:(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"center"},children:[(0,Ve.jsxs)(Ir,{size:"small",component:"label",color:"primary",title:"Subir comprobante",children:[(0,Ve.jsx)(lA,{fontSize:"small"}),(0,Ve.jsx)("input",{type:"file",hidden:!0,accept:"image/*",onChange:e=>m("personal","cargaBilleteras",e)})]}),(0,Ve.jsx)(Ir,{size:"small",color:"info",onClick:()=>g("personal","cargaBilleteras"),disabled:!d.personal_cargaBilleteras,title:"Ver comprobante",children:(0,Ve.jsx)(cA,{fontSize:"small"})})]})})]})]})]})})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:4,children:(0,Ve.jsxs)($t,{elevation:2,sx:{p:2,height:"100%"},children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,sx:{color:"error.main",borderBottom:"1px solid",pb:1},children:"CLARO"}),(0,Ve.jsx)(Dp,{children:(0,Ve.jsxs)(zp,{size:"small",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Servicio"}),(0,Ve.jsx)(th,{align:"right",children:"Monto"}),(0,Ve.jsx)(th,{align:"center",children:"Acciones"})]})}),(0,Ve.jsxs)(sh,{children:[(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Recarga Claro"}),(0,Ve.jsx)(th,{align:"right",children:(0,Ve.jsx)(jp,{variant:"outlined",size:"small",value:p(l.claro.recargaClaro),onChange:e=>h("claro","recargaClaro",e.target.value),autoComplete:"off",InputProps:{endAdornment:(0,Ve.jsx)($r,{variant:"caption",children:"\u20b2"}),inputProps:{style:{textAlign:"right"},id:v("claro","recargaClaro"),onFocus:f}},sx:{width:"135%"},onKeyDown:e=>x(e,b("claro","recargaClaro")),inputRef:e=>j(v("claro","recargaClaro"),e)})}),(0,Ve.jsx)(th,{align:"center",children:(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"center"},children:[(0,Ve.jsxs)(Ir,{size:"small",component:"label",color:"primary",title:"Subir comprobante",children:[(0,Ve.jsx)(lA,{fontSize:"small"}),(0,Ve.jsx)("input",{type:"file",hidden:!0,accept:"image/*",onChange:e=>m("claro","recargaClaro",e)})]}),(0,Ve.jsx)(Ir,{size:"small",color:"info",onClick:()=>g("claro","recargaClaro"),disabled:!d.claro_recargaClaro,title:"Ver comprobante",children:(0,Ve.jsx)(cA,{fontSize:"small"})})]})})]}),(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Giros Enviados"}),(0,Ve.jsx)(th,{align:"right",children:(0,Ve.jsx)(jp,{variant:"outlined",size:"small",value:p(l.claro.girosEnviados),onChange:e=>h("claro","girosEnviados",e.target.value),autoComplete:"off",InputProps:{endAdornment:(0,Ve.jsx)($r,{variant:"caption",children:"\u20b2"}),inputProps:{style:{textAlign:"right"},id:v("claro","girosEnviados"),onFocus:f}},sx:{width:"135%"},onKeyDown:e=>x(e,b("claro","girosEnviados")),inputRef:e=>j(v("claro","girosEnviados"),e)})}),(0,Ve.jsx)(th,{align:"center",children:(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"center"},children:[(0,Ve.jsxs)(Ir,{size:"small",component:"label",color:"primary",title:"Subir comprobante",children:[(0,Ve.jsx)(lA,{fontSize:"small"}),(0,Ve.jsx)("input",{type:"file",hidden:!0,accept:"image/*",onChange:e=>m("claro","girosEnviados",e)})]}),(0,Ve.jsx)(Ir,{size:"small",color:"info",onClick:()=>g("claro","girosEnviados"),disabled:!d.claro_girosEnviados,title:"Ver comprobante",children:(0,Ve.jsx)(cA,{fontSize:"small"})})]})})]}),(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Retiros"}),(0,Ve.jsx)(th,{align:"right",children:(0,Ve.jsx)(jp,{variant:"outlined",size:"small",value:p(l.claro.retiros),onChange:e=>h("claro","retiros",e.target.value),autoComplete:"off",InputProps:{endAdornment:(0,Ve.jsx)($r,{variant:"caption",children:"\u20b2"}),inputProps:{style:{textAlign:"right"},id:v("claro","retiros"),onFocus:f}},sx:{width:"135%"},onKeyDown:e=>x(e,b("claro","retiros")),inputRef:e=>j(v("claro","retiros"),e)})}),(0,Ve.jsx)(th,{align:"center",children:(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"center"},children:[(0,Ve.jsxs)(Ir,{size:"small",component:"label",color:"primary",title:"Subir comprobante",children:[(0,Ve.jsx)(lA,{fontSize:"small"}),(0,Ve.jsx)("input",{type:"file",hidden:!0,accept:"image/*",onChange:e=>m("claro","retiros",e)})]}),(0,Ve.jsx)(Ir,{size:"small",color:"info",onClick:()=>g("claro","retiros"),disabled:!d.claro_retiros,title:"Ver comprobante",children:(0,Ve.jsx)(cA,{fontSize:"small"})})]})})]}),(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Carga de Billeteras"}),(0,Ve.jsx)(th,{align:"right",children:(0,Ve.jsx)(jp,{variant:"outlined",size:"small",value:p(l.claro.cargaBilleteras),onChange:e=>h("claro","cargaBilleteras",e.target.value),autoComplete:"off",InputProps:{endAdornment:(0,Ve.jsx)($r,{variant:"caption",children:"\u20b2"}),inputProps:{style:{textAlign:"right"},id:v("claro","cargaBilleteras"),onFocus:f}},sx:{width:"135%"},onKeyDown:e=>x(e,b("claro","cargaBilleteras")),inputRef:e=>j(v("claro","cargaBilleteras"),e)})}),(0,Ve.jsx)(th,{align:"center",children:(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"center"},children:[(0,Ve.jsxs)(Ir,{size:"small",component:"label",color:"primary",title:"Subir comprobante",children:[(0,Ve.jsx)(lA,{fontSize:"small"}),(0,Ve.jsx)("input",{type:"file",hidden:!0,accept:"image/*",onChange:e=>m("claro","cargaBilleteras",e)})]}),(0,Ve.jsx)(Ir,{size:"small",color:"info",onClick:()=>g("claro","cargaBilleteras"),disabled:!d.claro_cargaBilleteras,title:"Ver comprobante",children:(0,Ve.jsx)(cA,{fontSize:"small"})})]})})]})]})]})})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:4,children:(0,Ve.jsxs)($t,{elevation:2,sx:{p:2,height:"100%"},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid",pb:1},children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,sx:{color:"success.main",mb:0},children:"AQU\xcd PAGO"}),(0,Ve.jsxs)(Et,{children:[(0,Ve.jsxs)(Ir,{size:"small",component:"label",color:"primary",title:"Subir comprobante",children:[(0,Ve.jsx)(lA,{fontSize:"small"}),(0,Ve.jsx)("input",{type:"file",hidden:!0,accept:"image/*",onChange:e=>m("aquiPago","",e)})]}),(0,Ve.jsx)(Ir,{size:"small",color:"info",onClick:()=>g("aquiPago",""),disabled:!d.aquiPago,title:"Ver comprobante",children:(0,Ve.jsx)(cA,{fontSize:"small"})})]})]}),(0,Ve.jsx)(Dp,{children:(0,Ve.jsxs)(zp,{size:"small",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Servicio"}),(0,Ve.jsx)(th,{align:"right",children:"Monto"})]})}),(0,Ve.jsxs)(sh,{children:[(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Pagos"}),(0,Ve.jsx)(th,{align:"right",children:(0,Ve.jsx)(jp,{variant:"outlined",size:"small",value:p(l.aquiPago.pagos),onChange:e=>h("aquiPago","pagos",e.target.value),autoComplete:"off",InputProps:{endAdornment:(0,Ve.jsx)($r,{variant:"caption",children:"\u20b2"}),inputProps:{style:{textAlign:"right"},id:v("aquiPago","pagos"),onFocus:f}},sx:{width:"95%"},onKeyDown:e=>x(e,b("aquiPago","pagos")),inputRef:e=>j(v("aquiPago","pagos"),e)})})]}),(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Retiros"}),(0,Ve.jsx)(th,{align:"right",children:(0,Ve.jsx)(jp,{variant:"outlined",size:"small",value:p(l.aquiPago.retiros),onChange:e=>h("aquiPago","retiros",e.target.value),autoComplete:"off",InputProps:{endAdornment:(0,Ve.jsx)($r,{variant:"caption",children:"\u20b2"}),inputProps:{style:{textAlign:"right"},id:v("aquiPago","retiros"),onFocus:f}},sx:{width:"95%"},onKeyDown:e=>x(e,b("aquiPago","retiros")),inputRef:e=>j(v("aquiPago","retiros"),e)})})]})]})]})})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:4,children:(0,Ve.jsxs)($t,{elevation:2,sx:{p:2,height:"100%"},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid",pb:1},children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,sx:{color:"info.main",mb:0},children:"WEPA GUARAN\xcdES"}),(0,Ve.jsxs)(Et,{children:[(0,Ve.jsxs)(Ir,{size:"small",component:"label",color:"primary",title:"Subir comprobante",children:[(0,Ve.jsx)(lA,{fontSize:"small"}),(0,Ve.jsx)("input",{type:"file",hidden:!0,accept:"image/*",onChange:e=>m("wepaGuaranies","",e)})]}),(0,Ve.jsx)(Ir,{size:"small",color:"info",onClick:()=>g("wepaGuaranies",""),disabled:!d.wepaGuaranies,title:"Ver comprobante",children:(0,Ve.jsx)(cA,{fontSize:"small"})})]})]}),(0,Ve.jsx)(Dp,{children:(0,Ve.jsxs)(zp,{size:"small",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Servicio"}),(0,Ve.jsx)(th,{align:"right",children:"Monto"})]})}),(0,Ve.jsxs)(sh,{children:[(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Pagos"}),(0,Ve.jsx)(th,{align:"right",children:(0,Ve.jsx)(jp,{variant:"outlined",size:"small",value:p(l.wepaGuaranies.pagos),onChange:e=>h("wepaGuaranies","pagos",e.target.value),autoComplete:"off",InputProps:{endAdornment:(0,Ve.jsx)($r,{variant:"caption",children:"\u20b2"}),inputProps:{style:{textAlign:"right"},id:v("wepaGuaranies","pagos"),onFocus:f}},sx:{width:"95%"},onKeyDown:e=>x(e,b("wepaGuaranies","pagos")),inputRef:e=>j(v("wepaGuaranies","pagos"),e)})})]}),(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Retiros"}),(0,Ve.jsx)(th,{align:"right",children:(0,Ve.jsx)(jp,{variant:"outlined",size:"small",value:p(l.wepaGuaranies.retiros),onChange:e=>h("wepaGuaranies","retiros",e.target.value),autoComplete:"off",InputProps:{endAdornment:(0,Ve.jsx)($r,{variant:"caption",children:"\u20b2"}),inputProps:{style:{textAlign:"right"},id:v("wepaGuaranies","retiros"),onFocus:f}},sx:{width:"95%"},onKeyDown:e=>x(e,b("wepaGuaranies","retiros")),inputRef:e=>j(v("wepaGuaranies","retiros"),e)})})]})]})]})})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:4,children:(0,Ve.jsxs)($t,{elevation:2,sx:{p:2,height:"100%"},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid",pb:1},children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,sx:{color:"warning.main",mb:0},children:"WEPA D\xd3LARES"}),(0,Ve.jsxs)(Et,{children:[(0,Ve.jsxs)(Ir,{size:"small",component:"label",color:"primary",title:"Subir comprobante",children:[(0,Ve.jsx)(lA,{fontSize:"small"}),(0,Ve.jsx)("input",{type:"file",hidden:!0,accept:"image/*",onChange:e=>m("wepaDolares","",e)})]}),(0,Ve.jsx)(Ir,{size:"small",color:"info",onClick:()=>g("wepaDolares",""),disabled:!d.wepaDolares,title:"Ver comprobante",children:(0,Ve.jsx)(cA,{fontSize:"small"})})]})]}),(0,Ve.jsx)(Dp,{children:(0,Ve.jsxs)(zp,{size:"small",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Servicio"}),(0,Ve.jsx)(th,{align:"right",children:"Monto"})]})}),(0,Ve.jsxs)(sh,{children:[(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Pagos"}),(0,Ve.jsx)(th,{align:"right",children:(0,Ve.jsx)(jp,{variant:"outlined",size:"small",value:l.wepaDolares.pagos,onChange:e=>h("wepaDolares","pagos",e.target.value),autoComplete:"off",InputProps:{endAdornment:(0,Ve.jsx)($r,{variant:"caption",children:"$"}),inputProps:{style:{textAlign:"right"},id:v("wepaDolares","pagos"),onFocus:f}},sx:{width:"95%"},onKeyDown:e=>x(e,b("wepaDolares","pagos")),inputRef:e=>j(v("wepaDolares","pagos"),e)})})]}),(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Retiros"}),(0,Ve.jsx)(th,{align:"right",children:(0,Ve.jsx)(jp,{variant:"outlined",size:"small",value:l.wepaDolares.retiros,onChange:e=>h("wepaDolares","retiros",e.target.value),autoComplete:"off",InputProps:{endAdornment:(0,Ve.jsx)($r,{variant:"caption",children:"$"}),inputProps:{style:{textAlign:"right"},id:v("wepaDolares","retiros"),onFocus:f}},sx:{width:"95%"},onKeyDown:e=>x(e,b("wepaDolares","retiros")),inputRef:e=>j(v("wepaDolares","retiros"),e)})})]})]})]})})]})})]})}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:r,variant:"outlined",children:"Cancelar"}),(0,Ve.jsx)(fs,{variant:"contained",color:"primary",onClick:()=>{s(!0);const e={...l,actualizarTodos:!0};ed.post(`http://localhost:3000/api/cajas/${n.id}/movimiento`,e).then((e=>{console.log("Movimientos guardados:",e.data);const t=Object.entries(d).filter((e=>{let[t,r]=e;return null!==r&&!r.comprobanteId}));if(0===t.length)return o("Movimientos guardados correctamente (sin nuevos comprobantes)"),r(),void s(!1);console.log(`Preparando ${t.length} nuevos comprobantes para subida en lote.`);const a=new FormData,l=[];t.forEach((e=>{let[t,r]=e;const n=r;a.append("comprobantes",n,n.name);let o="";"tigo_miniCarga"===t?o="minicargas":"personal_maxiCarga"===t?o="maxicargas":"claro_recargaClaro"===t?o="recargaClaro":"tigo_retiros"===t?o="retirosTigoMoney":"personal_retiros"===t?o="retirosBilleteraPersonal":"claro_retiros"===t?o="retirosBilleteraClaro":"tigo_cargaBilleteras"===t?o="cargasBilleteraTigo":"personal_cargaBilleteras"===t?o="cargasBilleteraPersonal":"claro_cargaBilleteras"===t?o="cargasBilleteraClaro":"tigo_girosEnviados"===t?o="girosEnviadosTigo":"personal_girosEnviados"===t?o="girosEnviadosPersonal":"claro_girosEnviados"===t?o="girosEnviadosClaro":"aquiPago_pagos"===t?o="aquiPago":"aquiPago_retiros"===t?o="retirosAquiPago":"wepaGuaranies_pagos"===t?o="wepaGuaranies":"wepaGuaranies_retiros"===t?o="retirosWepaGuaranies":"wepaDolares_pagos"===t?o="wepaDolares":"wepaDolares_retiros"===t?o="retirosWepaDolares":"aquiPago"===t?o="aquiPago":"wepaGuaranies"===t?o="wepaGuaranies":"wepaDolares"===t?o="wepaDolares":(console.warn(`Tipo de comprobante no mapeado para lote: ${t}`),o="desconocido"),l.push(o)})),a.append("tipos",JSON.stringify(l)),console.log("Enviando lote de comprobantes con tipos:",l),ed.post(`http://localhost:3000/api/cajas/${n.id}/comprobantes/batch`,a,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{console.log("Respuesta de subida en lote:",e.data),o("Movimientos y comprobantes guardados correctamente."),r()})).catch((e=>{var t,r;console.error("Error en la subida en lote de comprobantes:",e);const n=(null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||e.message||"Error desconocido";i(`Se guardaron los movimientos, pero fall\xf3 la subida de comprobantes en lote: ${n}. Revise e intente de nuevo.`)})).finally((()=>{s(!1)}))})).catch((e=>{var t,r;console.error("Error al guardar movimientos:",e),i("Error al guardar los movimientos: "+((null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||e.message)),s(!1)}))},children:"Guardar"})]})]})},kO=[{operadora:"Tigo",servicios:[{id:"tigo-mini-carga",nombre:"Mini Carga"},{id:"tigo-billetera",nombre:"Billetera"}]},{operadora:"Personal",servicios:[{id:"personal-maxi-carga",nombre:"Maxi Carga"},{id:"personal-billetera",nombre:"Billetera"}]},{operadora:"Claro",servicios:[{id:"claro-recarga",nombre:"Recarga"},{id:"claro-billetera",nombre:"Billetera"}]}],OO=e=>{let{open:t,onClose:r,modoEdicion:n=!1}=e;const{cajaSeleccionada:o,setSuccessMessage:i,setErrorMessage:s,formPago:l,setFormPago:c,handleGuardarPago:d,setLoading:u,setPagos:p}=Hk(),[h,f]=(0,a.useState)(""),[m,g]=(0,a.useState)(""),[v,x]=(0,a.useState)(""),[b,y]=(0,a.useState)(null),[j,w]=(0,a.useState)(null);if(a.useEffect((()=>{if(t)if(n&&l){let e="";for(const t of kO){if(t.operadora===l.operadora)for(const r of t.servicios)if(r.nombre===l.servicio){e=r.id;break}if(e)break}f(e),g(l.monto?S(l.monto):""),x(l.observacion||""),w(l.id||null)}else f(""),g(""),x(""),y(null),w(null)}),[t,l,n]),!o)return null;const S=e=>{const t=e.replace(/\D/g,"");if(!t)return"";const r=parseInt(t,10);return r?new Intl.NumberFormat("es-PY").format(r):""},C=(e,t)=>{if("Enter"===e.key||"Tab"===e.key){e.preventDefault();const r=document.getElementById(t);r&&r.focus()}};return(0,Ve.jsxs)(Fi,{open:t,onClose:r,maxWidth:"sm",fullWidth:!0,sx:{"& .MuiDialog-paper":{width:"400px",maxWidth:"95%"}},children:[(0,Ve.jsx)(Gi,{children:"Registrar Pago"}),(0,Ve.jsx)(Et,{sx:{px:3,mt:-2,mb:0},children:(0,Ve.jsxs)($r,{variant:"subtitle2",color:"text.secondary",children:[dO(o.id)," (ID: ",o.cajaEnteroId,")"]})}),(0,Ve.jsx)(Ki,{children:(0,Ve.jsx)($t,{elevation:2,sx:{p:3,mt:2},children:(0,Ve.jsxs)($h,{container:!0,spacing:3,children:[(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsxs)(lu,{fullWidth:!0,children:[(0,Ve.jsx)(ou,{id:"servicio-label",children:"Servicio"}),(0,Ve.jsx)(gp,{labelId:"servicio-label",id:"servicio",value:h,label:"Servicio",onChange:e=>f(e.target.value),onKeyDown:e=>C(e,"monto"),autoComplete:"off",renderValue:e=>(e=>{if(!e)return"";for(const t of kO)for(const r of t.servicios)if(r.id===e)return`${t.operadora}: ${r.nombre}`;return""})(e),children:kO.map((e=>[(0,Ve.jsx)(_h,{disabled:!0,children:(0,Ve.jsxs)($r,{variant:"subtitle2",children:[e.operadora,":"]})},e.operadora),...e.servicios.map((e=>(0,Ve.jsx)(_h,{value:e.id,sx:{pl:4},children:e.nombre},e.id)))]))})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsx)(jp,{fullWidth:!0,id:"monto",label:"Monto",value:m,onChange:e=>{const t=S(e.target.value);g(t)},onKeyDown:e=>C(e,"observacion"),onClick:KA,autoComplete:"off",placeholder:"0",InputProps:{endAdornment:(0,Ve.jsx)($r,{variant:"caption",children:"\xa0Gs"})}})}),(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsx)(jp,{fullWidth:!0,id:"observacion",label:"Observaciones",multiline:!0,rows:2,value:v,onChange:e=>x(e.target.value.toUpperCase()),onKeyDown:e=>C(e,"guardar-button"),autoComplete:"off"})}),(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,Ve.jsxs)(fs,{variant:"outlined",component:"label",startIcon:(0,Ve.jsx)(lA,{}),children:["Adjuntar Comprobante",(0,Ve.jsx)("input",{type:"file",hidden:!0,accept:"image/*",onChange:e=>{if(e.target.files&&e.target.files[0]){const t=e.target.files[0];y(t),i(`Comprobante ${t.name} subido correctamente`)}}})]}),b&&(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)($r,{variant:"body2",children:b.name}),(0,Ve.jsx)(Ir,{size:"small",color:"info",onClick:()=>{b?window.open(URL.createObjectURL(b),"_blank"):s("No hay comprobante disponible")},title:"Ver comprobante",children:(0,Ve.jsx)(cA,{fontSize:"small"})})]})]})})]})})}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:r,variant:"outlined",children:"Cancelar"}),(0,Ve.jsx)(fs,{id:"guardar-button",variant:"contained",color:"primary",onClick:()=>{if(!h)return void s("Debe seleccionar un servicio");if(console.log("Monto original:",m),console.log("Monto sin puntos:",m.replace(/\./g,"")),!m||""===m.trim())return void s("Debe ingresar un monto v\xe1lido mayor a cero");const e=m.replace(/\./g,"");if(!e||"0"===e)return void s("Debe ingresar un monto v\xe1lido mayor a cero");const t=parseInt(e,10);if(console.log("Monto num\xe9rico:",t),isNaN(t)||t<=0)return void s("Debe ingresar un monto v\xe1lido mayor a cero");const{operadora:a,servicio:l}=(e=>{for(const t of kO)for(const r of t.servicios)if(r.id===e)return{operadora:t.operadora,servicio:r.nombre};return{operadora:"",servicio:""}})(h);c({operadora:a,servicio:l,monto:e,moneda:"PYG",comprobante:b,observacion:v});const d=new FormData;if(d.append("operadora",a),d.append("servicio",l),d.append("monto",t.toString()),d.append("moneda","PYG"),v&&d.append("observacion",v),b&&d.append("comprobante",b),o){u(!0);const e=n&&j?`/api/cajas/pagos/${j}`:`/api/cajas/${o.id}/pagos`;ed({method:n&&j?"put":"post",url:e,data:d,headers:{"Content-Type":"multipart/form-data"}}).then((e=>{n&&j?(p((t=>t.map((t=>t.id===j?e.data:t)))),i("Pago actualizado correctamente")):(p((t=>[...t,e.data])),i("Pago registrado correctamente")),f(""),g(""),x(""),y(null),w(null),r()})).catch((e=>{console.error("Error al guardar el pago:",e),s("Error al registrar el pago. Por favor, int\xe9ntelo de nuevo.")})).finally((()=>{u(!1)}))}else s("No hay una caja seleccionada")},children:"Guardar"})]})]})},PO=e=>{let{open:t,onClose:r}=e;const{cajaSeleccionada:n,pagos:o,pagosDialogOpen:i,setPagosDialogOpen:s,handleNuevoPago:l,handleEliminarPago:c,confirmarEliminarPagoId:d,setConfirmarEliminarPagoId:u,formPago:p,setFormPago:h,loading:f,confirmarEliminacionPago:m,cancelarEliminacionPago:g}=Hk(),[v,x]=(0,a.useState)(!1);return(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsxs)(Fi,{open:t,onClose:r,maxWidth:"md",fullWidth:!0,children:[(0,Ve.jsx)(Gi,{children:"Lista de Pagos"}),n&&(0,Ve.jsx)(Et,{sx:{px:3,mt:-2,mb:2},children:(0,Ve.jsxs)($r,{variant:"subtitle2",color:"text.secondary",children:[dO(n.id)," (ID: ",n.cajaEnteroId,")"]})}),(0,Ve.jsxs)(Ki,{children:[(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"flex-end",mb:2},children:(0,Ve.jsx)(fs,{variant:"contained",color:"primary",startIcon:(0,Ve.jsx)(XS,{}),onClick:()=>{x(!1),l()},children:"Nuevo Pago"})}),f?(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",my:4},children:(0,Ve.jsx)(KS,{})}):0===o.length?(0,Ve.jsx)(Ah,{severity:"info",children:"No hay pagos registrados para esta caja."}):(0,Ve.jsx)(Dp,{component:$t,children:(0,Ve.jsxs)(zp,{size:"small",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Fecha"}),(0,Ve.jsx)(th,{children:"Servicio"}),(0,Ve.jsx)(th,{align:"right",children:"Monto"}),(0,Ve.jsx)(th,{children:"Observaci\xf3n"}),(0,Ve.jsx)(th,{align:"center",children:"Acciones"})]})}),(0,Ve.jsx)(sh,{children:o.map((e=>(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:uy(new Date(e.fecha),"dd/MM/yyyy HH:mm",{locale:Cw})}),(0,Ve.jsx)(th,{children:(0,Ve.jsx)(Qo,{title:`Operadora: ${e.operadora}`,children:(0,Ve.jsx)("span",{children:e.servicio})})}),(0,Ve.jsx)(th,{align:"right",children:"PYG"===e.moneda?`${uO(e.monto)} Gs`:`$ ${new Intl.NumberFormat("es-PY",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e.monto)}`}),(0,Ve.jsx)(th,{children:e.observacion||"-"}),(0,Ve.jsxs)(th,{align:"center",children:[(0,Ve.jsx)(Qo,{title:"Editar",children:(0,Ve.jsx)(Ir,{size:"small",color:"primary",onClick:()=>(e=>{const t=o.find((t=>t.id===e));t&&(h({id:e,operadora:t.operadora,servicio:t.servicio,monto:uO(t.monto),moneda:t.moneda,observacion:t.observacion||""}),x(!0),s(!0))})(e.id),children:(0,Ve.jsx)(yC,{fontSize:"small"})})}),(0,Ve.jsx)(Qo,{title:"Eliminar",children:(0,Ve.jsx)(Ir,{size:"small",color:"error",onClick:()=>u(e.id),children:(0,Ve.jsx)(NE,{fontSize:"small"})})})]})]},e.id)))})]})})]}),(0,Ve.jsx)(ns,{children:(0,Ve.jsx)(fs,{onClick:r,children:"Cerrar"})})]}),(0,Ve.jsxs)(Fi,{open:!!d,onClose:g,children:[(0,Ve.jsx)(Gi,{children:"Confirmar Eliminaci\xf3n"}),(0,Ve.jsx)(Ki,{children:(0,Ve.jsx)($r,{children:"\xbfEst\xe1 seguro que desea eliminar este pago? Esta acci\xf3n no se puede deshacer."})}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:g,color:"primary",children:"Cancelar"}),(0,Ve.jsx)(fs,{onClick:m,color:"error",autoFocus:!0,children:"Eliminar"})]})]}),(0,Ve.jsx)(OO,{open:i,onClose:()=>{s(!1),x(!1)},modoEdicion:v})]})},IO=()=>{var e;const{user:t}=eC(),r=t&&t.rol&&"OPERADOR"===t.rol.nombre.toUpperCase(),n=t&&t.rol&&"ADMINISTRADOR"===t.rol.nombre.toUpperCase(),{errorMessage:o,successMessage:i,setErrorMessage:s,setSuccessMessage:l,loading:c,cajas:d,tabIndex:u,setTabIndex:p,handleVerDetalle:h,handleRetiros:f,handleVerOperacionesBancarias:m,handleCerrarCaja:g,handleNuevaCaja:v,handleVerApertura:x,handleVerMovimientos:b,handlePagos:y,handleImprimirResumen:j,listaRetirosDialogOpen:w,setListaRetirosDialogOpen:S,operacionesBancariasDialogOpen:C,setOperacionesBancariasDialogOpen:A,confirmarEliminarRetiroId:E,setConfirmarEliminarRetiroId:k,confirmarEliminacionRetiro:O,cancelarEliminacionRetiro:P,dialogAperturaOpen:I,dialogCierreOpen:D,dialogDetalleOpen:M,dialogVerAperturaOpen:T,dialogVerMovimientosOpen:R,dialogPagosOpen:N,setDialogAperturaOpen:$,setDialogCierreOpen:z,setDialogDetalleOpen:L,setDialogVerAperturaOpen:B,setDialogVerMovimientosOpen:F,setDialogPagosOpen:_,listaPagosDialogOpen:U,setListaPagosDialogOpen:W}=Hk(),[V,G]=a.useState(""),[H,q]=a.useState(""),[Y,K]=a.useState(!1),[X,Q]=a.useState([]),[J,Z]=a.useState(""),[ee,te]=a.useState(!1);a.useEffect((()=>{(async()=>{if(n)try{te(!0);const e=await iO.getAll();if(e.data&&Array.isArray(e.data)){const t=[{id:"",nombre:"Todas las Sucursales"},...e.data.map((e=>({id:e.id,nombre:e.nombre})))];Q(t)}}catch(e){console.error("Error al cargar sucursales:",e)}finally{te(!1)}})()}),[n]);return(0,Ve.jsxs)(Jk,{maxWidth:"xl",children:[(0,Ve.jsx)(pt,{styles:{"*::-webkit-scrollbar":{width:"12px",height:"12px"},"*::-webkit-scrollbar-track":{backgroundColor:"#121212"},"*::-webkit-scrollbar-thumb":{backgroundColor:"#333",borderRadius:"6px","&:hover":{backgroundColor:"#444"}},html:{scrollbarColor:"#333 #121212",scrollbarWidth:"thin"},body:{scrollbarColor:"#333 #121212",scrollbarWidth:"thin"}}}),(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:3,mb:2},children:[(0,Ve.jsx)($r,{variant:"h4",component:"h1",children:r?"Panel de Operaciones":t&&t.rol&&"ADMINISTRADOR"===t.rol.nombre.toUpperCase()?"Cajas de Todas las Sucursales":"Cajas"}),(0,Ve.jsx)(fs,{variant:"contained",color:"primary",startIcon:(0,Ve.jsx)(XS,{}),onClick:v,children:"Nueva Caja"})]}),!r&&(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)($t,{sx:{mb:3},children:(0,Ve.jsxs)(WA,{value:u,onChange:(e,t)=>{p(t)},indicatorColor:"primary",textColor:"primary",sx:{borderBottom:1,borderColor:"divider"},children:[(0,Ve.jsx)(YA,{label:"Todas las Cajas"}),(0,Ve.jsx)(YA,{label:"Cajas Abiertas"}),(0,Ve.jsx)(YA,{label:"Cajas Cerradas"})]})}),(0,Ve.jsxs)($t,{sx:{mb:3,p:2},children:[(0,Ve.jsxs)($h,{container:!0,spacing:2,alignItems:"center",children:[n&&(0,Ve.jsx)($h,{item:!0,xs:12,sm:4,md:2,children:(0,Ve.jsxs)(lu,{fullWidth:!0,size:"small",children:[(0,Ve.jsx)(ou,{id:"sucursal-select-label",children:"Sucursal"}),(0,Ve.jsx)(gp,{labelId:"sucursal-select-label",id:"sucursal-select",value:J,label:"Sucursal",onChange:e=>Z(e.target.value),disabled:ee,children:X.map((e=>(0,Ve.jsx)(_h,{value:e.id,children:e.nombre},e.id)))})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:4,md:n?2:3,children:(0,Ve.jsx)(jp,{label:"Fecha Desde",type:"date",fullWidth:!0,value:V,onChange:e=>G(e.target.value),InputLabelProps:{shrink:!0},size:"small",InputProps:{inputProps:{max:H||void 0}}})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:4,md:n?2:3,children:(0,Ve.jsx)(jp,{label:"Fecha Hasta",type:"date",fullWidth:!0,value:H,onChange:e=>q(e.target.value),InputLabelProps:{shrink:!0},size:"small",InputProps:{inputProps:{min:V||void 0}}})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:4,md:6,children:(0,Ve.jsxs)(Et,{sx:{display:"flex",gap:2},children:[(0,Ve.jsx)(fs,{variant:"contained",color:"primary",startIcon:(0,Ve.jsx)(Zk,{}),onClick:()=>{K(!0)},disabled:!V&&!H&&!J,children:"Aplicar Filtros"}),(0,Ve.jsx)(fs,{variant:"outlined",color:"secondary",onClick:()=>{G(""),q(""),Z(""),K(!1)},disabled:!Y&&!V&&!H&&!J,children:"Limpiar Filtros"})]})})]}),Y&&(0,Ve.jsx)(Et,{sx:{mt:2},children:(0,Ve.jsx)(Ah,{severity:"info",sx:{display:"flex",alignItems:"center"},children:(0,Ve.jsxs)(Et,{children:["Filtro aplicado:",J&&` Sucursal: ${null===(e=X.find((e=>e.id===J)))||void 0===e?void 0:e.nombre}`,V&&` Desde ${V.split("-").reverse().join("/")}`,H&&` Hasta ${H.split("-").reverse().join("/")}`]})})})]})]}),r&&(0,Ve.jsx)($t,{sx:{mb:3,p:2},children:(0,Ve.jsx)(Ah,{severity:"info",icon:(0,Ve.jsx)(Ir,{size:"small",children:(0,Ve.jsx)(cA,{fontSize:"small"})}),children:(0,Ve.jsxs)(Et,{children:[(0,Ve.jsx)($r,{variant:"subtitle1",sx:{fontWeight:"bold",mb:.5},children:"Informaci\xf3n de filtrado actual:"}),(0,Ve.jsxs)(Et,{component:"ul",sx:{pl:2,m:0},children:[(0,Ve.jsxs)("li",{children:["Mostrando solo las cajas del usuario: ",(0,Ve.jsx)("strong",{children:null===t||void 0===t?void 0:t.username})]}),(0,Ve.jsxs)("li",{children:["Mostrando solo las cajas del d\xeda: ",(0,Ve.jsx)("strong",{children:(new Date).toLocaleDateString()})]})]})]})})}),(0,Ve.jsx)(tf,{open:!!o,autoHideDuration:6e3,onClose:()=>s(null),anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,Ve.jsx)(Ah,{onClose:()=>s(null),severity:"error",variant:"filled",sx:{width:"100%"},children:o})}),(0,Ve.jsx)(tf,{open:!!i,autoHideDuration:6e3,onClose:()=>l(null),anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,Ve.jsx)(Ah,{onClose:()=>l(null),severity:"success",variant:"filled",sx:{width:"100%"},children:i})}),c&&(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",my:4},children:(0,Ve.jsx)(KS,{})}),c||0!==d.length?!c&&(0,Ve.jsx)(Dp,{component:$t,children:(0,Ve.jsxs)(zp,{children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"ID"}),(0,Ve.jsx)(th,{children:"Sucursal"}),(0,Ve.jsx)(th,{children:"Usuario"}),(0,Ve.jsx)(th,{children:"Fecha Apertura"}),(0,Ve.jsx)(th,{children:"Fecha Cierre"}),(0,Ve.jsx)(th,{children:"Estado"}),(0,Ve.jsx)(th,{children:"Acciones"})]})}),(0,Ve.jsx)(sh,{children:(re=d.filter((e=>!!r||(1===u?"abierta"===e.estado:2!==u||"cerrada"===e.estado))),n&&J&&(re=re.filter((e=>e.sucursalId===J))),Y?re.filter((e=>{const t=new Date(e.fechaApertura);let r=!0;if(V){const e=new Date(V+"T00:00:00");r=r&&t>=e}if(H){const e=new Date(H+"T23:59:59");r=r&&t<=e}return r})):r?re.filter((e=>{const r=e.usuario===(null===t||void 0===t?void 0:t.username)||(null===t||void 0===t?void 0:t.username)&&e.usuario&&e.usuario.toUpperCase().includes(t.username.toUpperCase()),n=new Date(e.fechaApertura),o=new Date,a=n.getFullYear()===o.getFullYear()&&n.getMonth()===o.getMonth()&&n.getDate()===o.getDate();return console.log("Caja:",e.id,"Usuario:",e.usuario,"Usuario actual:",null===t||void 0===t?void 0:t.username),console.log("Es caja del usuario:",r,"Es mismo d\xeda:",a),r&&a})):re).map((e=>{var t;return(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:e.cajaEnteroId}),(0,Ve.jsx)(th,{children:(null===(t=e.sucursal)||void 0===t?void 0:t.nombre)||"N/A"}),(0,Ve.jsx)(th,{children:e.usuario}),(0,Ve.jsx)(th,{children:new Date(e.fechaApertura).toLocaleString()}),(0,Ve.jsx)(th,{children:e.fechaCierre?new Date(e.fechaCierre).toLocaleString():"-"}),(0,Ve.jsx)(th,{children:(0,Ve.jsx)(Et,{sx:{display:"inline-block",px:1,py:.5,borderRadius:1,bgcolor:"abierta"===e.estado?"success.light":"error.light",color:"white",fontSize:"0.875rem",fontWeight:"bold"},children:"abierta"===e.estado?"Abierta":"Cerrada"})}),(0,Ve.jsxs)(th,{children:[(0,Ve.jsx)(Qo,{title:"Ver Detalles",children:(0,Ve.jsx)(Ir,{size:"small",color:"primary",onClick:()=>h(e),sx:{marginRight:1},children:(0,Ve.jsx)(cA,{fontSize:"small"})})}),(0,Ve.jsx)(Qo,{title:"Ver Datos de Apertura",children:(0,Ve.jsx)(Ir,{size:"small",color:"info",onClick:()=>x(e),sx:{marginRight:1},children:(0,Ve.jsx)(ys,{fontSize:"small"})})}),(0,Ve.jsx)(Qo,{title:"Ver Movimientos",children:(0,Ve.jsx)(Ir,{size:"small",color:"secondary",onClick:()=>b(e),sx:{marginRight:1},children:(0,Ve.jsx)(eO,{fontSize:"small"})})}),(0,Ve.jsx)(Qo,{title:"Retiros",children:(0,Ve.jsx)(Ir,{size:"small",color:"warning",onClick:()=>f(e),sx:{marginRight:1},children:(0,Ve.jsx)(Ss,{fontSize:"small"})})}),(0,Ve.jsx)(Qo,{title:"Operaciones Bancarias",children:(0,Ve.jsx)(Ir,{size:"small",color:"success",onClick:()=>m(e),sx:{marginRight:1},children:(0,Ve.jsx)(vs,{fontSize:"small"})})}),(0,Ve.jsx)(Qo,{title:"Pagos",children:(0,Ve.jsx)(Ir,{size:"small",color:"info",onClick:()=>y(e),sx:{marginRight:1},children:(0,Ve.jsx)(pC,{fontSize:"small"})})}),(0,Ve.jsx)(Qo,{title:"abierta"===e.estado?"Cerrar Caja":"Editar Cierre",children:(0,Ve.jsx)(Ir,{size:"small",color:"error",onClick:()=>g(e),sx:{marginRight:1},children:(0,Ve.jsx)(AC,{fontSize:"small"})})}),(0,Ve.jsx)(Qo,{title:"Imprimir Resumen",children:(0,Ve.jsx)("span",{children:(0,Ve.jsx)(Ir,{size:"small",color:"default",sx:{bgcolor:"primary.main","&:hover":{bgcolor:"primary.dark"}},onClick:()=>j(e),disabled:"abierta"===e.estado,children:(0,Ve.jsx)(Rs,{fontSize:"small",sx:{color:"white"}})})})})]})]},e.id)}))})]})}):(0,Ve.jsx)(Ah,{severity:"info",children:"No hay cajas disponibles para mostrar."}),(0,Ve.jsx)(bO,{open:I,onClose:()=>$(!1)}),(0,Ve.jsx)(yO,{open:D,onClose:()=>z(!1)}),(0,Ve.jsx)(CO,{open:M,onClose:()=>L(!1)}),(0,Ve.jsx)(AO,{open:T,onClose:()=>B(!1)}),(0,Ve.jsx)(EO,{open:R,onClose:()=>F(!1)}),(0,Ve.jsx)(OO,{open:N,onClose:()=>_(!1)}),(0,Ve.jsx)(PO,{open:U,onClose:()=>W(!1)}),(0,Ve.jsx)(hO,{open:w,onClose:()=>S(!1)}),(0,Ve.jsx)(xO,{open:C,onClose:()=>A(!1)}),(0,Ve.jsxs)(Fi,{open:!!E,onClose:P,children:[(0,Ve.jsx)(Gi,{children:"Confirmar Eliminaci\xf3n"}),(0,Ve.jsx)(Ki,{children:(0,Ve.jsx)(Zi,{children:"\xbfEst\xe1 seguro que desea eliminar este retiro? Esta acci\xf3n no se puede deshacer."})}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:P,color:"primary",children:"Cancelar"}),(0,Ve.jsx)(fs,{onClick:O,color:"error",autoFocus:!0,children:"Eliminar"})]})]})]});var re},DO=()=>(0,Ve.jsx)(Gk,{children:(0,Ve.jsx)(IO,{})}),MO=(0,ms.A)((0,Ve.jsx)("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5zm4-3H19v1h1.5V11H19v2h-1.5V7h3zM9 9.5h1v-1H9zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm10 5.5h1v-3h-1z"}),"PictureAsPdf"),TO=(0,ms.A)((0,Ve.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),RO=()=>{const[e,t]=(0,a.useState)(!1),[r,n]=(0,a.useState)(null),[o,i]=(0,a.useState)([]),[s,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(!1),[u,p]=(0,a.useState)(!1),[h,f]=(0,a.useState)(""),{cotizacionVigente:m}=SC(),{sucursalActual:g,loading:v}=Mk(),x=[{id:1,nombre:"Caja Principal",responsable:"Juan P\xe9rez",estado:"abierta",moneda:"guaranies",saldo:15e5,fechaApertura:"2023-04-01T08:00:00",sucursalId:"SUC001",transacciones:15,totalIngresos:18e5,totalEgresos:3e5,movimientos:[{id:1,tipo:"ingreso",concepto:"Venta de medicamentos",monto:15e4,fecha:"2023-04-01T09:30:00",responsable:"Juan P\xe9rez"},{id:2,tipo:"egreso",concepto:"Pago a proveedor",monto:5e4,fecha:"2023-04-01T11:15:00",responsable:"Juan P\xe9rez"},{id:3,tipo:"ingreso",concepto:"Recarga telef\xf3nica",monto:25e3,fecha:"2023-04-01T14:20:00",responsable:"Juan P\xe9rez"}]},{id:2,nombre:"Caja Secundaria",responsable:"Mar\xeda L\xf3pez",estado:"cerrada",moneda:"guaranies",saldo:0,fechaApertura:"2023-04-01T08:00:00",fechaCierre:"2023-04-01T17:00:00",sucursalId:"SUC001",transacciones:8,totalIngresos:95e4,totalEgresos:95e4,movimientos:[]},{id:3,nombre:"Caja D\xf3lares",responsable:"Carlos G\xf3mez",estado:"abierta",moneda:"dolares",saldo:500,fechaApertura:"2023-04-01T08:30:00",sucursalId:"SUC002",transacciones:5,totalIngresos:1e3,totalEgresos:500,movimientos:[]},{id:4,nombre:"Caja Reales",responsable:"Ana Mart\xednez",estado:"en_proceso",moneda:"reales",saldo:1200,fechaApertura:"2023-04-01T09:00:00",sucursalId:"SUC002",transacciones:3,totalIngresos:2e3,totalEgresos:800,movimientos:[]}];(0,a.useEffect)((()=>{(async()=>{if(g){t(!0);try{await new Promise((e=>setTimeout(e,800)));const e=x.filter((e=>e.sucursalId===g.id));i(e)}catch(e){n("Error al cargar las cajas"),console.error(e)}finally{t(!1)}}})()}),[g]);const b=e=>{if(!e)return"-";return new Date(e).toLocaleDateString("es-PY",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},y=(e,t)=>{switch(t){case"guaranies":case"todas":default:return nC.guaranies(e);case"dolares":return nC.dollars(e);case"reales":return nC.reals(e)}},j=e=>{l(e),d(!0)};return v?(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",my:4},children:(0,Ve.jsx)(KS,{})}):g?(0,Ve.jsxs)(Et,{sx:{p:3},children:[(0,Ve.jsx)(pt,{styles:{"*::-webkit-scrollbar":{width:"12px",height:"12px"},"*::-webkit-scrollbar-track":{backgroundColor:"#121212"},"*::-webkit-scrollbar-thumb":{backgroundColor:"#333",borderRadius:"6px","&:hover":{backgroundColor:"#444"}},html:{scrollbarColor:"#333 #121212",scrollbarWidth:"thin"},body:{scrollbarColor:"#333 #121212",scrollbarWidth:"thin"}}}),(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:(0,Ve.jsxs)(Et,{children:[(0,Ve.jsx)($r,{variant:"h4",component:"h1",children:"Control de Cajas"}),(0,Ve.jsxs)($r,{variant:"subtitle1",color:"text.secondary",children:["Sucursal: ",g.nombre," (",g.codigo,")"]})]})}),r&&(0,Ve.jsx)(Ah,{severity:"error",sx:{mb:3},children:r}),e?(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",my:4},children:(0,Ve.jsx)(KS,{})}):(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsxs)($t,{sx:{p:2,mb:3,bgcolor:"background.paper"},children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,children:"Cajas Activas"}),(0,Ve.jsx)($h,{container:!0,spacing:3,children:o.filter((e=>"abierta"===e.estado||"en_proceso"===e.estado)).length>0?o.filter((e=>"abierta"===e.estado||"en_proceso"===e.estado)).map((e=>(0,Ve.jsx)($h,{item:!0,xs:12,md:6,children:(0,Ve.jsx)(jk,{variant:"outlined",sx:{borderColor:"abierta"===e.estado?"success.main":"warning.main",borderWidth:2},children:(0,Ve.jsxs)(Ak,{children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[(0,Ve.jsx)($r,{variant:"h6",children:e.nombre}),(0,Ve.jsx)(Pg,{label:"abierta"===e.estado?"Abierta":"En Proceso",color:"abierta"===e.estado?"success":"warning",size:"small"})]}),(0,Ve.jsxs)($r,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Responsable: ",e.responsable]}),(0,Ve.jsx)(Ii,{sx:{my:1}}),(0,Ve.jsxs)($h,{container:!0,spacing:1,children:[(0,Ve.jsxs)($h,{item:!0,xs:6,children:[(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"Apertura:"}),(0,Ve.jsx)($r,{variant:"body2",children:b(e.fechaApertura)})]}),(0,Ve.jsxs)($h,{item:!0,xs:6,children:[(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"Moneda:"}),(0,Ve.jsx)($r,{variant:"body2",children:"guaranies"===e.moneda?"Guaran\xedes":"dolares"===e.moneda?"D\xf3lares":"reales"===e.moneda?"Reales":"Multimoneda"})]}),(0,Ve.jsxs)($h,{item:!0,xs:6,children:[(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"Saldo actual:"}),(0,Ve.jsx)($r,{variant:"body1",fontWeight:"bold",children:y(e.saldo,e.moneda)})]}),(0,Ve.jsxs)($h,{item:!0,xs:6,children:[(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"Transacciones:"}),(0,Ve.jsx)($r,{variant:"body1",children:e.transacciones})]})]}),(0,Ve.jsx)(Ii,{sx:{my:1}}),(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"flex-end",gap:1,mt:1},children:[(0,Ve.jsx)(fs,{size:"small",variant:"outlined",startIcon:(0,Ve.jsx)(cA,{}),onClick:()=>j(e),children:"Detalles"}),(0,Ve.jsx)(fs,{size:"small",variant:"contained",color:"error",startIcon:(0,Ve.jsx)(AC,{}),onClick:()=>(e=>{l(e),p(!0)})(e),children:"Cerrar Caja"})]})]})})},e.id))):(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsx)(Ah,{severity:"info",children:"No hay cajas activas en esta sucursal."})})})]}),(0,Ve.jsxs)($t,{sx:{p:2,mb:3,bgcolor:"background.paper"},children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,children:"Historial de Cajas"}),(0,Ve.jsx)(Dp,{children:(0,Ve.jsxs)(zp,{children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Nombre"}),(0,Ve.jsx)(th,{children:"Responsable"}),(0,Ve.jsx)(th,{children:"Estado"}),(0,Ve.jsx)(th,{children:"Moneda"}),(0,Ve.jsx)(th,{align:"right",children:"Saldo Final"}),(0,Ve.jsx)(th,{children:"Apertura"}),(0,Ve.jsx)(th,{children:"Cierre"}),(0,Ve.jsx)(th,{align:"center",children:"Acciones"})]})}),(0,Ve.jsx)(sh,{children:o.filter((e=>"cerrada"===e.estado)).map((e=>(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:e.nombre}),(0,Ve.jsx)(th,{children:e.responsable}),(0,Ve.jsx)(th,{children:(0,Ve.jsx)(Pg,{label:"Cerrada",color:"error",size:"small"})}),(0,Ve.jsx)(th,{children:"guaranies"===e.moneda?"Guaran\xedes":"dolares"===e.moneda?"D\xf3lares":"reales"===e.moneda?"Reales":"Multimoneda"}),(0,Ve.jsx)(th,{align:"right",children:y(e.saldo,e.moneda)}),(0,Ve.jsx)(th,{children:b(e.fechaApertura)}),(0,Ve.jsx)(th,{children:b(e.fechaCierre)}),(0,Ve.jsxs)(th,{align:"center",children:[(0,Ve.jsx)(Ir,{color:"primary",size:"small",title:"Ver detalles",onClick:()=>j(e),children:(0,Ve.jsx)(cA,{})}),(0,Ve.jsx)(Ir,{color:"secondary",size:"small",title:"Imprimir reporte",children:(0,Ve.jsx)(Rs,{})})]})]},e.id)))})]})})]})]}),(0,Ve.jsx)(Fi,{open:c,onClose:()=>d(!1),maxWidth:"md",fullWidth:!0,children:s&&(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsxs)(Gi,{children:["Detalles de ",s.nombre,(0,Ve.jsx)($r,{variant:"subtitle2",color:"text.secondary",children:"abierta"===s.estado?"Caja Abierta":"en_proceso"===s.estado?"Caja En Proceso":"Caja Cerrada"})]}),(0,Ve.jsxs)(Ki,{children:[(0,Ve.jsxs)($h,{container:!0,spacing:2,sx:{mb:2},children:[(0,Ve.jsx)($h,{item:!0,xs:12,md:6,children:(0,Ve.jsx)(jk,{variant:"outlined",sx:{height:"100%"},children:(0,Ve.jsxs)(Ak,{children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,children:"Informaci\xf3n General"}),(0,Ve.jsxs)($h,{container:!0,spacing:1,children:[(0,Ve.jsxs)($h,{item:!0,xs:6,children:[(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"Responsable:"}),(0,Ve.jsx)($r,{variant:"body1",children:s.responsable})]}),(0,Ve.jsxs)($h,{item:!0,xs:6,children:[(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"Moneda:"}),(0,Ve.jsx)($r,{variant:"body1",children:"guaranies"===s.moneda?"Guaran\xedes":"dolares"===s.moneda?"D\xf3lares":"reales"===s.moneda?"Reales":"Multimoneda"})]}),(0,Ve.jsxs)($h,{item:!0,xs:6,children:[(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"Apertura:"}),(0,Ve.jsx)($r,{variant:"body1",children:b(s.fechaApertura)})]}),(0,Ve.jsxs)($h,{item:!0,xs:6,children:[(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"Cierre:"}),(0,Ve.jsx)($r,{variant:"body1",children:b(s.fechaCierre)})]})]})]})})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:6,children:(0,Ve.jsx)(jk,{variant:"outlined",sx:{height:"100%"},children:(0,Ve.jsxs)(Ak,{children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,children:"Resumen de Operaciones"}),(0,Ve.jsxs)($h,{container:!0,spacing:1,children:[(0,Ve.jsxs)($h,{item:!0,xs:6,children:[(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"Transacciones:"}),(0,Ve.jsx)($r,{variant:"body1",children:s.transacciones})]}),(0,Ve.jsxs)($h,{item:!0,xs:6,children:[(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"Saldo:"}),(0,Ve.jsx)($r,{variant:"body1",fontWeight:"bold",children:y(s.saldo,s.moneda)})]}),(0,Ve.jsxs)($h,{item:!0,xs:6,children:[(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"Total Ingresos:"}),(0,Ve.jsx)($r,{variant:"body1",color:"success.main",children:y(s.totalIngresos,s.moneda)})]}),(0,Ve.jsxs)($h,{item:!0,xs:6,children:[(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"Total Egresos:"}),(0,Ve.jsx)($r,{variant:"body1",color:"error.main",children:y(s.totalEgresos,s.moneda)})]})]})]})})})]}),(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,children:"Movimientos"}),s.movimientos.length>0?(0,Ve.jsx)(Dp,{component:$t,variant:"outlined",children:(0,Ve.jsxs)(zp,{size:"small",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Tipo"}),(0,Ve.jsx)(th,{children:"Concepto"}),(0,Ve.jsx)(th,{align:"right",children:"Monto"}),(0,Ve.jsx)(th,{children:"Fecha"}),(0,Ve.jsx)(th,{children:"Responsable"})]})}),(0,Ve.jsx)(sh,{children:s.movimientos.map((e=>(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:(0,Ve.jsx)(Pg,{label:"ingreso"===e.tipo?"Ingreso":"Egreso",color:"ingreso"===e.tipo?"success":"error",size:"small"})}),(0,Ve.jsx)(th,{children:e.concepto}),(0,Ve.jsx)(th,{align:"right",children:y(e.monto,s.moneda)}),(0,Ve.jsx)(th,{children:b(e.fecha)}),(0,Ve.jsx)(th,{children:e.responsable})]},e.id)))})]})}):(0,Ve.jsx)(Ah,{severity:"info",sx:{mt:1},children:"No hay movimientos registrados para esta caja."})]}),(0,Ve.jsxs)(ns,{children:["cerrada"===s.estado&&(0,Ve.jsx)(fs,{startIcon:(0,Ve.jsx)(MO,{}),color:"primary",children:"Generar PDF"}),(0,Ve.jsx)(fs,{onClick:()=>d(!1),children:"Cerrar"})]})]})}),(0,Ve.jsx)(Fi,{open:u,onClose:()=>p(!1),maxWidth:"sm",fullWidth:!0,children:s&&(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsxs)(Gi,{children:["Cerrar ",s.nombre]}),(0,Ve.jsxs)(Ki,{children:[(0,Ve.jsx)(Zi,{sx:{mb:2},children:"\xbfEst\xe1 seguro que desea cerrar esta caja? Esta acci\xf3n no se puede deshacer."}),(0,Ve.jsxs)($h,{container:!0,spacing:2,sx:{mb:2},children:[(0,Ve.jsxs)($h,{item:!0,xs:12,md:6,children:[(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"Responsable:"}),(0,Ve.jsx)($r,{variant:"body1",children:s.responsable})]}),(0,Ve.jsxs)($h,{item:!0,xs:12,md:6,children:[(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"Saldo actual:"}),(0,Ve.jsx)($r,{variant:"body1",fontWeight:"bold",children:y(s.saldo,s.moneda)})]})]}),(0,Ve.jsx)(jp,{label:"Observaciones de cierre",multiline:!0,rows:4,fullWidth:!0,value:h,onChange:e=>f(e.target.value),onClick:KA})]}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:()=>p(!1),children:"Cancelar"}),(0,Ve.jsx)(fs,{onClick:()=>{if(!s)return;const e=o.map((e=>e.id===s.id?{...e,estado:"cerrada",fechaCierre:(new Date).toISOString()}:e));i(e),p(!1),f("")},color:"error",variant:"contained",startIcon:(0,Ve.jsx)(TO,{}),children:"Confirmar Cierre"})]})]})})]}):(0,Ve.jsx)(Et,{sx:{p:3},children:(0,Ve.jsx)(Ah,{severity:"warning",children:"No hay una sucursal seleccionada. Por favor, contacte al administrador del sistema."})})},NO=(0,ms.A)((0,Ve.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"LocationOn"),$O=(0,ms.A)((0,Ve.jsx)("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02z"}),"Phone"),zO=(0,ms.A)((0,Ve.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email"),LO=()=>{const[e,t]=(0,a.useState)(!1),[r,n]=(0,a.useState)(null),[o,i]=(0,a.useState)([]),[s,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(null),[u,p]=(0,a.useState)(null),{sucursalActual:h,setSucursal:f}=Mk(),{user:m}=eC(),g=(0,a.useRef)(null),v=(0,a.useRef)(null),[x,b]=(0,a.useState)({nombre:"",codigo:"",direccion:"",telefono:"",email:""}),y=async()=>{t(!0);try{const e=await iO.getAll();if(e.data&&Array.isArray(e.data)){const t=e.data.map((e=>({...e,id:String(e.id)})));i(t)}else console.error("Formato de respuesta inesperado:",e.data),n("Error en el formato de datos de las sucursales")}catch(e){console.error("Error al cargar las sucursales:",e),n("Error al cargar las sucursales")}finally{t(!1)}};(0,a.useEffect)((()=>{y()}),[]);const j=e=>{const{name:t,value:r}=e.target,n="email"===t?r:r.toUpperCase();b((e=>({...e,[t]:n})))},w=e=>{e.target.select()};return(0,Ve.jsxs)(Et,{sx:{p:3},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,Ve.jsx)($r,{variant:"h4",component:"h1",children:"Sucursales"}),(0,Ve.jsx)(fs,{variant:"contained",color:"primary",startIcon:(0,Ve.jsx)(XS,{}),onClick:()=>{d(null),b({nombre:"",codigo:"",direccion:"",telefono:"",email:""}),l(!0)},children:"Nueva Sucursal"})]}),(0,Ve.jsx)(Ah,{severity:"info",sx:{mb:3},children:(0,Ve.jsx)($r,{variant:"body2",children:"La sucursal que seleccione como activa quedar\xe1 guardada en este equipo. Cada vez que inicie la aplicaci\xf3n en este dispositivo, se cargar\xe1 autom\xe1ticamente la \xfaltima sucursal seleccionada."})}),(0,Ve.jsx)(tf,{open:!!r,autoHideDuration:6e3,onClose:()=>n(null),anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,Ve.jsx)(Ah,{onClose:()=>n(null),severity:"error",children:r})}),(0,Ve.jsx)(tf,{open:!!u,autoHideDuration:3e3,onClose:()=>p(null),anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,Ve.jsx)(Ah,{onClose:()=>p(null),severity:"success",children:u})}),e&&0===o.length?(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",my:4},children:(0,Ve.jsx)(KS,{})}):(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsxs)($t,{sx:{p:2,mb:3,bgcolor:"background.paper"},children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,children:"Sucursal Actual"}),h?(0,Ve.jsx)(jk,{variant:"outlined",children:(0,Ve.jsxs)(Ak,{children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,Ve.jsxs)(Et,{children:[(0,Ve.jsx)($r,{variant:"h5",children:h.nombre}),(0,Ve.jsx)(Pg,{label:h.codigo,color:"primary",size:"small",sx:{mr:1}})]}),(0,Ve.jsxs)(Et,{children:[(0,Ve.jsx)(Pg,{icon:(0,Ve.jsx)(OC,{}),label:"Sucursal Activa",color:"success",variant:"outlined",sx:{mr:1}}),(0,Ve.jsx)(Qo,{title:"Esta sucursal quedar\xe1 seleccionada en este equipo",children:(0,Ve.jsx)(Pg,{icon:(0,Ve.jsx)(NO,{}),label:"Guardada localmente",color:"secondary",variant:"outlined",size:"small"})})]})]}),(0,Ve.jsxs)($h,{container:!0,spacing:2,children:[(0,Ve.jsx)($h,{item:!0,xs:12,md:4,children:(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center"},children:[(0,Ve.jsx)(NO,{color:"action",sx:{mr:1}}),(0,Ve.jsx)($r,{variant:"body2",children:h.direccion})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:4,children:(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center"},children:[(0,Ve.jsx)($O,{color:"action",sx:{mr:1}}),(0,Ve.jsx)($r,{variant:"body2",children:h.telefono})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:4,children:(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center"},children:[(0,Ve.jsx)(zO,{color:"action",sx:{mr:1}}),(0,Ve.jsx)($r,{variant:"body2",children:h.email||"No disponible"})]})})]})]})}):(0,Ve.jsx)(Ah,{severity:"warning",children:"No hay una sucursal seleccionada."})]}),(0,Ve.jsxs)($t,{sx:{p:2,mb:3,bgcolor:"background.paper"},children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,children:"Todas las Sucursales"}),(0,Ve.jsx)(Dp,{children:(0,Ve.jsxs)(zp,{children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Nombre"}),(0,Ve.jsx)(th,{children:"C\xf3digo"}),(0,Ve.jsx)(th,{children:"Direcci\xf3n"}),(0,Ve.jsx)(th,{children:"Tel\xe9fono"}),(0,Ve.jsx)(th,{children:"Email"}),(0,Ve.jsx)(th,{align:"center",children:"Acciones"})]})}),(0,Ve.jsx)(sh,{children:0===o.length?(0,Ve.jsx)(Xp,{children:(0,Ve.jsx)(th,{colSpan:6,align:"center",children:"No hay sucursales disponibles"})}):o.map((e=>(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsxs)(th,{children:[e.nombre,(null===h||void 0===h?void 0:h.id)===e.id&&(0,Ve.jsx)(Pg,{label:"Activa",color:"success",size:"small",sx:{ml:1}})]}),(0,Ve.jsx)(th,{children:e.codigo}),(0,Ve.jsx)(th,{children:e.direccion}),(0,Ve.jsx)(th,{children:e.telefono}),(0,Ve.jsx)(th,{children:e.email||"\u2014"}),(0,Ve.jsxs)(th,{align:"center",children:[(0,Ve.jsx)(Qo,{title:"Seleccionar como sucursal activa y guardar en este equipo",children:(0,Ve.jsx)(Ir,{color:"primary",onClick:()=>(e=>{f(e),p(`Sucursal activa cambiada a ${e.nombre} y guardada en este equipo`),setTimeout((()=>{p(null)}),3e3)})(e),disabled:(null===h||void 0===h?void 0:h.id)===e.id,children:(0,Ve.jsx)(OC,{})})}),(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)(Qo,{title:"Editar",children:(0,Ve.jsx)(Ir,{color:"secondary",onClick:()=>(e=>{d(e),b({nombre:e.nombre,codigo:e.codigo,direccion:e.direccion,telefono:e.telefono,email:e.email||""}),l(!0)})(e),children:(0,Ve.jsx)(yC,{})})}),(0,Ve.jsx)(Qo,{title:"Eliminar",children:(0,Ve.jsx)(Ir,{color:"error",onClick:()=>(async e=>{if(window.confirm(`\xbfEst\xe1 seguro que desea eliminar la sucursal ${e.nombre}?`)){t(!0);try{await iO.delete(e.id),p(`Sucursal ${e.nombre} eliminada exitosamente`),(null===h||void 0===h?void 0:h.id)===e.id&&f(null),await y()}catch(a){var r,o;console.error("Error al eliminar la sucursal:",a),n((null===(r=a.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.error)||"Error al eliminar la sucursal")}finally{t(!1)}}})(e),children:(0,Ve.jsx)(NE,{})})})]})]})]},e.id)))})]})})]})]}),(0,Ve.jsxs)(Fi,{open:s,onClose:()=>l(!1),maxWidth:"sm",fullWidth:!0,TransitionProps:{onEntered:()=>{!c&&v.current&&v.current.focus()}},children:[(0,Ve.jsx)(Gi,{children:c?`Editar Sucursal: ${c.nombre}`:"Nueva Sucursal"}),(0,Ve.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),t(!0);try{c?(await iO.update(c.id,x),p(`Sucursal ${x.nombre} actualizada exitosamente`)):(await iO.create(x),p(`Sucursal ${x.nombre} creada exitosamente`)),await y(),l(!1)}catch(a){var r,o;console.error("Error al guardar la sucursal:",a),n((null===(r=a.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.error)||"Error al guardar la sucursal")}finally{t(!1)}},onKeyDown:e=>{if("Enter"===e.key&&!(e.target instanceof HTMLTextAreaElement)){e.preventDefault();const t=e.currentTarget,r=Array.from(t.querySelectorAll('input:not([disabled]), textarea:not([disabled]), select:not([disabled]), button:not([disabled]), [tabindex]:not([tabindex="-1"]):not([disabled])')).filter((e=>{const t=window.getComputedStyle(e);return null!==e.offsetParent&&"none"!==t.display&&"hidden"!==t.visibility})),n=r.findIndex((e=>e===document.activeElement));if(-1!==n&&n<r.length-1){const e=r[n+1];null===e||void 0===e||e.focus()}else if(n===r.length-2){const e=g.current;e&&!e.disabled&&e.focus()}}},children:[(0,Ve.jsxs)(Ki,{children:[(0,Ve.jsx)(jp,{name:"nombre",label:"Nombre de la Sucursal",fullWidth:!0,margin:"normal",variant:"outlined",value:x.nombre,onChange:j,required:!0,autoComplete:"off",onFocus:w,inputRef:v}),(0,Ve.jsx)(jp,{name:"codigo",label:"C\xf3digo",fullWidth:!0,margin:"normal",variant:"outlined",value:x.codigo,onChange:j,required:!0,autoComplete:"off",onFocus:w}),(0,Ve.jsx)(jp,{name:"direccion",label:"Direcci\xf3n",fullWidth:!0,margin:"normal",variant:"outlined",value:x.direccion,onChange:j,required:!0,autoComplete:"off",onFocus:w}),(0,Ve.jsx)(jp,{name:"telefono",label:"Tel\xe9fono",fullWidth:!0,margin:"normal",variant:"outlined",value:x.telefono,onChange:j,required:!0,autoComplete:"off",onFocus:w}),(0,Ve.jsx)(jp,{name:"email",label:"Email",fullWidth:!0,margin:"normal",variant:"outlined",type:"email",value:x.email,onChange:j,autoComplete:"off",onFocus:w})]}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:()=>l(!1),color:"inherit",children:"Cancelar"}),(0,Ve.jsx)(fs,{type:"submit",color:"primary",variant:"contained",disabled:!x.nombre||!x.codigo||!x.direccion||!x.telefono||e,ref:g,children:e?(0,Ve.jsx)(KS,{size:24}):c?"Actualizar":"Crear"})]})]})]})]})},BO={codigo:"",sucursalId:""},FO=[{id:"1",nombre:"Central",codigo:"CEN",direccion:"Av. Principal 123",telefono:"021-123-4567",email:"central@example.com"},{id:"2",nombre:"Sucursal Este",codigo:"ESTE",direccion:"Calle Este 456",telefono:"021-456-7890",email:"este@example.com"}],_O=[{id:"1",codigo:"1001",sucursalId:"1",sucursal:FO[0],createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()}],UO=()=>{const[e,t]=(0,a.useState)(""),[r,n]=(0,a.useState)(!1),[o,i]=(0,a.useState)(BO),[s,l]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[u,p]=(0,a.useState)(!1),[h,f]=(0,a.useState)(null),[m,g]=(0,a.useState)(null),[v,x]=(0,a.useState)(null),{sucursalActual:b}=Mk(),y=(0,a.useRef)(null);(0,a.useEffect)((()=>{j(),w()}),[]);const j=async()=>{try{p(!0);const e=(await aO.getAll()).data;e&&e.length>0?l(e):(console.log("Usando datos de fallback para maletines"),l(_O)),f(null)}catch(e){f("Error al cargar los maletines"),console.error("Error al cargar los maletines:",e),l(_O)}finally{p(!1)}},w=async()=>{try{console.log("Cargando sucursales...");const e=(await iO.getAll()).data;console.log("Datos de sucursales recibidos:",e),e&&e.length>0?(console.log("Usando datos de API para sucursales:",e),d(e)):(console.log("Usando datos de fallback para sucursales:",FO),d(FO))}catch(e){console.error("Error al cargar las sucursales:",e),console.log("Error al cargar sucursales, usando fallback:",FO),d(FO)}},S=()=>{n(!1),i(BO),x(null)},C=s.filter((t=>{var r;return t.codigo.includes(e)||(null===(r=t.sucursal)||void 0===r?void 0:r.nombre.toLowerCase().includes(e.toLowerCase()))}));return(0,Ve.jsxs)(Et,{sx:{width:"100%"},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",py:2,px:2,borderBottom:1,borderColor:"divider"},children:[(0,Ve.jsx)($r,{variant:"h5",component:"h1",children:"Maletines"}),(0,Ve.jsx)(fs,{variant:"contained",color:"primary",startIcon:(0,Ve.jsx)(nf.A,{}),onClick:()=>{const e=b?b.id:"";i({...BO,sucursalId:e}),x(null),n(!0)},children:"AGREGAR MALET\xcdN"})]}),(0,Ve.jsx)(Et,{sx:{px:2,pt:2},children:(0,Ve.jsx)(jp,{size:"small",variant:"outlined",placeholder:"BUSCAR MALETINES...",value:e,onChange:e=>{t(e.target.value)},InputProps:{startAdornment:(0,Ve.jsx)(kp,{position:"start",children:(0,Ve.jsx)(rf.A,{})})},sx:{width:"100%",maxWidth:500}})}),(0,Ve.jsx)(Et,{sx:{px:2,pt:2},children:(0,Ve.jsx)(Dp,{component:$t,children:(0,Ve.jsxs)(zp,{size:"small",children:[(0,Ve.jsx)(Vp,{sx:{backgroundColor:"#1976d2"},children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{sx:{color:"white"},children:"C\xd3DIGO"}),(0,Ve.jsx)(th,{sx:{color:"white"},children:"SUCURSAL"}),(0,Ve.jsx)(th,{sx:{color:"white"},children:"FECHA CREACI\xd3N"}),(0,Ve.jsx)(th,{sx:{color:"white"},align:"center",children:"ACCIONES"})]})}),(0,Ve.jsx)(sh,{children:u&&0===s.length?(0,Ve.jsx)(Xp,{children:(0,Ve.jsx)(th,{colSpan:4,align:"center",children:(0,Ve.jsx)(KS,{size:24})})}):0===C.length?(0,Ve.jsx)(Xp,{children:(0,Ve.jsx)(th,{colSpan:4,align:"center",children:"No se encontraron maletines"})}):C.map((e=>{var t;return(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:e.codigo}),(0,Ve.jsx)(th,{children:(null===(t=e.sucursal)||void 0===t?void 0:t.nombre)||"Sin asignar"}),(0,Ve.jsx)(th,{children:e.createdAt?uy(new Date(e.createdAt),"dd MMMM yyyy",{locale:Cw}):"N/A"}),(0,Ve.jsxs)(th,{align:"center",children:[(0,Ve.jsx)(Ir,{size:"small",color:"primary",onClick:()=>(e=>{i({codigo:e.codigo,sucursalId:e.sucursalId}),x(e.id),n(!0)})(e),children:(0,Ve.jsx)(of.A,{fontSize:"small"})}),(0,Ve.jsx)(Ir,{size:"small",color:"error",onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1 seguro que desea eliminar este malet\xedn?"))try{p(!0),await aO.delete(e),await j(),g("Malet\xedn eliminado exitosamente")}catch(t){f("Error al eliminar el malet\xedn")}finally{p(!1)}})(e.id),children:(0,Ve.jsx)(af.A,{fontSize:"small"})})]})]},e.id)}))})]})})}),(0,Ve.jsxs)(Fi,{open:r,onClose:S,maxWidth:"sm",fullWidth:!0,TransitionProps:{onEntered:()=>{!v&&y.current&&y.current.focus()}},children:[(0,Ve.jsx)(Gi,{children:v?"EDITAR MALET\xcdN":"AGREGAR NUEVO MALET\xcdN"}),(0,Ve.jsx)(Ki,{children:(0,Ve.jsx)(Et,{sx:{pt:2,pb:2},children:(0,Ve.jsxs)($h,{container:!0,spacing:2,children:[(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"C\xf3digo de Malet\xedn (4 d\xedgitos)",name:"codigo",value:o.codigo,onChange:e=>{const{name:t,value:r}=e.target;i((e=>({...e,[t]:r})))},onClick:e=>{e.currentTarget&&"function"===typeof e.currentTarget.select&&e.currentTarget.select()},required:!0,inputProps:{maxLength:4,pattern:"[0-9]*",inputMode:"numeric"},autoComplete:"off",error:o.codigo.length>0&&4!==o.codigo.length,helperText:o.codigo.length>0&&4!==o.codigo.length?"El c\xf3digo debe tener exactamente 4 d\xedgitos":"",inputRef:y})}),(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsxs)(lu,{fullWidth:!0,required:!0,children:[(0,Ve.jsx)(ou,{children:"SUCURSAL"}),(0,Ve.jsxs)(gp,{name:"sucursalId",value:o.sucursalId,onChange:e=>{const t=e.target.name,r=e.target.value;i((e=>({...e,[t]:r})))},label:"SUCURSAL",inputProps:{autoComplete:"new-password"},children:[(0,Ve.jsx)(_h,{value:"",disabled:!0,children:"Seleccione una sucursal"}),c&&c.length>0?c.map((e=>(0,Ve.jsx)(_h,{value:e.id,children:e.nombre},e.id))):(0,Ve.jsx)(_h,{value:"",disabled:!0,children:"No hay sucursales disponibles"})]}),0===c.length&&(0,Ve.jsx)($r,{color:"error",variant:"caption",children:"No se pudieron cargar las sucursales. Intente nuevamente."})]})})]})})}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:S,children:"CANCELAR"}),(0,Ve.jsx)(fs,{onClick:async e=>{if(e.preventDefault(),/^\d{4}$/.test(o.codigo)?o.sucursalId||(f("Debe seleccionar una sucursal"),0):(f("El c\xf3digo debe contener exactamente 4 d\xedgitos"),0))try{p(!0);const e={codigo:o.codigo,sucursalId:o.sucursalId};let t;if(console.log("Datos a enviar:",e),v){t=(await aO.update(v,e)).data,g("Malet\xedn actualizado correctamente")}else try{t=(await aO.create(e)).data,g("Malet\xedn creado correctamente")}catch(h){throw console.error("Error completo al guardar:",h),h.response&&console.error("Detalles del error:",h.response.data),h}j(),S()}catch(n){var t,r;f((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||"Error al guardar el malet\xedn"),console.error("Error al guardar el malet\xedn:",n)}finally{p(!1)}},variant:"contained",color:"primary",disabled:u,children:u?(0,Ve.jsx)(KS,{size:24}):"GUARDAR"})]})]}),(0,Ve.jsx)(tf,{open:!!m,autoHideDuration:3e3,onClose:()=>g(null),anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,Ve.jsx)(Ah,{onClose:()=>g(null),severity:"success",children:m})}),(0,Ve.jsx)(tf,{open:!!h,autoHideDuration:6e3,onClose:()=>f(null),anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,Ve.jsx)(Ah,{onClose:()=>f(null),severity:"error",children:h})})]})},WO="http://localhost:3000/api",VO=async()=>{try{console.log("Obteniendo cuentas bancarias desde:",`${WO}/cuentas-bancarias`);const e=await ed.get(`${WO}/cuentas-bancarias`);return console.log("Respuesta del servidor (cuentas bancarias):",e.data),e.data}catch(e){throw console.error("Error al obtener cuentas bancarias:",e.message),e.response&&console.error("Respuesta del servidor:",e.response.data),e}},GO=async e=>{try{console.log("Creando cuenta bancaria con datos:",e),console.log("URL:",`${WO}/cuentas-bancarias`);const t=await ed.post(`${WO}/cuentas-bancarias`,e);return console.log("Respuesta del servidor (crear cuenta):",t.data),t.data}catch(t){throw console.error("Error al crear cuenta bancaria:",t.message),t.response&&console.error("Respuesta del servidor:",t.response.data),t}},HO=async(e,t)=>{try{console.log(`Actualizando cuenta bancaria ${e} con datos:`,t),console.log("URL:",`${WO}/cuentas-bancarias/${e}`);const r=await ed.put(`${WO}/cuentas-bancarias/${e}`,t);return console.log("Respuesta del servidor (actualizar cuenta):",r.data),r.data}catch(r){throw console.error(`Error al actualizar cuenta bancaria ${e}:`,r.message),r.response&&console.error("Respuesta del servidor:",r.response.data),r}},qO=async e=>{try{console.log(`Eliminando cuenta bancaria ${e}`),console.log("URL:",`${WO}/cuentas-bancarias/${e}`),await ed.delete(`${WO}/cuentas-bancarias/${e}`),console.log(`Cuenta bancaria ${e} eliminada correctamente`)}catch(t){throw console.error(`Error al eliminar cuenta bancaria ${e}:`,t.message),t.response&&console.error("Respuesta del servidor:",t.response.data),t}},YO=()=>{const[e,t]=(0,a.useState)(!1),[r,n]=(0,a.useState)(null),[o,i]=(0,a.useState)([]),[s,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(null),[u,p]=(0,a.useState)(null),{user:h}=eC(),f=(0,a.useRef)(null),m=(0,a.useRef)(null),[g,v]=(0,a.useState)({banco:"",numeroCuenta:"",moneda:"",tipo:""});(0,a.useEffect)((()=>{(async()=>{t(!0);try{const e=await VO();i(e)}catch(r){console.error("Error al cargar los datos:",r),n("Error al cargar los datos. Intente nuevamente m\xe1s tarde.")}finally{t(!1)}})()}),[]);const x=e=>{const{name:t,value:r}=e.target,n=r.toUpperCase();v((e=>({...e,[t]:n})))},b=e=>{const{name:t,value:r}=e.target;v((e=>({...e,[t]:r})))},y=e=>{e.target.select()},j=()=>{l(!1)};return(0,Ve.jsxs)(Et,{sx:{p:3},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,Ve.jsx)($r,{variant:"h4",component:"h1",children:"Cuentas Bancarias"}),(0,Ve.jsx)(fs,{variant:"contained",color:"primary",startIcon:(0,Ve.jsx)(XS,{}),onClick:()=>{d(null),v({banco:"",numeroCuenta:"",moneda:"",tipo:""}),l(!0)},children:"Nueva Cuenta Bancaria"})]}),e&&(0,Ve.jsx)(KS,{sx:{display:"block",mx:"auto",my:4}}),r&&!e&&(0,Ve.jsx)(Ah,{severity:"error",sx:{mb:3},children:r}),!e&&0===o.length&&!r&&(0,Ve.jsx)(Ah,{severity:"info",sx:{mb:3},children:"No hay cuentas bancarias registradas. \xa1Crea una nueva!"}),!e&&o.length>0&&(0,Ve.jsx)(Dp,{component:$t,sx:{mb:4},children:(0,Ve.jsxs)(zp,{children:[(0,Ve.jsx)(Vp,{sx:{bgcolor:"primary.main"},children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{sx:{color:"white",fontWeight:"bold"},children:"ID"}),(0,Ve.jsx)(th,{sx:{color:"white",fontWeight:"bold"},children:"Banco"}),(0,Ve.jsx)(th,{sx:{color:"white",fontWeight:"bold"},children:"N\xfamero de Cuenta"}),(0,Ve.jsx)(th,{sx:{color:"white",fontWeight:"bold"},children:"Moneda"}),(0,Ve.jsx)(th,{sx:{color:"white",fontWeight:"bold"},children:"Acciones"})]})}),(0,Ve.jsx)(sh,{children:o.map((e=>(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:e.id}),(0,Ve.jsx)(th,{children:e.banco}),(0,Ve.jsx)(th,{children:e.numeroCuenta}),(0,Ve.jsx)(th,{children:e.moneda}),(0,Ve.jsxs)(th,{children:[(0,Ve.jsx)(Ir,{color:"primary",onClick:()=>(e=>{d(e),v({banco:e.banco,numeroCuenta:e.numeroCuenta,moneda:e.moneda,tipo:e.tipo}),l(!0)})(e),disabled:!1,children:(0,Ve.jsx)(yC,{})}),(0,Ve.jsx)(Ir,{color:"error",onClick:()=>(async e=>{try{t(!0);const r=o.find((t=>t.id===e));await qO(e);const n=o.filter((t=>t.id!==e));i(n),p(`Cuenta bancaria ${null===r||void 0===r?void 0:r.banco} eliminada exitosamente`)}catch(r){console.error("Error al eliminar la cuenta bancaria:",r),r.response&&r.response.data&&"La cuenta tiene dispositivos POS asociados"===r.response.data.details?n("No se puede eliminar la cuenta porque tiene dispositivos POS asociados"):n("Error al eliminar la cuenta bancaria. Intente nuevamente m\xe1s tarde.")}finally{t(!1),setTimeout((()=>{p(null),n(null)}),3e3)}})(e.id),disabled:!1,children:(0,Ve.jsx)(NE,{})})]})]},e.id)))})]})}),(0,Ve.jsxs)(Fi,{open:s,onClose:j,maxWidth:"sm",fullWidth:!0,TransitionProps:{onEntered:()=>{!c&&f.current&&f.current.focus()}},children:[(0,Ve.jsx)(Gi,{children:c?"Editar Cuenta Bancaria":"Nueva Cuenta Bancaria"}),(0,Ve.jsx)(Ki,{children:(0,Ve.jsxs)(Et,{component:"form",sx:{mt:1},onKeyDown:e=>{if("Enter"===e.key&&!(e.target instanceof HTMLTextAreaElement)){e.preventDefault();const t=e.currentTarget,r=Array.from(t.querySelectorAll('input:not([disabled]), textarea:not([disabled]), select:not([disabled]), button:not([disabled]), [tabindex]:not([tabindex="-1"]):not([disabled]), [role="button"]:not([disabled])')).filter((e=>{const t=window.getComputedStyle(e);return null!==e.offsetParent&&"none"!==t.display&&"hidden"!==t.visibility})),n=r.findIndex((e=>e===document.activeElement||e.contains(document.activeElement)));if(-1!==n&&n<r.length-1){const e=r[n+1];null===e||void 0===e||e.focus()}else if(n===r.length-2){const e=m.current;e&&!e.disabled&&e.focus()}}},children:[(0,Ve.jsx)(jp,{fullWidth:!0,margin:"normal",label:"Banco",name:"banco",value:g.banco,onChange:x,required:!0,onFocus:y,inputRef:f}),(0,Ve.jsx)(jp,{fullWidth:!0,margin:"normal",label:"N\xfamero de Cuenta",name:"numeroCuenta",value:g.numeroCuenta,onChange:x,required:!0,onFocus:y}),(0,Ve.jsxs)(lu,{fullWidth:!0,margin:"normal",required:!0,children:[(0,Ve.jsx)(ou,{children:"Tipo de Cuenta"}),(0,Ve.jsxs)(gp,{name:"tipo",value:g.tipo,onChange:b,label:"Tipo de Cuenta",children:[(0,Ve.jsx)(_h,{value:"",disabled:!0,children:"Seleccione un tipo de cuenta"}),(0,Ve.jsx)(_h,{value:"CORRIENTE",children:"Cuenta Corriente"}),(0,Ve.jsx)(_h,{value:"AHORRO",children:"Caja de Ahorro"})]})]}),(0,Ve.jsxs)(lu,{fullWidth:!0,margin:"normal",required:!0,children:[(0,Ve.jsx)(ou,{children:"Moneda"}),(0,Ve.jsxs)(gp,{name:"moneda",value:g.moneda,onChange:b,label:"Moneda",children:[(0,Ve.jsx)(_h,{value:"",disabled:!0,children:"Seleccione una moneda"}),(0,Ve.jsx)(_h,{value:"PYG",children:"Guaran\xedes (PYG)"}),(0,Ve.jsx)(_h,{value:"BRL",children:"Reales (BRL)"}),(0,Ve.jsx)(_h,{value:"USD",children:"D\xf3lares (USD)"})]})]})]})}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:j,children:"Cancelar"}),(0,Ve.jsx)(fs,{onClick:async e=>{e.preventDefault();try{if(t(!0),!g.banco.trim())return n("El nombre del banco es obligatorio"),void t(!1);if(!g.numeroCuenta.trim())return n("El n\xfamero de cuenta es obligatorio"),void t(!1);if(!g.moneda)return n("La moneda es obligatoria"),void t(!1);if(!g.tipo)return n("El tipo de cuenta es obligatorio"),void t(!1);if(c){const e=await HO(c.id,g),t=o.map((t=>t.id===c.id?e:t));i(t),p(`Cuenta bancaria ${g.banco} actualizada exitosamente`)}else{const e=await GO(g);i([...o,e]),p(`Cuenta bancaria ${g.banco} creada exitosamente`)}l(!1)}catch(r){console.error("Error al guardar la cuenta bancaria:",r),n("Error al guardar la cuenta bancaria. Intente nuevamente m\xe1s tarde.")}finally{t(!1),setTimeout((()=>{p(null),n(null)}),3e3)}},variant:"contained",color:"primary",disabled:e,ref:m,children:e?(0,Ve.jsx)(KS,{size:24}):"Guardar"})]})]}),(0,Ve.jsx)(tf,{open:!!u,autoHideDuration:3e3,onClose:()=>p(null),message:u})]})},KO="http://localhost:3000/api",XO=async()=>{try{console.log("Obteniendo dispositivos POS desde:",`${KO}/pos`);const e=await ed.get(`${KO}/pos`);return console.log("Respuesta del servidor (POS):",e.data),e.data}catch(e){throw console.error("Error al obtener dispositivos POS:",e.message),e.response&&console.error("Respuesta del servidor:",e.response.data),e}},QO=async e=>{try{console.log("Creando dispositivo POS con datos:",e),console.log("URL:",`${KO}/pos`);const t=await ed.post(`${KO}/pos`,e);return console.log("Respuesta del servidor (crear POS):",t.data),t.data}catch(t){throw console.error("Error al crear dispositivo POS:",t.message),t.response&&console.error("Respuesta del servidor:",t.response.data),t}},JO=async(e,t)=>{try{console.log(`Actualizando dispositivo POS ${e} con datos:`,t),console.log("URL:",`${KO}/pos/${e}`);const r=await ed.put(`${KO}/pos/${e}`,t);return console.log("Respuesta del servidor (actualizar POS):",r.data),r.data}catch(r){throw console.error(`Error al actualizar dispositivo POS ${e}:`,r.message),r.response&&console.error("Respuesta del servidor:",r.response.data),r}},ZO=async e=>{try{console.log(`Eliminando dispositivo POS ${e}`),console.log("URL:",`${KO}/pos/${e}`),await ed.delete(`${KO}/pos/${e}`),console.log(`Dispositivo POS ${e} eliminado correctamente`)}catch(t){throw console.error(`Error al eliminar dispositivo POS ${e}:`,t.message),t.response&&console.error("Respuesta del servidor:",t.response.data),t}},eP=async()=>{try{console.log("Obteniendo cuentas bancarias desde:",`${KO}/cuentas-bancarias`);const e=await ed.get(`${KO}/cuentas-bancarias`);return console.log("Respuesta del servidor (cuentas bancarias):",e.data),e.data}catch(e){throw console.error("Error al obtener cuentas bancarias:",e.message),e.response&&console.error("Respuesta del servidor:",e.response.data),e}},tP=()=>{const[e,t]=(0,a.useState)(!1),[r,n]=(0,a.useState)(null),[o,i]=(0,a.useState)([]),[s,l]=(0,a.useState)([]),[c,d]=(0,a.useState)(!1),[u,p]=(0,a.useState)(null),[h,f]=(0,a.useState)(null),{user:m}=eC(),g=(0,a.useRef)(null),v=(0,a.useRef)(null),[x,b]=(0,a.useState)({nombre:"",codigoBarras:"",cuentaBancariaId:0});(0,a.useEffect)((()=>{(async()=>{t(!0);try{const e=await eP();l(e);const t=await XO();i(t)}catch(r){console.error("Error al cargar los datos:",r),n("Error al cargar los datos. Intente nuevamente m\xe1s tarde.")}finally{t(!1)}})()}),[]);const y=e=>{const{name:t,value:r}=e.target,n=r.toUpperCase();b((e=>({...e,[t]:n})))},j=e=>{e.target.select()},w=()=>{p(null),b({nombre:"",codigoBarras:"",cuentaBancariaId:0}),d(!0)},S=()=>{d(!1)},C=async e=>{e.preventDefault();try{if(t(!0),u){const e=await JO(u.id,x),t=o.map((t=>t.id===u.id?e:t));i(t),f(`Dispositivo POS ${x.nombre} actualizado exitosamente`)}else{const e=await QO(x);i([...o,e]),f(`Dispositivo POS ${x.nombre} creado exitosamente`)}d(!1)}catch(r){console.error("Error al guardar el dispositivo POS:",r),n("Error al guardar el dispositivo POS. Intente nuevamente m\xe1s tarde.")}finally{t(!1),setTimeout((()=>{f(null),n(null)}),3e3)}},A=e=>{const t=s.find((t=>t.id===e));return t?`${t.banco} (${t.numeroCuenta})`:"No asignado"},E=e=>{const t=s.find((t=>t.id===e));return t?t.moneda:""};return(0,Ve.jsxs)(Et,{sx:{p:3},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,Ve.jsx)($r,{variant:"h4",component:"h1",children:"Dispositivos POS"}),(0,Ve.jsx)(fs,{variant:"contained",color:"primary",startIcon:(0,Ve.jsx)(XS,{}),onClick:w,children:"Nuevo Dispositivo POS"})]}),e?(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",mt:4},children:(0,Ve.jsx)(KS,{})}):r?(0,Ve.jsx)(Ah,{severity:"error",sx:{mt:2},children:r}):(0,Ve.jsx)(Ve.Fragment,{children:0===o.length?(0,Ve.jsxs)($t,{sx:{p:3,textAlign:"center"},children:[(0,Ve.jsx)($r,{variant:"subtitle1",color:"textSecondary",children:"No hay dispositivos POS registrados"}),(0,Ve.jsx)(fs,{variant:"outlined",color:"primary",startIcon:(0,Ve.jsx)(XS,{}),onClick:w,sx:{mt:2},children:"Registrar el primer dispositivo POS"})]}):(0,Ve.jsx)(Dp,{component:$t,children:(0,Ve.jsxs)(zp,{children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"ID"}),(0,Ve.jsx)(th,{children:"Nombre"}),(0,Ve.jsx)(th,{children:"C\xf3digo de Barras"}),(0,Ve.jsx)(th,{children:"Cuenta Bancaria"}),(0,Ve.jsx)(th,{children:"Moneda"}),(0,Ve.jsx)(th,{align:"center",children:"Acciones"})]})}),(0,Ve.jsx)(sh,{children:o.map((e=>(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:e.id}),(0,Ve.jsx)(th,{children:e.nombre}),(0,Ve.jsx)(th,{children:e.codigoBarras}),(0,Ve.jsx)(th,{children:A(e.cuentaBancariaId)}),(0,Ve.jsx)(th,{children:E(e.cuentaBancariaId)}),(0,Ve.jsx)(th,{align:"center",children:(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)(Qo,{title:"Editar",children:(0,Ve.jsx)(Ir,{color:"primary",onClick:()=>(e=>{p(e),b({nombre:e.nombre,codigoBarras:e.codigoBarras,cuentaBancariaId:e.cuentaBancariaId}),d(!0)})(e),size:"small",children:(0,Ve.jsx)(yC,{})})}),(0,Ve.jsx)(Qo,{title:"Eliminar",children:(0,Ve.jsx)(Ir,{color:"error",onClick:()=>(async e=>{try{t(!0);const r=o.find((t=>t.id===e));await ZO(e);const n=o.filter((t=>t.id!==e));i(n),f(`Dispositivo POS ${null===r||void 0===r?void 0:r.nombre} eliminado exitosamente`)}catch(r){console.error("Error al eliminar el dispositivo POS:",r),n("Error al eliminar el dispositivo POS. Intente nuevamente m\xe1s tarde.")}finally{t(!1),setTimeout((()=>{f(null),n(null)}),3e3)}})(e.id),size:"small",children:(0,Ve.jsx)(NE,{})})})]})})]},e.id)))})]})})}),(0,Ve.jsxs)(Fi,{open:c,onClose:S,fullWidth:!0,maxWidth:"sm",TransitionProps:{onEntered:()=>{!u&&g.current&&g.current.focus()}},children:[(0,Ve.jsx)(Gi,{children:u?"Editar Dispositivo POS":"Nuevo Dispositivo POS"}),(0,Ve.jsx)(Ki,{children:(0,Ve.jsx)("form",{noValidate:!0,style:{marginTop:"16px"},onKeyDown:e=>{if("Enter"===e.key&&!(e.target instanceof HTMLTextAreaElement)){e.preventDefault();const t=e.currentTarget,r=Array.from(t.querySelectorAll('input:not([disabled]), textarea:not([disabled]), select:not([disabled]), button:not([disabled]), [tabindex]:not([tabindex="-1"]):not([disabled]), [role="button"]:not([disabled])')).filter((e=>{const t=window.getComputedStyle(e);return null!==e.offsetParent&&"none"!==t.display&&"hidden"!==t.visibility})),n=r.findIndex((e=>e===document.activeElement||e.contains(document.activeElement)));if(-1!==n&&n<r.length-1){const e=r[n+1];null===e||void 0===e||e.focus()}else if(n===r.length-2){const e=v.current;e&&!e.disabled&&e.focus()}}},onSubmit:e=>{e.preventDefault(),C(e)},children:(0,Ve.jsxs)($h,{container:!0,spacing:2,children:[(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsx)(jp,{name:"nombre",label:"Nombre del POS",fullWidth:!0,variant:"outlined",value:x.nombre,onChange:y,required:!0,onFocus:j,inputRef:g})}),(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsx)(jp,{name:"codigoBarras",label:"C\xf3digo de Barras",fullWidth:!0,variant:"outlined",value:x.codigoBarras,onChange:y,required:!0,helperText:"Ingrese el c\xf3digo que aparece en la parte inferior del dispositivo",onFocus:j})}),(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsxs)(lu,{fullWidth:!0,required:!0,children:[(0,Ve.jsx)(ou,{children:"Cuenta Bancaria"}),(0,Ve.jsxs)(gp,{name:"cuentaBancariaId",value:x.cuentaBancariaId.toString(),onChange:e=>{const{name:t,value:r}=e.target;b((e=>({...e,[t]:parseInt(r,10)})))},label:"Cuenta Bancaria",children:[(0,Ve.jsx)(_h,{value:"",disabled:!0,children:"Seleccione una cuenta bancaria"}),s.map((e=>(0,Ve.jsxs)(_h,{value:e.id.toString(),children:[e.banco," - ",e.numeroCuenta," (",e.moneda,")"]},e.id)))]})]})})]})})}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:S,children:"Cancelar"}),(0,Ve.jsx)(fs,{onClick:C,variant:"contained",color:"primary",disabled:!x.nombre||!x.codigoBarras||!x.cuentaBancariaId,ref:v,children:u?"Actualizar":"Registrar"})]})]}),(0,Ve.jsx)(tf,{open:!!h,autoHideDuration:3e3,onClose:()=>f(null),anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,Ve.jsx)(Ah,{onClose:()=>f(null),severity:"success",children:h})})]})};var rP=r(2954),nP=r(1132),oP=r(4329);!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}(':root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n');var aP=e=>"number"==typeof e&&!isNaN(e),iP=e=>"string"==typeof e,sP=e=>"function"==typeof e,lP=e=>(0,a.isValidElement)(e)||iP(e)||sP(e)||aP(e);function cP(e){let{enter:t,exit:r,appendPosition:n=!1,collapse:o=!0,collapseDuration:i=300}=e;return function(e){let{children:s,position:l,preventExitTransition:c,done:d,nodeRef:u,isIn:p,playToast:h}=e,f=n?`${t}--${l}`:t,m=n?`${r}--${l}`:r,g=(0,a.useRef)(0);return(0,a.useLayoutEffect)((()=>{let e=u.current,t=f.split(" "),r=n=>{n.target===u.current&&(h(),e.removeEventListener("animationend",r),e.removeEventListener("animationcancel",r),0===g.current&&"animationcancel"!==n.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",r),e.addEventListener("animationcancel",r)}),[]),(0,a.useEffect)((()=>{let e=u.current,t=()=>{e.removeEventListener("animationend",t),o?function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,{scrollHeight:n,style:o}=e;requestAnimationFrame((()=>{o.minHeight="initial",o.height=n+"px",o.transition=`all ${r}ms`,requestAnimationFrame((()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(t,r)}))}))}(e,d,i):d()};p||(c?t():(g.current=1,e.className+=` ${m}`,e.addEventListener("animationend",t)))}),[p]),a.createElement(a.Fragment,null,s)}}var dP=1,uP=()=>""+dP++;var pP=new Map,hP=[],fP=new Set,mP=()=>pP.size>0;function gP(e,t){var r;if(t)return!(null==(r=pP.get(t))||!r.isToastActive(e));let n=!1;return pP.forEach((t=>{t.isToastActive(e)&&(n=!0)})),n}function vP(e){if(mP()){if(null==e||(e=>iP(e)||aP(e))(e))pP.forEach((t=>{t.removeToast(e)}));else if(e&&("containerId"in e||"id"in e)){let t=pP.get(e.containerId);t?t.removeToast(e.id):pP.forEach((t=>{t.removeToast(e.id)}))}}else hP=hP.filter((t=>null!=e&&t.options.toastId!==e))}function xP(e,t){lP(e)&&(mP()||hP.push({content:e,options:t}),pP.forEach((r=>{r.buildToast(e,t)})))}function bP(e,t){pP.forEach((r=>{(null==t||null==t||!t.containerId||(null==t?void 0:t.containerId)===r.id)&&r.toggle(e,null==t?void 0:t.id)}))}function yP(e){return e&&(iP(e.toastId)||aP(e.toastId))?e.toastId:uP()}function jP(e,t){return xP(e,t),t.toastId}function wP(e,t){return{...t,type:t&&t.type||e,toastId:yP(t)}}function SP(e){return(t,r)=>jP(t,wP(e,r))}function CP(e,t){return jP(e,wP("default",t))}CP.loading=(e,t)=>jP(e,wP("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),CP.promise=function(e,t,r){let n,{pending:o,error:a,success:i}=t;o&&(n=iP(o)?CP.loading(o,r):CP.loading(o.render,{...r,...o}));let s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,o)=>{if(null==t)return void CP.dismiss(n);let a={type:e,...s,...r,data:o},i=iP(t)?{render:t}:t;return n?CP.update(n,{...a,...i}):CP(i.render,{...a,...i}),o},c=sP(e)?e():e;return c.then((e=>l("success",i,e))).catch((e=>l("error",a,e))),c},CP.success=SP("success"),CP.info=SP("info"),CP.error=SP("error"),CP.warning=SP("warning"),CP.warn=CP.warning,CP.dark=(e,t)=>jP(e,wP("default",{theme:"dark",...t})),CP.dismiss=function(e){vP(e)},CP.clearWaitingQueue=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};pP.forEach((t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()}))},CP.isActive=gP,CP.update=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=((e,t)=>{let{containerId:r}=t;var n;return null==(n=pP.get(r||1))?void 0:n.toasts.get(e)})(e,t);if(r){let{props:n,content:o}=r,a={delay:100,...n,...t,toastId:t.toastId||e,updateId:uP()};a.toastId!==e&&(a.staleId=e);let i=a.render||o;delete a.render,jP(i,a)}},CP.done=e=>{CP.update(e,{progress:1})},CP.onChange=function(e){return fP.add(e),()=>{fP.delete(e)}},CP.play=e=>bP(!0,e),CP.pause=e=>bP(!1,e);"undefined"!=typeof window?a.useLayoutEffect:a.useEffect;var AP=function(e){return{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:arguments.length>1&&void 0!==arguments[1]&&arguments[1]}};cP(AP("bounce",!0)),cP(AP("slide",!0)),cP(AP("zoom")),cP(AP("flip"));const EP=async()=>{try{return(await ed.get("/api/cuentas-bancarias")).data}catch(e){throw console.error("Error al obtener cuentas bancarias:",e),e}},kP=async()=>{try{return(await ed.get("/api/configuracion/aquipago/actual")).data}catch(t){var e;if(ed.isAxiosError(t)&&404===(null===(e=t.response)||void 0===e?void 0:e.status))return null;throw console.error("Error al obtener configuraci\xf3n actual:",t),t}},OP=async()=>{try{return(await ed.get("/api/configuracion/aquipago/historial")).data}catch(e){throw console.error("Error al obtener historial de configuraciones:",e),e}},PP=async e=>{try{return(await ed.post("/api/configuracion/aquipago",e,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(t){throw console.error("Error al crear configuraci\xf3n:",t),t}},IP=async e=>{try{return(await ed.get(`/api/configuracion/aquipago/${e}/contrato`,{responseType:"blob"})).data}catch(t){throw console.error("Error al descargar contrato:",t),t}},DP=()=>{const[e,t]=(0,a.useState)(!0),[r,n]=(0,a.useState)(!1),[o,i]=(0,a.useState)(null),[s,l]=(0,a.useState)([]),[c,d]=(0,a.useState)(null),[u,p]=(0,a.useState)([]),[h,f]=(0,a.useState)(!1),[m,g]=(0,a.useState)({cuentaBancariaId:0,limiteCredito:"",fechaInicioVigencia:new Date,fechaFinVigencia:new Date((new Date).setFullYear((new Date).getFullYear()+1)),contratoFile:null});(0,a.useEffect)((()=>{(async()=>{t(!0),i(null);try{const e=await EP();l(e);const t=await kP();t&&(d(t),g({cuentaBancariaId:t.cuentaBancariaId,limiteCredito:t.limiteCredito.toString().replace(/\./g,""),fechaInicioVigencia:new Date(t.fechaInicioVigencia),fechaFinVigencia:new Date(t.fechaFinVigencia),contratoFile:null}));const r=await OP();p(r)}catch(e){console.error("Error al cargar datos iniciales:",e),i("Error al cargar los datos. Por favor, intente nuevamente.")}finally{t(!1)}})()}),[]);const v=(e,t)=>{t&&g({...m,[e]:t})},x=async e=>{try{var t;const r=await IP(e),n=window.URL.createObjectURL(new Blob([r])),o=document.createElement("a");o.href=n,o.setAttribute("download",`contrato-aquipago-${e}.pdf`),document.body.appendChild(o),o.click(),null===(t=o.parentNode)||void 0===t||t.removeChild(o),window.URL.revokeObjectURL(n)}catch(r){console.error("Error al descargar contrato:",r),CP.error("Error al descargar el contrato")}};return(0,Ve.jsx)(Cm,{dateAdapter:xw,adapterLocale:Cw,children:(0,Ve.jsxs)(Et,{sx:{p:3},children:[(0,Ve.jsx)($r,{variant:"h4",gutterBottom:!0,children:"Configuraci\xf3n de Aqui Pago"}),o&&(0,Ve.jsx)(Ah,{severity:"error",sx:{mb:3},children:o}),e?(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",my:5},children:(0,Ve.jsx)(KS,{})}):(0,Ve.jsxs)($h,{container:!0,spacing:3,children:[(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsx)(jk,{sx:{mb:3,backgroundColor:"#1E1E1E",color:"white"},children:(0,Ve.jsxs)(Ak,{children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,children:"Configuraci\xf3n Actual"}),c?(0,Ve.jsxs)($h,{container:!0,spacing:2,children:[(0,Ve.jsxs)($h,{item:!0,xs:12,md:4,children:[(0,Ve.jsx)($r,{variant:"subtitle2",color:"rgba(255, 255, 255, 0.7)",children:"Cuenta Bancaria"}),(0,Ve.jsx)($r,{variant:"body1",children:c.cuentaBancaria?`${c.cuentaBancaria.banco} - ${c.cuentaBancaria.numeroCuenta}`:`ID: ${c.cuentaBancariaId}`})]}),(0,Ve.jsxs)($h,{item:!0,xs:12,md:2,children:[(0,Ve.jsx)($r,{variant:"subtitle2",color:"rgba(255, 255, 255, 0.7)",children:"L\xedmite de Cr\xe9dito"}),(0,Ve.jsx)($r,{variant:"body1",children:nC.guaranies(c.limiteCredito)})]}),(0,Ve.jsxs)($h,{item:!0,xs:12,md:3,children:[(0,Ve.jsx)($r,{variant:"subtitle2",color:"rgba(255, 255, 255, 0.7)",children:"Vigencia"}),(0,Ve.jsxs)($r,{variant:"body1",children:[uy(new Date(c.fechaInicioVigencia),"dd/MM/yyyy")," al ",uy(new Date(c.fechaFinVigencia),"dd/MM/yyyy")]})]}),(0,Ve.jsxs)($h,{item:!0,xs:12,md:2,children:[(0,Ve.jsx)($r,{variant:"subtitle2",color:"rgba(255, 255, 255, 0.7)",children:"\xdaltima Actualizaci\xf3n"}),(0,Ve.jsx)($r,{variant:"body1",children:uy(new Date(c.fechaCreacion),"dd/MM/yyyy HH:mm")})]}),(0,Ve.jsx)($h,{item:!0,xs:12,md:1,sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:c.nombreArchivoContrato&&(0,Ve.jsx)(fs,{variant:"outlined",size:"small",startIcon:(0,Ve.jsx)(nP.A,{}),onClick:()=>x(c.id),children:"Contrato"})})]}):(0,Ve.jsx)($r,{variant:"body1",sx:{color:"rgba(255, 255, 255, 0.7)"},children:"No hay configuraci\xf3n registrada para Aqui Pago."})]})})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:6,children:(0,Ve.jsx)(jk,{sx:{backgroundColor:"#1E1E1E",color:"white"},children:(0,Ve.jsxs)(Ak,{children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,children:c?"Actualizar Configuraci\xf3n":"Nueva Configuraci\xf3n"}),(0,Ve.jsx)("form",{onSubmit:async e=>{if(e.preventDefault(),m.cuentaBancariaId)if(!m.limiteCredito||parseInt(m.limiteCredito)<=0)i("El l\xedmite de cr\xe9dito debe ser mayor a cero.");else if(m.fechaInicioVigencia&&m.fechaFinVigencia)if(m.fechaInicioVigencia>=m.fechaFinVigencia)i("La fecha de fin debe ser posterior a la fecha de inicio.");else if(c||m.contratoFile){n(!0),i(null);try{const e=new FormData;e.append("cuentaBancariaId",m.cuentaBancariaId.toString()),e.append("limiteCredito",m.limiteCredito),e.append("fechaInicioVigencia",m.fechaInicioVigencia.toISOString().split("T")[0]),e.append("fechaFinVigencia",m.fechaFinVigencia.toISOString().split("T")[0]),m.contratoFile&&e.append("contratoFile",m.contratoFile);const t=await PP(e);d(t);const r=await OP();p(r),CP.success("Configuraci\xf3n guardada exitosamente")}catch(o){var t,r;console.error("Error al guardar la configuraci\xf3n:",o),i((null===(t=o.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Error al guardar la configuraci\xf3n. Por favor, intente nuevamente.")}finally{n(!1)}}else i("El archivo de contrato es requerido para una nueva configuraci\xf3n.");else i("Las fechas de vigencia son requeridas.");else i("Debe seleccionar una cuenta bancaria.")},children:(0,Ve.jsxs)($h,{container:!0,spacing:2,children:[(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsxs)(lu,{fullWidth:!0,variant:"outlined",sx:{mb:2},children:[(0,Ve.jsx)(ou,{id:"cuenta-bancaria-label",sx:{color:"rgba(255, 255, 255, 0.7)"},children:"Cuenta Bancaria"}),(0,Ve.jsxs)(gp,{labelId:"cuenta-bancaria-label",name:"cuentaBancariaId",value:m.cuentaBancariaId,onChange:e=>{const t=e.target.name,r=e.target.value;g({...m,[t]:r})},label:"Cuenta Bancaria",required:!0,sx:{color:"white","& .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255, 255, 255, 0.23)"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255, 255, 255, 0.4)"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#1976D2"}},children:[(0,Ve.jsx)(_h,{value:0,disabled:!0,children:"Seleccione una cuenta bancaria"}),s.map((e=>(0,Ve.jsxs)(_h,{value:e.id,children:[e.banco," - ",e.numeroCuenta," (",e.moneda,")"]},e.id)))]})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsx)(jp,{fullWidth:!0,name:"limiteCredito",label:"L\xedmite de Cr\xe9dito (G$)",value:m.limiteCredito?m.limiteCredito.replace(/\B(?=(\d{3})+(?!\d))/g,"."):"",onChange:e=>{const{name:t,value:r}=e.target;if("limiteCredito"===t){const e=r.replace(/\D/g,"");g({...m,[t]:e})}else g({...m,[t]:r})},required:!0,sx:{mb:2,input:{color:"white"},label:{color:"rgba(255, 255, 255, 0.7)"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"rgba(255, 255, 255, 0.23)"},"&:hover fieldset":{borderColor:"rgba(255, 255, 255, 0.4)"},"&.Mui-focused fieldset":{borderColor:"#1976D2"}}}})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(Kx,{label:"Fecha de Inicio",value:m.fechaInicioVigencia,onChange:e=>v("fechaInicioVigencia",e),slotProps:{textField:{fullWidth:!0,required:!0,sx:{mb:2,input:{color:"white"},label:{color:"rgba(255, 255, 255, 0.7)"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"rgba(255, 255, 255, 0.23)"},"&:hover fieldset":{borderColor:"rgba(255, 255, 255, 0.4)"},"&.Mui-focused fieldset":{borderColor:"#1976D2"}}}}}})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(Kx,{label:"Fecha de Fin",value:m.fechaFinVigencia,onChange:e=>v("fechaFinVigencia",e),slotProps:{textField:{fullWidth:!0,required:!0,sx:{mb:2,input:{color:"white"},label:{color:"rgba(255, 255, 255, 0.7)"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"rgba(255, 255, 255, 0.23)"},"&:hover fieldset":{borderColor:"rgba(255, 255, 255, 0.4)"},"&.Mui-focused fieldset":{borderColor:"#1976D2"}}}}}})}),(0,Ve.jsxs)($h,{item:!0,xs:12,children:[(0,Ve.jsxs)(fs,{component:"label",variant:"outlined",startIcon:(0,Ve.jsx)(rP.A,{}),sx:{mb:2},children:[c?"Actualizar Contrato (Opcional)":"Subir Contrato (Requerido)",(0,Ve.jsx)("input",{type:"file",hidden:!0,accept:".pdf,.docx,.doc,.jpg,.jpeg,.png",onChange:e=>{e.target.files&&e.target.files.length>0&&g({...m,contratoFile:e.target.files[0]})}})]}),m.contratoFile&&(0,Ve.jsxs)($r,{variant:"caption",display:"block",gutterBottom:!0,sx:{color:"rgba(255, 255, 255, 0.7)"},children:["Archivo seleccionado: ",m.contratoFile.name]})]}),(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsx)(fs,{type:"submit",variant:"contained",color:"primary",disabled:r,startIcon:r?(0,Ve.jsx)(KS,{size:20}):(0,Ve.jsx)(oP.A,{}),children:r?"Guardando...":"Guardar Configuraci\xf3n"})})]})})]})})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:6,children:(0,Ve.jsx)(jk,{sx:{backgroundColor:"#1E1E1E",color:"white",height:"100%"},children:(0,Ve.jsxs)(Ak,{children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,children:"Informaci\xf3n Adicional"}),(0,Ve.jsx)(Ah,{severity:"info",sx:{mb:2,color:"black"},children:"La configuraci\xf3n de Aqui Pago determina la cuenta bancaria donde se depositar\xe1n los fondos y establece el l\xedmite de cr\xe9dito para operar."}),(0,Ve.jsxs)(Et,{sx:{mb:3},children:[(0,Ve.jsx)($r,{variant:"subtitle2",sx:{color:"rgba(255, 255, 255, 0.7)",mb:1},children:"Consideraciones importantes:"}),(0,Ve.jsxs)("ul",{children:[(0,Ve.jsx)("li",{children:(0,Ve.jsx)($r,{variant:"body2",children:"El l\xedmite de cr\xe9dito establece el monto m\xe1ximo disponible para transferencias."})}),(0,Ve.jsx)("li",{children:(0,Ve.jsx)($r,{variant:"body2",children:"La fecha de vigencia determina el per\xedodo durante el cual estar\xe1 activa esta configuraci\xf3n."})}),(0,Ve.jsx)("li",{children:(0,Ve.jsx)($r,{variant:"body2",children:"El contrato debe ser un documento oficial firmado entre las partes."})})]})]}),(0,Ve.jsx)(Ii,{sx:{my:2,borderColor:"rgba(255, 255, 255, 0.12)"}}),(0,Ve.jsxs)(Et,{sx:{mt:2},children:[(0,Ve.jsx)(fs,{variant:"outlined",color:"primary",onClick:()=>f(!h),sx:{mr:1},children:h?"Ocultar Historial":"Ver Historial de Configuraciones"}),(0,Ve.jsx)(fs,{variant:"text",color:"primary",onClick:()=>window.location.href="/dashboard/saldos-monetarios/aqui-pago",children:"Ir a Balance Aqui Pago"})]}),h&&u.length>0&&(0,Ve.jsxs)(Et,{sx:{mt:3},children:[(0,Ve.jsx)($r,{variant:"subtitle1",gutterBottom:!0,children:"Historial de Configuraciones"}),(0,Ve.jsx)(Dp,{component:$t,sx:{mt:2,backgroundColor:"#1E1E1E"},children:(0,Ve.jsxs)(zp,{size:"small",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{sx:{color:"white"},children:"Fecha de Creaci\xf3n"}),(0,Ve.jsx)(th,{sx:{color:"white"},children:"Cuenta Bancaria"}),(0,Ve.jsx)(th,{sx:{color:"white"},children:"L\xedmite de Cr\xe9dito"}),(0,Ve.jsx)(th,{sx:{color:"white"},children:"Vigencia"}),(0,Ve.jsx)(th,{sx:{color:"white"},children:"Usuario"}),(0,Ve.jsx)(th,{sx:{color:"white"},children:"Contrato"})]})}),(0,Ve.jsx)(sh,{children:u.map((e=>{var t,r;return(0,Ve.jsxs)(Xp,{sx:{"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.08)"}},children:[(0,Ve.jsx)(th,{sx:{color:"white"},children:uy(new Date(e.fechaCreacion),"dd/MM/yyyy HH:mm")}),(0,Ve.jsx)(th,{sx:{color:"white"},children:e.cuentaBancaria?`${e.cuentaBancaria.banco} - ${e.cuentaBancaria.numeroCuenta}`:`ID: ${e.cuentaBancariaId}`}),(0,Ve.jsx)(th,{sx:{color:"white"},children:nC.guaranies(Number(e.limiteCredito))}),(0,Ve.jsxs)(th,{sx:{color:"white"},children:[uy(new Date(e.fechaInicioVigencia),"dd/MM/yyyy")," al ",uy(new Date(e.fechaFinVigencia),"dd/MM/yyyy")]}),(0,Ve.jsx)(th,{sx:{color:"white"},children:(null===(t=e.usuario)||void 0===t?void 0:t.nombre)||(null===(r=e.usuario)||void 0===r?void 0:r.username)||"-"}),(0,Ve.jsx)(th,{children:e.nombreArchivoContrato?(0,Ve.jsx)(Ir,{size:"small",color:"primary",onClick:()=>x(e.id),children:(0,Ve.jsx)(nP.A,{})}):(0,Ve.jsx)($r,{variant:"caption",sx:{color:"rgba(255, 255, 255, 0.5)"},children:"-"})})]},e.id)}))})]})})]})]})})})]})]})})},MP=async()=>{try{return(await ed.get("/api/cuentas-bancarias")).data}catch(e){throw console.error("Error al obtener cuentas bancarias:",e),e}},TP=async()=>{try{return(await ed.get("/api/configuracion/wepa-gs/actual")).data}catch(t){var e;if(ed.isAxiosError(t)&&404===(null===(e=t.response)||void 0===e?void 0:e.status))return null;throw console.error("Error al obtener configuraci\xf3n actual:",t),t}},RP=async()=>{try{return(await ed.get("/api/configuracion/wepa-gs/historial")).data}catch(e){throw console.error("Error al obtener historial de configuraciones:",e),e}},NP=async e=>{try{return(await ed.post("/api/configuracion/wepa-gs",e,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(t){throw console.error("Error al crear configuraci\xf3n:",t),t}},$P=async e=>{try{return(await ed.get(`/api/configuracion/wepa-gs/${e}/contrato`,{responseType:"blob"})).data}catch(t){throw console.error("Error al descargar contrato:",t),t}},zP=()=>{const[e,t]=(0,a.useState)(!0),[r,n]=(0,a.useState)(!1),[o,i]=(0,a.useState)(null),[s,l]=(0,a.useState)([]),[c,d]=(0,a.useState)(null),[u,p]=(0,a.useState)([]),[h,f]=(0,a.useState)(!1),[m,g]=(0,a.useState)({cuentaBancariaId:0,limiteCredito:"",fechaInicioVigencia:new Date,fechaFinVigencia:new Date((new Date).setFullYear((new Date).getFullYear()+1)),contratoFile:null});(0,a.useEffect)((()=>{(async()=>{t(!0),i(null);try{const e=await MP();l(e);const t=await TP();t&&(d(t),g({cuentaBancariaId:t.cuentaBancariaId,limiteCredito:t.limiteCredito.toString().replace(/\./g,""),fechaInicioVigencia:new Date(t.fechaInicioVigencia),fechaFinVigencia:new Date(t.fechaFinVigencia),contratoFile:null}));const r=await RP();p(r)}catch(e){console.error("Error al cargar datos iniciales:",e),i("Error al cargar los datos. Por favor, intente nuevamente.")}finally{t(!1)}})()}),[]);const v=(e,t)=>{t&&g({...m,[e]:t})},x=async e=>{try{var t;const r=await $P(e),n=window.URL.createObjectURL(new Blob([r])),o=document.createElement("a");o.href=n,o.setAttribute("download",`contrato-wepa-gs-${e}.pdf`),document.body.appendChild(o),o.click(),null===(t=o.parentNode)||void 0===t||t.removeChild(o),window.URL.revokeObjectURL(n)}catch(r){console.error("Error al descargar contrato:",r),CP.error("Error al descargar el contrato")}};return(0,Ve.jsx)(Cm,{dateAdapter:xw,adapterLocale:Cw,children:(0,Ve.jsxs)(Et,{sx:{p:3},children:[(0,Ve.jsx)($r,{variant:"h4",gutterBottom:!0,children:"Configuraci\xf3n de Wepa GS"}),o&&(0,Ve.jsx)(Ah,{severity:"error",sx:{mb:3},children:o}),e?(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",my:5},children:(0,Ve.jsx)(KS,{})}):(0,Ve.jsxs)($h,{container:!0,spacing:3,children:[(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsx)(jk,{sx:{mb:3,backgroundColor:"#1E1E1E",color:"white"},children:(0,Ve.jsxs)(Ak,{children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,children:"Configuraci\xf3n Actual"}),c?(0,Ve.jsxs)($h,{container:!0,spacing:2,children:[(0,Ve.jsxs)($h,{item:!0,xs:12,md:4,children:[(0,Ve.jsx)($r,{variant:"subtitle2",color:"rgba(255, 255, 255, 0.7)",children:"Cuenta Bancaria"}),(0,Ve.jsx)($r,{variant:"body1",children:c.cuentaBancaria?`${c.cuentaBancaria.banco} - ${c.cuentaBancaria.numeroCuenta}`:`ID: ${c.cuentaBancariaId}`})]}),(0,Ve.jsxs)($h,{item:!0,xs:12,md:2,children:[(0,Ve.jsx)($r,{variant:"subtitle2",color:"rgba(255, 255, 255, 0.7)",children:"L\xedmite de Cr\xe9dito"}),(0,Ve.jsx)($r,{variant:"body1",children:nC.guaranies(c.limiteCredito)})]}),(0,Ve.jsxs)($h,{item:!0,xs:12,md:3,children:[(0,Ve.jsx)($r,{variant:"subtitle2",color:"rgba(255, 255, 255, 0.7)",children:"Vigencia"}),(0,Ve.jsxs)($r,{variant:"body1",children:[uy(new Date(c.fechaInicioVigencia),"dd/MM/yyyy")," al ",uy(new Date(c.fechaFinVigencia),"dd/MM/yyyy")]})]}),(0,Ve.jsxs)($h,{item:!0,xs:12,md:2,children:[(0,Ve.jsx)($r,{variant:"subtitle2",color:"rgba(255, 255, 255, 0.7)",children:"\xdaltima Actualizaci\xf3n"}),(0,Ve.jsx)($r,{variant:"body1",children:uy(new Date(c.fechaCreacion),"dd/MM/yyyy HH:mm")})]}),(0,Ve.jsx)($h,{item:!0,xs:12,md:1,sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:c.nombreArchivoContrato&&(0,Ve.jsx)(fs,{variant:"outlined",size:"small",startIcon:(0,Ve.jsx)(nP.A,{}),onClick:()=>x(c.id),children:"Contrato"})})]}):(0,Ve.jsx)($r,{variant:"body1",sx:{color:"rgba(255, 255, 255, 0.7)"},children:"No hay configuraci\xf3n registrada para Wepa GS."})]})})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:6,children:(0,Ve.jsx)(jk,{sx:{backgroundColor:"#1E1E1E",color:"white"},children:(0,Ve.jsxs)(Ak,{children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,children:c?"Actualizar Configuraci\xf3n":"Nueva Configuraci\xf3n"}),(0,Ve.jsx)("form",{onSubmit:async e=>{if(e.preventDefault(),m.cuentaBancariaId)if(!m.limiteCredito||parseInt(m.limiteCredito)<=0)i("El l\xedmite de cr\xe9dito debe ser mayor a cero.");else if(m.fechaInicioVigencia&&m.fechaFinVigencia)if(m.fechaInicioVigencia>=m.fechaFinVigencia)i("La fecha de fin debe ser posterior a la fecha de inicio.");else if(c||m.contratoFile){n(!0),i(null);try{const e=new FormData;e.append("cuentaBancariaId",m.cuentaBancariaId.toString()),e.append("limiteCredito",m.limiteCredito),e.append("fechaInicioVigencia",m.fechaInicioVigencia.toISOString().split("T")[0]),e.append("fechaFinVigencia",m.fechaFinVigencia.toISOString().split("T")[0]),m.contratoFile&&e.append("contratoFile",m.contratoFile);const t=await NP(e);d(t);const r=await RP();p(r),CP.success("Configuraci\xf3n guardada exitosamente")}catch(o){var t,r;console.error("Error al guardar la configuraci\xf3n:",o),i((null===(t=o.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Error al guardar la configuraci\xf3n. Por favor, intente nuevamente.")}finally{n(!1)}}else i("El archivo de contrato es requerido para una nueva configuraci\xf3n.");else i("Las fechas de vigencia son requeridas.");else i("Debe seleccionar una cuenta bancaria.")},children:(0,Ve.jsxs)($h,{container:!0,spacing:2,children:[(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsxs)(lu,{fullWidth:!0,variant:"outlined",sx:{mb:2},children:[(0,Ve.jsx)(ou,{id:"cuenta-bancaria-label",sx:{color:"rgba(255, 255, 255, 0.7)"},children:"Cuenta Bancaria"}),(0,Ve.jsxs)(gp,{labelId:"cuenta-bancaria-label",name:"cuentaBancariaId",value:m.cuentaBancariaId,onChange:e=>{const t=e.target.name,r=e.target.value;g({...m,[t]:r})},label:"Cuenta Bancaria",required:!0,sx:{color:"white","& .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255, 255, 255, 0.23)"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255, 255, 255, 0.4)"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#1976D2"}},children:[(0,Ve.jsx)(_h,{value:0,disabled:!0,children:"Seleccione una cuenta bancaria"}),s.map((e=>(0,Ve.jsxs)(_h,{value:e.id,children:[e.banco," - ",e.numeroCuenta," (",e.moneda,")"]},e.id)))]})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsx)(jp,{fullWidth:!0,name:"limiteCredito",label:"L\xedmite de Cr\xe9dito (G$)",value:m.limiteCredito?m.limiteCredito.replace(/\B(?=(\d{3})+(?!\d))/g,"."):"",onChange:e=>{const{name:t,value:r}=e.target;if("limiteCredito"===t){const e=r.replace(/\D/g,"");g({...m,[t]:e})}else g({...m,[t]:r})},required:!0,sx:{mb:2,input:{color:"white"},label:{color:"rgba(255, 255, 255, 0.7)"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"rgba(255, 255, 255, 0.23)"},"&:hover fieldset":{borderColor:"rgba(255, 255, 255, 0.4)"},"&.Mui-focused fieldset":{borderColor:"#1976D2"}}}})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(Kx,{label:"Fecha de Inicio",value:m.fechaInicioVigencia,onChange:e=>v("fechaInicioVigencia",e),slotProps:{textField:{fullWidth:!0,required:!0,sx:{mb:2,input:{color:"white"},label:{color:"rgba(255, 255, 255, 0.7)"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"rgba(255, 255, 255, 0.23)"},"&:hover fieldset":{borderColor:"rgba(255, 255, 255, 0.4)"},"&.Mui-focused fieldset":{borderColor:"#1976D2"}}}}}})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(Kx,{label:"Fecha de Fin",value:m.fechaFinVigencia,onChange:e=>v("fechaFinVigencia",e),slotProps:{textField:{fullWidth:!0,required:!0,sx:{mb:2,input:{color:"white"},label:{color:"rgba(255, 255, 255, 0.7)"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"rgba(255, 255, 255, 0.23)"},"&:hover fieldset":{borderColor:"rgba(255, 255, 255, 0.4)"},"&.Mui-focused fieldset":{borderColor:"#1976D2"}}}}}})}),(0,Ve.jsxs)($h,{item:!0,xs:12,children:[(0,Ve.jsxs)(fs,{component:"label",variant:"outlined",startIcon:(0,Ve.jsx)(rP.A,{}),sx:{mb:2},children:[c?"Actualizar Contrato (Opcional)":"Subir Contrato (Requerido)",(0,Ve.jsx)("input",{type:"file",hidden:!0,accept:".pdf,.docx,.doc,.jpg,.jpeg,.png",onChange:e=>{e.target.files&&e.target.files.length>0&&g({...m,contratoFile:e.target.files[0]})}})]}),m.contratoFile&&(0,Ve.jsxs)($r,{variant:"caption",display:"block",gutterBottom:!0,sx:{color:"rgba(255, 255, 255, 0.7)"},children:["Archivo seleccionado: ",m.contratoFile.name]})]}),(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsx)(fs,{type:"submit",variant:"contained",color:"primary",disabled:r,startIcon:r?(0,Ve.jsx)(KS,{size:20}):(0,Ve.jsx)(oP.A,{}),children:r?"Guardando...":"Guardar Configuraci\xf3n"})})]})})]})})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:6,children:(0,Ve.jsx)(jk,{sx:{backgroundColor:"#1E1E1E",color:"white",height:"100%"},children:(0,Ve.jsxs)(Ak,{children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,children:"Informaci\xf3n Adicional"}),(0,Ve.jsx)(Ah,{severity:"info",sx:{mb:2,color:"black"},children:"La configuraci\xf3n de Wepa GS determina la cuenta bancaria donde se depositar\xe1n los fondos y establece el l\xedmite de cr\xe9dito para operar."}),(0,Ve.jsxs)(Et,{sx:{mb:3},children:[(0,Ve.jsx)($r,{variant:"subtitle2",sx:{color:"rgba(255, 255, 255, 0.7)",mb:1},children:"Consideraciones importantes:"}),(0,Ve.jsxs)("ul",{children:[(0,Ve.jsx)("li",{children:(0,Ve.jsx)($r,{variant:"body2",children:"El l\xedmite de cr\xe9dito establece el monto m\xe1ximo disponible para transferencias."})}),(0,Ve.jsx)("li",{children:(0,Ve.jsx)($r,{variant:"body2",children:"La fecha de vigencia determina el per\xedodo durante el cual estar\xe1 activa esta configuraci\xf3n."})}),(0,Ve.jsx)("li",{children:(0,Ve.jsx)($r,{variant:"body2",children:"El contrato debe ser un documento oficial firmado entre las partes."})})]})]}),(0,Ve.jsx)(Ii,{sx:{my:2,borderColor:"rgba(255, 255, 255, 0.12)"}}),(0,Ve.jsxs)(Et,{sx:{mt:2},children:[(0,Ve.jsx)(fs,{variant:"outlined",color:"primary",onClick:()=>f(!h),sx:{mr:1},children:h?"Ocultar Historial":"Ver Historial de Configuraciones"}),(0,Ve.jsx)(fs,{variant:"text",color:"primary",onClick:()=>window.location.href="/dashboard/saldos-monetarios/wepa-gs",children:"Ir a Balance Wepa GS"})]}),h&&u.length>0&&(0,Ve.jsxs)(Et,{sx:{mt:3},children:[(0,Ve.jsx)($r,{variant:"subtitle1",gutterBottom:!0,children:"Historial de Configuraciones"}),(0,Ve.jsx)(Dp,{component:$t,sx:{mt:2,backgroundColor:"#1E1E1E"},children:(0,Ve.jsxs)(zp,{size:"small",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{sx:{color:"white"},children:"Fecha de Creaci\xf3n"}),(0,Ve.jsx)(th,{sx:{color:"white"},children:"Cuenta Bancaria"}),(0,Ve.jsx)(th,{sx:{color:"white"},children:"L\xedmite de Cr\xe9dito"}),(0,Ve.jsx)(th,{sx:{color:"white"},children:"Vigencia"}),(0,Ve.jsx)(th,{sx:{color:"white"},children:"Usuario"}),(0,Ve.jsx)(th,{sx:{color:"white"},children:"Contrato"})]})}),(0,Ve.jsx)(sh,{children:u.map((e=>{var t,r;return(0,Ve.jsxs)(Xp,{sx:{"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.08)"}},children:[(0,Ve.jsx)(th,{sx:{color:"white"},children:uy(new Date(e.fechaCreacion),"dd/MM/yyyy HH:mm")}),(0,Ve.jsx)(th,{sx:{color:"white"},children:e.cuentaBancaria?`${e.cuentaBancaria.banco} - ${e.cuentaBancaria.numeroCuenta}`:`ID: ${e.cuentaBancariaId}`}),(0,Ve.jsx)(th,{sx:{color:"white"},children:nC.guaranies(Number(e.limiteCredito))}),(0,Ve.jsxs)(th,{sx:{color:"white"},children:[uy(new Date(e.fechaInicioVigencia),"dd/MM/yyyy")," al ",uy(new Date(e.fechaFinVigencia),"dd/MM/yyyy")]}),(0,Ve.jsx)(th,{sx:{color:"white"},children:(null===(t=e.usuario)||void 0===t?void 0:t.nombre)||(null===(r=e.usuario)||void 0===r?void 0:r.username)||"-"}),(0,Ve.jsx)(th,{children:e.nombreArchivoContrato?(0,Ve.jsx)(Ir,{size:"small",color:"primary",onClick:()=>x(e.id),children:(0,Ve.jsx)(nP.A,{})}):(0,Ve.jsx)($r,{variant:"caption",sx:{color:"rgba(255, 255, 255, 0.5)"},children:"-"})})]},e.id)}))})]})})]})]})})})]})]})})},LP=async()=>{try{return(await ed.get("/api/cuentas-bancarias")).data}catch(e){throw console.error("Error al obtener cuentas bancarias:",e),e}},BP=async()=>{try{return(await ed.get("/api/configuracion/wepa-usd/actual")).data}catch(t){var e;if(ed.isAxiosError(t)&&404===(null===(e=t.response)||void 0===e?void 0:e.status))return null;throw console.error("Error al obtener configuraci\xf3n actual:",t),t}},FP=async()=>{try{return(await ed.get("/api/configuracion/wepa-usd/historial")).data}catch(e){throw console.error("Error al obtener historial de configuraciones:",e),e}},_P=async e=>{try{return(await ed.post("/api/configuracion/wepa-usd",e,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(t){throw console.error("Error al crear configuraci\xf3n:",t),t}},UP=async e=>{try{return(await ed.get(`/api/configuracion/wepa-usd/${e}/contrato`,{responseType:"blob"})).data}catch(t){throw console.error("Error al descargar contrato:",t),t}},WP=()=>{const[e,t]=(0,a.useState)(!0),[r,n]=(0,a.useState)(!1),[o,i]=(0,a.useState)(null),[s,l]=(0,a.useState)([]),[c,d]=(0,a.useState)(null),[u,p]=(0,a.useState)([]),[h,f]=(0,a.useState)(!1),[m,g]=(0,a.useState)({cuentaBancariaId:0,limiteCredito:"",fechaInicioVigencia:new Date,fechaFinVigencia:new Date((new Date).setFullYear((new Date).getFullYear()+1)),contratoFile:null});(0,a.useEffect)((()=>{(async()=>{t(!0),i(null);try{const e=(await LP()).filter((e=>"USD"===e.moneda));l(e);const t=await BP();t&&(d(t),g({cuentaBancariaId:t.cuentaBancariaId,limiteCredito:t.limiteCredito.toString().replace(/\./g,""),fechaInicioVigencia:new Date(t.fechaInicioVigencia),fechaFinVigencia:new Date(t.fechaFinVigencia),contratoFile:null}));const r=await FP();p(r)}catch(e){console.error("Error al cargar datos iniciales:",e),i("Error al cargar los datos. Por favor, intente nuevamente.")}finally{t(!1)}})()}),[]);const v=(e,t)=>{t&&g({...m,[e]:t})},x=async e=>{try{var t;const r=await UP(e),n=window.URL.createObjectURL(new Blob([r])),o=document.createElement("a");o.href=n,o.setAttribute("download",`contrato-wepa-usd-${e}.pdf`),document.body.appendChild(o),o.click(),null===(t=o.parentNode)||void 0===t||t.removeChild(o),window.URL.revokeObjectURL(n)}catch(r){console.error("Error al descargar contrato:",r),CP.error("Error al descargar el contrato")}};return(0,Ve.jsx)(Cm,{dateAdapter:xw,adapterLocale:Cw,children:(0,Ve.jsxs)(Et,{sx:{p:3},children:[(0,Ve.jsx)($r,{variant:"h4",gutterBottom:!0,children:"Configuraci\xf3n de Wepa USD"}),o&&(0,Ve.jsx)(Ah,{severity:"error",sx:{mb:3},children:o}),e?(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",my:5},children:(0,Ve.jsx)(KS,{})}):(0,Ve.jsxs)($h,{container:!0,spacing:3,children:[(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsx)(jk,{sx:{mb:3,backgroundColor:"#1E1E1E",color:"white"},children:(0,Ve.jsxs)(Ak,{children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,children:"Configuraci\xf3n Actual"}),c?(0,Ve.jsxs)($h,{container:!0,spacing:2,children:[(0,Ve.jsxs)($h,{item:!0,xs:12,md:4,children:[(0,Ve.jsx)($r,{variant:"subtitle2",color:"rgba(255, 255, 255, 0.7)",children:"Cuenta Bancaria"}),(0,Ve.jsx)($r,{variant:"body1",children:c.cuentaBancaria?`${c.cuentaBancaria.banco} - ${c.cuentaBancaria.numeroCuenta}`:`ID: ${c.cuentaBancariaId}`})]}),(0,Ve.jsxs)($h,{item:!0,xs:12,md:2,children:[(0,Ve.jsx)($r,{variant:"subtitle2",color:"rgba(255, 255, 255, 0.7)",children:"L\xedmite de Cr\xe9dito"}),(0,Ve.jsx)($r,{variant:"body1",children:nC.dollars(c.limiteCredito)})]}),(0,Ve.jsxs)($h,{item:!0,xs:12,md:3,children:[(0,Ve.jsx)($r,{variant:"subtitle2",color:"rgba(255, 255, 255, 0.7)",children:"Vigencia"}),(0,Ve.jsxs)($r,{variant:"body1",children:[uy(new Date(c.fechaInicioVigencia),"dd/MM/yyyy")," al ",uy(new Date(c.fechaFinVigencia),"dd/MM/yyyy")]})]}),(0,Ve.jsxs)($h,{item:!0,xs:12,md:2,children:[(0,Ve.jsx)($r,{variant:"subtitle2",color:"rgba(255, 255, 255, 0.7)",children:"\xdaltima Actualizaci\xf3n"}),(0,Ve.jsx)($r,{variant:"body1",children:uy(new Date(c.fechaCreacion),"dd/MM/yyyy HH:mm")})]}),(0,Ve.jsx)($h,{item:!0,xs:12,md:1,sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:c.nombreArchivoContrato&&(0,Ve.jsx)(fs,{variant:"outlined",size:"small",startIcon:(0,Ve.jsx)(nP.A,{}),onClick:()=>x(c.id),children:"Contrato"})})]}):(0,Ve.jsx)($r,{variant:"body1",sx:{color:"rgba(255, 255, 255, 0.7)"},children:"No hay configuraci\xf3n registrada para Wepa USD."})]})})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:6,children:(0,Ve.jsx)(jk,{sx:{backgroundColor:"#1E1E1E",color:"white"},children:(0,Ve.jsxs)(Ak,{children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,children:c?"Actualizar Configuraci\xf3n":"Nueva Configuraci\xf3n"}),(0,Ve.jsx)("form",{onSubmit:async e=>{if(e.preventDefault(),m.cuentaBancariaId)if(!m.limiteCredito||parseInt(m.limiteCredito)<=0)i("El l\xedmite de cr\xe9dito debe ser mayor a cero.");else if(m.fechaInicioVigencia&&m.fechaFinVigencia)if(m.fechaInicioVigencia>=m.fechaFinVigencia)i("La fecha de fin debe ser posterior a la fecha de inicio.");else if(c||m.contratoFile){n(!0),i(null);try{const e=new FormData;e.append("cuentaBancariaId",m.cuentaBancariaId.toString()),e.append("limiteCredito",m.limiteCredito),e.append("fechaInicioVigencia",m.fechaInicioVigencia.toISOString().split("T")[0]),e.append("fechaFinVigencia",m.fechaFinVigencia.toISOString().split("T")[0]),m.contratoFile&&e.append("contratoFile",m.contratoFile);const t=await _P(e);d(t);const r=await FP();p(r),CP.success("Configuraci\xf3n guardada exitosamente")}catch(o){var t,r;console.error("Error al guardar la configuraci\xf3n:",o),i((null===(t=o.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Error al guardar la configuraci\xf3n. Por favor, intente nuevamente.")}finally{n(!1)}}else i("El archivo de contrato es requerido para una nueva configuraci\xf3n.");else i("Las fechas de vigencia son requeridas.");else i("Debe seleccionar una cuenta bancaria.")},children:(0,Ve.jsxs)($h,{container:!0,spacing:2,children:[(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsxs)(lu,{fullWidth:!0,variant:"outlined",sx:{mb:2},children:[(0,Ve.jsx)(ou,{id:"cuenta-bancaria-label",sx:{color:"rgba(255, 255, 255, 0.7)"},children:"Cuenta Bancaria"}),(0,Ve.jsxs)(gp,{labelId:"cuenta-bancaria-label",name:"cuentaBancariaId",value:m.cuentaBancariaId,onChange:e=>{const t=e.target.name,r=e.target.value;g({...m,[t]:r})},label:"Cuenta Bancaria",required:!0,sx:{color:"white","& .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255, 255, 255, 0.23)"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255, 255, 255, 0.4)"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#1976D2"}},children:[(0,Ve.jsx)(_h,{value:0,disabled:!0,children:"Seleccione una cuenta bancaria"}),s.map((e=>(0,Ve.jsxs)(_h,{value:e.id,children:[e.banco," - ",e.numeroCuenta," (",e.moneda,")"]},e.id)))]})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsx)(jp,{fullWidth:!0,name:"limiteCredito",label:"L\xedmite de Cr\xe9dito (USD)",value:m.limiteCredito?m.limiteCredito.replace(/\B(?=(\d{3})+(?!\d))/g,"."):"",onChange:e=>{const{name:t,value:r}=e.target;if("limiteCredito"===t){const e=r.replace(/\D/g,"");g({...m,[t]:e})}else g({...m,[t]:r})},required:!0,sx:{mb:2,input:{color:"white"},label:{color:"rgba(255, 255, 255, 0.7)"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"rgba(255, 255, 255, 0.23)"},"&:hover fieldset":{borderColor:"rgba(255, 255, 255, 0.4)"},"&.Mui-focused fieldset":{borderColor:"#1976D2"}}}})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(Kx,{label:"Fecha de Inicio",value:m.fechaInicioVigencia,onChange:e=>v("fechaInicioVigencia",e),slotProps:{textField:{fullWidth:!0,required:!0,sx:{mb:2,input:{color:"white"},label:{color:"rgba(255, 255, 255, 0.7)"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"rgba(255, 255, 255, 0.23)"},"&:hover fieldset":{borderColor:"rgba(255, 255, 255, 0.4)"},"&.Mui-focused fieldset":{borderColor:"#1976D2"}}}}}})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(Kx,{label:"Fecha de Fin",value:m.fechaFinVigencia,onChange:e=>v("fechaFinVigencia",e),slotProps:{textField:{fullWidth:!0,required:!0,sx:{mb:2,input:{color:"white"},label:{color:"rgba(255, 255, 255, 0.7)"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"rgba(255, 255, 255, 0.23)"},"&:hover fieldset":{borderColor:"rgba(255, 255, 255, 0.4)"},"&.Mui-focused fieldset":{borderColor:"#1976D2"}}}}}})}),(0,Ve.jsxs)($h,{item:!0,xs:12,children:[(0,Ve.jsxs)(fs,{component:"label",variant:"outlined",startIcon:(0,Ve.jsx)(rP.A,{}),sx:{mb:2},children:[c?"Actualizar Contrato (Opcional)":"Subir Contrato (Requerido)",(0,Ve.jsx)("input",{type:"file",hidden:!0,accept:".pdf,.docx,.doc,.jpg,.jpeg,.png",onChange:e=>{e.target.files&&e.target.files.length>0&&g({...m,contratoFile:e.target.files[0]})}})]}),m.contratoFile&&(0,Ve.jsxs)($r,{variant:"caption",display:"block",gutterBottom:!0,sx:{color:"rgba(255, 255, 255, 0.7)"},children:["Archivo seleccionado: ",m.contratoFile.name]})]}),(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsx)(fs,{type:"submit",variant:"contained",color:"primary",disabled:r,startIcon:r?(0,Ve.jsx)(KS,{size:20}):(0,Ve.jsx)(oP.A,{}),children:r?"Guardando...":"Guardar Configuraci\xf3n"})})]})})]})})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:6,children:(0,Ve.jsx)(jk,{sx:{backgroundColor:"#1E1E1E",color:"white",height:"100%"},children:(0,Ve.jsxs)(Ak,{children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,children:"Informaci\xf3n Adicional"}),(0,Ve.jsx)(Ah,{severity:"info",sx:{mb:2,color:"black"},children:"La configuraci\xf3n de Wepa USD determina la cuenta bancaria donde se depositar\xe1n los fondos y establece el l\xedmite de cr\xe9dito en d\xf3lares para operar."}),(0,Ve.jsxs)(Et,{sx:{mb:3},children:[(0,Ve.jsx)($r,{variant:"subtitle2",sx:{color:"rgba(255, 255, 255, 0.7)",mb:1},children:"Consideraciones importantes:"}),(0,Ve.jsxs)("ul",{children:[(0,Ve.jsx)("li",{children:(0,Ve.jsx)($r,{variant:"body2",children:"El l\xedmite de cr\xe9dito establece el monto m\xe1ximo disponible para transferencias en d\xf3lares."})}),(0,Ve.jsx)("li",{children:(0,Ve.jsx)($r,{variant:"body2",children:"La fecha de vigencia determina el per\xedodo durante el cual estar\xe1 activa esta configuraci\xf3n."})}),(0,Ve.jsx)("li",{children:(0,Ve.jsx)($r,{variant:"body2",children:"El contrato debe ser un documento oficial firmado entre las partes."})})]})]}),(0,Ve.jsx)(Ii,{sx:{my:2,borderColor:"rgba(255, 255, 255, 0.12)"}}),(0,Ve.jsxs)(Et,{sx:{mt:2},children:[(0,Ve.jsx)(fs,{variant:"outlined",color:"primary",onClick:()=>f(!h),sx:{mr:1},children:h?"Ocultar Historial":"Ver Historial de Configuraciones"}),(0,Ve.jsx)(fs,{variant:"text",color:"primary",onClick:()=>window.location.href="/dashboard/saldos-monetarios/wepa-usd",children:"Ir a Balance Wepa USD"})]}),h&&u.length>0&&(0,Ve.jsxs)(Et,{sx:{mt:3},children:[(0,Ve.jsx)($r,{variant:"subtitle1",gutterBottom:!0,children:"Historial de Configuraciones"}),(0,Ve.jsx)(Dp,{component:$t,sx:{mt:2,backgroundColor:"#1E1E1E"},children:(0,Ve.jsxs)(zp,{size:"small",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{sx:{color:"white"},children:"Fecha de Creaci\xf3n"}),(0,Ve.jsx)(th,{sx:{color:"white"},children:"Cuenta Bancaria"}),(0,Ve.jsx)(th,{sx:{color:"white"},children:"L\xedmite de Cr\xe9dito"}),(0,Ve.jsx)(th,{sx:{color:"white"},children:"Vigencia"}),(0,Ve.jsx)(th,{sx:{color:"white"},children:"Usuario"}),(0,Ve.jsx)(th,{sx:{color:"white"},children:"Contrato"})]})}),(0,Ve.jsx)(sh,{children:u.map((e=>{var t,r;return(0,Ve.jsxs)(Xp,{sx:{"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.08)"}},children:[(0,Ve.jsx)(th,{sx:{color:"white"},children:uy(new Date(e.fechaCreacion),"dd/MM/yyyy HH:mm")}),(0,Ve.jsx)(th,{sx:{color:"white"},children:e.cuentaBancaria?`${e.cuentaBancaria.banco} - ${e.cuentaBancaria.numeroCuenta}`:`ID: ${e.cuentaBancariaId}`}),(0,Ve.jsx)(th,{sx:{color:"white"},children:nC.dollars(Number(e.limiteCredito))}),(0,Ve.jsxs)(th,{sx:{color:"white"},children:[uy(new Date(e.fechaInicioVigencia),"dd/MM/yyyy")," al ",uy(new Date(e.fechaFinVigencia),"dd/MM/yyyy")]}),(0,Ve.jsx)(th,{sx:{color:"white"},children:(null===(t=e.usuario)||void 0===t?void 0:t.nombre)||(null===(r=e.usuario)||void 0===r?void 0:r.username)||"-"}),(0,Ve.jsx)(th,{children:e.nombreArchivoContrato?(0,Ve.jsx)(Ir,{size:"small",color:"primary",onClick:()=>x(e.id),children:(0,Ve.jsx)(nP.A,{})}):(0,Ve.jsx)($r,{variant:"caption",sx:{color:"rgba(255, 255, 255, 0.5)"},children:"-"})})]},e.id)}))})]})})]})]})})})]})]})})},VP=e=>{let{propGlobalCajaFilter:t}=e;const[r,n]=(0,a.useState)(!1),[o,i]=(0,a.useState)(null),[s,l]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[u,p]=(0,a.useState)(""),[h,f]=(0,a.useState)(""),[m,g]=(0,a.useState)(""),[v,x]=(0,a.useState)("todos"),[b,y]=(0,a.useState)(null),[j,w]=(0,a.useState)(0),[S,C]=(0,a.useState)(10);(0,a.useEffect)((()=>{(async()=>{n(!0),i(null);try{const e=await ed.get("http://localhost:3000/api/diferencias/maletines/comparaciones");let t=e.data.comparaciones;Array.isArray(t)||(console.error("La propiedad 'comparaciones' en la respuesta no es un array:",e.data),t=[]),t.sort(((e,t)=>{const r=e.cajaAnterior.fechaCierre?nw(e.cajaAnterior.fechaCierre).getTime():0;return(t.cajaAnterior.fechaCierre?nw(t.cajaAnterior.fechaCierre).getTime():0)-r})),l(t)}catch(t){var e;console.error("Error fetching diferencias maletines:",t),ed.isAxiosError(t)&&401===(null===(e=t.response)||void 0===e?void 0:e.status)?i("No autorizado. Por favor, inicie sesi\xf3n de nuevo."):i("Error al cargar las diferencias de maletines desde el servidor."),l([])}finally{n(!1)}})()}),[]),(0,a.useEffect)((()=>{void 0!==t&&g(t)}),[t]);const A=(0,a.useCallback)((()=>{let e=[...s];if(u)try{const t=uy(nw(u),"yyyy-MM-dd");e=e.filter((e=>e.cajaAnterior.fechaCierre&&uy(nw(e.cajaAnterior.fechaCierre),"yyyy-MM-dd")===t))}catch(a0){console.warn("Fecha inv\xe1lida en filtro")}if(h&&(e=e.filter((e=>{var t;return null===(t=e.cajaAnterior.maletinId)||void 0===t?void 0:t.toString().includes(h)}))),m){const t=parseInt(m,10);isNaN(t)||(e=e.filter((e=>e.cajaAnterior.cajaEnteroId===t||e.cajaSiguiente.cajaEnteroId===t)))}if("todos"!==v){const t="con"===v;e=e.filter((e=>e.tieneDiferencia===t))}d(e),w(0)}),[s,u,h,m,v]);(0,a.useEffect)((()=>{A()}),[A]);return(0,Ve.jsxs)($t,{elevation:2,sx:{p:2},children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,children:"Diferencia en Maletines"}),(0,Ve.jsxs)($h,{container:!0,spacing:2,sx:{mb:3},children:[(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,md:3,children:(0,Ve.jsx)(jp,{label:"Fecha Cierre (YYYY-MM-DD)",type:"date",value:u,onChange:e=>{p(e.target.value)},InputLabelProps:{shrink:!0},fullWidth:!0,size:"small"})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,md:3,children:(0,Ve.jsx)(jp,{label:"Malet\xedn ID",value:h,onChange:e=>{f(e.target.value)},fullWidth:!0,size:"small"})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,md:3,children:(0,Ve.jsx)(jp,{label:"Caja Nro (Ant/Sgte)",type:"number",value:m,onChange:e=>{g(e.target.value)},fullWidth:!0,size:"small"})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,md:3,children:(0,Ve.jsxs)(lu,{fullWidth:!0,size:"small",children:[(0,Ve.jsx)(ou,{children:"Estado Diferencia"}),(0,Ve.jsxs)(gp,{value:v,label:"Estado Diferencia",onChange:e=>{x(e.target.value)},children:[(0,Ve.jsx)(_h,{value:"todos",children:"Todos"}),(0,Ve.jsx)(_h,{value:"con",children:"Con Diferencia"}),(0,Ve.jsx)(_h,{value:"sin",children:"Sin Diferencia"})]})]})})]}),r&&(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",my:3},children:(0,Ve.jsx)(KS,{})}),o&&(0,Ve.jsx)(Ah,{severity:"error",sx:{my:2},children:o}),!r&&!o&&(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)(Dp,{children:(0,Ve.jsxs)(zp,{stickyHeader:!0,size:"small","aria-label":"tabla-diferencias-maletines",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Fecha Cierre (Ant)"}),(0,Ve.jsx)(th,{children:"Malet\xedn"}),(0,Ve.jsx)(th,{align:"right",children:"Cierre Caja Nro"}),(0,Ve.jsx)(th,{align:"right",children:"Apertura Caja Nro"}),(0,Ve.jsx)(th,{align:"center",children:"Estado"})]})}),(0,Ve.jsx)(sh,{children:0!==c.length||r?c.slice(j*S,j*S+S).map((e=>{var t,r,n,o,i,s;const l=`${e.cajaAnterior.id}-${e.cajaSiguiente.id}`,c=b===l;return(0,Ve.jsxs)(a.Fragment,{children:[(0,Ve.jsxs)(Xp,{hover:!0,onClick:()=>(e=>{y((t=>t===e?null:e))})(l),sx:{cursor:"pointer",backgroundColor:e.tieneDiferencia?"rgba(255, 0, 0, 0.05)":"inherit","&:hover":{backgroundColor:e.tieneDiferencia?"rgba(255, 0, 0, 0.1)":"action.hover"}},children:[(0,Ve.jsx)(th,{children:e.cajaAnterior.fechaCierre?uy(nw(e.cajaAnterior.fechaCierre),"dd/MM/yyyy HH:mm",{locale:Cw}):"-"}),(0,Ve.jsx)(th,{children:e.cajaAnterior.maletinId}),(0,Ve.jsx)(th,{align:"right",children:e.cajaAnterior.cajaEnteroId}),(0,Ve.jsx)(th,{align:"right",children:e.cajaSiguiente.cajaEnteroId}),(0,Ve.jsx)(th,{align:"center",children:e.tieneDiferencia?(0,Ve.jsx)(Pg,{label:"Con Diferencia",color:"error",size:"small",variant:"outlined"}):(0,Ve.jsx)(Pg,{label:"Sin Diferencia",color:"success",size:"small",variant:"outlined"})})]}),(0,Ve.jsx)(Xp,{children:(0,Ve.jsx)(th,{style:{paddingBottom:0,paddingTop:0},colSpan:5,children:(0,Ve.jsx)(Si,{in:c,timeout:"auto",unmountOnExit:!0,children:(0,Ve.jsxs)(Et,{sx:{margin:1,p:2,border:"1px dashed grey",borderRadius:1},children:[(0,Ve.jsxs)($r,{variant:"h6",gutterBottom:!0,component:"div",children:["Detalle Comparaci\xf3n (Caja ",e.cajaAnterior.cajaEnteroId," vs ",e.cajaSiguiente.cajaEnteroId,")"]}),(0,Ve.jsxs)($h,{container:!0,spacing:2,children:[(0,Ve.jsxs)($h,{item:!0,xs:12,md:4,children:[(0,Ve.jsxs)($r,{variant:"subtitle1",sx:{fontWeight:"bold"},children:["Cierre Caja ",e.cajaAnterior.cajaEnteroId]}),(0,Ve.jsx)(Dp,{component:$t,variant:"outlined",sx:{mt:.5,mb:1},children:(0,Ve.jsx)(zp,{size:"small","aria-label":"detalle-cierre",children:(0,Ve.jsxs)(sh,{children:[(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{sx:{py:.5,px:1},children:"PYG:"}),(0,Ve.jsxs)(th,{align:"right",sx:{py:.5,px:1},children:[cO((null===(t=e.cajaAnterior.saldoFinal)||void 0===t?void 0:t.total.PYG)||0)," Gs"]})]}),(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{sx:{py:.5,px:1},children:"USD:"}),(0,Ve.jsxs)(th,{align:"right",sx:{py:.5,px:1},children:["$ ",new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format((null===(r=e.cajaAnterior.saldoFinal)||void 0===r?void 0:r.total.USD)||0)]})]}),(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{sx:{py:.5,px:1,borderBottom:"none"},children:"BRL:"}),(0,Ve.jsxs)(th,{align:"right",sx:{py:.5,px:1,borderBottom:"none"},children:["R$ ",new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format((null===(n=e.cajaAnterior.saldoFinal)||void 0===n?void 0:n.total.BRL)||0)]})]})]})})})]}),(0,Ve.jsxs)($h,{item:!0,xs:12,md:4,children:[(0,Ve.jsxs)($r,{variant:"subtitle1",sx:{fontWeight:"bold"},children:["Apertura Caja ",e.cajaSiguiente.cajaEnteroId]}),(0,Ve.jsx)(Dp,{component:$t,variant:"outlined",sx:{mt:.5,mb:1},children:(0,Ve.jsx)(zp,{size:"small","aria-label":"detalle-apertura",children:(0,Ve.jsxs)(sh,{children:[(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{sx:{py:.5,px:1},children:"PYG:"}),(0,Ve.jsxs)(th,{align:"right",sx:{py:.5,px:1},children:[cO((null===(o=e.cajaSiguiente.saldoInicial)||void 0===o?void 0:o.total.PYG)||0)," Gs"]})]}),(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{sx:{py:.5,px:1},children:"USD:"}),(0,Ve.jsxs)(th,{align:"right",sx:{py:.5,px:1},children:["$ ",new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format((null===(i=e.cajaSiguiente.saldoInicial)||void 0===i?void 0:i.total.USD)||0)]})]}),(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{sx:{py:.5,px:1,borderBottom:"none"},children:"BRL:"}),(0,Ve.jsxs)(th,{align:"right",sx:{py:.5,px:1,borderBottom:"none"},children:["R$ ",new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format((null===(s=e.cajaSiguiente.saldoInicial)||void 0===s?void 0:s.total.BRL)||0)]})]})]})})})]}),(0,Ve.jsxs)($h,{item:!0,xs:12,md:4,children:[(0,Ve.jsx)($r,{variant:"subtitle1",sx:{fontWeight:"bold"},children:"Diferencia"}),(0,Ve.jsx)(Dp,{component:$t,variant:"outlined",sx:{mt:.5,mb:1},children:(0,Ve.jsx)(zp,{size:"small","aria-label":"detalle-diferencia",children:(0,Ve.jsxs)(sh,{children:[(0,Ve.jsxs)(Xp,{sx:{backgroundColor:0!==e.diferencias.PYG?"rgba(255, 0, 0, 0.05)":"inherit"},children:[(0,Ve.jsx)(th,{sx:{py:.5,px:1},children:"PYG:"}),(0,Ve.jsxs)(th,{align:"right",sx:{py:.5,px:1,fontWeight:0!==e.diferencias.PYG?"bold":"normal",color:0!==e.diferencias.PYG?"error.main":"inherit"},children:[cO(e.diferencias.PYG)," Gs"]})]}),(0,Ve.jsxs)(Xp,{sx:{backgroundColor:0!==e.diferencias.USD?"rgba(255, 0, 0, 0.05)":"inherit"},children:[(0,Ve.jsx)(th,{sx:{py:.5,px:1},children:"USD:"}),(0,Ve.jsxs)(th,{align:"right",sx:{py:.5,px:1,fontWeight:0!==e.diferencias.USD?"bold":"normal",color:0!==e.diferencias.USD?"error.main":"inherit"},children:["$ ",new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e.diferencias.USD)]})]}),(0,Ve.jsxs)(Xp,{sx:{backgroundColor:0!==e.diferencias.BRL?"rgba(255, 0, 0, 0.05)":"inherit"},children:[(0,Ve.jsx)(th,{sx:{py:.5,px:1,borderBottom:"none"},children:"BRL:"}),(0,Ve.jsxs)(th,{align:"right",sx:{py:.5,px:1,borderBottom:"none",fontWeight:0!==e.diferencias.BRL?"bold":"normal",color:0!==e.diferencias.BRL?"error.main":"inherit"},children:["R$ ",new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e.diferencias.BRL)]})]})]})})})]})]})]})})})})]},l)})):(0,Ve.jsx)(Xp,{children:(0,Ve.jsx)(th,{colSpan:5,align:"center",children:"No se encontraron resultados con los filtros aplicados."})})})]})}),(0,Ve.jsx)(DE,{rowsPerPageOptions:[5,10,25],component:"div",count:c.length,rowsPerPage:S,page:j,onPageChange:(e,t)=>{w(t)},onRowsPerPageChange:e=>{C(parseInt(e.target.value,10)),w(0)},labelRowsPerPage:"Filas por p\xe1gina:"})]})]})},GP=(e,t)=>{const r={},n=new Map(e.map((e=>[e.servicio,Number(e.monto)||0]))),o=new Map(t.map((e=>[e.servicio,Number(e.monto)||0]))),a=Array.from(n.keys()),i=Array.from(o.keys());return new Set([...a,...i]).forEach((e=>{const t=n.get(e)||0,a=o.get(e)||0;r[e]=a-t})),r},HP=e=>{let{propGlobalCajaFilter:t}=e;const[r,n]=(0,a.useState)(!1),[o,i]=(0,a.useState)(null),[s,l]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[u,p]=(0,a.useState)(""),[h,f]=(0,a.useState)(""),[m,g]=(0,a.useState)(""),[v,x]=(0,a.useState)("todos"),[b,y]=(0,a.useState)(null),[j,w]=(0,a.useState)(0),[S,C]=(0,a.useState)(10);(0,a.useEffect)((()=>{(async()=>{n(!0),i(null);try{const e=await ed.get("http://localhost:3000/api/diferencias/saldos-servicios/comparaciones");let t=e.data.comparaciones;Array.isArray(t)||(console.error("La propiedad 'comparaciones' en la respuesta no es un array:",e.data),t=[]),t=t.map((e=>{const t=GP(e.cajaAnterior.saldosServicios,e.cajaSiguiente.saldosServicios),r=Object.values(t).some((e=>0!==e));return{...e,tieneDiferencia:r}})),l(t)}catch(t){var e;console.error("Error fetching diferencias saldos servicios:",t),ed.isAxiosError(t)&&401===(null===(e=t.response)||void 0===e?void 0:e.status)?i("No autorizado. Por favor, inicie sesi\xf3n de nuevo."):i("Error al cargar las diferencias de saldos de servicios."),l([])}finally{n(!1)}})()}),[]),(0,a.useEffect)((()=>{void 0!==t&&g(t)}),[t]);const A=(0,a.useCallback)((()=>{let e=[...s];if(u)try{const t=uy(nw(u),"yyyy-MM-dd");e=e.filter((e=>e.cajaAnterior.fechaCierre&&uy(nw(e.cajaAnterior.fechaCierre),"yyyy-MM-dd")===t))}catch(a0){console.warn("Fecha inv\xe1lida en filtro")}if(h){const t=h.toLowerCase();e=e.filter((e=>{var r;return null===(r=e.cajaAnterior.sucursalNombre)||void 0===r?void 0:r.toLowerCase().includes(t)}))}if(m){const t=parseInt(m,10);isNaN(t)||(e=e.filter((e=>e.cajaAnterior.cajaEnteroId===t||e.cajaSiguiente.cajaEnteroId===t)))}if("todos"!==v){const t="con"===v;e=e.filter((e=>e.tieneDiferencia===t))}d(e),w(0)}),[s,u,h,m,v]);(0,a.useEffect)((()=>{A()}),[A]);return(0,Ve.jsxs)($t,{elevation:2,sx:{p:2},children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,children:"Diferencia Saldos entre Cajas (Servicios)"}),(0,Ve.jsxs)($h,{container:!0,spacing:2,sx:{mb:3},children:[(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,md:3,children:(0,Ve.jsx)(jp,{label:"Fecha Cierre (YYYY-MM-DD)",type:"date",value:u,onChange:e=>{p(e.target.value)},InputLabelProps:{shrink:!0},fullWidth:!0,size:"small"})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,md:3,children:(0,Ve.jsx)(jp,{label:"Sucursal",value:h,onChange:e=>{f(e.target.value)},fullWidth:!0,size:"small"})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,md:3,children:(0,Ve.jsx)(jp,{label:"Caja Nro (Ant/Sgte)",type:"number",value:m,onChange:e=>{g(e.target.value)},fullWidth:!0,size:"small"})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,md:3,children:(0,Ve.jsxs)(lu,{fullWidth:!0,size:"small",children:[(0,Ve.jsx)(ou,{children:"Estado Diferencia"}),(0,Ve.jsxs)(gp,{value:v,label:"Estado Diferencia",onChange:e=>{x(e.target.value)},children:[(0,Ve.jsx)(_h,{value:"todos",children:"Todos"}),(0,Ve.jsx)(_h,{value:"con",children:"Con Diferencia"}),(0,Ve.jsx)(_h,{value:"sin",children:"Sin Diferencia"})]})]})})]}),r&&(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",my:3},children:(0,Ve.jsx)(KS,{})}),o&&(0,Ve.jsx)(Ah,{severity:"error",sx:{my:2},children:o}),!r&&!o&&(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)(Dp,{children:(0,Ve.jsxs)(zp,{stickyHeader:!0,size:"small","aria-label":"tabla-diferencias-saldos-servicios",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Fecha Cierre (Ant)"}),(0,Ve.jsx)(th,{children:"Sucursal"}),(0,Ve.jsx)(th,{align:"right",children:"Cierre Caja Nro"}),(0,Ve.jsx)(th,{align:"right",children:"Apertura Caja Nro"}),(0,Ve.jsx)(th,{align:"center",children:"Estado"})]})}),(0,Ve.jsx)(sh,{children:0!==c.length||r?c.slice(j*S,j*S+S).map((e=>{const t=`${e.cajaAnterior.id}-${e.cajaSiguiente.id}`,r=b===t,n=e.tieneDiferencia,o=GP(e.cajaAnterior.saldosServicios,e.cajaSiguiente.saldosServicios),i=((e,t)=>{const r=e.map((e=>e.servicio)),n=t.map((e=>e.servicio)),o=new Set([...r,...n]);return Array.from(o).sort()})(e.cajaAnterior.saldosServicios,e.cajaSiguiente.saldosServicios),s=new Map(e.cajaAnterior.saldosServicios.map((e=>[e.servicio,Number(e.monto)||0]))),l=new Map(e.cajaSiguiente.saldosServicios.map((e=>[e.servicio,Number(e.monto)||0])));return(0,Ve.jsxs)(a.Fragment,{children:[(0,Ve.jsxs)(Xp,{hover:!0,onClick:()=>(e=>{y((t=>t===e?null:e))})(t),sx:{cursor:"pointer",backgroundColor:n?"rgba(255, 0, 0, 0.05)":"inherit","&:hover":{backgroundColor:n?"rgba(255, 0, 0, 0.1)":"action.hover"}},children:[(0,Ve.jsx)(th,{children:e.cajaAnterior.fechaCierre?uy(nw(e.cajaAnterior.fechaCierre),"dd/MM/yyyy HH:mm",{locale:Cw}):"-"}),(0,Ve.jsx)(th,{children:e.cajaAnterior.sucursalNombre||"-"}),(0,Ve.jsx)(th,{align:"right",children:e.cajaAnterior.cajaEnteroId}),(0,Ve.jsx)(th,{align:"right",children:e.cajaSiguiente.cajaEnteroId}),(0,Ve.jsx)(th,{align:"center",children:n?(0,Ve.jsx)(Pg,{label:"Con Diferencia",color:"error",size:"small",variant:"outlined"}):(0,Ve.jsx)(Pg,{label:"Sin Diferencia",color:"success",size:"small",variant:"outlined"})})]}),(0,Ve.jsx)(Xp,{children:(0,Ve.jsx)(th,{style:{paddingBottom:0,paddingTop:0},colSpan:5,children:(0,Ve.jsx)(Si,{in:r,timeout:"auto",unmountOnExit:!0,children:(0,Ve.jsxs)(Et,{sx:{margin:1,p:2,border:"1px dashed grey",borderRadius:1},children:[(0,Ve.jsxs)($r,{variant:"h6",gutterBottom:!0,component:"div",children:["Detalle Saldos Servicios (Suc: ",e.cajaAnterior.sucursalNombre||"N/A"," - Cajas ",e.cajaAnterior.cajaEnteroId," vs ",e.cajaSiguiente.cajaEnteroId,")"]}),(0,Ve.jsx)($h,{container:!0,spacing:2,children:(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsx)(Dp,{component:$t,variant:"outlined",children:(0,Ve.jsxs)(zp,{size:"small","aria-label":"detalle-comparacion-servicios",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{sx:{backgroundColor:"action.hover"},children:[(0,Ve.jsx)(th,{sx:{py:.5,px:1,fontWeight:"bold"},children:"Servicio"}),(0,Ve.jsx)(th,{align:"right",sx:{py:.5,px:1,fontWeight:"bold"},children:"Monto Cierre (Ant)"}),(0,Ve.jsx)(th,{align:"right",sx:{py:.5,px:1,fontWeight:"bold"},children:"Monto Apertura (Sgte)"}),(0,Ve.jsx)(th,{align:"right",sx:{py:.5,px:1,fontWeight:"bold"},children:"Diferencia"})]})}),(0,Ve.jsxs)(sh,{children:[i.length>0?i.map(((e,t)=>{const r=s.get(e)||0,n=l.get(e)||0,a=o[e]||0,i=0!==a;return(0,Ve.jsxs)(Xp,{sx:{backgroundColor:i?"rgba(255, 0, 0, 0.05)":"inherit"},children:[(0,Ve.jsx)(th,{sx:{py:.5,px:1},children:e}),(0,Ve.jsx)(th,{align:"right",sx:{py:.5,px:1},children:cO(r)}),(0,Ve.jsx)(th,{align:"right",sx:{py:.5,px:1},children:cO(n)}),(0,Ve.jsx)(th,{align:"right",sx:{py:.5,px:1,fontWeight:i?"bold":"normal",color:i?"error.main":"inherit"},children:cO(a)})]},`comp-${t}`)})):(0,Ve.jsx)(Xp,{children:(0,Ve.jsx)(th,{colSpan:4,align:"center",sx:{py:1},children:"Sin datos de servicios para comparar"})}),(0,Ve.jsxs)(Xp,{sx:{backgroundColor:"#424242",color:"white"},children:[(0,Ve.jsx)(th,{sx:{py:.5,px:1,fontWeight:"bold",borderBottom:"none",color:"inherit"},children:"Total General"}),(0,Ve.jsx)(th,{align:"right",sx:{py:.5,px:1,fontWeight:"bold",borderBottom:"none",color:"inherit"},children:cO(e.cajaAnterior.saldosServicios.reduce(((e,t)=>e+(Number(t.monto)||0)),0))}),(0,Ve.jsx)(th,{align:"right",sx:{py:.5,px:1,fontWeight:"bold",borderBottom:"none",color:"inherit"},children:cO(e.cajaSiguiente.saldosServicios.reduce(((e,t)=>e+(Number(t.monto)||0)),0))}),(0,Ve.jsx)(th,{align:"right",sx:{py:.5,px:1,fontWeight:"bold",borderBottom:"none",color:n?"error.light":"success.light"},children:cO(Object.values(o).reduce(((e,t)=>e+t),0))})]})]})]})})})})]})})})})]},t)})):(0,Ve.jsx)(Xp,{children:(0,Ve.jsx)(th,{colSpan:5,align:"center",children:"No se encontraron resultados con los filtros aplicados."})})})]})}),(0,Ve.jsx)(DE,{rowsPerPageOptions:[5,10,25],component:"div",count:c.length,rowsPerPage:S,page:j,onPageChange:(e,t)=>{w(t)},onRowsPerPageChange:e=>{C(parseInt(e.target.value,10)),w(0)},labelRowsPerPage:"Filas por p\xe1gina:"})]})]})};var qP=r(7030),YP=r(7948);const KP={Minicarga:{operadora:"tigo",servicio:"miniCarga"},"Mini Carga":{operadora:"tigo",servicio:"miniCarga"},MINICARGA:{operadora:"tigo",servicio:"miniCarga"},"Tigo Money":{operadora:"tigo",servicio:"retiros"},"TIGO MONEY":{operadora:"tigo",servicio:"retiros"},Maxicarga:{operadora:"personal",servicio:"maxiCarga"},"Maxi Carga":{operadora:"personal",servicio:"maxiCarga"},MAXICARGA:{operadora:"personal",servicio:"maxiCarga"},"Billetera Personal":{operadora:"personal",servicio:"cargaBilleteras"},"BILLETERA PERSONAL":{operadora:"personal",servicio:"cargaBilleteras"},"Recarga Claro":{operadora:"claro",servicio:"recargaClaro"},"RECARGA CLARO":{operadora:"claro",servicio:"recargaClaro"},"Billetera Claro":{operadora:"claro",servicio:"cargaBilleteras"},"BILLETERA CLARO":{operadora:"claro",servicio:"cargaBilleteras"}},XP=(e,t)=>{const r=e.toUpperCase();if("TIGO MONEY"===r){var n,o,a;const e=(null===(n=t.tigo)||void 0===n?void 0:n.girosEnviados)||0,r=(null===(o=t.tigo)||void 0===o?void 0:o.retiros)||0;return e+((null===(a=t.tigo)||void 0===a?void 0:a.cargaBilleteras)||0)-r}if("BILLETERA PERSONAL"===r){var i,s,l;const e=(null===(i=t.personal)||void 0===i?void 0:i.girosEnviados)||0,r=(null===(s=t.personal)||void 0===s?void 0:s.retiros)||0;return e+((null===(l=t.personal)||void 0===l?void 0:l.cargaBilleteras)||0)-r}if("BILLETERA CLARO"===r){var c,d,u;const e=(null===(c=t.claro)||void 0===c?void 0:c.girosEnviados)||0,r=(null===(d=t.claro)||void 0===d?void 0:d.retiros)||0;return e+((null===(u=t.claro)||void 0===u?void 0:u.cargaBilleteras)||0)-r}{const r=KP[e];if(!r)return 0;const{operadora:n,servicio:o}=r;return t[n]&&Number(t[n][o])||0}},QP=e=>{let{propGlobalCajaFilter:t}=e;const[r,n]=(0,a.useState)(!1),[o,i]=(0,a.useState)(null),[s,l]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[u,p]=(0,a.useState)(""),[h,f]=(0,a.useState)(""),[m,g]=(0,a.useState)(""),[v,x]=(0,a.useState)(""),[b,y]=(0,a.useState)("todos"),[j,w]=(0,a.useState)(null),[S,C]=(0,a.useState)({}),[A,E]=(0,a.useState)(0),[k,O]=(0,a.useState)(10);(0,a.useEffect)((()=>{(async()=>{n(!0),i(null);try{const e=await ed.get("http://localhost:3000/api/diferencias/en-caja/comparaciones");let t=e.data.comparaciones;Array.isArray(t)||(console.error("La propiedad 'comparaciones' en la respuesta no es un array:",e.data),t=[]);const r=t.map((e=>{var t,r,n,o;const a=(null!==(t=null===(r=e.comparacion.PYG)||void 0===r?void 0:r.diferencia)&&void 0!==t?t:0)+(null!==(n=null===(o=e.comparacion.ServiciosPYG)||void 0===o?void 0:o.diferencia)&&void 0!==n?n:0);return{...e,initialDiferenciaTotal:a}}));l(r)}catch(t){var e;console.error("Error fetching diferencias en caja:",t),ed.isAxiosError(t)&&401===(null===(e=t.response)||void 0===e?void 0:e.status)?i("No autorizado. Por favor, inicie sesi\xf3n de nuevo."):i("Error al cargar las diferencias internas de cajas."),l([])}finally{n(!1)}})()}),[]),(0,a.useEffect)((()=>{void 0!==t&&x(t)}),[t]);const P=(0,a.useCallback)((()=>{let e=[...s];if(u)try{const t=uy(nw(u),"yyyy-MM-dd");e=e.filter((e=>e.fechaApertura&&uy(nw(e.fechaApertura),"yyyy-MM-dd")===t))}catch(a0){console.warn("Fecha inv\xe1lida en filtro")}if(h){const t=h.toLowerCase();e=e.filter((e=>{var r;return null===(r=e.sucursalNombre)||void 0===r?void 0:r.toLowerCase().includes(t)}))}if(m&&(e=e.filter((e=>{var t;return null===(t=e.maletinId)||void 0===t?void 0:t.toString().includes(m)}))),v){const t=parseInt(v,10);isNaN(t)||(e=e.filter((e=>e.cajaEnteroId===t)))}if("todos"!==b){const t="con"===b;e=e.filter((e=>{var r;const n=null===(r=S[e.id])||void 0===r?void 0:r.detalle,o=n?n.diferenciaTotal:e.initialDiferenciaTotal;return t?Math.abs(o)>1e4:Math.abs(o)<=1e4}))}d(e),E(0)}),[s,u,h,m,v,b,S]);(0,a.useEffect)((()=>{P()}),[P]);const I=(0,a.useCallback)((async e=>{const t=c.find((t=>t.id===e));if(!t)return;const r=j!==e;if(w(r?e:null),r&&(!S[e]||!S[e].cargando&&!S[e].detalle&&!S[e].error)){console.log(`Iniciando c\xe1lculo detallado para caja ID: ${e}`),C((t=>({...t,[e]:{cargando:!0,error:null,detalle:null}})));try{const r=await(async e=>{const t=e.id,r=e.fechaApertura;if(!t||!r)throw new Error("ID de caja o fecha de apertura faltantes.");try{var n,a,i,s,l,c,d,u,p,h,f,m,g;console.log(`Calculando detalle COMPLETO para Caja ID: ${t}`);let e=null;try{const t=r.substring(0,10);e=await JS.getCotizacionByFecha(t),console.log(`Cotizaci\xf3n obtenida para fecha ${t}:`,e)}catch(o){console.error("Error al cargar cotizaci\xf3n, usando fallback 0:",o),e={valorReal:0,valorDolar:0}}const v=e.valorReal,x=e.valorDolar,[b,y,j,w,S,C,A]=await Promise.all([ed.get(`http://localhost:3000/api/cajas/${t}`),ed.get(`http://localhost:3000/api/cajas/${t}/datos-cierre`),ed.get(`http://localhost:3000/api/cajas/${t}/movimiento`),ed.get(`http://localhost:3000/api/pagos-servicios?cajaId=${t}`),ed.get(`http://localhost:3000/api/cajas/${t}/pagos`),ed.get(`http://localhost:3000/api/cajas/${t}/retiros`),ed.get(`http://localhost:3000/api/operaciones-bancarias/caja/${t}`)]),E=b.data,k=y.data,O=(null===(n=j.data)||void 0===n?void 0:n.data)||{},P=w.data||[],I=S.data||[],D=C.data||[],M=A.data||[];console.log("Datos completos cargados:",{cajaCompleta:E,movimientos:O,todosPagosServicios:P,pagosCaja:I,retiros:D,operacionesBancarias:M}),console.log("Estructura recibida de cajaCompleta (/cajas/{id}):",JSON.stringify(E,null,2)),console.log("Estructura recibida de datosCierre (/cajas/{id}/datos-cierre):",JSON.stringify(k,null,2));const T=null===E||void 0===E||null===(a=E.saldoInicial)||void 0===a?void 0:a.total,R=null!==(i=null===k||void 0===k||null===(s=k.saldoFinal)||void 0===s?void 0:s.total)&&void 0!==i?i:null===E||void 0===E||null===(l=E.saldoFinal)||void 0===l?void 0:l.total,N=E.saldosServiciosInicial||[],$=null!==(c=null!==(d=null===k||void 0===k?void 0:k.saldosServiciosFinal)&&void 0!==d?d:E.saldosServiciosFinal)&&void 0!==c?c:[];if(!T||!R)throw console.error("Datos de saldoInicial o saldoFinal faltantes o incompletos en las respuestas de API:",{saldoInicial:T,saldoFinal:R}),new Error(`Faltan saldos iniciales y/o finales en las respuestas de /api/cajas/${t} o /api/cajas/${t}/datos-cierre`);const z=new Map;N.forEach((e=>{z.set(e.servicio,{servicio:e.servicio,montoInicial:e.monto,montoFinal:0,montoMovimiento:XP(e.servicio,O),montoPagos:0,diferencia:0})}));for(const t of $){let e=z.get(t.servicio);e?e.montoFinal=t.monto:(e={servicio:t.servicio,montoInicial:0,montoFinal:t.monto,montoMovimiento:XP(t.servicio,O),montoPagos:0,diferencia:0},z.set(t.servicio,e));const r=t.servicio.toUpperCase(),n=Number(e.montoInicial)||0,o=Number(e.montoMovimiento)||0,a=Number(t.monto)||0;let i=0,s=0,l=0;const c=P.filter((e=>{var t;return"PENDIENTE"===(null===(t=e.estado)||void 0===t?void 0:t.toUpperCase())}));r.includes("MINICARGA")||r.includes("MAXICARGA")||r.includes("RECARGA CLARO")?(s=I.filter((e=>{const t=e.servicio.toLowerCase();return r.includes("MINICARGA")?t.includes("minicarga")||t.includes("mini carga"):r.includes("MAXICARGA")?t.includes("maxicarga")||t.includes("maxi carga"):!!r.includes("RECARGA CLARO")&&"claro"===e.operadora.toLowerCase()&&"recarga"===t})).reduce(((e,t)=>e+(Number(t.monto)||0)),0),l=c.filter((e=>{const t=e.servicio.toLowerCase();return r.includes("MINICARGA")?t.includes("minicarga")||t.includes("mini carga"):r.includes("MAXICARGA")?t.includes("maxicarga")||t.includes("maxi carga"):!!r.includes("RECARGA CLARO")&&"claro"===e.operadora.toLowerCase()&&"recarga"===t})).reduce(((e,t)=>e+(Number(t.monto)||0)),0),i=1.05*(s+l),e.pagosConComision=i):"TIGO MONEY"===r||r.includes("BILLETERA PERSONAL")||r.includes("BILLETERA CLARO")?(s=I.filter((e=>{const t=e.operadora.toLowerCase(),n=e.servicio.toLowerCase();return"TIGO MONEY"===r?"tigo"===t&&"billetera"===n:r.includes("BILLETERA PERSONAL")?"personal"===t&&"billetera"===n:!!r.includes("BILLETERA CLARO")&&"claro"===t&&"billetera"===n})).reduce(((e,t)=>e+(Number(t.monto)||0)),0),l=c.filter((e=>{const t=e.operadora.toLowerCase(),n=e.servicio.toLowerCase();return"TIGO MONEY"===r?"tigo"===t&&"billetera"===n:r.includes("BILLETERA PERSONAL")?"personal"===t&&"billetera"===n:!!r.includes("BILLETERA CLARO")&&"claro"===t&&"billetera"===n})).reduce(((e,t)=>e+(Number(t.monto)||0)),0),i=s+l,e.pagosConComision=i):(i=0,e.pagosConComision=0),e.pagosDesdeCaja=s,e.pagosServiciosPendientes=l,e.montoPagos=i;const d=-1*(n-o+i-a);e.diferencia=d}const L=["Minicarga","Tigo Money","Maxicarga","Billetera Personal","Recarga Claro","Billetera Claro"].map((e=>z.get(e)||{servicio:e,montoInicial:0,montoFinal:0,montoMovimiento:0,montoPagos:0,diferencia:0,pagosDesdeCaja:0,pagosServiciosPendientes:0,pagosConComision:0})),B=T.PYG||0,F=B+(T.BRL||0)*v+(T.USD||0)*x,_=L.reduce(((e,t)=>e+(t.montoMovimiento||0)),0),U=Number(null===(u=O.aquiPago)||void 0===u?void 0:u.pagos)||0,W=Number(null===(p=O.aquiPago)||void 0===p?void 0:p.retiros)||0,V=Number(null===(h=O.wepaGuaranies)||void 0===h?void 0:h.pagos)||0,G=Number(null===(f=O.wepaGuaranies)||void 0===f?void 0:f.retiros)||0,H=(Number(null===(m=O.wepaDolares)||void 0===m?void 0:m.pagos)||0)*x,q=(Number(null===(g=O.wepaDolares)||void 0===g?void 0:g.retiros)||0)*x,Y=P.filter((e=>{var t;return"efectivo"===e.servicio.toLowerCase()&&"PENDIENTE"===(null===(t=e.estado)||void 0===t?void 0:t.toUpperCase())})),K=Y.filter((e=>"PYG"===e.moneda)).reduce(((e,t)=>e+(Number(t.monto)||0)),0),X=K+Y.filter((e=>"BRL"===e.moneda)).reduce(((e,t)=>e+(Number(t.monto)||0)),0)*v+Y.filter((e=>"USD"===e.moneda)).reduce(((e,t)=>e+(Number(t.monto)||0)),0)*x,Q=D.reduce(((e,t)=>e+(Number(t.montoPYG)||0)),0),J=D.reduce(((e,t)=>e+(Number(t.montoBRL)||0)),0)*v,Z=D.reduce(((e,t)=>e+(Number(t.montoUSD)||0)),0)*x,ee=I.reduce(((e,t)=>e+(Number(t.monto)||0)),0),te=M.reduce(((e,t)=>e+(Number(t.monto)||0)),0),re=R.PYG||0,ne=(R.BRL||0)*v,oe=-1*(F+_+U-W+V-G+H-q+X-Q-J-Z-ee-te-(re+ne+(R.USD||0)*x));return console.log("C\xe1lculo REAL finalizado:",{diferenciaTotalCalculada:oe,diferenciasServiciosFinal:L}),{diferenciaTotal:oe,diferenciasServicios:L,cotizacionUsada:e}}catch(o){var v;throw console.error(`Error calculando detalle COMPLETO para caja ${t}:`,o),ed.isAxiosError(o)&&console.error("Detalle error Axios:",(null===(v=o.response)||void 0===v?void 0:v.data)||o.message),new Error(`Error al calcular diferencias detalladas para la caja ${e.cajaEnteroId}.`)}})(t);console.log(`C\xe1lculo detallado completado para ${e}:`,r),C((t=>({...t,[e]:{cargando:!1,error:null,detalle:r}})))}catch(n){console.error(`Error en c\xe1lculo detallado para ${e}:`,n),C((t=>({...t,[e]:{cargando:!1,error:n.message||"Error desconocido al calcular detalle",detalle:null}})))}}}),[j,c,S]);return(0,Ve.jsxs)($t,{elevation:2,sx:{p:2},children:[(0,Ve.jsxs)($r,{variant:"h6",gutterBottom:!0,children:["Diferencia en Cajas",(0,Ve.jsx)(Qo,{title:"Compara el saldo declarado al cierre con el saldo calculado por el sistema para esa misma caja.",children:(0,Ve.jsx)(qP.A,{sx:{fontSize:16,verticalAlign:"middle",ml:.5,color:"text.secondary"}})})]}),(0,Ve.jsxs)($h,{container:!0,spacing:2,sx:{mb:3},children:[(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,md:2,children:(0,Ve.jsx)(jp,{label:"Fecha Apertura",type:"date",value:u,onChange:e=>{p(e.target.value)},InputLabelProps:{shrink:!0},fullWidth:!0,size:"small"})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,md:3,children:(0,Ve.jsx)(jp,{label:"Sucursal",value:h,onChange:e=>{f(e.target.value)},fullWidth:!0,size:"small"})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,md:2,children:(0,Ve.jsx)(jp,{label:"Malet\xedn ID",value:m,onChange:e=>{g(e.target.value)},fullWidth:!0,size:"small"})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,md:2,children:(0,Ve.jsx)(jp,{label:"Caja Nro",type:"number",value:v,onChange:e=>{x(e.target.value)},fullWidth:!0,size:"small"})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,md:3,children:(0,Ve.jsxs)(lu,{fullWidth:!0,size:"small",children:[(0,Ve.jsx)(ou,{children:"Estado Diferencia"}),(0,Ve.jsxs)(gp,{value:b,label:"Estado Diferencia",onChange:e=>{y(e.target.value)},children:[(0,Ve.jsx)(_h,{value:"todos",children:"Todos"}),(0,Ve.jsx)(_h,{value:"con",children:"Con Diferencia"}),(0,Ve.jsx)(_h,{value:"sin",children:"Sin Diferencia"})]})]})})]}),r&&(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",my:3},children:(0,Ve.jsx)(KS,{})}),o&&(0,Ve.jsx)(Ah,{severity:"error",sx:{my:2},children:o}),!r&&!o&&(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)(Dp,{children:(0,Ve.jsxs)(zp,{stickyHeader:!0,size:"small","aria-label":"tabla-diferencias-en-caja",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Fecha Apertura"}),(0,Ve.jsx)(th,{children:"Sucursal"}),(0,Ve.jsx)(th,{children:"Malet\xedn"}),(0,Ve.jsx)(th,{align:"right",children:"Caja Nro"}),(0,Ve.jsx)(th,{align:"center",children:"Estado"})]})}),(0,Ve.jsx)(sh,{children:0!==c.length||r?c.slice(A*k,A*k+k).map((e=>{var t,r,n,o,i;const s=e.id,l=j===s,c=S[s],d=null===c||void 0===c?void 0:c.detalle,u=d?d.diferenciaTotal:e.initialDiferenciaTotal;let p,h;const f=null!==(t=null===d||void 0===d||null===(r=d.diferenciasServicios)||void 0===r?void 0:r.some((e=>0!==e.diferencia)))&&void 0!==t&&t;0===u?(p="Sin Diferencia",h="success"):Math.abs(u)>1e4||d&&f?(p="Con Diferencia",h="error"):(p="+- Diferencia",h="warning");const m=0!==u;return(0,Ve.jsxs)(a.Fragment,{children:[(0,Ve.jsxs)(Xp,{hover:!0,onClick:()=>I(s),sx:{cursor:"pointer",backgroundColor:m?"rgba(255, 0, 0, 0.05)":"inherit","&:hover":{backgroundColor:m?"rgba(255, 0, 0, 0.1)":"action.hover"}},children:[(0,Ve.jsx)(th,{children:e.fechaApertura?uy(nw(e.fechaApertura),"dd/MM/yyyy HH:mm",{locale:Cw}):"-"}),(0,Ve.jsx)(th,{children:e.sucursalNombre||"-"}),(0,Ve.jsx)(th,{children:null!==(n=e.maletinId)&&void 0!==n?n:"-"}),(0,Ve.jsx)(th,{align:"right",children:e.cajaEnteroId}),(0,Ve.jsx)(th,{align:"center",children:(0,Ve.jsx)(Pg,{label:p,color:h,size:"small",variant:"outlined"})})]}),(0,Ve.jsx)(Xp,{children:(0,Ve.jsx)(th,{style:{paddingBottom:0,paddingTop:0},colSpan:5,children:(0,Ve.jsx)(Si,{in:l,timeout:"auto",unmountOnExit:!0,children:(0,Ve.jsxs)($t,{variant:"outlined",sx:{m:1,borderRadius:2,overflow:"hidden",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,Ve.jsx)(Et,{sx:{bgcolor:"#4caf50",p:.5,color:"white"},children:(0,Ve.jsxs)($r,{variant:"subtitle1",fontWeight:"bold",align:"center",children:["Detalle de Diferencias (Caja ",e.cajaEnteroId,")"]})}),(0,Ve.jsx)(Dp,{children:(0,Ve.jsxs)(zp,{size:"small",padding:"none",sx:{"& .MuiTableCell-root":{fontSize:"0.8rem"}},children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{sx:{backgroundColor:"#333",color:"white"},children:[(0,Ve.jsx)(th,{sx:{color:"white",py:.3,px:.6},children:(0,Ve.jsx)("strong",{children:"Tipo"})}),(0,Ve.jsx)(th,{align:"right",sx:{color:"white",py:.3,px:.6},children:(0,Ve.jsx)("strong",{children:"Diferencia Total (PYG)"})})]})}),(0,Ve.jsx)(sh,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{sx:{py:.3,px:.6},children:(0,Ve.jsx)("strong",{children:"Diferencia Total"})}),(0,Ve.jsx)(th,{align:"right",sx:{py:.3,px:.6},children:null!==c&&void 0!==c&&c.cargando?(0,Ve.jsx)(KS,{size:16}):null!==c&&void 0!==c&&c.error?(0,Ve.jsx)(Qo,{title:c.error,children:(0,Ve.jsxs)($r,{color:"error",sx:{fontSize:"0.8rem",display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[c.error.includes("Faltan saldos iniciales o finales")?"Error: Faltan datos cierre":"Error C\xe1lculo",(0,Ve.jsx)(YP.A,{fontSize:"inherit",sx:{ml:.5}})]})}):null!==c&&void 0!==c&&c.detalle?(0,Ve.jsx)(Qo,{title:`Cotizaci\xf3n usada - USD: ${cO((null===(o=c.detalle.cotizacionUsada)||void 0===o?void 0:o.valorDolar)||0)} | BRL: ${cO((null===(i=c.detalle.cotizacionUsada)||void 0===i?void 0:i.valorReal)||0)}`,children:(0,Ve.jsx)($r,{color:0!==c.detalle.diferenciaTotal?"error.main":"success.main",fontWeight:"bold",sx:{fontSize:"0.8rem"},children:cO(c.detalle.diferenciaTotal)+" Gs"})}):(0,Ve.jsx)($r,{sx:{fontSize:"0.8rem",fontStyle:"italic"},children:"-"})})]})})]})}),(0,Ve.jsx)(Et,{sx:{bgcolor:"#4caf50",p:.3,color:"white",mt:.5},children:(0,Ve.jsx)($r,{variant:"body2",fontWeight:"bold",align:"center",sx:{fontSize:"0.8rem"},children:"Diferencias en Servicios (PYG)"})}),null!==c&&void 0!==c&&c.cargando?(0,Ve.jsx)(Et,{sx:{p:2,textAlign:"center"},children:(0,Ve.jsx)(KS,{size:24})}):null!==c&&void 0!==c&&c.error?(0,Ve.jsx)(Et,{sx:{p:1,textAlign:"center"},children:(0,Ve.jsx)(Qo,{title:c.error,children:(0,Ve.jsx)($r,{color:"error",sx:{fontSize:"0.8rem"},children:c.error.includes("Faltan saldos iniciales o finales")?"Error: Faltan datos de cierre en API.":"Error al calcular detalle de servicios."})})}):null!==c&&void 0!==c&&c.detalle&&c.detalle.diferenciasServicios.length>0?(0,Ve.jsx)(Dp,{children:(0,Ve.jsxs)(zp,{size:"small",padding:"none",sx:{"& .MuiTableCell-root":{fontSize:"0.8rem"}},children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{sx:{backgroundColor:"#333",color:"white"},children:[(0,Ve.jsx)(th,{sx:{color:"white",py:.3,px:.6},children:(0,Ve.jsx)("strong",{children:"Servicio"})}),(0,Ve.jsx)(th,{align:"right",sx:{color:"white",py:.3,px:.6},children:(0,Ve.jsx)("strong",{children:"Diferencia"})})]})}),(0,Ve.jsx)(sh,{children:c.detalle.diferenciasServicios.map(((e,t)=>(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{sx:{py:.3,px:.6},children:e.servicio}),(0,Ve.jsx)(th,{align:"right",sx:{py:.3,px:.6},children:(0,Ve.jsx)($r,{color:0!==e.diferencia?"error.main":"success.main",fontWeight:"bold",sx:{fontSize:"0.8rem"},children:cO(e.diferencia)+" Gs"})})]},`servicio-diferencia-${t}`)))})]})}):(0,Ve.jsx)(Et,{sx:{p:1,textAlign:"center"},children:(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.8rem"},children:null!==c&&void 0!==c&&c.detalle?"No se encontraron diferencias en servicios.":"-"})})]})})})})]},s)})):(0,Ve.jsx)(Xp,{children:(0,Ve.jsx)(th,{colSpan:5,align:"center",children:"No se encontraron resultados con los filtros aplicados."})})})]})}),(0,Ve.jsx)(DE,{rowsPerPageOptions:[5,10,25],component:"div",count:c.length,rowsPerPage:k,page:A,onPageChange:(e,t)=>{E(t)},onRowsPerPageChange:e=>{O(parseInt(e.target.value,10)),E(0)},labelRowsPerPage:"Filas por p\xe1gina:"})]})]})},JP=()=>{const[e,t]=(0,a.useState)(""),[r,n]=(0,a.useState)("");return(0,Ve.jsxs)(Et,{sx:{flexGrow:1,p:2},children:[(0,Ve.jsx)(pt,{styles:{"*::-webkit-scrollbar":{width:"12px",height:"12px"},"*::-webkit-scrollbar-track":{backgroundColor:"#121212"},"*::-webkit-scrollbar-thumb":{backgroundColor:"#333",borderRadius:"6px","&:hover":{backgroundColor:"#444"}},html:{scrollbarColor:"#333 #121212",scrollbarWidth:"thin"},body:{scrollbarColor:"#333 #121212",scrollbarWidth:"thin"}}}),(0,Ve.jsx)($r,{variant:"h5",gutterBottom:!0,sx:{mb:1},children:"An\xe1lisis de Diferencias"}),(0,Ve.jsx)(Et,{sx:{mb:3,p:2,border:"1px solid",borderColor:"divider",borderRadius:1},children:(0,Ve.jsxs)(oS,{direction:"row",spacing:2,alignItems:"center",children:[(0,Ve.jsx)(jp,{label:"Caja Nro (Global)",variant:"outlined",size:"small",type:"number",value:e,onChange:e=>t(e.target.value),sx:{maxWidth:150}}),(0,Ve.jsx)(fs,{variant:"contained",onClick:()=>{n(e)},children:"Filtrar"}),(0,Ve.jsx)(fs,{variant:"outlined",onClick:()=>{t(""),n("")},children:"Limpiar"})]})}),(0,Ve.jsxs)($h,{container:!0,spacing:3,alignItems:"flex-start",children:[(0,Ve.jsx)($h,{item:!0,xs:12,md:4,children:(0,Ve.jsx)(VP,{propGlobalCajaFilter:r})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:4,children:(0,Ve.jsx)(HP,{propGlobalCajaFilter:r})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:4,children:(0,Ve.jsx)(QP,{propGlobalCajaFilter:r})})]})]})},ZP=(0,ms.A)((0,Ve.jsx)("path",{d:"m1 9 2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9m8 8 3 3 3-3c-1.65-1.66-4.34-1.66-6 0m-4-4 2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13"}),"Wifi"),eI=(0,ms.A)((0,Ve.jsx)("path",{d:"M22.99 9C19.15 5.16 13.8 3.76 8.84 4.78l2.52 2.52c3.47-.17 6.99 1.05 9.63 3.7zm-4 4c-1.29-1.29-2.84-2.13-4.49-2.56l3.53 3.53zM2 3.05 5.07 6.1C3.6 6.82 2.22 7.78 1 9l1.99 2c1.24-1.24 2.67-2.16 4.2-2.77l2.24 2.24C7.81 10.89 6.27 11.73 5 13v.01L6.99 15c1.36-1.36 3.14-2.04 4.92-2.06L18.98 20l1.27-1.26L3.29 1.79zM9 17l3 3 3-3c-1.65-1.66-4.34-1.66-6 0"}),"WifiOff"),tI=(0,a.createContext)({isOnline:!1,lastChecked:null,checkServerStatus:async()=>{}}),rI=e=>{let{children:t,checkInterval:r=6e4}=e;const[n,o]=(0,a.useState)(!1),[i,s]=(0,a.useState)(null),l=async()=>{try{await ed.get("/api/health",{timeout:5e3}),o(!0)}catch(e){o(!1)}s(new Date)};return(0,a.useEffect)((()=>{l();const e=setInterval(l,r);return()=>clearInterval(e)}),[r]),(0,Ve.jsx)(tI.Provider,{value:{isOnline:n,lastChecked:i,checkServerStatus:l},children:t})},nI=()=>{const{isOnline:e,lastChecked:t,checkServerStatus:r}=(0,a.useContext)(tI),n=gt(),o=t?t.toLocaleTimeString("es-PY",{hour:"2-digit",minute:"2-digit"}):"--:--";return(0,Ve.jsx)(Qo,{title:(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsxs)($r,{variant:"body2",children:["Estado del servidor: ",e?"Conectado":"Desconectado"]}),(0,Ve.jsxs)($r,{variant:"caption",children:["\xdaltima verificaci\xf3n: ",o]}),(0,Ve.jsx)($r,{variant:"caption",display:"block",children:"Haga clic para verificar nuevamente"})]}),arrow:!0,children:(0,Ve.jsxs)(Et,{onClick:()=>r(),sx:{display:"flex",alignItems:"center",cursor:"pointer",borderRadius:1,px:1,py:.5,mr:1},children:[e?(0,Ve.jsx)(ZP,{fontSize:"small",sx:{color:n.palette.success.main,mr:.5}}):(0,Ve.jsx)(eI,{fontSize:"small",sx:{color:n.palette.error.main,mr:.5}}),(0,Ve.jsx)($r,{variant:"body2",component:"span",sx:{color:e?n.palette.success.main:n.palette.error.main,fontWeight:"medium"},children:e?"Servidor online":"Servidor offline"})]})})};function oI(e){return(0,Mt.Ay)("MuiCardActions",e)}(0,St.A)("MuiCardActions",["root","spacing"]);const aI=["disableSpacing","className"],iI=(0,Ot.Ay)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disableSpacing&&t.spacing]}})((e=>{let{ownerState:t}=e;return(0,Be.A)({display:"flex",alignItems:"center",padding:8},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})})),sI=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiCardActions"}),{disableSpacing:n=!1,className:o}=r,a=(0,Fe.A)(r,aI),i=(0,Be.A)({},r,{disableSpacing:n}),s=(e=>{const{classes:t,disableSpacing:r}=e,n={root:["root",!r&&"spacing"]};return(0,kt.A)(n,oI,t)})(i);return(0,Ve.jsx)(iI,(0,Be.A)({className:(0,vt.A)(s.root,o),ownerState:i,ref:t},a))}));var lI=r(4533),cI=r(2177),dI=r(5311);const uI=()=>(0,Ve.jsxs)(Et,{sx:{p:3},children:[(0,Ve.jsx)($r,{variant:"h4",gutterBottom:!0,sx:{mb:3},children:"Saldos Monetarios"}),(0,Ve.jsxs)($h,{container:!0,spacing:3,children:[(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,md:4,children:(0,Ve.jsxs)(jk,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,Ve.jsxs)(Ak,{sx:{flexGrow:1,display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},children:[(0,Ve.jsx)(lI.A,{sx:{fontSize:60,mb:2,color:"primary.main"}}),(0,Ve.jsx)($r,{variant:"h5",component:"div",gutterBottom:!0,children:"Balance con Farmacia"}),(0,Ve.jsx)($r,{variant:"body1",color:"text.secondary",children:"Gestione los saldos y movimientos entre la empresa y farmacia."})]}),(0,Ve.jsx)(sI,{sx:{justifyContent:"center",pb:2},children:(0,Ve.jsx)(fs,{variant:"contained",component:Te,to:"/dashboard/saldos-monetarios/balance-farmacia",size:"large",children:"Acceder"})})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,md:4,children:(0,Ve.jsxs)(jk,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,Ve.jsxs)(Ak,{sx:{flexGrow:1,display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},children:[(0,Ve.jsx)(cI.A,{sx:{fontSize:60,mb:2,color:"primary.main"}}),(0,Ve.jsx)($r,{variant:"h5",component:"div",gutterBottom:!0,children:"Balance con Personas"}),(0,Ve.jsx)($r,{variant:"body1",color:"text.secondary",children:"Gestione los saldos y movimientos de dinero entre la empresa y personas."})]}),(0,Ve.jsx)(sI,{sx:{justifyContent:"center",pb:2},children:(0,Ve.jsx)(fs,{variant:"contained",component:Te,to:"/dashboard/saldos-monetarios/balance-personas",size:"large",children:"Acceder"})})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,md:4,children:(0,Ve.jsxs)(jk,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,Ve.jsxs)(Ak,{sx:{flexGrow:1,display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},children:[(0,Ve.jsx)(dI.A,{sx:{fontSize:60,mb:2,color:"primary.main"}}),(0,Ve.jsx)($r,{variant:"h5",component:"div",gutterBottom:!0,children:"Aqui Pago"}),(0,Ve.jsx)($r,{variant:"body1",color:"text.secondary",children:"Administre los pagos y servicios de Aqui Pago."})]}),(0,Ve.jsx)(sI,{sx:{justifyContent:"center",pb:2},children:(0,Ve.jsx)(fs,{variant:"contained",component:Te,to:"/dashboard/saldos-monetarios/aqui-pago",size:"large",children:"Acceder"})})]})})]})]});var pI=r(7260);const hI="http://localhost:3000/api",fI=(e,t)=>{if(null==e||""===e)return"-";const r="string"===typeof e?parseFloat(e):e;if(isNaN(r))return"-";const n=Math.abs(r);return"PYG"===t?new Intl.NumberFormat("de-DE").format(n):"USD"===t?new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(n):n.toString()},mI=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(0),[o,i]=(0,a.useState)("0"),[s,l]=(0,a.useState)("0"),[c,d]=(0,a.useState)("0"),[u,p]=(0,a.useState)(!0),[h,f]=(0,a.useState)(null),[m,g]=(0,a.useState)(0),[v,x]=(0,a.useState)(5),[b,y]=(0,a.useState)(""),[j,w]=(0,a.useState)(""),[S,C]=(0,a.useState)(""),[A,E]=(0,a.useState)([]),k=(0,a.useCallback)((async()=>{p(!0),f(null);try{const e=""!==S.trim()?S:void 0;console.log("Filtrando por tipo movimiento:",e);const r={page:m+1,limit:v,fechaDesde:b||void 0,fechaHasta:j||void 0,tipoMovimiento:e};console.log("Par\xe1metros enviados a la API:",r);const o=await ed.get(`${hI}/movimientos-farmacia`,{params:r}),a=o.data.data||[];console.log("Datos recibidos:",a),t(a),n(o.data.totalCount||0);const s=await ed.get(`${hI}/movimientos-farmacia`,{params:{...r,monedaCodigo:"PYG",soloTotal:!0}});if(i(s.data.totalBalancePYG||o.data.totalBalancePYG||"0"),l(o.data.totalBalanceUSD||"0"),d(o.data.totalBalanceBRL||"0"),a.length>0){const e=Array.from(new Set(a.map((e=>e.movimientoOrigenTipo||e.tipoMovimiento)))).filter(Boolean);e.sort(),E(e)}}catch(o){var e,r;console.error("Error al buscar movimientos de farmacia:",o),f((null===(e=o.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.message)||o.message||"Error al cargar los datos"),t([]),n(0),i("0"),l("0"),d("0")}finally{p(!1)}}),[m,v,b,j,S]);(0,a.useEffect)((()=>{k()}),[k]);return(0,Ve.jsxs)(Et,{children:[(0,Ve.jsx)(Et,{sx:{mb:2,p:2,border:"1px solid",borderColor:"divider",borderRadius:1},children:(0,Ve.jsxs)($h,{container:!0,spacing:2,children:[(0,Ve.jsx)($h,{item:!0,xs:12,md:4,children:(()=>{const e=parseFloat(o);let t="Balance Gs";return isNaN(e)||(e>0?t="Debemos a Farmacia Gs":e<0&&(t="Farmacia nos debe Gs")),(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,children:t}),(0,Ve.jsxs)($r,{variant:"body1",children:[fI(o,"PYG")," Gs"]})]})})()}),(0,Ve.jsx)($h,{item:!0,xs:12,md:4,children:(()=>{const e=parseFloat(s);let t="Balance $";return isNaN(e)||(e>0?t="Debemos a Farmacia $":e<0&&(t="Farmacia nos debe $")),(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,children:t}),(0,Ve.jsxs)($r,{variant:"body1",children:[fI(s,"USD")," $"]})]})})()}),(0,Ve.jsx)($h,{item:!0,xs:12,md:4,children:(()=>{const e=parseFloat(c);let t="Balance R$";return isNaN(e)||(e>0?t="Debemos a Farmacia R$":e<0&&(t="Farmacia nos debe R$")),(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,children:t}),(0,Ve.jsxs)($r,{variant:"body1",children:[fI(c,"BRL")," R$"]})]})})()})]})}),(0,Ve.jsx)(Et,{sx:{mb:2},children:(0,Ve.jsxs)($h,{container:!0,spacing:2,alignItems:"center",children:[(0,Ve.jsx)($h,{item:!0,xs:12,sm:4,children:(0,Ve.jsx)(jp,{label:"Fecha Desde",type:"date",size:"small",value:b,onChange:e=>{y(e.target.value),g(0)},InputLabelProps:{shrink:!0},fullWidth:!0})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:4,children:(0,Ve.jsx)(jp,{label:"Fecha Hasta",type:"date",size:"small",value:j,onChange:e=>{w(e.target.value),g(0)},InputLabelProps:{shrink:!0},fullWidth:!0})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:4,children:(0,Ve.jsxs)(lu,{fullWidth:!0,size:"small",children:[(0,Ve.jsx)(ou,{children:"Tipo Movimiento"}),(0,Ve.jsxs)(gp,{value:S,label:"Tipo Movimiento",onChange:e=>{console.log("Tipo Movimiento seleccionado:",e.target.value),C(e.target.value),g(0)},MenuProps:{PaperProps:{style:{maxHeight:300}}},children:[(0,Ve.jsx)(_h,{value:"",children:(0,Ve.jsx)("em",{children:"Todos"})}),A.map((e=>(0,Ve.jsx)(_h,{value:e,children:e},e)))]})]})})]})}),h&&(0,Ve.jsx)(Ah,{severity:"error",sx:{mb:2},children:h}),(0,Ve.jsx)(Dp,{component:$t,variant:"outlined",children:(0,Ve.jsxs)(zp,{size:"small",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Fecha"}),(0,Ve.jsx)(th,{children:"Tipo Movimiento"}),(0,Ve.jsx)(th,{children:"Concepto"}),(0,Ve.jsx)(th,{align:"center",children:"Detalle"}),(0,Ve.jsx)(th,{align:"right",children:"Entrada"}),(0,Ve.jsx)(th,{align:"right",children:"Salida"}),(0,Ve.jsx)(th,{children:"Mon"})]})}),(0,Ve.jsx)(sh,{children:u?(0,Ve.jsx)(Xp,{children:(0,Ve.jsx)(th,{colSpan:7,align:"center",children:(0,Ve.jsx)(KS,{size:24,sx:{my:2}})})}):e.length>0?e.map((e=>{const t=parseFloat(e.monto),r=!isNaN(t)&&t>0,n=!isNaN(t)&&t<0;return(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:new Date(e.fechaHora).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})}),(0,Ve.jsx)(th,{children:e.movimientoOrigenTipo||e.tipoMovimiento}),(0,Ve.jsx)(th,{children:e.concepto}),(0,Ve.jsx)(th,{align:"center",children:(e.detalleAdicional||e.movimientoOrigenId)&&(0,Ve.jsx)(Qo,{title:e.detalleAdicional||`Origen: ${e.movimientoOrigenTipo} ID: ${e.movimientoOrigenId}`,arrow:!0,children:(0,Ve.jsx)(Ir,{size:"small",children:(0,Ve.jsx)(pI.A,{fontSize:"inherit"})})})}),(0,Ve.jsx)(th,{align:"right",children:r?fI(t,e.monedaCodigo):"-"}),(0,Ve.jsx)(th,{align:"right",children:n?fI(t,e.monedaCodigo):"-"}),(0,Ve.jsx)(th,{children:(o=e.monedaCodigo,"PYG"===o?"Gs":"USD"===o?"$":"BRL"===o?"R$":"")})]},e.id);var o})):(0,Ve.jsx)(Xp,{children:(0,Ve.jsx)(th,{colSpan:7,align:"center",children:"No hay movimientos que coincidan con los filtros."})})})]})}),(0,Ve.jsx)(DE,{rowsPerPageOptions:[5,10,25,50],component:"div",count:r,rowsPerPage:v,page:m,onPageChange:(e,t)=>{g(t)},onRowsPerPageChange:e=>{x(parseInt(e.target.value,10)),g(0)},labelRowsPerPage:"Filas por p\xe1gina:",labelDisplayedRows:e=>{let{from:t,to:r,count:n}=e;return`${t}-${r} de ${-1!==n?n:`m\xe1s de ${r}`}`}})]})},gI=()=>(0,Ve.jsxs)(Et,{sx:{p:3},children:[(0,Ve.jsx)(pt,{styles:{"*::-webkit-scrollbar":{width:"12px",height:"12px"},"*::-webkit-scrollbar-track":{backgroundColor:"#121212"},"*::-webkit-scrollbar-thumb":{backgroundColor:"#333",borderRadius:"6px","&:hover":{backgroundColor:"#444"}},html:{scrollbarColor:"#333 #121212",scrollbarWidth:"thin"},body:{scrollbarColor:"#333 #121212",scrollbarWidth:"thin"}}}),(0,Ve.jsx)($r,{variant:"h4",gutterBottom:!0,sx:{mb:3},children:"Balance con Farmacia"}),(0,Ve.jsx)($t,{sx:{p:2},children:(0,Ve.jsx)(mI,{})})]});function vI(e){return(0,Mt.Ay)("MuiToggleButtonGroup",e)}const xI=(0,St.A)("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]);const bI=a.createContext({});const yI=a.createContext(void 0);function jI(e){return(0,Mt.Ay)("MuiToggleButton",e)}const wI=(0,St.A)("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),SI=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],CI=(0,Ot.Ay)("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${xI.grouped}`]:t.grouped},{[`& .${xI.grouped}`]:t[`grouped${(0,Pt.A)(r.orientation)}`]},{[`& .${xI.firstButton}`]:t.firstButton},{[`& .${xI.lastButton}`]:t.lastButton},{[`& .${xI.middleButton}`]:t.middleButton},t.root,"vertical"===r.orientation&&t.vertical,r.fullWidth&&t.fullWidth]}})((e=>{let{ownerState:t,theme:r}=e;return(0,Be.A)({display:"inline-flex",borderRadius:(r.vars||r).shape.borderRadius},"vertical"===t.orientation&&{flexDirection:"column"},t.fullWidth&&{width:"100%"},{[`& .${xI.grouped}`]:(0,Be.A)({},"horizontal"===t.orientation?{[`&.${xI.selected} + .${xI.grouped}.${xI.selected}`]:{borderLeft:0,marginLeft:0}}:{[`&.${xI.selected} + .${xI.grouped}.${xI.selected}`]:{borderTop:0,marginTop:0}})},"horizontal"===t.orientation?{[`& .${xI.firstButton},& .${xI.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${xI.lastButton},& .${xI.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0}}:{[`& .${xI.firstButton},& .${xI.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${xI.lastButton},& .${xI.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0}},"horizontal"===t.orientation?{[`& .${xI.lastButton}.${wI.disabled},& .${xI.middleButton}.${wI.disabled}`]:{borderLeft:"1px solid transparent"}}:{[`& .${xI.lastButton}.${wI.disabled},& .${xI.middleButton}.${wI.disabled}`]:{borderTop:"1px solid transparent"}})})),AI=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiToggleButtonGroup"}),{children:n,className:o,color:i="standard",disabled:s=!1,exclusive:l=!1,fullWidth:c=!1,onChange:d,orientation:u="horizontal",size:p="medium",value:h}=r,f=(0,Fe.A)(r,SI),m=(0,Be.A)({},r,{disabled:s,fullWidth:c,orientation:u,size:p}),g=(e=>{const{classes:t,orientation:r,fullWidth:n,disabled:o}=e,a={root:["root","vertical"===r&&"vertical",n&&"fullWidth"],grouped:["grouped",`grouped${(0,Pt.A)(r)}`,o&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return(0,kt.A)(a,vI,t)})(m),v=a.useCallback(((e,t)=>{if(!d)return;const r=h&&h.indexOf(t);let n;h&&r>=0?(n=h.slice(),n.splice(r,1)):n=h?h.concat(t):[t],d(e,n)}),[d,h]),x=a.useCallback(((e,t)=>{d&&d(e,h===t?null:t)}),[d,h]),b=a.useMemo((()=>({className:g.grouped,onChange:l?x:v,value:h,size:p,fullWidth:c,color:i,disabled:s})),[g.grouped,l,x,v,h,p,c,i,s]),y=aC(n),j=y.length,w=e=>{const t=0===e,r=e===j-1;return t&&r?"":t?g.firstButton:r?g.lastButton:g.middleButton};return(0,Ve.jsx)(CI,(0,Be.A)({role:"group",className:(0,vt.A)(g.root,o),ref:t,ownerState:m},f,{children:(0,Ve.jsx)(bI.Provider,{value:b,children:y.map(((e,t)=>(0,Ve.jsx)(yI.Provider,{value:w(t),children:e},t)))})}))}));function EI(e,t){return void 0!==t&&void 0!==e&&(Array.isArray(t)?t.indexOf(e)>=0:e===t)}const kI=["value"],OI=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],PI=(0,Ot.Ay)(Ar,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`size${(0,Pt.A)(r.size)}`]]}})((e=>{let t,{theme:r,ownerState:n}=e,o="standard"===n.color?r.palette.text.primary:r.palette[n.color].main;return r.vars&&(o="standard"===n.color?r.vars.palette.text.primary:r.vars.palette[n.color].main,t="standard"===n.color?r.vars.palette.text.primaryChannel:r.vars.palette[n.color].mainChannel),(0,Be.A)({},r.typography.button,{borderRadius:(r.vars||r).shape.borderRadius,padding:11,border:`1px solid ${(r.vars||r).palette.divider}`,color:(r.vars||r).palette.action.active},n.fullWidth&&{width:"100%"},{[`&.${wI.disabled}`]:{color:(r.vars||r).palette.action.disabled,border:`1px solid ${(r.vars||r).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:r.vars?`rgba(${r.vars.palette.text.primaryChannel} / ${r.vars.palette.action.hoverOpacity})`:xv(r.palette.text.primary,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${wI.selected}`]:{color:o,backgroundColor:r.vars?`rgba(${t} / ${r.vars.palette.action.selectedOpacity})`:xv(o,r.palette.action.selectedOpacity),"&:hover":{backgroundColor:r.vars?`rgba(${t} / calc(${r.vars.palette.action.selectedOpacity} + ${r.vars.palette.action.hoverOpacity}))`:xv(o,r.palette.action.selectedOpacity+r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:r.vars?`rgba(${t} / ${r.vars.palette.action.selectedOpacity})`:xv(o,r.palette.action.selectedOpacity)}}}},"small"===n.size&&{padding:7,fontSize:r.typography.pxToRem(13)},"large"===n.size&&{padding:15,fontSize:r.typography.pxToRem(15)})})),II=a.forwardRef((function(e,t){const r=a.useContext(bI),{value:n}=r,o=(0,Fe.A)(r,kI),i=a.useContext(yI),s=(0,os.A)((0,Be.A)({},o,{selected:EI(e.value,n)}),e),l=(0,at.b)({props:s,name:"MuiToggleButton"}),{children:c,className:d,color:u="standard",disabled:p=!1,disableFocusRipple:h=!1,fullWidth:f=!1,onChange:m,onClick:g,selected:v,size:x="medium",value:b}=l,y=(0,Fe.A)(l,OI),j=(0,Be.A)({},l,{color:u,disabled:p,disableFocusRipple:h,fullWidth:f,size:x}),w=(e=>{const{classes:t,fullWidth:r,selected:n,disabled:o,size:a,color:i}=e,s={root:["root",n&&"selected",o&&"disabled",r&&"fullWidth",`size${(0,Pt.A)(a)}`,i]};return(0,kt.A)(s,jI,t)})(j),S=i||"";return(0,Ve.jsx)(PI,(0,Be.A)({className:(0,vt.A)(o.className,w.root,d,S),disabled:p,focusRipple:!h,ref:t,onClick:e=>{g&&(g(e,b),e.defaultPrevented)||m&&m(e,b)},onChange:m,value:b,ownerState:j,"aria-pressed":v},y,{children:c}))}));var DI=r(3608),MI=r(977),TI=r(9997),RI=r(2103),NI=r(7707),$I=r(3192),zI=r(9889),LI=r.n(zI),BI=r(620),FI=r.n(BI),_I=r(5268),UI=r.n(_I),WI=r(3097),VI=r.n(WI),GI=r(9160),HI=r.n(GI),qI=function(e){return 0===e?0:e>0?1:-1},YI=function(e){return FI()(e)&&e.indexOf("%")===e.length-1},KI=function(e){return HI()(e)&&!UI()(e)},XI=function(e){return KI(e)||FI()(e)},QI=0,JI=function(e){var t=++QI;return"".concat(e||"").concat(t)},ZI=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!KI(e)&&!FI()(e))return n;if(YI(e)){var a=e.indexOf("%");r=t*parseFloat(e.slice(0,a))/100}else r=+e;return UI()(r)&&(r=n),o&&r>t&&(r=t),r},eD=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},tD=function(e,t){return KI(e)&&KI(t)?function(r){return e+r*(t-e)}:function(){return t}};function rD(e,t,r){return e&&e.length?e.find((function(e){return e&&("function"===typeof t?t(e):VI()(e,t))===r})):null}var nD=function(e,t){return KI(e)&&KI(t)?e-t:FI()(e)&&FI()(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))},oD=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o]},aD=r(9686),iD=r.n(aD),sD=r(1629),lD=r.n(sD),cD=r(6686),dD=r.n(cD),uD=r(9062);function pD(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function hD(e){return hD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hD(e)}var fD=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],mD=["points","pathLength"],gD={svg:["viewBox","children"],polygon:mD,polyline:mD},vD=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],xD=function(e,t){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,a.isValidElement)(e)&&(r=e.props),!dD()(r))return null;var n={};return Object.keys(r).forEach((function(e){vD.includes(e)&&(n[e]=t||function(t){return r[e](r,t)})})),n},bD=function(e,t,r){if(!dD()(e)||"object"!==hD(e))return null;var n=null;return Object.keys(e).forEach((function(o){var a=e[o];vD.includes(o)&&"function"===typeof a&&(n||(n={}),n[o]=function(e,t,r){return function(n){return e(t,r,n),null}}(a,t,r))})),n},yD=["children"],jD=["children"];function wD(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function SD(e){return SD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SD(e)}var CD={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},AD=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},ED=null,kD=null,OD=function e(t){if(t===ED&&Array.isArray(kD))return kD;var r=[];return a.Children.forEach(t,(function(t){iD()(t)||((0,uD.isFragment)(t)?r=r.concat(e(t.props.children)):r.push(t))})),kD=r,ED=t,r};function PD(e,t){var r=[],n=[];return n=Array.isArray(t)?t.map((function(e){return AD(e)})):[AD(t)],OD(e).forEach((function(e){var t=VI()(e,"type.displayName")||VI()(e,"type.name");-1!==n.indexOf(t)&&r.push(e)})),r}function ID(e,t){var r=PD(e,t);return r&&r[0]}var DD=function(e){if(!e||!e.props)return!1;var t=e.props,r=t.width,n=t.height;return!(!KI(r)||r<=0||!KI(n)||n<=0)},MD=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],TD=function(e){return e&&e.type&&FI()(e.type)&&MD.indexOf(e.type)>=0},RD=function(e){return e&&"object"===SD(e)&&"clipDot"in e},ND=function(e,t,r){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,a.isValidElement)(e)&&(n=e.props),!dD()(n))return null;var o={};return Object.keys(n).forEach((function(e){var a;(function(e,t,r,n){var o,a=null!==(o=null===gD||void 0===gD?void 0:gD[n])&&void 0!==o?o:[];return t.startsWith("data-")||!lD()(e)&&(n&&a.includes(t)||fD.includes(t))||r&&vD.includes(t)})(null===(a=n)||void 0===a?void 0:a[e],e,t,r)&&(o[e]=n[e])})),o},$D=function e(t,r){if(t===r)return!0;var n=a.Children.count(t);if(n!==a.Children.count(r))return!1;if(0===n)return!0;if(1===n)return zD(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var o=0;o<n;o++){var i=t[o],s=r[o];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!zD(i,s))return!1}return!0},zD=function(e,t){if(iD()(e)&&iD()(t))return!0;if(!iD()(e)&&!iD()(t)){var r=e.props||{},n=r.children,o=wD(r,yD),a=t.props||{},i=a.children,s=wD(a,jD);return n&&i?pD(o,s)&&$D(n,i):!n&&!i&&pD(o,s)}return!1},LD=function(e,t){var r=[],n={};return OD(e).forEach((function(e,o){if(TD(e))r.push(e);else if(e){var a=AD(e.type),i=t[a]||{},s=i.handler,l=i.once;if(s&&(!l||!n[a])){var c=s(e,a,o);r.push(c),n[a]=!0}}})),r};function BD(e){return BD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BD(e)}function FD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?FD(Object(r),!0).forEach((function(t){UD(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FD(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function UD(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=BD(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=BD(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==BD(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WD(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return VD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VD(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VD(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var GD=(0,a.forwardRef)((function(e,t){var r=e.aspect,n=e.initialDimension,o=void 0===n?{width:-1,height:-1}:n,i=e.width,s=void 0===i?"100%":i,l=e.height,c=void 0===l?"100%":l,d=e.minWidth,u=void 0===d?0:d,p=e.minHeight,h=e.maxHeight,f=e.children,m=e.debounce,g=void 0===m?0:m,v=e.id,x=e.className,b=e.onResize,y=e.style,j=void 0===y?{}:y,w=(0,a.useRef)(null),S=(0,a.useRef)();S.current=b,(0,a.useImperativeHandle)(t,(function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})}));var C=WD((0,a.useState)({containerWidth:o.width,containerHeight:o.height}),2),A=C[0],E=C[1],k=(0,a.useCallback)((function(e,t){E((function(r){var n=Math.round(e),o=Math.round(t);return r.containerWidth===n&&r.containerHeight===o?r:{containerWidth:n,containerHeight:o}}))}),[]);(0,a.useEffect)((function(){var e=function(e){var t,r=e[0].contentRect,n=r.width,o=r.height;k(n,o),null===(t=S.current)||void 0===t||t.call(S,n,o)};g>0&&(e=LI()(e,g,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),r=w.current.getBoundingClientRect(),n=r.width,o=r.height;return k(n,o),t.observe(w.current),function(){t.disconnect()}}),[k,g]);var O=(0,a.useMemo)((function(){var e=A.containerWidth,t=A.containerHeight;if(e<0||t<0)return null;oD(YI(s)||YI(c),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",s,c),oD(!r||r>0,"The aspect(%s) must be greater than zero.",r);var n=YI(s)?e:s,o=YI(c)?t:c;r&&r>0&&(n?o=n/r:o&&(n=o*r),h&&o>h&&(o=h)),oD(n>0||o>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",n,o,s,c,u,p,r);var i=!Array.isArray(f)&&AD(f.type).endsWith("Chart");return a.Children.map(f,(function(e){return a.isValidElement(e)?(0,a.cloneElement)(e,_D({width:n,height:o},i?{style:_D({height:"100%",width:"100%",maxHeight:o,maxWidth:n},e.props.style)}:{})):e}))}),[r,f,c,h,p,u,A,s]);return a.createElement("div",{id:v?"".concat(v):void 0,className:(0,vt.A)("recharts-responsive-container",x),style:_D(_D({},j),{},{width:s,height:c,minWidth:u,minHeight:p,maxHeight:h}),ref:w},O)})),HD=r(6604),qD=r.n(HD),YD=r(7424),KD=r.n(YD),XD="Invariant failed";function QD(e,t){if(!e)throw new Error(XD)}var JD=["children","width","height","viewBox","className","style","title","desc"];function ZD(){return ZD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZD.apply(this,arguments)}function eM(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function tM(e){var t=e.children,r=e.width,n=e.height,o=e.viewBox,i=e.className,s=e.style,l=e.title,c=e.desc,d=eM(e,JD),u=o||{width:r,height:n,x:0,y:0},p=(0,vt.A)("recharts-surface",i);return a.createElement("svg",ZD({},ND(d,!0,"svg"),{className:p,width:r,height:n,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),a.createElement("title",null,l),a.createElement("desc",null,c),t)}var rM=["children","className"];function nM(){return nM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nM.apply(this,arguments)}function oM(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var aM=a.forwardRef((function(e,t){var r=e.children,n=e.className,o=oM(e,rM),i=(0,vt.A)("recharts-layer",n);return a.createElement("g",nM({className:i},ND(o,!0),{ref:t}),r)}));function iM(e){return iM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iM(e)}function sM(){return sM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sM.apply(this,arguments)}function lM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return cM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cM(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cM(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function uM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dM(Object(r),!0).forEach((function(t){pM(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dM(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pM(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=iM(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=iM(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==iM(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hM(e){return Array.isArray(e)&&XI(e[0])&&XI(e[1])?e.join(" ~ "):e}var fM=function(e){var t=e.separator,r=void 0===t?" : ":t,n=e.contentStyle,o=void 0===n?{}:n,i=e.itemStyle,s=void 0===i?{}:i,l=e.labelStyle,c=void 0===l?{}:l,d=e.payload,u=e.formatter,p=e.itemSorter,h=e.wrapperClassName,f=e.labelClassName,m=e.label,g=e.labelFormatter,v=e.accessibilityLayer,x=void 0!==v&&v,b=uM({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),y=uM({margin:0},c),j=!iD()(m),w=j?m:"",S=(0,vt.A)("recharts-default-tooltip",h),C=(0,vt.A)("recharts-tooltip-label",f);j&&g&&void 0!==d&&null!==d&&(w=g(m,d));var A=x?{role:"status","aria-live":"assertive"}:{};return a.createElement("div",sM({className:S,style:b},A),a.createElement("p",{className:C,style:y},a.isValidElement(w)?w:"".concat(w)),function(){if(d&&d.length){var e=(p?KD()(d,p):d).map((function(e,t){if("none"===e.type)return null;var n=uM({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},s),o=e.formatter||u||hM,i=e.value,l=e.name,c=i,p=l;if(o&&null!=c&&null!=p){var h=o(i,l,e,t,d);if(Array.isArray(h)){var f=lM(h,2);c=f[0],p=f[1]}else c=h}return a.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:n},XI(p)?a.createElement("span",{className:"recharts-tooltip-item-name"},p):null,XI(p)?a.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,a.createElement("span",{className:"recharts-tooltip-item-value"},c),a.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))}));return a.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function mM(e){return mM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mM(e)}function gM(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=mM(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=mM(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==mM(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var vM="recharts-tooltip-wrapper",xM={visibility:"hidden"};function bM(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return(0,vt.A)(vM,gM(gM(gM(gM({},"".concat(vM,"-right"),KI(r)&&t&&KI(t.x)&&r>=t.x),"".concat(vM,"-left"),KI(r)&&t&&KI(t.x)&&r<t.x),"".concat(vM,"-bottom"),KI(n)&&t&&KI(t.y)&&n>=t.y),"".concat(vM,"-top"),KI(n)&&t&&KI(t.y)&&n<t.y))}function yM(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,o=e.offsetTopLeft,a=e.position,i=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(a&&KI(a[n]))return a[n];var d=r[n]-s-o,u=r[n]+o;return t[n]?i[n]?d:u:i[n]?d<l[n]?Math.max(u,l[n]):Math.max(d,l[n]):u+s>l[n]+c?Math.max(d,l[n]):Math.max(u,l[n])}function jM(e){return jM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jM(e)}function wM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function SM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wM(Object(r),!0).forEach((function(t){PM(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wM(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function CM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IM(n.key),n)}}function AM(e,t,r){return t=kM(t),function(e,t){if(t&&("object"===jM(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,EM()?Reflect.construct(t,r||[],kM(e).constructor):t.apply(e,r))}function EM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(EM=function(){return!!e})()}function kM(e){return kM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kM(e)}function OM(e,t){return OM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},OM(e,t)}function PM(e,t,r){return(t=IM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IM(e){var t=function(e,t){if("object"!=jM(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=jM(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jM(t)?t:t+""}var DM=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return PM(e=AM(this,t,[].concat(n)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),PM(e,"handleKeyDown",(function(t){var r,n,o,a;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(r=null===(n=e.props.coordinate)||void 0===n?void 0:n.x)&&void 0!==r?r:0,y:null!==(o=null===(a=e.props.coordinate)||void 0===a?void 0:a.y)&&void 0!==o?o:0}})})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OM(e,t)}(t,e),r=t,(n=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,r=t.active,n=t.allowEscapeViewBox,o=t.animationDuration,i=t.animationEasing,s=t.children,l=t.coordinate,c=t.hasPayload,d=t.isAnimationActive,u=t.offset,p=t.position,h=t.reverseDirection,f=t.useTranslate3d,m=t.viewBox,g=t.wrapperStyle,v=function(e){var t,r,n=e.allowEscapeViewBox,o=e.coordinate,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,d=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&o?function(e){var t=e.translateX,r=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}({translateX:t=yM({allowEscapeViewBox:n,coordinate:o,key:"x",offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),translateY:r=yM({allowEscapeViewBox:n,coordinate:o,key:"y",offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:c}):xM,cssClasses:bM({translateX:t,translateY:r,coordinate:o})}}({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:u,position:p,reverseDirection:h,tooltipBox:this.state.lastBoundingBox,useTranslate3d:f,viewBox:m}),x=v.cssClasses,b=v.cssProperties,y=SM(SM({transition:d&&r?"transform ".concat(o,"ms ").concat(i):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&r&&c?"visible":"hidden",position:"absolute",top:0,left:0},g);return a.createElement("div",{tabIndex:-1,className:x,style:y,ref:function(t){e.wrapperNode=t}},s)}}])&&CM(r.prototype,n),o&&CM(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(a.PureComponent),MM={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return MM[e]},set:function(e,t){if("string"===typeof e)MM[e]=t;else{var r=Object.keys(e);r&&r.length&&r.forEach((function(t){MM[t]=e[t]}))}}},TM=r(3358),RM=r.n(TM);function NM(e,t,r){return!0===t?RM()(e,r):lD()(t)?RM()(e,t):e}function $M(e){return $M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$M(e)}function zM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function LM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zM(Object(r),!0).forEach((function(t){VM(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zM(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function BM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GM(n.key),n)}}function FM(e,t,r){return t=UM(t),function(e,t){if(t&&("object"===$M(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_M()?Reflect.construct(t,r||[],UM(e).constructor):t.apply(e,r))}function _M(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_M=function(){return!!e})()}function UM(e){return UM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},UM(e)}function WM(e,t){return WM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},WM(e,t)}function VM(e,t,r){return(t=GM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GM(e){var t=function(e,t){if("object"!=$M(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=$M(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$M(t)?t:t+""}function HM(e){return e.dataKey}var qM=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),FM(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WM(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this,t=this.props,r=t.active,n=t.allowEscapeViewBox,o=t.animationDuration,i=t.animationEasing,s=t.content,l=t.coordinate,c=t.filterNull,d=t.isAnimationActive,u=t.offset,p=t.payload,h=t.payloadUniqBy,f=t.position,m=t.reverseDirection,g=t.useTranslate3d,v=t.viewBox,x=t.wrapperStyle,b=null!==p&&void 0!==p?p:[];c&&b.length&&(b=NM(p.filter((function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)})),h,HM));var y=b.length>0;return a.createElement(DM,{allowEscapeViewBox:n,animationDuration:o,animationEasing:i,isAnimationActive:d,active:r,coordinate:l,hasPayload:y,offset:u,position:f,reverseDirection:m,useTranslate3d:g,viewBox:v,wrapperStyle:x},function(e,t){return a.isValidElement(e)?a.cloneElement(e,t):"function"===typeof e?a.createElement(e,t):a.createElement(fM,t)}(s,LM(LM({},this.props),{},{payload:b})))}}])&&BM(r.prototype,n),o&&BM(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(a.PureComponent);VM(qM,"displayName","Tooltip"),VM(qM,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!MM.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var YM=r(643),KM=r.n(YM);Math.abs,Math.atan2;const XM=Math.cos,QM=(Math.max,Math.min,Math.sin),JM=Math.sqrt,ZM=Math.PI,eT=2*ZM;const tT={draw(e,t){const r=JM(t/ZM);e.moveTo(r,0),e.arc(0,0,r,0,eT)}},rT={draw(e,t){const r=JM(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},nT=JM(1/3),oT=2*nT,aT={draw(e,t){const r=JM(t/oT),n=r*nT;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},iT={draw(e,t){const r=JM(t),n=-r/2;e.rect(n,n,r,r)}},sT=QM(ZM/10)/QM(7*ZM/10),lT=QM(eT/10)*sT,cT=-XM(eT/10)*sT,dT={draw(e,t){const r=JM(.8908130915292852*t),n=lT*r,o=cT*r;e.moveTo(0,-r),e.lineTo(n,o);for(let a=1;a<5;++a){const t=eT*a/5,i=XM(t),s=QM(t);e.lineTo(s*r,-i*r),e.lineTo(i*n-s*o,s*n+i*o)}e.closePath()}},uT=JM(3),pT={draw(e,t){const r=-JM(t/(3*uT));e.moveTo(0,2*r),e.lineTo(-uT*r,-r),e.lineTo(uT*r,-r),e.closePath()}},hT=-.5,fT=JM(3)/2,mT=1/JM(12),gT=3*(mT/2+1),vT={draw(e,t){const r=JM(t/gT),n=r/2,o=r*mT,a=n,i=r*mT+r,s=-a,l=i;e.moveTo(n,o),e.lineTo(a,i),e.lineTo(s,l),e.lineTo(hT*n-fT*o,fT*n+hT*o),e.lineTo(hT*a-fT*i,fT*a+hT*i),e.lineTo(hT*s-fT*l,fT*s+hT*l),e.lineTo(hT*n+fT*o,hT*o-fT*n),e.lineTo(hT*a+fT*i,hT*i-fT*a),e.lineTo(hT*s+fT*l,hT*l-fT*s),e.closePath()}};function xT(e){return function(){return e}}const bT=Math.PI,yT=2*bT,jT=1e-6,wT=yT-jT;function ST(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}class CT{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?ST:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ST;const r=10**t;return function(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=Math.round(arguments[t]*r)/r+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,n){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+n}`}bezierCurveTo(e,t,r,n,o,a){this._append`C${+e},${+t},${+r},${+n},${this._x1=+o},${this._y1=+a}`}arcTo(e,t,r,n,o){if(e=+e,t=+t,r=+r,n=+n,(o=+o)<0)throw new Error(`negative radius: ${o}`);let a=this._x1,i=this._y1,s=r-e,l=n-t,c=a-e,d=i-t,u=c*c+d*d;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(u>jT)if(Math.abs(d*s-l*c)>jT&&o){let p=r-a,h=n-i,f=s*s+l*l,m=p*p+h*h,g=Math.sqrt(f),v=Math.sqrt(u),x=o*Math.tan((bT-Math.acos((f+u-m)/(2*g*v)))/2),b=x/v,y=x/g;Math.abs(b-1)>jT&&this._append`L${e+b*c},${t+b*d}`,this._append`A${o},${o},0,0,${+(d*p>c*h)},${this._x1=e+y*s},${this._y1=t+y*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,r,n,o,a){if(e=+e,t=+t,a=!!a,(r=+r)<0)throw new Error(`negative radius: ${r}`);let i=r*Math.cos(n),s=r*Math.sin(n),l=e+i,c=t+s,d=1^a,u=a?n-o:o-n;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>jT||Math.abs(this._y1-c)>jT)&&this._append`L${l},${c}`,r&&(u<0&&(u=u%yT+yT),u>wT?this._append`A${r},${r},0,1,${d},${e-i},${t-s}A${r},${r},0,1,${d},${this._x1=l},${this._y1=c}`:u>jT&&this._append`A${r},${r},0,${+(u>=bT)},${d},${this._x1=e+r*Math.cos(o)},${this._y1=t+r*Math.sin(o)}`)}rect(e,t,r,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+n}h${-r}Z`}toString(){return this._}}function AT(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(null==r)t=null;else{const e=Math.floor(r);if(!(e>=0))throw new RangeError(`invalid digits: ${r}`);t=e}return e},()=>new CT(t)}JM(3),JM(3);function ET(e){return ET="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ET(e)}var kT=["type","size","sizeType"];function OT(){return OT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OT.apply(this,arguments)}function PT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function IT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?PT(Object(r),!0).forEach((function(t){DT(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PT(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function DT(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=ET(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ET(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ET(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MT(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var TT={symbolCircle:tT,symbolCross:rT,symbolDiamond:aT,symbolSquare:iT,symbolStar:dT,symbolTriangle:pT,symbolWye:vT},RT=Math.PI/180,NT=function(e){var t=e.type,r=void 0===t?"circle":t,n=e.size,o=void 0===n?64:n,i=e.sizeType,s=void 0===i?"area":i,l=IT(IT({},MT(e,kT)),{},{type:r,size:o,sizeType:s}),c=l.className,d=l.cx,u=l.cy,p=ND(l,!0);return d===+d&&u===+u&&o===+o?a.createElement("path",OT({},p,{className:(0,vt.A)("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(u,")"),d:function(){var e=function(e){var t="symbol".concat(KM()(e));return TT[t]||tT}(r),t=function(e,t){let r=null,n=AT(o);function o(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return e="function"===typeof e?e:xT(e||tT),t="function"===typeof t?t:xT(void 0===t?64:+t),o.type=function(t){return arguments.length?(e="function"===typeof t?t:xT(t),o):e},o.size=function(e){return arguments.length?(t="function"===typeof e?e:xT(+e),o):t},o.context=function(e){return arguments.length?(r=null==e?null:e,o):r},o}().type(e).size(function(e,t,r){if("area"===t)return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var n=18*RT;return 1.25*e*e*(Math.tan(n)-Math.tan(2*n)*Math.pow(Math.tan(n),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(o,s,r));return t()}()})):null};function $T(e){return $T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$T(e)}function zT(){return zT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zT.apply(this,arguments)}function LT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function BT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GT(n.key),n)}}function FT(e,t,r){return t=UT(t),function(e,t){if(t&&("object"===$T(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_T()?Reflect.construct(t,r||[],UT(e).constructor):t.apply(e,r))}function _T(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_T=function(){return!!e})()}function UT(e){return UT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},UT(e)}function WT(e,t){return WT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},WT(e,t)}function VT(e,t,r){return(t=GT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GT(e){var t=function(e,t){if("object"!=$T(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=$T(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$T(t)?t:t+""}NT.registerSymbol=function(e,t){TT["symbol".concat(KM()(e))]=t};var HT=32,qT=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),FT(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WT(e,t)}(t,e),r=t,n=[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,r=16,n=5.333333333333333,o=10.666666666666666,i=e.inactive?t:e.color;if("plainline"===e.type)return a.createElement("line",{strokeWidth:4,fill:"none",stroke:i,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:r,x2:HT,y2:r,className:"recharts-legend-icon"});if("line"===e.type)return a.createElement("path",{strokeWidth:4,fill:"none",stroke:i,d:"M0,".concat(r,"h").concat(o,"\n            A").concat(n,",").concat(n,",0,1,1,").concat(2*o,",").concat(r,"\n            H").concat(HT,"M").concat(2*o,",").concat(r,"\n            A").concat(n,",").concat(n,",0,1,1,").concat(o,",").concat(r),className:"recharts-legend-icon"});if("rect"===e.type)return a.createElement("path",{stroke:"none",fill:i,d:"M0,".concat(4,"h").concat(HT,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(a.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?LT(Object(r),!0).forEach((function(t){VT(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LT(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e);return delete s.legendIcon,a.cloneElement(e.legendIcon,s)}return a.createElement(NT,{fill:i,cx:r,cy:r,size:HT,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,r=t.payload,n=t.iconSize,o=t.layout,i=t.formatter,s=t.inactiveColor,l={x:0,y:0,width:HT,height:HT},c={display:"horizontal"===o?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return r.map((function(t,r){var o=t.formatter||i,u=(0,vt.A)(VT(VT({"recharts-legend-item":!0},"legend-item-".concat(r),!0),"inactive",t.inactive));if("none"===t.type)return null;var p=lD()(t.value)?null:t.value;oD(!lD()(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var h=t.inactive?s:t.color;return a.createElement("li",zT({className:u,style:c,key:"legend-item-".concat(r)},bD(e.props,t,r)),a.createElement(tM,{width:n,height:n,viewBox:l,style:d},e.renderIcon(t)),a.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},o?o(p,t,r):p))}))}},{key:"render",value:function(){var e=this.props,t=e.payload,r=e.layout,n=e.align;if(!t||!t.length)return null;var o={padding:0,margin:0,textAlign:"horizontal"===r?n:"left"};return a.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}],n&&BT(r.prototype,n),o&&BT(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(a.PureComponent);function YT(e){return YT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YT(e)}VT(qT,"displayName","Legend"),VT(qT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var KT=["ref"];function XT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function QT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?XT(Object(r),!0).forEach((function(t){nR(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XT(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function JT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oR(n.key),n)}}function ZT(e,t,r){return t=tR(t),function(e,t){if(t&&("object"===YT(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,eR()?Reflect.construct(t,r||[],tR(e).constructor):t.apply(e,r))}function eR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(eR=function(){return!!e})()}function tR(e){return tR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tR(e)}function rR(e,t){return rR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rR(e,t)}function nR(e,t,r){return(t=oR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oR(e){var t=function(e,t){if("object"!=YT(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=YT(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==YT(t)?t:t+""}function aR(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function iR(e){return e.value}var sR=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return nR(e=ZT(this,t,[].concat(n)),"lastBoundingBox",{width:-1,height:-1}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rR(e,t)}(t,e),r=t,o=[{key:"getWithHeight",value:function(e,t){var r=QT(QT({},this.defaultProps),e.props).layout;return"vertical"===r&&KI(e.props.height)?{height:e.props.height}:"horizontal"===r?{width:e.props.width||t}:null}}],(n=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?QT({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,r,n=this.props,o=n.layout,a=n.align,i=n.verticalAlign,s=n.margin,l=n.chartWidth,c=n.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===a&&"vertical"===o?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===a?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(r="middle"===i?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===i?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),QT(QT({},t),r)}},{key:"render",value:function(){var e=this,t=this.props,r=t.content,n=t.width,o=t.height,i=t.wrapperStyle,s=t.payloadUniqBy,l=t.payload,c=QT(QT({position:"absolute",width:n||"auto",height:o||"auto"},this.getDefaultPosition(i)),i);return a.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(t){e.wrapperNode=t}},function(e,t){if(a.isValidElement(e))return a.cloneElement(e,t);if("function"===typeof e)return a.createElement(e,t);t.ref;var r=aR(t,KT);return a.createElement(qT,r)}(r,QT(QT({},this.props),{},{payload:NM(l,s,iR)})))}}])&&JT(r.prototype,n),o&&JT(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(a.PureComponent);function lR(){return lR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lR.apply(this,arguments)}nR(sR,"displayName","Legend"),nR(sR,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var cR=function(e){var t=e.cx,r=e.cy,n=e.r,o=e.className,i=(0,vt.A)("recharts-dot",o);return t===+t&&r===+r&&n===+n?a.createElement("circle",lR({},ND(e,!1),xD(e),{className:i,cx:t,cy:r,r:n})):null},dR=Object.getOwnPropertyNames,uR=Object.getOwnPropertySymbols,pR=Object.prototype.hasOwnProperty;function hR(e,t){return function(r,n,o){return e(r,n,o)&&t(r,n,o)}}function fR(e){return function(t,r,n){if(!t||!r||"object"!==typeof t||"object"!==typeof r)return e(t,r,n);var o=n.cache,a=o.get(t),i=o.get(r);if(a&&i)return a===r&&i===t;o.set(t,r),o.set(r,t);var s=e(t,r,n);return o.delete(t),o.delete(r),s}}function mR(e){return dR(e).concat(uR(e))}var gR=Object.hasOwn||function(e,t){return pR.call(e,t)};function vR(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var xR=Object.getOwnPropertyDescriptor,bR=Object.keys;function yR(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function jR(e,t){return vR(e.getTime(),t.getTime())}function wR(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function SR(e,t){return e===t}function CR(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var o,a,i=new Array(n),s=e.entries(),l=0;(o=s.next())&&!o.done;){for(var c=t.entries(),d=!1,u=0;(a=c.next())&&!a.done;)if(i[u])u++;else{var p=o.value,h=a.value;if(r.equals(p[0],h[0],l,u,e,t,r)&&r.equals(p[1],h[1],p[0],h[0],e,t,r)){d=i[u]=!0;break}u++}if(!d)return!1;l++}return!0}var AR=vR;function ER(e,t,r){var n=bR(e),o=n.length;if(bR(t).length!==o)return!1;for(;o-- >0;)if(!TR(e,t,r,n[o]))return!1;return!0}function kR(e,t,r){var n,o,a,i=mR(e),s=i.length;if(mR(t).length!==s)return!1;for(;s-- >0;){if(!TR(e,t,r,n=i[s]))return!1;if(o=xR(e,n),a=xR(t,n),(o||a)&&(!o||!a||o.configurable!==a.configurable||o.enumerable!==a.enumerable||o.writable!==a.writable))return!1}return!0}function OR(e,t){return vR(e.valueOf(),t.valueOf())}function PR(e,t){return e.source===t.source&&e.flags===t.flags}function IR(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var o,a,i=new Array(n),s=e.values();(o=s.next())&&!o.done;){for(var l=t.values(),c=!1,d=0;(a=l.next())&&!a.done;){if(!i[d]&&r.equals(o.value,a.value,o.value,a.value,e,t,r)){c=i[d]=!0;break}d++}if(!c)return!1}return!0}function DR(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function MR(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function TR(e,t,r,n){return!("_owner"!==n&&"__o"!==n&&"__v"!==n||!e.$$typeof&&!t.$$typeof)||gR(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var RR=Array.isArray,NR="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,$R=Object.assign,zR=Object.prototype.toString.call.bind(Object.prototype.toString);var LR=BR();BR({strict:!0}),BR({circular:!0}),BR({circular:!0,strict:!0}),BR({createInternalComparator:function(){return vR}}),BR({strict:!0,createInternalComparator:function(){return vR}}),BR({circular:!0,createInternalComparator:function(){return vR}}),BR({circular:!0,createInternalComparator:function(){return vR},strict:!0});function BR(e){void 0===e&&(e={});var t,r=e.circular,n=void 0!==r&&r,o=e.createInternalComparator,a=e.createState,i=e.strict,s=void 0!==i&&i,l=function(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,o={areArraysEqual:n?kR:yR,areDatesEqual:jR,areErrorsEqual:wR,areFunctionsEqual:SR,areMapsEqual:n?hR(CR,kR):CR,areNumbersEqual:AR,areObjectsEqual:n?kR:ER,arePrimitiveWrappersEqual:OR,areRegExpsEqual:PR,areSetsEqual:n?hR(IR,kR):IR,areTypedArraysEqual:n?kR:DR,areUrlsEqual:MR};if(r&&(o=$R({},o,r(o))),t){var a=fR(o.areArraysEqual),i=fR(o.areMapsEqual),s=fR(o.areObjectsEqual),l=fR(o.areSetsEqual);o=$R({},o,{areArraysEqual:a,areMapsEqual:i,areObjectsEqual:s,areSetsEqual:l})}return o}(e),c=function(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,o=e.areFunctionsEqual,a=e.areMapsEqual,i=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,d=e.areSetsEqual,u=e.areTypedArraysEqual,p=e.areUrlsEqual;return function(e,h,f){if(e===h)return!0;if(null==e||null==h)return!1;var m=typeof e;if(m!==typeof h)return!1;if("object"!==m)return"number"===m?i(e,h,f):"function"===m&&o(e,h,f);var g=e.constructor;if(g!==h.constructor)return!1;if(g===Object)return s(e,h,f);if(RR(e))return t(e,h,f);if(null!=NR&&NR(e))return u(e,h,f);if(g===Date)return r(e,h,f);if(g===RegExp)return c(e,h,f);if(g===Map)return a(e,h,f);if(g===Set)return d(e,h,f);var v=zR(e);return"[object Date]"===v?r(e,h,f):"[object RegExp]"===v?c(e,h,f):"[object Map]"===v?a(e,h,f):"[object Set]"===v?d(e,h,f):"[object Object]"===v?"function"!==typeof e.then&&"function"!==typeof h.then&&s(e,h,f):"[object URL]"===v?p(e,h,f):"[object Error]"===v?n(e,h,f):"[object Arguments]"===v?s(e,h,f):("[object Boolean]"===v||"[object Number]"===v||"[object String]"===v)&&l(e,h,f)}}(l);return function(e){var t=e.circular,r=e.comparator,n=e.createState,o=e.equals,a=e.strict;if(n)return function(e,i){var s=n(),l=s.cache,c=void 0===l?t?new WeakMap:void 0:l,d=s.meta;return r(e,i,{cache:c,equals:o,meta:d,strict:a})};if(t)return function(e,t){return r(e,t,{cache:new WeakMap,equals:o,meta:void 0,strict:a})};var i={cache:void 0,equals:o,meta:void 0,strict:a};return function(e,t){return r(e,t,i)}}({circular:n,comparator:c,createState:a,equals:o?o(c):(t=c,function(e,r,n,o,a,i,s){return t(e,r,s)}),strict:s})}function FR(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=-1;requestAnimationFrame((function n(o){r<0&&(r=o),o-r>t?(e(o),r=-1):function(e){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(e)}(n)}))}function _R(e){return _R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_R(e)}function UR(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return WR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WR(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function WR(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VR(){var e=function(){return null},t=!1,r=function r(n){if(!t){if(Array.isArray(n)){if(!n.length)return;var o=UR(n),a=o[0],i=o.slice(1);return"number"===typeof a?void FR(r.bind(null,i),a):(r(a),void FR(r.bind(null,i)))}"object"===_R(n)&&e(n),"function"===typeof n&&n()}};return{stop:function(){t=!0},start:function(e){t=!1,r(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function GR(e){return GR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GR(e)}function HR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?HR(Object(r),!0).forEach((function(t){YR(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HR(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function YR(e,t,r){return t=function(e){var t=function(e,t){if("object"!==GR(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==GR(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===GR(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var KR=function(e){return e},XR=function(e,t){return Object.keys(t).reduce((function(r,n){return qR(qR({},r),{},YR({},n,e(n,t[n])))}),{})},QR=function(e,t,r){return e.map((function(e){return"".concat((n=e,n.replace(/([A-Z])/g,(function(e){return"-".concat(e.toLowerCase())})))," ").concat(t,"ms ").concat(r);var n})).join(",")};function JR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||eN(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ZR(e){return function(e){if(Array.isArray(e))return tN(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||eN(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eN(e,t){if(e){if("string"===typeof e)return tN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tN(e,t):void 0}}function tN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var rN=1e-4,nN=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},oN=function(e,t){return e.map((function(e,r){return e*Math.pow(t,r)})).reduce((function(e,t){return e+t}))},aN=function(e,t){return function(r){var n=nN(e,t);return oN(n,r)}},iN=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0],o=t[1],a=t[2],i=t[3];if(1===t.length)switch(t[0]){case"linear":n=0,o=0,a=1,i=1;break;case"ease":n=.25,o=.1,a=.25,i=1;break;case"ease-in":n=.42,o=0,a=1,i=1;break;case"ease-out":n=.42,o=0,a=.58,i=1;break;case"ease-in-out":n=0,o=0,a=.58,i=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var l=JR(s[1].split(")")[0].split(",").map((function(e){return parseFloat(e)})),4);n=l[0],o=l[1],a=l[2],i=l[3]}}[n,a,o,i].every((function(e){return"number"===typeof e&&e>=0&&e<=1}));var c,d,u=aN(n,a),p=aN(o,i),h=(c=n,d=a,function(e){var t=nN(c,d),r=[].concat(ZR(t.map((function(e,t){return e*t})).slice(1)),[0]);return oN(r,e)}),f=function(e){for(var t,r=e>1?1:e,n=r,o=0;o<8;++o){var a=u(n)-r,i=h(n);if(Math.abs(a-r)<rN||i<rN)return p(n);n=(t=n-a/i)>1?1:t<0?0:t}return p(n)};return f.isStepper=!1,f},sN=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0];if("string"===typeof n)switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return iN(n);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,r=void 0===t?100:t,n=e.damping,o=void 0===n?8:n,a=e.dt,i=void 0===a?17:a,s=function(e,t,n){var a=n+(-(e-t)*r-n*o)*i/1e3,s=n*i/1e3+e;return Math.abs(s-t)<rN&&Math.abs(a)<rN?[t,0]:[s,a]};return s.isStepper=!0,s.dt=i,s}();default:if("cubic-bezier"===n.split("(")[0])return iN(n)}return"function"===typeof n?n:null};function lN(e){return lN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lN(e)}function cN(e){return function(e){if(Array.isArray(e))return mN(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||fN(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function uN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dN(Object(r),!0).forEach((function(t){pN(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dN(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pN(e,t,r){return t=function(e){var t=function(e,t){if("object"!==lN(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==lN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===lN(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||fN(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fN(e,t){if(e){if("string"===typeof e)return mN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mN(e,t):void 0}}function mN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var gN=function(e,t,r){return e+(t-e)*r},vN=function(e){return e.from!==e.to},xN=function e(t,r,n){var o=XR((function(e,r){if(vN(r)){var n=hN(t(r.from,r.to,r.velocity),2),o=n[0],a=n[1];return uN(uN({},r),{},{from:o,velocity:a})}return r}),r);return n<1?XR((function(e,t){return vN(t)?uN(uN({},t),{},{velocity:gN(t.velocity,o[e].velocity,n),from:gN(t.from,o[e].from,n)}):t}),r):e(t,o,n-1)};const bN=function(e,t,r,n,o){var a,i,s,l,c=(a=e,i=t,[Object.keys(a),Object.keys(i)].reduce((function(e,t){return e.filter((function(e){return t.includes(e)}))}))),d=c.reduce((function(r,n){return uN(uN({},r),{},pN({},n,[e[n],t[n]]))}),{}),u=c.reduce((function(r,n){return uN(uN({},r),{},pN({},n,{from:e[n],velocity:0,to:t[n]}))}),{}),p=-1,h=function(){return null};return h=r.isStepper?function(n){s||(s=n);var a=(n-s)/r.dt;u=xN(r,u,a),o(uN(uN(uN({},e),t),XR((function(e,t){return t.from}),u))),s=n,Object.values(u).filter(vN).length&&(p=requestAnimationFrame(h))}:function(a){l||(l=a);var i=(a-l)/n,s=XR((function(e,t){return gN.apply(void 0,cN(t).concat([r(i)]))}),d);if(o(uN(uN(uN({},e),t),s)),i<1)p=requestAnimationFrame(h);else{var c=XR((function(e,t){return gN.apply(void 0,cN(t).concat([r(1)]))}),d);o(uN(uN(uN({},e),t),c))}},function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(p)}}};function yN(e){return yN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yN(e)}var jN=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function wN(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function SN(e){return function(e){if(Array.isArray(e))return CN(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return CN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CN(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function AN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function EN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?AN(Object(r),!0).forEach((function(t){kN(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function kN(e,t,r){return(t=PN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ON(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PN(n.key),n)}}function PN(e){var t=function(e,t){if("object"!==yN(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==yN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===yN(t)?t:String(t)}function IN(e,t){return IN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},IN(e,t)}function DN(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(a0){return!1}}();return function(){var r,n=RN(e);if(t){var o=RN(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return MN(this,r)}}function MN(e,t){if(t&&("object"===yN(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return TN(e)}function TN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RN(e){return RN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},RN(e)}var NN=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IN(e,t)}(i,e);var t,r,n,o=DN(i);function i(e,t){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=(r=o.call(this,e,t)).props,a=n.isActive,s=n.attributeName,l=n.from,c=n.to,d=n.steps,u=n.children,p=n.duration;if(r.handleStyleChange=r.handleStyleChange.bind(TN(r)),r.changeStyle=r.changeStyle.bind(TN(r)),!a||p<=0)return r.state={style:{}},"function"===typeof u&&(r.state={style:c}),MN(r);if(d&&d.length)r.state={style:d[0].style};else if(l){if("function"===typeof u)return r.state={style:l},MN(r);r.state={style:s?kN({},s,l):l}}else r.state={style:{}};return r}return t=i,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,r=e.canBegin;this.mounted=!0,t&&r&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.isActive,n=t.canBegin,o=t.attributeName,a=t.shouldReAnimate,i=t.to,s=t.from,l=this.state.style;if(n)if(r){if(!(LR(e.to,i)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var d=c||a?s:e.to;if(this.state&&l){var u={style:o?kN({},o,d):d};(o&&l[o]!==d||!o&&l!==d)&&this.setState(u)}this.runAnimation(EN(EN({},this.props),{},{from:d,begin:0}))}}else{var p={style:o?kN({},o,i):i};this.state&&l&&(o&&l[o]!==i||!o&&l!==i)&&this.setState(p)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,r=e.from,n=e.to,o=e.duration,a=e.easing,i=e.begin,s=e.onAnimationEnd,l=e.onAnimationStart,c=bN(r,n,sN(a),o,this.changeStyle);this.manager.start([l,i,function(){t.stopJSAnimation=c()},o,s])}},{key:"runStepAnimation",value:function(e){var t=this,r=e.steps,n=e.begin,o=e.onAnimationStart,a=r[0],i=a.style,s=a.duration,l=void 0===s?0:s;return this.manager.start([o].concat(SN(r.reduce((function(e,n,o){if(0===o)return e;var a=n.duration,i=n.easing,s=void 0===i?"ease":i,l=n.style,c=n.properties,d=n.onAnimationEnd,u=o>0?r[o-1]:n,p=c||Object.keys(l);if("function"===typeof s||"spring"===s)return[].concat(SN(e),[t.runJSAnimation.bind(t,{from:u.style,to:l,duration:a,easing:s}),a]);var h=QR(p,a,s),f=EN(EN(EN({},u.style),l),{},{transition:h});return[].concat(SN(e),[f,a,d]).filter(KR)}),[i,Math.max(l,n)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=VR());var t=e.begin,r=e.duration,n=e.attributeName,o=e.to,a=e.easing,i=e.onAnimationStart,s=e.onAnimationEnd,l=e.steps,c=e.children,d=this.manager;if(this.unSubscribe=d.subscribe(this.handleStyleChange),"function"!==typeof a&&"function"!==typeof c&&"spring"!==a)if(l.length>1)this.runStepAnimation(e);else{var u=n?kN({},n,o):o,p=QR(Object.keys(u),r,a);d.start([i,t,EN(EN({},u),{},{transition:p}),r,s])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children,r=(e.begin,e.duration),n=(e.attributeName,e.easing,e.isActive),o=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,wN(e,jN)),i=a.Children.count(t),s=this.state.style;if("function"===typeof t)return t(s);if(!n||0===i||r<=0)return t;var l=function(e){var t=e.props,r=t.style,n=void 0===r?{}:r,i=t.className;return(0,a.cloneElement)(e,EN(EN({},o),{},{style:EN(EN({},n),s),className:i}))};return 1===i?l(a.Children.only(t)):a.createElement("div",null,a.Children.map(t,(function(e){return l(e)})))}}])&&ON(t.prototype,r),n&&ON(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(a.PureComponent);NN.displayName="Animate",NN.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},NN.propTypes={from:Lf().oneOfType([Lf().object,Lf().string]),to:Lf().oneOfType([Lf().object,Lf().string]),attributeName:Lf().string,duration:Lf().number,begin:Lf().number,easing:Lf().oneOfType([Lf().string,Lf().func]),steps:Lf().arrayOf(Lf().shape({duration:Lf().number.isRequired,style:Lf().object.isRequired,easing:Lf().oneOfType([Lf().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Lf().func]),properties:Lf().arrayOf("string"),onAnimationEnd:Lf().func})),children:Lf().oneOfType([Lf().node,Lf().func]),isActive:Lf().bool,canBegin:Lf().bool,onAnimationEnd:Lf().func,shouldReAnimate:Lf().bool,onAnimationStart:Lf().func,onAnimationReStart:Lf().func};const $N=NN;function zN(e){return zN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zN(e)}function LN(){return LN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LN.apply(this,arguments)}function BN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return FN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FN(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function UN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_N(Object(r),!0).forEach((function(t){WN(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function WN(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=zN(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=zN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==zN(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var VN=function(e,t,r,n,o){var a,i=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0;if(i>0&&o instanceof Array){for(var d=[0,0,0,0],u=0;u<4;u++)d[u]=o[u]>i?i:o[u];a="M".concat(e,",").concat(t+s*d[0]),d[0]>0&&(a+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),a+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(a+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,",\n        ").concat(e+r,",").concat(t+s*d[1])),a+="L ".concat(e+r,",").concat(t+n-s*d[2]),d[2]>0&&(a+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,",\n        ").concat(e+r-l*d[2],",").concat(t+n)),a+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(a+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+n-s*d[3])),a+="Z"}else if(i>0&&o===+o&&o>0){var p=Math.min(i,o);a="M ".concat(e,",").concat(t+s*p,"\n            A ").concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+l*p,",").concat(t,"\n            L ").concat(e+r-l*p,",").concat(t,"\n            A ").concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r,",").concat(t+s*p,"\n            L ").concat(e+r,",").concat(t+n-s*p,"\n            A ").concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r-l*p,",").concat(t+n,"\n            L ").concat(e+l*p,",").concat(t+n,"\n            A ").concat(p,",").concat(p,",0,0,").concat(c,",").concat(e,",").concat(t+n-s*p," Z")}else a="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return a},GN=function(e,t){if(!e||!t)return!1;var r=e.x,n=e.y,o=t.x,a=t.y,i=t.width,s=t.height;if(Math.abs(i)>0&&Math.abs(s)>0){var l=Math.min(o,o+i),c=Math.max(o,o+i),d=Math.min(a,a+s),u=Math.max(a,a+s);return r>=l&&r<=c&&n>=d&&n<=u}return!1},HN={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qN=function(e){var t=UN(UN({},HN),e),r=(0,a.useRef)(),n=BN((0,a.useState)(-1),2),o=n[0],i=n[1];(0,a.useEffect)((function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&i(e)}catch(t){}}),[]);var s=t.x,l=t.y,c=t.width,d=t.height,u=t.radius,p=t.className,h=t.animationEasing,f=t.animationDuration,m=t.animationBegin,g=t.isAnimationActive,v=t.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||d!==+d||0===c||0===d)return null;var x=(0,vt.A)("recharts-rectangle",p);return v?a.createElement($N,{canBegin:o>0,from:{width:c,height:d,x:s,y:l},to:{width:c,height:d,x:s,y:l},duration:f,animationEasing:h,isActive:v},(function(e){var n=e.width,i=e.height,s=e.x,l=e.y;return a.createElement($N,{canBegin:o>0,from:"0px ".concat(-1===o?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:f,isActive:g,easing:h},a.createElement("path",LN({},ND(t,!0),{className:x,d:VN(s,l,n,i,u),ref:r})))})):a.createElement("path",LN({},ND(t,!0),{className:x,d:VN(s,l,c,d,u)}))};function YN(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function KN(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class XN extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e$;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[r,n]of e)this.set(r,n)}get(e){return super.get(QN(this,e))}has(e){return super.has(QN(this,e))}set(e,t){return super.set(JN(this,e),t)}delete(e){return super.delete(ZN(this,e))}}Set;function QN(e,t){let{_intern:r,_key:n}=e;const o=n(t);return r.has(o)?r.get(o):t}function JN(e,t){let{_intern:r,_key:n}=e;const o=n(t);return r.has(o)?r.get(o):(r.set(o,t),t)}function ZN(e,t){let{_intern:r,_key:n}=e;const o=n(t);return r.has(o)&&(t=r.get(o),r.delete(o)),t}function e$(e){return null!==e&&"object"===typeof e?e.valueOf():e}const t$=Symbol("implicit");function r$(){var e=new XN,t=[],r=[],n=t$;function o(o){let a=e.get(o);if(void 0===a){if(n!==t$)return n;e.set(o,a=t.push(o)-1)}return r[a%r.length]}return o.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new XN;for(const n of r)e.has(n)||e.set(n,t.push(n)-1);return o},o.range=function(e){return arguments.length?(r=Array.from(e),o):r.slice()},o.unknown=function(e){return arguments.length?(n=e,o):n},o.copy=function(){return r$(t,r).unknown(n)},YN.apply(o,arguments),o}function n$(){var e,t,r=r$().unknown(void 0),n=r.domain,o=r.range,a=0,i=1,s=!1,l=0,c=0,d=.5;function u(){var r=n().length,u=i<a,p=u?i:a,h=u?a:i;e=(h-p)/Math.max(1,r-l+2*c),s&&(e=Math.floor(e)),p+=(h-p-e*(r-l))*d,t=e*(1-l),s&&(p=Math.round(p),t=Math.round(t));var f=function(e,t,r){e=+e,t=+t,r=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+r;for(var n=-1,o=0|Math.max(0,Math.ceil((t-e)/r)),a=new Array(o);++n<o;)a[n]=e+n*r;return a}(r).map((function(t){return p+e*t}));return o(u?f.reverse():f)}return delete r.unknown,r.domain=function(e){return arguments.length?(n(e),u()):n()},r.range=function(e){return arguments.length?([a,i]=e,a=+a,i=+i,u()):[a,i]},r.rangeRound=function(e){return[a,i]=e,a=+a,i=+i,s=!0,u()},r.bandwidth=function(){return t},r.step=function(){return e},r.round=function(e){return arguments.length?(s=!!e,u()):s},r.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),u()):l},r.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),u()):l},r.paddingOuter=function(e){return arguments.length?(c=+e,u()):c},r.align=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),u()):d},r.copy=function(){return n$(n(),[a,i]).round(s).paddingInner(l).paddingOuter(c).align(d)},YN.apply(u(),arguments)}function o$(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return o$(t())},e}function a$(){return o$(n$.apply(null,arguments).paddingInner(1))}function i$(e){return i$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i$(e)}function s$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l$(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s$(Object(r),!0).forEach((function(t){c$(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s$(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c$(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=i$(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i$(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d$={widthCache:{},cacheCount:0},u$={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},p$="recharts_measurement_span";var h$=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||MM.isSsr)return{width:0,height:0};var r=function(e){var t=l$({},e);return Object.keys(t).forEach((function(e){t[e]||delete t[e]})),t}(t),n=JSON.stringify({text:e,copyStyle:r});if(d$.widthCache[n])return d$.widthCache[n];try{var o=document.getElementById(p$);o||((o=document.createElement("span")).setAttribute("id",p$),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=l$(l$({},u$),r);Object.assign(o.style,a),o.textContent="".concat(e);var i=o.getBoundingClientRect(),s={width:i.width,height:i.height};return d$.widthCache[n]=s,++d$.cacheCount>2e3&&(d$.cacheCount=0,d$.widthCache={}),s}catch(a0){return{width:0,height:0}}};function f$(e){return f$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f$(e)}function m$(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return g$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g$(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g$(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,x$(n.key),n)}}function x$(e){var t=function(e,t){if("object"!=f$(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=f$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f$(t)?t:t+""}var b$=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,y$=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,j$=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,w$=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,S$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},C$=Object.keys(S$),A$="NaN";var E$=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),""===r||j$.test(r)||(this.num=NaN,this.unit=""),C$.includes(r)&&(this.num=function(e,t){return e*S$[t]}(t,r),this.unit="px")}return t=e,n=[{key:"parse",value:function(t){var r,n=m$(null!==(r=w$.exec(t))&&void 0!==r?r:[],3),o=n[1],a=n[2];return new e(parseFloat(o),null!==a&&void 0!==a?a:"")}}],(r=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&v$(t.prototype,r),n&&v$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();function k$(e){if(e.includes(A$))return A$;for(var t=e;t.includes("*")||t.includes("/");){var r,n=m$(null!==(r=b$.exec(t))&&void 0!==r?r:[],4),o=n[1],a=n[2],i=n[3],s=E$.parse(null!==o&&void 0!==o?o:""),l=E$.parse(null!==i&&void 0!==i?i:""),c="*"===a?s.multiply(l):s.divide(l);if(c.isNaN())return A$;t=t.replace(b$,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,u=m$(null!==(d=y$.exec(t))&&void 0!==d?d:[],4),p=u[1],h=u[2],f=u[3],m=E$.parse(null!==p&&void 0!==p?p:""),g=E$.parse(null!==f&&void 0!==f?f:""),v="+"===h?m.add(g):m.subtract(g);if(v.isNaN())return A$;t=t.replace(y$,v.toString())}return t}var O$=/\(([^()]*)\)/;function P$(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var r=m$(O$.exec(t),2)[1];t=t.replace(O$,k$(r))}return t}(t),t=k$(t)}function I$(e){var t=function(e){try{return P$(e)}catch(a0){return A$}}(e.slice(5,-1));return t===A$?"":t}var D$=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],M$=["dx","dy","angle","className","breakAll"];function T$(){return T$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T$.apply(this,arguments)}function R$(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function N$(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return $$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $$(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $$(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var z$=/[ \f\n\r\t\v\u2028\u2029]+/,L$=function(e){var t=e.children,r=e.breakAll,n=e.style;try{var o=[];return iD()(t)||(o=r?t.toString().split(""):t.toString().split(z$)),{wordsWithComputedWidth:o.map((function(e){return{word:e,width:h$(e,n).width}})),spaceWidth:r?0:h$("\xa0",n).width}}catch(a0){return null}},B$=function(e){return[{words:iD()(e)?[]:e.toString().split(z$)}]},F$=function(e){var t=e.width,r=e.scaleToFit,n=e.children,o=e.style,a=e.breakAll,i=e.maxLines;if((t||r)&&!MM.isSsr){var s=L$({breakAll:a,children:n,style:o});return s?function(e,t,r,n,o){var a=e.maxLines,i=e.children,s=e.style,l=e.breakAll,c=KI(a),d=i,u=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){var a=t.word,i=t.width,s=e[e.length-1];if(s&&(null==n||o||s.width+i+r<Number(n)))s.words.push(a),s.width+=i+r;else{var l={words:[a],width:i};e.push(l)}return e}),[])},p=u(t);if(!c)return p;for(var h,f=function(e){var t=d.slice(0,e),r=L$({breakAll:l,style:s,children:t+"\u2026"}).wordsWithComputedWidth,o=u(r),i=o.length>a||function(e){return e.reduce((function(e,t){return e.width>t.width?e:t}))}(o).width>Number(n);return[i,o]},m=0,g=d.length-1,v=0;m<=g&&v<=d.length-1;){var x=Math.floor((m+g)/2),b=N$(f(x-1),2),y=b[0],j=b[1],w=N$(f(x),1)[0];if(y||w||(m=x+1),y&&w&&(g=x-1),!y&&w){h=j;break}v++}return h||p}({breakAll:a,children:n,maxLines:i,style:o},s.wordsWithComputedWidth,s.spaceWidth,t,r):B$(n)}return B$(n)},_$="#808080",U$=function(e){var t=e.x,r=void 0===t?0:t,n=e.y,o=void 0===n?0:n,i=e.lineHeight,s=void 0===i?"1em":i,l=e.capHeight,c=void 0===l?"0.71em":l,d=e.scaleToFit,u=void 0!==d&&d,p=e.textAnchor,h=void 0===p?"start":p,f=e.verticalAnchor,m=void 0===f?"end":f,g=e.fill,v=void 0===g?_$:g,x=R$(e,D$),b=(0,a.useMemo)((function(){return F$({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:u,style:x.style,width:x.width})}),[x.breakAll,x.children,x.maxLines,u,x.style,x.width]),y=x.dx,j=x.dy,w=x.angle,S=x.className,C=x.breakAll,A=R$(x,M$);if(!XI(r)||!XI(o))return null;var E,k=r+(KI(y)?y:0),O=o+(KI(j)?j:0);switch(m){case"start":E=I$("calc(".concat(c,")"));break;case"middle":E=I$("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:E=I$("calc(".concat(b.length-1," * -").concat(s,")"))}var P=[];if(u){var I=b[0].width,D=x.width;P.push("scale(".concat((KI(D)?D/I:1)/I,")"))}return w&&P.push("rotate(".concat(w,", ").concat(k,", ").concat(O,")")),P.length&&(A.transform=P.join(" ")),a.createElement("text",T$({},ND(A,!0),{x:k,y:O,className:(0,vt.A)("recharts-text",S),textAnchor:h,fill:v.includes("url")?_$:v}),b.map((function(e,t){var r=e.words.join(C?"":" ");return a.createElement("tspan",{x:k,dy:0===t?E:s,key:"".concat(r,"-").concat(t)},r)})))};const W$=Math.sqrt(50),V$=Math.sqrt(10),G$=Math.sqrt(2);function H$(e,t,r){const n=(t-e)/Math.max(0,r),o=Math.floor(Math.log10(n)),a=n/Math.pow(10,o),i=a>=W$?10:a>=V$?5:a>=G$?2:1;let s,l,c;return o<0?(c=Math.pow(10,-o)/i,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,o)*i,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?H$(e,t,2*r):[s,l,c]}function q$(e,t,r){if(!((r=+r)>0))return[];if((e=+e)===(t=+t))return[e];const n=t<e,[o,a,i]=n?H$(t,e,r):H$(e,t,r);if(!(a>=o))return[];const s=a-o+1,l=new Array(s);if(n)if(i<0)for(let c=0;c<s;++c)l[c]=(a-c)/-i;else for(let c=0;c<s;++c)l[c]=(a-c)*i;else if(i<0)for(let c=0;c<s;++c)l[c]=(o+c)/-i;else for(let c=0;c<s;++c)l[c]=(o+c)*i;return l}function Y$(e,t,r){return H$(e=+e,t=+t,r=+r)[2]}function K$(e,t,r){r=+r;const n=(t=+t)<(e=+e),o=n?Y$(t,e,r):Y$(e,t,r);return(n?-1:1)*(o<0?1/-o:o)}function X$(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Q$(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function J$(e){let t,r,n;function o(e,n){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(o<a){if(0!==t(n,n))return a;do{const t=o+a>>>1;r(e[t],n)<0?o=t+1:a=t}while(o<a)}return o}return 2!==e.length?(t=X$,r=(t,r)=>X$(e(t),r),n=(t,r)=>e(t)-r):(t=e===X$||e===Q$?e:Z$,r=e,n=e),{left:o,center:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const a=o(e,t,r,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return a>r&&n(e[a-1],t)>-n(e[a],t)?a-1:a},right:function(e,n){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(o<a){if(0!==t(n,n))return a;do{const t=o+a>>>1;r(e[t],n)<=0?o=t+1:a=t}while(o<a)}return o}}}function Z$(){return 0}function ez(e){return null===e?NaN:+e}const tz=J$(X$),rz=tz.right,nz=(tz.left,J$(ez).center,rz);function oz(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function az(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function iz(){}var sz=.7,lz=1/sz,cz="\\s*([+-]?\\d+)\\s*",dz="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",uz="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pz=/^#([0-9a-f]{3,8})$/,hz=new RegExp(`^rgb\\(${cz},${cz},${cz}\\)$`),fz=new RegExp(`^rgb\\(${uz},${uz},${uz}\\)$`),mz=new RegExp(`^rgba\\(${cz},${cz},${cz},${dz}\\)$`),gz=new RegExp(`^rgba\\(${uz},${uz},${uz},${dz}\\)$`),vz=new RegExp(`^hsl\\(${dz},${uz},${uz}\\)$`),xz=new RegExp(`^hsla\\(${dz},${uz},${uz},${dz}\\)$`),bz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function yz(){return this.rgb().formatHex()}function jz(){return this.rgb().formatRgb()}function wz(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=pz.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?Sz(t):3===r?new Ez(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?Cz(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?Cz(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=hz.exec(e))?new Ez(t[1],t[2],t[3],1):(t=fz.exec(e))?new Ez(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=mz.exec(e))?Cz(t[1],t[2],t[3],t[4]):(t=gz.exec(e))?Cz(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=vz.exec(e))?Mz(t[1],t[2]/100,t[3]/100,1):(t=xz.exec(e))?Mz(t[1],t[2]/100,t[3]/100,t[4]):bz.hasOwnProperty(e)?Sz(bz[e]):"transparent"===e?new Ez(NaN,NaN,NaN,0):null}function Sz(e){return new Ez(e>>16&255,e>>8&255,255&e,1)}function Cz(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ez(e,t,r,n)}function Az(e,t,r,n){return 1===arguments.length?((o=e)instanceof iz||(o=wz(o)),o?new Ez((o=o.rgb()).r,o.g,o.b,o.opacity):new Ez):new Ez(e,t,r,null==n?1:n);var o}function Ez(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function kz(){return`#${Dz(this.r)}${Dz(this.g)}${Dz(this.b)}`}function Oz(){const e=Pz(this.opacity);return`${1===e?"rgb(":"rgba("}${Iz(this.r)}, ${Iz(this.g)}, ${Iz(this.b)}${1===e?")":`, ${e})`}`}function Pz(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Iz(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Dz(e){return((e=Iz(e))<16?"0":"")+e.toString(16)}function Mz(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Rz(e,t,r,n)}function Tz(e){if(e instanceof Rz)return new Rz(e.h,e.s,e.l,e.opacity);if(e instanceof iz||(e=wz(e)),!e)return new Rz;if(e instanceof Rz)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,o=Math.min(t,r,n),a=Math.max(t,r,n),i=NaN,s=a-o,l=(a+o)/2;return s?(i=t===a?(r-n)/s+6*(r<n):r===a?(n-t)/s+2:(t-r)/s+4,s/=l<.5?a+o:2-a-o,i*=60):s=l>0&&l<1?0:i,new Rz(i,s,l,e.opacity)}function Rz(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function Nz(e){return(e=(e||0)%360)<0?e+360:e}function $z(e){return Math.max(0,Math.min(1,e||0))}function zz(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}function Lz(e,t,r,n,o){var a=e*e,i=a*e;return((1-3*e+3*a-i)*t+(4-6*a+3*i)*r+(1+3*e+3*a-3*i)*n+i*o)/6}oz(iz,wz,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:yz,formatHex:yz,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Tz(this).formatHsl()},formatRgb:jz,toString:jz}),oz(Ez,Az,az(iz,{brighter(e){return e=null==e?lz:Math.pow(lz,e),new Ez(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?sz:Math.pow(sz,e),new Ez(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ez(Iz(this.r),Iz(this.g),Iz(this.b),Pz(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kz,formatHex:kz,formatHex8:function(){return`#${Dz(this.r)}${Dz(this.g)}${Dz(this.b)}${Dz(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Oz,toString:Oz})),oz(Rz,(function(e,t,r,n){return 1===arguments.length?Tz(e):new Rz(e,t,r,null==n?1:n)}),az(iz,{brighter(e){return e=null==e?lz:Math.pow(lz,e),new Rz(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?sz:Math.pow(sz,e),new Rz(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,o=2*r-n;return new Ez(zz(e>=240?e-240:e+120,o,n),zz(e,o,n),zz(e<120?e+240:e-120,o,n),this.opacity)},clamp(){return new Rz(Nz(this.h),$z(this.s),$z(this.l),Pz(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Pz(this.opacity);return`${1===e?"hsl(":"hsla("}${Nz(this.h)}, ${100*$z(this.s)}%, ${100*$z(this.l)}%${1===e?")":`, ${e})`}`}}));const Bz=e=>()=>e;function Fz(e,t){return function(r){return e+r*t}}function _z(e){return 1===(e=+e)?Uz:function(t,r){return r-t?function(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}(t,r,e):Bz(isNaN(t)?r:t)}}function Uz(e,t){var r=t-e;return r?Fz(e,r):Bz(isNaN(e)?t:e)}const Wz=function e(t){var r=_z(t);function n(e,t){var n=r((e=Az(e)).r,(t=Az(t)).r),o=r(e.g,t.g),a=r(e.b,t.b),i=Uz(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=o(t),e.b=a(t),e.opacity=i(t),e+""}}return n.gamma=e,n}(1);function Vz(e){return function(t){var r,n,o=t.length,a=new Array(o),i=new Array(o),s=new Array(o);for(r=0;r<o;++r)n=Az(t[r]),a[r]=n.r||0,i[r]=n.g||0,s[r]=n.b||0;return a=e(a),i=e(i),s=e(s),n.opacity=1,function(e){return n.r=a(e),n.g=i(e),n.b=s(e),n+""}}}Vz((function(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),o=e[n],a=e[n+1],i=n>0?e[n-1]:2*o-a,s=n<t-1?e[n+2]:2*a-o;return Lz((r-n/t)*t,i,o,a,s)}})),Vz((function(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),o=e[(n+t-1)%t],a=e[n%t],i=e[(n+1)%t],s=e[(n+2)%t];return Lz((r-n/t)*t,o,a,i,s)}}));function Gz(e,t){var r,n=t?t.length:0,o=e?Math.min(n,e.length):0,a=new Array(o),i=new Array(n);for(r=0;r<o;++r)a[r]=Zz(e[r],t[r]);for(;r<n;++r)i[r]=t[r];return function(e){for(r=0;r<o;++r)i[r]=a[r](e);return i}}function Hz(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function qz(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Yz(e,t){var r,n={},o={};for(r in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)r in e?n[r]=Zz(e[r],t[r]):o[r]=t[r];return function(e){for(r in n)o[r]=n[r](e);return o}}var Kz=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xz=new RegExp(Kz.source,"g");function Qz(e,t){var r,n,o,a=Kz.lastIndex=Xz.lastIndex=0,i=-1,s=[],l=[];for(e+="",t+="";(r=Kz.exec(e))&&(n=Xz.exec(t));)(o=n.index)>a&&(o=t.slice(a,o),s[i]?s[i]+=o:s[++i]=o),(r=r[0])===(n=n[0])?s[i]?s[i]+=n:s[++i]=n:(s[++i]=null,l.push({i:i,x:qz(r,n)})),a=Xz.lastIndex;return a<t.length&&(o=t.slice(a),s[i]?s[i]+=o:s[++i]=o),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var r,n=0;n<t;++n)s[(r=l[n]).i]=r.x(e);return s.join("")})}function Jz(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,o=t.slice();return function(a){for(r=0;r<n;++r)o[r]=e[r]*(1-a)+t[r]*a;return o}}function Zz(e,t){var r,n,o=typeof t;return null==t||"boolean"===o?Bz(t):("number"===o?qz:"string"===o?(r=wz(t))?(t=r,Wz):Qz:t instanceof wz?Wz:t instanceof Date?Hz:(n=t,!ArrayBuffer.isView(n)||n instanceof DataView?Array.isArray(t)?Gz:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?Yz:qz:Jz))(e,t)}function eL(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function tL(e){return+e}var rL=[0,1];function nL(e){return e}function oL(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:(r=isNaN(t)?NaN:.5,function(){return r});var r}function aL(e,t,r){var n=e[0],o=e[1],a=t[0],i=t[1];return o<n?(n=oL(o,n),a=r(i,a)):(n=oL(n,o),a=r(a,i)),function(e){return a(n(e))}}function iL(e,t,r){var n=Math.min(e.length,t.length)-1,o=new Array(n),a=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)o[i]=oL(e[i],e[i+1]),a[i]=r(t[i],t[i+1]);return function(t){var r=nz(e,t,1,n)-1;return a[r](o[r](t))}}function sL(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function lL(){var e,t,r,n,o,a,i=rL,s=rL,l=Zz,c=nL;function d(){var e=Math.min(i.length,s.length);return c!==nL&&(c=function(e,t){var r;return e>t&&(r=e,e=t,t=r),function(r){return Math.max(e,Math.min(t,r))}}(i[0],i[e-1])),n=e>2?iL:aL,o=a=null,u}function u(t){return null==t||isNaN(t=+t)?r:(o||(o=n(i.map(e),s,l)))(e(c(t)))}return u.invert=function(r){return c(t((a||(a=n(s,i.map(e),qz)))(r)))},u.domain=function(e){return arguments.length?(i=Array.from(e,tL),d()):i.slice()},u.range=function(e){return arguments.length?(s=Array.from(e),d()):s.slice()},u.rangeRound=function(e){return s=Array.from(e),l=eL,d()},u.clamp=function(e){return arguments.length?(c=!!e||nL,d()):c!==nL},u.interpolate=function(e){return arguments.length?(l=e,d()):l},u.unknown=function(e){return arguments.length?(r=e,u):r},function(r,n){return e=r,t=n,d()}}function cL(){return lL()(nL,nL)}var dL,uL=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pL(e){if(!(t=uL.exec(e)))throw new Error("invalid format: "+e);var t;return new hL({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function hL(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function fL(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function mL(e){return(e=fL(Math.abs(e)))?e[1]:NaN}function gL(e,t){var r=fL(e,t);if(!r)return e+"";var n=r[0],o=r[1];return o<0?"0."+new Array(-o).join("0")+n:n.length>o+1?n.slice(0,o+1)+"."+n.slice(o+1):n+new Array(o-n.length+2).join("0")}pL.prototype=hL.prototype,hL.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const vL={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>gL(100*e,t),r:gL,s:function(e,t){var r=fL(e,t);if(!r)return e+"";var n=r[0],o=r[1],a=o-(dL=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,i=n.length;return a===i?n:a>i?n+new Array(a-i+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+fL(e,Math.max(0,t+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function xL(e){return e}var bL,yL,jL,wL=Array.prototype.map,SL=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function CL(e){var t,r,n=void 0===e.grouping||void 0===e.thousands?xL:(t=wL.call(e.grouping,Number),r=e.thousands+"",function(e,n){for(var o=e.length,a=[],i=0,s=t[0],l=0;o>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(e.substring(o-=s,o+s)),!((l+=s+1)>n));)s=t[i=(i+1)%t.length];return a.reverse().join(r)}),o=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",i=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?xL:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(wL.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",d=void 0===e.nan?"NaN":e.nan+"";function u(e){var t=(e=pL(e)).fill,r=e.align,u=e.sign,p=e.symbol,h=e.zero,f=e.width,m=e.comma,g=e.precision,v=e.trim,x=e.type;"n"===x?(m=!0,x="g"):vL[x]||(void 0===g&&(g=12),v=!0,x="g"),(h||"0"===t&&"="===r)&&(h=!0,t="0",r="=");var b="$"===p?o:"#"===p&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",y="$"===p?a:/[%p]/.test(x)?l:"",j=vL[x],w=/[defgprs%]/.test(x);function S(e){var o,a,l,p=b,S=y;if("c"===x)S=j(e)+S,e="";else{var C=(e=+e)<0||1/e<0;if(e=isNaN(e)?d:j(Math.abs(e),g),v&&(e=function(e){e:for(var t,r=e.length,n=1,o=-1;n<r;++n)switch(e[n]){case".":o=t=n;break;case"0":0===o&&(o=n),t=n;break;default:if(!+e[n])break e;o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(t+1):e}(e)),C&&0===+e&&"+"!==u&&(C=!1),p=(C?"("===u?u:c:"-"===u||"("===u?"":u)+p,S=("s"===x?SL[8+dL/3]:"")+S+(C&&"("===u?")":""),w)for(o=-1,a=e.length;++o<a;)if(48>(l=e.charCodeAt(o))||l>57){S=(46===l?i+e.slice(o+1):e.slice(o))+S,e=e.slice(0,o);break}}m&&!h&&(e=n(e,1/0));var A=p.length+e.length+S.length,E=A<f?new Array(f-A+1).join(t):"";switch(m&&h&&(e=n(E+e,E.length?f-S.length:1/0),E=""),r){case"<":e=p+e+S+E;break;case"=":e=p+E+e+S;break;case"^":e=E.slice(0,A=E.length>>1)+p+e+S+E.slice(A);break;default:e=E+p+e+S}return s(e)}return g=void 0===g?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),S.toString=function(){return e+""},S}return{format:u,formatPrefix:function(e,t){var r=u(((e=pL(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor(mL(t)/3))),o=Math.pow(10,-n),a=SL[8+n/3];return function(e){return r(o*e)+a}}}}function AL(e,t,r,n){var o,a=K$(e,t,r);switch((n=pL(null==n?",f":n)).type){case"s":var i=Math.max(Math.abs(e),Math.abs(t));return null!=n.precision||isNaN(o=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(mL(t)/3)))-mL(Math.abs(e)))}(a,i))||(n.precision=o),jL(n,i);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(o=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,mL(t)-mL(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(n.precision=o-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(o=function(e){return Math.max(0,-mL(Math.abs(e)))}(a))||(n.precision=o-2*("%"===n.type))}return yL(n)}function EL(e){var t=e.domain;return e.ticks=function(e){var r=t();return q$(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){var n=t();return AL(n[0],n[n.length-1],null==e?10:e,r)},e.nice=function(r){null==r&&(r=10);var n,o,a=t(),i=0,s=a.length-1,l=a[i],c=a[s],d=10;for(c<l&&(o=l,l=c,c=o,o=i,i=s,s=o);d-- >0;){if((o=Y$(l,c,r))===n)return a[i]=l,a[s]=c,t(a);if(o>0)l=Math.floor(l/o)*o,c=Math.ceil(c/o)*o;else{if(!(o<0))break;l=Math.ceil(l*o)/o,c=Math.floor(c*o)/o}n=o}return e},e}function kL(){var e=cL();return e.copy=function(){return sL(e,kL())},YN.apply(e,arguments),EL(e)}function OL(e){var t;function r(e){return null==e||isNaN(e=+e)?t:e}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(e=Array.from(t,tL),r):e.slice()},r.unknown=function(e){return arguments.length?(t=e,r):t},r.copy=function(){return OL(e).unknown(t)},e=arguments.length?Array.from(e,tL):[0,1],EL(r)}function PL(e,t){var r,n=0,o=(e=e.slice()).length-1,a=e[n],i=e[o];return i<a&&(r=n,n=o,o=r,r=a,a=i,i=r),e[n]=t.floor(a),e[o]=t.ceil(i),e}function IL(e){return Math.log(e)}function DL(e){return Math.exp(e)}function ML(e){return-Math.log(-e)}function TL(e){return-Math.exp(-e)}function RL(e){return isFinite(e)?+("1e"+e):e<0?0:e}function NL(e){return(t,r)=>-e(-t,r)}function $L(e){const t=e(IL,DL),r=t.domain;let n,o,a=10;function i(){return n=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(a),o=function(e){return 10===e?RL:e===Math.E?Math.exp:t=>Math.pow(e,t)}(a),r()[0]<0?(n=NL(n),o=NL(o),e(ML,TL)):e(IL,DL),t}return t.base=function(e){return arguments.length?(a=+e,i()):a},t.domain=function(e){return arguments.length?(r(e),i()):r()},t.ticks=e=>{const t=r();let i=t[0],s=t[t.length-1];const l=s<i;l&&([i,s]=[s,i]);let c,d,u=n(i),p=n(s);const h=null==e?10:+e;let f=[];if(!(a%1)&&p-u<h){if(u=Math.floor(u),p=Math.ceil(p),i>0){for(;u<=p;++u)for(c=1;c<a;++c)if(d=u<0?c/o(-u):c*o(u),!(d<i)){if(d>s)break;f.push(d)}}else for(;u<=p;++u)for(c=a-1;c>=1;--c)if(d=u>0?c/o(-u):c*o(u),!(d<i)){if(d>s)break;f.push(d)}2*f.length<h&&(f=q$(i,s,h))}else f=q$(u,p,Math.min(p-u,h)).map(o);return l?f.reverse():f},t.tickFormat=(e,r)=>{if(null==e&&(e=10),null==r&&(r=10===a?"s":","),"function"!==typeof r&&(a%1||null!=(r=pL(r)).precision||(r.trim=!0),r=yL(r)),e===1/0)return r;const i=Math.max(1,a*e/t.ticks().length);return e=>{let t=e/o(Math.round(n(e)));return t*a<a-.5&&(t*=a),t<=i?r(e):""}},t.nice=()=>r(PL(r(),{floor:e=>o(Math.floor(n(e))),ceil:e=>o(Math.ceil(n(e)))})),t}function zL(){const e=$L(lL()).domain([1,10]);return e.copy=()=>sL(e,zL()).base(e.base()),YN.apply(e,arguments),e}function LL(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function BL(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function FL(e){var t=1,r=e(LL(t),BL(t));return r.constant=function(r){return arguments.length?e(LL(t=+r),BL(t)):t},EL(r)}function _L(){var e=FL(lL());return e.copy=function(){return sL(e,_L()).constant(e.constant())},YN.apply(e,arguments)}function UL(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function WL(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function VL(e){return e<0?-e*e:e*e}function GL(e){var t=e(nL,nL),r=1;return t.exponent=function(t){return arguments.length?1===(r=+t)?e(nL,nL):.5===r?e(WL,VL):e(UL(r),UL(1/r)):r},EL(t)}function HL(){var e=GL(lL());return e.copy=function(){return sL(e,HL()).exponent(e.exponent())},YN.apply(e,arguments),e}function qL(){return HL.apply(null,arguments).exponent(.5)}function YL(e){return Math.sign(e)*e*e}function KL(){var e,t=cL(),r=[0,1],n=!1;function o(r){var o=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(r));return isNaN(o)?e:n?Math.round(o):o}return o.invert=function(e){return t.invert(YL(e))},o.domain=function(e){return arguments.length?(t.domain(e),o):t.domain()},o.range=function(e){return arguments.length?(t.range((r=Array.from(e,tL)).map(YL)),o):r.slice()},o.rangeRound=function(e){return o.range(e).round(!0)},o.round=function(e){return arguments.length?(n=!!e,o):n},o.clamp=function(e){return arguments.length?(t.clamp(e),o):t.clamp()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return KL(t.domain(),r).round(n).clamp(t.clamp()).unknown(e)},YN.apply(o,arguments),EL(o)}function XL(e,t){let r;if(void 0===t)for(const n of e)null!=n&&(r<n||void 0===r&&n>=n)&&(r=n);else{let n=-1;for(let o of e)null!=(o=t(o,++n,e))&&(r<o||void 0===r&&o>=o)&&(r=o)}return r}function QL(e,t){let r;if(void 0===t)for(const n of e)null!=n&&(r>n||void 0===r&&n>=n)&&(r=n);else{let n=-1;for(let o of e)null!=(o=t(o,++n,e))&&(r>o||void 0===r&&o>=o)&&(r=o)}return r}function JL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X$;if(e===X$)return ZL;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||0===n?n:(0===e(r,r))-(0===e(t,t))}}function ZL(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function eB(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,o=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(o=void 0===o?ZL:JL(o);n>r;){if(n-r>600){const a=n-r+1,i=t-r+1,s=Math.log(a),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(a-l)/a)*(i-a/2<0?-1:1);eB(e,t,Math.max(r,Math.floor(t-i*l/a+c)),Math.min(n,Math.floor(t+(a-i)*l/a+c)),o)}const a=e[t];let i=r,s=n;for(tB(e,r,t),o(e[n],a)>0&&tB(e,r,n);i<s;){for(tB(e,i,s),++i,--s;o(e[i],a)<0;)++i;for(;o(e[s],a)>0;)--s}0===o(e[r],a)?tB(e,r,s):(++s,tB(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function tB(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function rB(e,t,r){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let r of e)null!=r&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)null!=(n=t(n,++r,e))&&(n=+n)>=n&&(yield n)}}(e,r)),(n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return QL(e);if(t>=1)return XL(e);var n,o=(n-1)*t,a=Math.floor(o),i=XL(eB(e,a).subarray(0,a+1));return i+(QL(e.subarray(a+1))-i)*(o-a)}}function nB(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ez;if((n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,o=(n-1)*t,a=Math.floor(o),i=+r(e[a],a,e);return i+(+r(e[a+1],a+1,e)-i)*(o-a)}}function oB(){var e,t=[],r=[],n=[];function o(){var e=0,o=Math.max(1,r.length);for(n=new Array(o-1);++e<o;)n[e-1]=nB(t,e/o);return a}function a(t){return null==t||isNaN(t=+t)?e:r[nz(n,t)]}return a.invertExtent=function(e){var o=r.indexOf(e);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let r of e)null==r||isNaN(r=+r)||t.push(r);return t.sort(X$),o()},a.range=function(e){return arguments.length?(r=Array.from(e),o()):r.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return n.slice()},a.copy=function(){return oB().domain(t).range(r).unknown(e)},YN.apply(a,arguments)}function aB(){var e,t=0,r=1,n=1,o=[.5],a=[0,1];function i(t){return null!=t&&t<=t?a[nz(o,t,0,n)]:e}function s(){var e=-1;for(o=new Array(n);++e<n;)o[e]=((e+1)*r-(e-n)*t)/(n+1);return i}return i.domain=function(e){return arguments.length?([t,r]=e,t=+t,r=+r,s()):[t,r]},i.range=function(e){return arguments.length?(n=(a=Array.from(e)).length-1,s()):a.slice()},i.invertExtent=function(e){var i=a.indexOf(e);return i<0?[NaN,NaN]:i<1?[t,o[0]]:i>=n?[o[n-1],r]:[o[i-1],o[i]]},i.unknown=function(t){return arguments.length?(e=t,i):i},i.thresholds=function(){return o.slice()},i.copy=function(){return aB().domain([t,r]).range(a).unknown(e)},YN.apply(EL(i),arguments)}function iB(){var e,t=[.5],r=[0,1],n=1;function o(o){return null!=o&&o<=o?r[nz(t,o,0,n)]:e}return o.domain=function(e){return arguments.length?(t=Array.from(e),n=Math.min(t.length,r.length-1),o):t.slice()},o.range=function(e){return arguments.length?(r=Array.from(e),n=Math.min(t.length,r.length-1),o):r.slice()},o.invertExtent=function(e){var n=r.indexOf(e);return[t[n-1],t[n]]},o.unknown=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return iB().domain(t).range(r).unknown(e)},YN.apply(o,arguments)}bL=CL({thousands:",",grouping:[3],currency:["$",""]}),yL=bL.format,jL=bL.formatPrefix;const sB=1e3,lB=6e4,cB=36e5,dB=864e5,uB=6048e5,pB=2592e6,hB=31536e6,fB=new Date,mB=new Date;function gB(e,t,r,n){function o(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return o.floor=t=>(e(t=new Date(+t)),t),o.ceil=r=>(e(r=new Date(r-1)),t(r,1),e(r),r),o.round=e=>{const t=o(e),r=o.ceil(e);return e-t<r-e?t:r},o.offset=(e,r)=>(t(e=new Date(+e),null==r?1:Math.floor(r)),e),o.range=(r,n,a)=>{const i=[];if(r=o.ceil(r),a=null==a?1:Math.floor(a),!(r<n)||!(a>0))return i;let s;do{i.push(s=new Date(+r)),t(r,a),e(r)}while(s<r&&r<n);return i},o.filter=r=>gB((t=>{if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)}),((e,n)=>{if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!r(e););else for(;--n>=0;)for(;t(e,1),!r(e););})),r&&(o.count=(t,n)=>(fB.setTime(+t),mB.setTime(+n),e(fB),e(mB),Math.floor(r(fB,mB))),o.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?o.filter(n?t=>n(t)%e===0:t=>o.count(0,t)%e===0):o:null)),o}const vB=gB((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));vB.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?gB((t=>{t.setTime(Math.floor(t/e)*e)}),((t,r)=>{t.setTime(+t+r*e)}),((t,r)=>(r-t)/e)):vB:null);vB.range;const xB=gB((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*sB)}),((e,t)=>(t-e)/sB),(e=>e.getUTCSeconds())),bB=(xB.range,gB((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*sB)}),((e,t)=>{e.setTime(+e+t*lB)}),((e,t)=>(t-e)/lB),(e=>e.getMinutes()))),yB=(bB.range,gB((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*lB)}),((e,t)=>(t-e)/lB),(e=>e.getUTCMinutes()))),jB=(yB.range,gB((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*sB-e.getMinutes()*lB)}),((e,t)=>{e.setTime(+e+t*cB)}),((e,t)=>(t-e)/cB),(e=>e.getHours()))),wB=(jB.range,gB((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*cB)}),((e,t)=>(t-e)/cB),(e=>e.getUTCHours()))),SB=(wB.range,gB((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*lB)/dB),(e=>e.getDate()-1))),CB=(SB.range,gB((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/dB),(e=>e.getUTCDate()-1))),AB=(CB.range,gB((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/dB),(e=>Math.floor(e/dB))));AB.range;function EB(e){return gB((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*lB)/uB))}const kB=EB(0),OB=EB(1),PB=EB(2),IB=EB(3),DB=EB(4),MB=EB(5),TB=EB(6);kB.range,OB.range,PB.range,IB.range,DB.range,MB.range,TB.range;function RB(e){return gB((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/uB))}const NB=RB(0),$B=RB(1),zB=RB(2),LB=RB(3),BB=RB(4),FB=RB(5),_B=RB(6),UB=(NB.range,$B.range,zB.range,LB.range,BB.range,FB.range,_B.range,gB((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth()))),WB=(UB.range,gB((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()))),VB=(WB.range,gB((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear())));VB.every=e=>isFinite(e=Math.floor(e))&&e>0?gB((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,r)=>{t.setFullYear(t.getFullYear()+r*e)})):null;VB.range;const GB=gB((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));GB.every=e=>isFinite(e=Math.floor(e))&&e>0?gB((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)})):null;GB.range;function HB(e,t,r,n,o,a){const i=[[xB,1,sB],[xB,5,5e3],[xB,15,15e3],[xB,30,3e4],[a,1,lB],[a,5,3e5],[a,15,9e5],[a,30,18e5],[o,1,cB],[o,3,108e5],[o,6,216e5],[o,12,432e5],[n,1,dB],[n,2,1728e5],[r,1,uB],[t,1,pB],[t,3,7776e6],[e,1,hB]];function s(t,r,n){const o=Math.abs(r-t)/n,a=J$((e=>{let[,,t]=e;return t})).right(i,o);if(a===i.length)return e.every(K$(t/hB,r/hB,n));if(0===a)return vB.every(Math.max(K$(t,r,n),1));const[s,l]=i[o/i[a-1][2]<i[a][2]/o?a-1:a];return s.every(l)}return[function(e,t,r){const n=t<e;n&&([e,t]=[t,e]);const o=r&&"function"===typeof r.range?r:s(e,t,r),a=o?o.range(e,+t+1):[];return n?a.reverse():a},s]}const[qB,YB]=HB(GB,WB,NB,AB,wB,yB),[KB,XB]=HB(VB,UB,kB,SB,jB,bB);function QB(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function JB(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ZB(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}var eF,tF,rF,nF={"-":"",_:" ",0:"0"},oF=/^\s*\d+/,aF=/^%/,iF=/[\\^$*+?|[\]().{}]/g;function sF(e,t,r){var n=e<0?"-":"",o=(n?-e:e)+"",a=o.length;return n+(a<r?new Array(r-a+1).join(t)+o:o)}function lF(e){return e.replace(iF,"\\$&")}function cF(e){return new RegExp("^(?:"+e.map(lF).join("|")+")","i")}function dF(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function uF(e,t,r){var n=oF.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function pF(e,t,r){var n=oF.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function hF(e,t,r){var n=oF.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function fF(e,t,r){var n=oF.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function mF(e,t,r){var n=oF.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function gF(e,t,r){var n=oF.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function vF(e,t,r){var n=oF.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function xF(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function bF(e,t,r){var n=oF.exec(t.slice(r,r+1));return n?(e.q=3*n[0]-3,r+n[0].length):-1}function yF(e,t,r){var n=oF.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function jF(e,t,r){var n=oF.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function wF(e,t,r){var n=oF.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function SF(e,t,r){var n=oF.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function CF(e,t,r){var n=oF.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function AF(e,t,r){var n=oF.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function EF(e,t,r){var n=oF.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function kF(e,t,r){var n=oF.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function OF(e,t,r){var n=aF.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function PF(e,t,r){var n=oF.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function IF(e,t,r){var n=oF.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function DF(e,t){return sF(e.getDate(),t,2)}function MF(e,t){return sF(e.getHours(),t,2)}function TF(e,t){return sF(e.getHours()%12||12,t,2)}function RF(e,t){return sF(1+SB.count(VB(e),e),t,3)}function NF(e,t){return sF(e.getMilliseconds(),t,3)}function $F(e,t){return NF(e,t)+"000"}function zF(e,t){return sF(e.getMonth()+1,t,2)}function LF(e,t){return sF(e.getMinutes(),t,2)}function BF(e,t){return sF(e.getSeconds(),t,2)}function FF(e){var t=e.getDay();return 0===t?7:t}function _F(e,t){return sF(kB.count(VB(e)-1,e),t,2)}function UF(e){var t=e.getDay();return t>=4||0===t?DB(e):DB.ceil(e)}function WF(e,t){return e=UF(e),sF(DB.count(VB(e),e)+(4===VB(e).getDay()),t,2)}function VF(e){return e.getDay()}function GF(e,t){return sF(OB.count(VB(e)-1,e),t,2)}function HF(e,t){return sF(e.getFullYear()%100,t,2)}function qF(e,t){return sF((e=UF(e)).getFullYear()%100,t,2)}function YF(e,t){return sF(e.getFullYear()%1e4,t,4)}function KF(e,t){var r=e.getDay();return sF((e=r>=4||0===r?DB(e):DB.ceil(e)).getFullYear()%1e4,t,4)}function XF(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+sF(t/60|0,"0",2)+sF(t%60,"0",2)}function QF(e,t){return sF(e.getUTCDate(),t,2)}function JF(e,t){return sF(e.getUTCHours(),t,2)}function ZF(e,t){return sF(e.getUTCHours()%12||12,t,2)}function e_(e,t){return sF(1+CB.count(GB(e),e),t,3)}function t_(e,t){return sF(e.getUTCMilliseconds(),t,3)}function r_(e,t){return t_(e,t)+"000"}function n_(e,t){return sF(e.getUTCMonth()+1,t,2)}function o_(e,t){return sF(e.getUTCMinutes(),t,2)}function a_(e,t){return sF(e.getUTCSeconds(),t,2)}function i_(e){var t=e.getUTCDay();return 0===t?7:t}function s_(e,t){return sF(NB.count(GB(e)-1,e),t,2)}function l_(e){var t=e.getUTCDay();return t>=4||0===t?BB(e):BB.ceil(e)}function c_(e,t){return e=l_(e),sF(BB.count(GB(e),e)+(4===GB(e).getUTCDay()),t,2)}function d_(e){return e.getUTCDay()}function u_(e,t){return sF($B.count(GB(e)-1,e),t,2)}function p_(e,t){return sF(e.getUTCFullYear()%100,t,2)}function h_(e,t){return sF((e=l_(e)).getUTCFullYear()%100,t,2)}function f_(e,t){return sF(e.getUTCFullYear()%1e4,t,4)}function m_(e,t){var r=e.getUTCDay();return sF((e=r>=4||0===r?BB(e):BB.ceil(e)).getUTCFullYear()%1e4,t,4)}function g_(){return"+0000"}function v_(){return"%"}function x_(e){return+e}function b_(e){return Math.floor(+e/1e3)}function y_(e){return new Date(e)}function j_(e){return e instanceof Date?+e:+new Date(+e)}function w_(e,t,r,n,o,a,i,s,l,c){var d=cL(),u=d.invert,p=d.domain,h=c(".%L"),f=c(":%S"),m=c("%I:%M"),g=c("%I %p"),v=c("%a %d"),x=c("%b %d"),b=c("%B"),y=c("%Y");function j(e){return(l(e)<e?h:s(e)<e?f:i(e)<e?m:a(e)<e?g:n(e)<e?o(e)<e?v:x:r(e)<e?b:y)(e)}return d.invert=function(e){return new Date(u(e))},d.domain=function(e){return arguments.length?p(Array.from(e,j_)):p().map(y_)},d.ticks=function(t){var r=p();return e(r[0],r[r.length-1],null==t?10:t)},d.tickFormat=function(e,t){return null==t?j:c(t)},d.nice=function(e){var r=p();return e&&"function"===typeof e.range||(e=t(r[0],r[r.length-1],null==e?10:e)),e?p(PL(r,e)):d},d.copy=function(){return sL(d,w_(e,t,r,n,o,a,i,s,l,c))},d}function S_(){return YN.apply(w_(KB,XB,VB,UB,kB,SB,jB,bB,xB,tF).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function C_(){return YN.apply(w_(qB,YB,GB,WB,NB,CB,wB,yB,xB,rF).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function A_(){var e,t,r,n,o,a=0,i=1,s=nL,l=!1;function c(t){return null==t||isNaN(t=+t)?o:s(0===r?.5:(t=(n(t)-e)*r,l?Math.max(0,Math.min(1,t)):t))}function d(e){return function(t){var r,n;return arguments.length?([r,n]=t,s=e(r,n),c):[s(0),s(1)]}}return c.domain=function(o){return arguments.length?([a,i]=o,e=n(a=+a),t=n(i=+i),r=e===t?0:1/(t-e),c):[a,i]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=d(Zz),c.rangeRound=d(eL),c.unknown=function(e){return arguments.length?(o=e,c):o},function(o){return n=o,e=o(a),t=o(i),r=e===t?0:1/(t-e),c}}function E_(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function k_(){var e=EL(A_()(nL));return e.copy=function(){return E_(e,k_())},KN.apply(e,arguments)}function O_(){var e=$L(A_()).domain([1,10]);return e.copy=function(){return E_(e,O_()).base(e.base())},KN.apply(e,arguments)}function P_(){var e=FL(A_());return e.copy=function(){return E_(e,P_()).constant(e.constant())},KN.apply(e,arguments)}function I_(){var e=GL(A_());return e.copy=function(){return E_(e,I_()).exponent(e.exponent())},KN.apply(e,arguments)}function D_(){return I_.apply(null,arguments).exponent(.5)}function M_(){var e=[],t=nL;function r(r){if(null!=r&&!isNaN(r=+r))return t((nz(e,r,1)-1)/(e.length-1))}return r.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let r of t)null==r||isNaN(r=+r)||e.push(r);return e.sort(X$),r},r.interpolator=function(e){return arguments.length?(t=e,r):t},r.range=function(){return e.map(((r,n)=>t(n/(e.length-1))))},r.quantiles=function(t){return Array.from({length:t+1},((r,n)=>rB(e,n/t)))},r.copy=function(){return M_(t).domain(e)},KN.apply(r,arguments)}function T_(){var e,t,r,n,o,a,i,s=0,l=.5,c=1,d=1,u=nL,p=!1;function h(e){return isNaN(e=+e)?i:(e=.5+((e=+a(e))-t)*(d*e<d*t?n:o),u(p?Math.max(0,Math.min(1,e)):e))}function f(e){return function(t){var r,n,o;return arguments.length?([r,n,o]=t,u=function(e,t){void 0===t&&(t=e,e=Zz);for(var r=0,n=t.length-1,o=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(o,o=t[++r]);return function(e){var t=Math.max(0,Math.min(n-1,Math.floor(e*=n)));return a[t](e-t)}}(e,[r,n,o]),h):[u(0),u(.5),u(1)]}}return h.domain=function(i){return arguments.length?([s,l,c]=i,e=a(s=+s),t=a(l=+l),r=a(c=+c),n=e===t?0:.5/(t-e),o=t===r?0:.5/(r-t),d=t<e?-1:1,h):[s,l,c]},h.clamp=function(e){return arguments.length?(p=!!e,h):p},h.interpolator=function(e){return arguments.length?(u=e,h):u},h.range=f(Zz),h.rangeRound=f(eL),h.unknown=function(e){return arguments.length?(i=e,h):i},function(i){return a=i,e=i(s),t=i(l),r=i(c),n=e===t?0:.5/(t-e),o=t===r?0:.5/(r-t),d=t<e?-1:1,h}}function R_(){var e=EL(T_()(nL));return e.copy=function(){return E_(e,R_())},KN.apply(e,arguments)}function N_(){var e=$L(T_()).domain([.1,1,10]);return e.copy=function(){return E_(e,N_()).base(e.base())},KN.apply(e,arguments)}function $_(){var e=FL(T_());return e.copy=function(){return E_(e,$_()).constant(e.constant())},KN.apply(e,arguments)}function z_(){var e=GL(T_());return e.copy=function(){return E_(e,z_()).exponent(e.exponent())},KN.apply(e,arguments)}function L_(){return z_.apply(null,arguments).exponent(.5)}function B_(e,t){if((o=e.length)>1)for(var r,n,o,a=1,i=e[t[0]],s=i.length;a<o;++a)for(n=i,i=e[t[a]],r=0;r<s;++r)i[r][1]+=i[r][0]=isNaN(n[r][1])?n[r][0]:n[r][1]}!function(e){eF=function(e){var t=e.dateTime,r=e.date,n=e.time,o=e.periods,a=e.days,i=e.shortDays,s=e.months,l=e.shortMonths,c=cF(o),d=dF(o),u=cF(a),p=dF(a),h=cF(i),f=dF(i),m=cF(s),g=dF(s),v=cF(l),x=dF(l),b={a:function(e){return i[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:DF,e:DF,f:$F,g:qF,G:KF,H:MF,I:TF,j:RF,L:NF,m:zF,M:LF,p:function(e){return o[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:x_,s:b_,S:BF,u:FF,U:_F,V:WF,w:VF,W:GF,x:null,X:null,y:HF,Y:YF,Z:XF,"%":v_},y={a:function(e){return i[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:QF,e:QF,f:r_,g:h_,G:m_,H:JF,I:ZF,j:e_,L:t_,m:n_,M:o_,p:function(e){return o[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:x_,s:b_,S:a_,u:i_,U:s_,V:c_,w:d_,W:u_,x:null,X:null,y:p_,Y:f_,Z:g_,"%":v_},j={a:function(e,t,r){var n=h.exec(t.slice(r));return n?(e.w=f.get(n[0].toLowerCase()),r+n[0].length):-1},A:function(e,t,r){var n=u.exec(t.slice(r));return n?(e.w=p.get(n[0].toLowerCase()),r+n[0].length):-1},b:function(e,t,r){var n=v.exec(t.slice(r));return n?(e.m=x.get(n[0].toLowerCase()),r+n[0].length):-1},B:function(e,t,r){var n=m.exec(t.slice(r));return n?(e.m=g.get(n[0].toLowerCase()),r+n[0].length):-1},c:function(e,r,n){return C(e,t,r,n)},d:jF,e:jF,f:kF,g:vF,G:gF,H:SF,I:SF,j:wF,L:EF,m:yF,M:CF,p:function(e,t,r){var n=c.exec(t.slice(r));return n?(e.p=d.get(n[0].toLowerCase()),r+n[0].length):-1},q:bF,Q:PF,s:IF,S:AF,u:pF,U:hF,V:fF,w:uF,W:mF,x:function(e,t,n){return C(e,r,t,n)},X:function(e,t,r){return C(e,n,t,r)},y:vF,Y:gF,Z:xF,"%":OF};function w(e,t){return function(r){var n,o,a,i=[],s=-1,l=0,c=e.length;for(r instanceof Date||(r=new Date(+r));++s<c;)37===e.charCodeAt(s)&&(i.push(e.slice(l,s)),null!=(o=nF[n=e.charAt(++s)])?n=e.charAt(++s):o="e"===n?" ":"0",(a=t[n])&&(n=a(r,o)),i.push(n),l=s+1);return i.push(e.slice(l,s)),i.join("")}}function S(e,t){return function(r){var n,o,a=ZB(1900,void 0,1);if(C(a,e,r+="",0)!=r.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(o=(n=JB(ZB(a.y,0,1))).getUTCDay(),n=o>4||0===o?$B.ceil(n):$B(n),n=CB.offset(n,7*(a.V-1)),a.y=n.getUTCFullYear(),a.m=n.getUTCMonth(),a.d=n.getUTCDate()+(a.w+6)%7):(o=(n=QB(ZB(a.y,0,1))).getDay(),n=o>4||0===o?OB.ceil(n):OB(n),n=SB.offset(n,7*(a.V-1)),a.y=n.getFullYear(),a.m=n.getMonth(),a.d=n.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),o="Z"in a?JB(ZB(a.y,0,1)).getUTCDay():QB(ZB(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(o+5)%7:a.w+7*a.U-(o+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,JB(a)):QB(a)}}function C(e,t,r,n){for(var o,a,i=0,s=t.length,l=r.length;i<s;){if(n>=l)return-1;if(37===(o=t.charCodeAt(i++))){if(o=t.charAt(i++),!(a=j[o in nF?t.charAt(i++):o])||(n=a(e,r,n))<0)return-1}else if(o!=r.charCodeAt(n++))return-1}return n}return b.x=w(r,b),b.X=w(n,b),b.c=w(t,b),y.x=w(r,y),y.X=w(n,y),y.c=w(t,y),{format:function(e){var t=w(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=S(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",y);return t.toString=function(){return e},t},utcParse:function(e){var t=S(e+="",!0);return t.toString=function(){return e},t}}}(e),tF=eF.format,eF.parse,rF=eF.utcFormat,eF.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function F_(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function __(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function U_(e,t){return e[t]}function W_(e){const t=[];return t.key=e,t}var V_=r(539),G_=r.n(V_),H_=r(6745),q_=r.n(H_),Y_=r(3538),K_=r.n(Y_),X_=r(9853),Q_=r.n(X_),J_=r(8210),Z_=r.n(J_);function eU(e){return function(e){if(Array.isArray(e))return tU(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return tU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tU(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tU(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var rU=function(e){return e},nU={"@@functional/placeholder":!0},oU=function(e){return e===nU},aU=function(e){return function t(){return 0===arguments.length||1===arguments.length&&oU(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},iU=function e(t,r){return 1===t?r:aU((function(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];var i=o.filter((function(e){return e!==nU})).length;return i>=t?r.apply(void 0,o):e(t-i,aU((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=o.map((function(e){return oU(e)?t.shift():e}));return r.apply(void 0,eU(a).concat(t))})))}))},sU=function(e){return iU(e.length,e)},lU=function(e,t){for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},cU=sU((function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map((function(e){return t[e]})).map(e)})),dU=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return rU;var n=t.reverse(),o=n[0],a=n.slice(1);return function(){return a.reduce((function(e,t){return t(e)}),o.apply(void 0,arguments))}},uU=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},pU=function(e){var t=null,r=null;return function(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t&&o.every((function(e,r){return e===t[r]}))?r:(t=o,r=e.apply(void 0,o))}};const hU={rangeStep:function(e,t,r){for(var n=new(Z_())(e),o=0,a=[];n.lt(t)&&o<1e5;)a.push(n.toNumber()),n=n.add(r),o++;return a},getDigitCount:function(e){return 0===e?1:Math.floor(new(Z_())(e).abs().log(10).toNumber())+1},interpolateNumber:sU((function(e,t,r){var n=+e;return n+r*(+t-n)})),uninterpolateNumber:sU((function(e,t,r){var n=t-+e;return(r-e)/(n=n||1/0)})),uninterpolateTruncation:sU((function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))}))};function fU(e){return function(e){if(Array.isArray(e))return vU(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||gU(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mU(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(l){o=!0,a=l}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(e,t)||gU(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gU(e,t){if(e){if("string"===typeof e)return vU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vU(e,t):void 0}}function vU(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xU(e){var t=mU(e,2),r=t[0],n=t[1],o=r,a=n;return r>n&&(o=n,a=r),[o,a]}function bU(e,t,r){if(e.lte(0))return new(Z_())(0);var n=hU.getDigitCount(e.toNumber()),o=new(Z_())(10).pow(n),a=e.div(o),i=1!==n?.05:.1,s=new(Z_())(Math.ceil(a.div(i).toNumber())).add(r).mul(i).mul(o);return t?s:new(Z_())(Math.ceil(s))}function yU(e,t,r){var n=1,o=new(Z_())(e);if(!o.isint()&&r){var a=Math.abs(e);a<1?(n=new(Z_())(10).pow(hU.getDigitCount(e)-1),o=new(Z_())(Math.floor(o.div(n).toNumber())).mul(n)):a>1&&(o=new(Z_())(Math.floor(e)))}else 0===e?o=new(Z_())(Math.floor((t-1)/2)):r||(o=new(Z_())(Math.floor(e)));var i=Math.floor((t-1)/2);return dU(cU((function(e){return o.add(new(Z_())(e-i).mul(n)).toNumber()})),lU)(0,t)}function jU(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new(Z_())(0),tickMin:new(Z_())(0),tickMax:new(Z_())(0)};var a,i=bU(new(Z_())(t).sub(e).div(r-1),n,o);a=e<=0&&t>=0?new(Z_())(0):(a=new(Z_())(e).add(t).div(2)).sub(new(Z_())(a).mod(i));var s=Math.ceil(a.sub(e).div(i).toNumber()),l=Math.ceil(new(Z_())(t).sub(a).div(i).toNumber()),c=s+l+1;return c>r?jU(e,t,r,n,o+1):(c<r&&(l=t>0?l+(r-c):l,s=t>0?s:s+(r-c)),{step:i,tickMin:a.sub(new(Z_())(s).mul(i)),tickMax:a.add(new(Z_())(l).mul(i))})}var wU=pU((function(e){var t=mU(e,2),r=t[0],n=t[1],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Math.max(o,2),s=mU(xU([r,n]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0){var d=c===1/0?[l].concat(fU(lU(0,o-1).map((function(){return 1/0})))):[].concat(fU(lU(0,o-1).map((function(){return-1/0}))),[c]);return r>n?uU(d):d}if(l===c)return yU(l,o,a);var u=jU(l,c,i,a),p=u.step,h=u.tickMin,f=u.tickMax,m=hU.rangeStep(h,f.add(new(Z_())(.1).mul(p)),p);return r>n?uU(m):m})),SU=(pU((function(e){var t=mU(e,2),r=t[0],n=t[1],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Math.max(o,2),s=mU(xU([r,n]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[r,n];if(l===c)return yU(l,o,a);var d=bU(new(Z_())(c).sub(l).div(i-1),a,0),u=dU(cU((function(e){return new(Z_())(l).add(new(Z_())(e).mul(d)).toNumber()})),lU)(0,i).filter((function(e){return e>=l&&e<=c}));return r>n?uU(u):u})),pU((function(e,t){var r=mU(e,2),n=r[0],o=r[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=mU(xU([n,o]),2),s=i[0],l=i[1];if(s===-1/0||l===1/0)return[n,o];if(s===l)return[s];var c=Math.max(t,2),d=bU(new(Z_())(l).sub(s).div(c-1),a,0),u=[].concat(fU(hU.rangeStep(new(Z_())(s),new(Z_())(l).sub(new(Z_())(.99).mul(d)),d)),[l]);return n>o?uU(u):u}))),CU=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function AU(e){return AU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AU(e)}function EU(){return EU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},EU.apply(this,arguments)}function kU(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return OU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OU(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function OU(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function PU(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function IU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$U(n.key),n)}}function DU(e,t,r){return t=TU(t),function(e,t){if(t&&("object"===AU(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,MU()?Reflect.construct(t,r||[],TU(e).constructor):t.apply(e,r))}function MU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(MU=function(){return!!e})()}function TU(e){return TU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},TU(e)}function RU(e,t){return RU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},RU(e,t)}function NU(e,t,r){return(t=$U(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $U(e){var t=function(e,t){if("object"!=AU(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=AU(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==AU(t)?t:t+""}var zU=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),DU(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RU(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this.props,t=e.offset,r=e.layout,n=e.width,o=e.dataKey,i=e.data,s=e.dataPointFormatter,l=e.xAxis,c=e.yAxis,d=PU(e,CU),u=ND(d,!1);"x"===this.props.direction&&"number"!==l.type&&QD(!1);var p=i.map((function(e){var i=s(e,o),d=i.x,p=i.y,h=i.value,f=i.errorVal;if(!f)return null;var m,g,v=[];if(Array.isArray(f)){var x=kU(f,2);m=x[0],g=x[1]}else m=g=f;if("vertical"===r){var b=l.scale,y=p+t,j=y+n,w=y-n,S=b(h-m),C=b(h+g);v.push({x1:C,y1:j,x2:C,y2:w}),v.push({x1:S,y1:y,x2:C,y2:y}),v.push({x1:S,y1:j,x2:S,y2:w})}else if("horizontal"===r){var A=c.scale,E=d+t,k=E-n,O=E+n,P=A(h-m),I=A(h+g);v.push({x1:k,y1:I,x2:O,y2:I}),v.push({x1:E,y1:P,x2:E,y2:I}),v.push({x1:k,y1:P,x2:O,y2:P})}return a.createElement(aM,EU({className:"recharts-errorBar",key:"bar-".concat(v.map((function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)})))},u),v.map((function(e){return a.createElement("line",EU({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))})))}));return a.createElement(aM,{className:"recharts-errorBars"},p)}}])&&IU(r.prototype,n),o&&IU(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(a.Component);function LU(e){return LU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LU(e)}function BU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function FU(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?BU(Object(r),!0).forEach((function(t){_U(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BU(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _U(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=LU(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=LU(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==LU(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}NU(zU,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),NU(zU,"displayName","ErrorBar");var UU=function(e){var t=e.children,r=e.formattedGraphicalItems,n=e.legendWidth,o=e.legendContent,a=ID(t,sR);if(!a)return null;var i,s=sR.defaultProps,l=void 0!==s?FU(FU({},s),a.props):{};return i=a.props&&a.props.payload?a.props&&a.props.payload:"children"===o?(r||[]).reduce((function(e,t){var r=t.item,n=t.props,o=n.sectors||n.data||[];return e.concat(o.map((function(e){return{type:a.props.iconType||r.props.legendType,value:e.name,color:e.fill,payload:e}})))}),[]):(r||[]).map((function(e){var t=e.item,r=t.type.defaultProps,n=void 0!==r?FU(FU({},r),t.props):{},o=n.dataKey,a=n.name,i=n.legendType;return{inactive:n.hide,dataKey:o,type:l.iconType||i||"square",color:QU(t),value:a||o,payload:n}})),FU(FU(FU({},l),sR.getWithHeight(a,n)),{},{payload:i,item:a})};function WU(e){return WU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WU(e)}function VU(e){return function(e){if(Array.isArray(e))return GU(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return GU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GU(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GU(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function HU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qU(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?HU(Object(r),!0).forEach((function(t){YU(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HU(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function YU(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=WU(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=WU(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==WU(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KU(e,t,r){return iD()(e)||iD()(t)?r:XI(t)?VI()(e,t,r):lD()(t)?t(e):r}function XU(e,t,r,n){var o=K_()(e,(function(e){return KU(e,t)}));if("number"===r){var a=o.filter((function(e){return KI(e)||parseFloat(e)}));return a.length?[q_()(a),G_()(a)]:[1/0,-1/0]}return(n?o.filter((function(e){return!iD()(e)})):o).map((function(e){return XI(e)||e instanceof Date?e:""}))}var QU=function(e){var t,r,n=e.type.displayName,o=null!==(t=e.type)&&void 0!==t&&t.defaultProps?qU(qU({},e.type.defaultProps),e.props):e.props,a=o.stroke,i=o.fill;switch(n){case"Line":r=a;break;case"Area":case"Radar":r=a&&"none"!==a?a:i;break;default:r=i}return r},JU=function(e,t,r,n,o){var a=PD(t.props.children,zU).filter((function(e){return function(e,t,r){return!!iD()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===r?"xAxis"===t:"y"!==r||"yAxis"===t)}(n,o,e.props.direction)}));if(a&&a.length){var i=a.map((function(e){return e.props.dataKey}));return e.reduce((function(e,t){var n=KU(t,r);if(iD()(n))return e;var o=Array.isArray(n)?[q_()(n),G_()(n)]:[n,n],a=i.reduce((function(e,r){var n=KU(t,r,0),a=o[0]-Math.abs(Array.isArray(n)?n[0]:n),i=o[1]+Math.abs(Array.isArray(n)?n[1]:n);return[Math.min(a,e[0]),Math.max(i,e[1])]}),[1/0,-1/0]);return[Math.min(a[0],e[0]),Math.max(a[1],e[1])]}),[1/0,-1/0])}return null},ZU=function(e,t,r,n,o){var a=t.map((function(t){var a=t.props.dataKey;return"number"===r&&a&&JU(e,t,a,n)||XU(e,a,r,o)}));if("number"===r)return a.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]);var i={};return a.reduce((function(e,t){for(var r=0,n=t.length;r<n;r++)i[t[r]]||(i[t[r]]=!0,e.push(t[r]));return e}),[])},eW=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},tW=function(e,t,r,n){if(n)return e.map((function(e){return e.coordinate}));var o,a,i=e.map((function(e){return e.coordinate===t&&(o=!0),e.coordinate===r&&(a=!0),e.coordinate}));return o||i.push(t),a||i.push(r),i},rW=function(e,t,r){if(!e)return null;var n=e.scale,o=e.duplicateDomain,a=e.type,i=e.range,s="scaleBand"===e.realScaleType?n.bandwidth()/2:2,l=(t||r)&&"category"===a&&n.bandwidth?n.bandwidth()/s:0;return l="angleAxis"===e.axisType&&(null===i||void 0===i?void 0:i.length)>=2?2*qI(i[0]-i[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map((function(e){var t=o?o.indexOf(e):e;return{coordinate:n(t)+l,value:e,offset:l}})).filter((function(e){return!UI()(e.coordinate)})):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map((function(e,t){return{coordinate:n(e)+l,value:e,index:t,offset:l}})):n.ticks&&!r?n.ticks(e.tickCount).map((function(e){return{coordinate:n(e)+l,value:e,offset:l}})):n.domain().map((function(e,t){return{coordinate:n(e)+l,value:o?o[e]:e,index:t,offset:l}}))},nW=new WeakMap,oW=function(e,t){if("function"!==typeof t)return e;nW.has(e)||nW.set(e,new WeakMap);var r=nW.get(e);if(r.has(t))return r.get(t);var n=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return r.set(t,n),n},aW=function(e,r,n){var o=e.scale,a=e.type,i=e.layout,s=e.axisType;if("auto"===o)return"radial"===i&&"radiusAxis"===s?{scale:n$(),realScaleType:"band"}:"radial"===i&&"angleAxis"===s?{scale:kL(),realScaleType:"linear"}:"category"===a&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:a$(),realScaleType:"point"}:"category"===a?{scale:n$(),realScaleType:"band"}:{scale:kL(),realScaleType:"linear"};if(FI()(o)){var l="scale".concat(KM()(o));return{scale:(t[l]||a$)(),realScaleType:t[l]?l:"point"}}return lD()(o)?{scale:o}:{scale:a$(),realScaleType:"point"}},iW=1e-4,sW=function(e){var t=e.domain();if(t&&!(t.length<=2)){var r=t.length,n=e.range(),o=Math.min(n[0],n[1])-iW,a=Math.max(n[0],n[1])+iW,i=e(t[0]),s=e(t[r-1]);(i<o||i>a||s<o||s>a)&&e.domain([t[0],t[r-1]])}},lW={sign:function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var o=0,a=0,i=0;i<t;++i){var s=UI()(e[i][r][1])?e[i][r][0]:e[i][r][1];s>=0?(e[i][r][0]=o,e[i][r][1]=o+s,o=e[i][r][1]):(e[i][r][0]=a,e[i][r][1]=a+s,a=e[i][r][1])}},expand:function(e,t){if((n=e.length)>0){for(var r,n,o,a=0,i=e[0].length;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}B_(e,t)}},none:B_,silhouette:function(e,t){if((r=e.length)>0){for(var r,n=0,o=e[t[0]],a=o.length;n<a;++n){for(var i=0,s=0;i<r;++i)s+=e[i][n][1]||0;o[n][1]+=o[n][0]=-s/2}B_(e,t)}},wiggle:function(e,t){if((o=e.length)>0&&(n=(r=e[t[0]]).length)>0){for(var r,n,o,a=0,i=1;i<n;++i){for(var s=0,l=0,c=0;s<o;++s){for(var d=e[t[s]],u=d[i][1]||0,p=(u-(d[i-1][1]||0))/2,h=0;h<s;++h){var f=e[t[h]];p+=(f[i][1]||0)-(f[i-1][1]||0)}l+=u,c+=p*u}r[i-1][1]+=r[i-1][0]=a,l&&(a-=c/l)}r[i-1][1]+=r[i-1][0]=a,B_(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var o=0,a=0;a<t;++a){var i=UI()(e[a][r][1])?e[a][r][0]:e[a][r][1];i>=0?(e[a][r][0]=o,e[a][r][1]=o+i,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}}},cW=function(e,t,r){var n=t.map((function(e){return e.props.dataKey})),o=lW[r],a=function(){var e=xT([]),t=__,r=B_,n=U_;function o(o){var a,i,s=Array.from(e.apply(this,arguments),W_),l=s.length,c=-1;for(const e of o)for(a=0,++c;a<l;++a)(s[a][c]=[0,+n(e,s[a].key,c,o)]).data=e;for(a=0,i=F_(t(s));a<l;++a)s[i[a]].index=a;return r(s,i),s}return o.keys=function(t){return arguments.length?(e="function"===typeof t?t:xT(Array.from(t)),o):e},o.value=function(e){return arguments.length?(n="function"===typeof e?e:xT(+e),o):n},o.order=function(e){return arguments.length?(t=null==e?__:"function"===typeof e?e:xT(Array.from(e)),o):t},o.offset=function(e){return arguments.length?(r=null==e?B_:e,o):r},o}().keys(n).value((function(e,t){return+KU(e,t,0)})).order(__).offset(o);return a(e)},dW=function(e,t){var r=t.realScaleType,n=t.type,o=t.tickCount,a=t.originalDomain,i=t.allowDecimals,s=r||t.scale;if("auto"!==s&&"linear"!==s)return null;if(o&&"number"===n&&a&&("auto"===a[0]||"auto"===a[1])){var l=e.domain();if(!l.length)return null;var c=wU(l,o,i);return e.domain([q_()(c),G_()(c)]),{niceTicks:c}}if(o&&"number"===n){var d=e.domain();return{niceTicks:SU(d,o,i)}}return null};function uW(e){var t=e.axis,r=e.ticks,n=e.bandSize,o=e.entry,a=e.index,i=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!iD()(o[t.dataKey])){var s=rD(r,"value",o[t.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=KU(o,iD()(i)?t.dataKey:i);return iD()(l)?null:t.scale(l)}var pW=function(e){var t=e.axis,r=e.ticks,n=e.offset,o=e.bandSize,a=e.entry,i=e.index;if("category"===t.type)return r[i]?r[i].coordinate+n:null;var s=KU(a,t.dataKey,t.domain[i]);return iD()(s)?null:t.scale(s)-o/2+n},hW=function(e,t,r){return Object.keys(e).reduce((function(n,o){var a=e[o].stackedData.reduce((function(e,n){var o=n.slice(t,r+1).reduce((function(e,t){return[q_()(t.concat([e[0]]).filter(KI)),G_()(t.concat([e[1]]).filter(KI))]}),[1/0,-1/0]);return[Math.min(e[0],o[0]),Math.max(e[1],o[1])]}),[1/0,-1/0]);return[Math.min(a[0],n[0]),Math.max(a[1],n[1])]}),[1/0,-1/0]).map((function(e){return e===1/0||e===-1/0?0:e}))},fW=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mW=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gW=function(e,t,r){if(lD()(e))return e(t,r);if(!Array.isArray(e))return t;var n=[];if(KI(e[0]))n[0]=r?e[0]:Math.min(e[0],t[0]);else if(fW.test(e[0])){var o=+fW.exec(e[0])[1];n[0]=t[0]-o}else lD()(e[0])?n[0]=e[0](t[0]):n[0]=t[0];if(KI(e[1]))n[1]=r?e[1]:Math.max(e[1],t[1]);else if(mW.test(e[1])){var a=+mW.exec(e[1])[1];n[1]=t[1]+a}else lD()(e[1])?n[1]=e[1](t[1]):n[1]=t[1];return n},vW=function(e,t,r){if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var o=KD()(t,(function(e){return e.coordinate})),a=1/0,i=1,s=o.length;i<s;i++){var l=o[i],c=o[i-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},xW=function(e,t,r){return e&&e.length?Q_()(e,VI()(r,"type.defaultProps.domain"))?t:e:t},bW=function(e,t){var r=e.type.defaultProps?qU(qU({},e.type.defaultProps),e.props):e.props,n=r.dataKey,o=r.name,a=r.unit,i=r.formatter,s=r.tooltipType,l=r.chartType,c=r.hide;return qU(qU({},ND(e,!1)),{},{dataKey:n,unit:a,formatter:i,name:o||n,color:QU(e),value:KU(t,n),type:s,payload:t,chartType:l,hide:c})};function yW(e){return yW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yW(e)}function jW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wW(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jW(Object(r),!0).forEach((function(t){SW(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jW(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function SW(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=yW(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=yW(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yW(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var CW=["Webkit","Moz","O","ms"];function AW(e){return AW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AW(e)}function EW(){return EW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},EW.apply(this,arguments)}function kW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function OW(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kW(Object(r),!0).forEach((function(t){RW(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kW(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function PW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NW(n.key),n)}}function IW(e,t,r){return t=MW(t),function(e,t){if(t&&("object"===AW(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,DW()?Reflect.construct(t,r||[],MW(e).constructor):t.apply(e,r))}function DW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(DW=function(){return!!e})()}function MW(e){return MW=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},MW(e)}function TW(e,t){return TW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},TW(e,t)}function RW(e,t,r){return(t=NW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NW(e){var t=function(e,t){if("object"!=AW(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=AW(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==AW(t)?t:t+""}var $W=function(e){return e.changedTouches&&!!e.changedTouches.length},zW=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),RW(r=IW(this,t,[e]),"handleDrag",(function(e){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(e):r.state.isSlideMoving&&r.handleSlideDrag(e)})),RW(r,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&r.handleDrag(e.changedTouches[0])})),RW(r,"handleDragEnd",(function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},(function(){var e=r.props,t=e.endIndex,n=e.onDragEnd,o=e.startIndex;null===n||void 0===n||n({endIndex:t,startIndex:o})})),r.detachDragEndListener()})),RW(r,"handleLeaveWrapper",(function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))})),RW(r,"handleEnterSlideOrTraveller",(function(){r.setState({isTextActive:!0})})),RW(r,"handleLeaveSlideOrTraveller",(function(){r.setState({isTextActive:!1})})),RW(r,"handleSlideDragStart",(function(e){var t=$W(e)?e.changedTouches[0]:e;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),r.attachDragEndListener()})),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TW(e,t)}(t,e),r=t,n=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var r=e.startX,n=e.endX,o=this.state.scaleValues,a=this.props,i=a.gap,s=a.data.length-1,l=Math.min(r,n),c=Math.max(r,n),d=t.getIndexInRange(o,l),u=t.getIndexInRange(o,c);return{startIndex:d-d%i,endIndex:u===s?s:u-u%i}}},{key:"getTextOfTick",value:function(e){var t=this.props,r=t.data,n=t.tickFormatter,o=t.dataKey,a=KU(r[e],o,e);return lD()(n)?n(a,e):a}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,r=t.slideMoveStartX,n=t.startX,o=t.endX,a=this.props,i=a.x,s=a.width,l=a.travellerWidth,c=a.startIndex,d=a.endIndex,u=a.onChange,p=e.pageX-r;p>0?p=Math.min(p,i+s-l-o,i+s-l-n):p<0&&(p=Math.max(p,i-n,i-o));var h=this.getIndex({startX:n+p,endX:o+p});h.startIndex===c&&h.endIndex===d||!u||u(h),this.setState({startX:n+p,endX:o+p,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var r=$W(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:r.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,r=t.brushMoveStartX,n=t.movingTravellerId,o=t.endX,a=t.startX,i=this.state[n],s=this.props,l=s.x,c=s.width,d=s.travellerWidth,u=s.onChange,p=s.gap,h=s.data,f={startX:this.state.startX,endX:this.state.endX},m=e.pageX-r;m>0?m=Math.min(m,l+c-d-i):m<0&&(m=Math.max(m,l-i)),f[n]=i+m;var g=this.getIndex(f),v=g.startIndex,x=g.endIndex;this.setState(RW(RW({},n,i+m),"brushMoveStartX",e.pageX),(function(){u&&function(){var e=h.length-1;return"startX"===n&&(o>a?v%p===0:x%p===0)||o<a&&x===e||"endX"===n&&(o>a?x%p===0:v%p===0)||o>a&&x===e}()&&u(g)}))}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var r=this,n=this.state,o=n.scaleValues,a=n.startX,i=n.endX,s=this.state[t],l=o.indexOf(s);if(-1!==l){var c=l+e;if(!(-1===c||c>=o.length)){var d=o[c];"startX"===t&&d>=i||"endX"===t&&d<=a||this.setState(RW({},t,d),(function(){r.props.onChange(r.getIndex({startX:r.state.startX,endX:r.state.endX}))}))}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,o=e.height,i=e.fill,s=e.stroke;return a.createElement("rect",{stroke:s,fill:i,x:t,y:r,width:n,height:o})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,o=e.height,i=e.data,s=e.children,l=e.padding,c=a.Children.only(s);return c?a.cloneElement(c,{x:t,y:r,width:n,height:o,margin:l,compact:!0,data:i}):null}},{key:"renderTravellerLayer",value:function(e,r){var n,o,i=this,s=this.props,l=s.y,c=s.travellerWidth,d=s.height,u=s.traveller,p=s.ariaLabel,h=s.data,f=s.startIndex,m=s.endIndex,g=Math.max(e,this.props.x),v=OW(OW({},ND(this.props,!1)),{},{x:g,y:l,width:c,height:d}),x=p||"Min value: ".concat(null===(n=h[f])||void 0===n?void 0:n.name,", Max value: ").concat(null===(o=h[m])||void 0===o?void 0:o.name);return a.createElement(aM,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[r],onTouchStart:this.travellerDragStartHandlers[r],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),i.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,r))},onFocus:function(){i.setState({isTravellerFocused:!0})},onBlur:function(){i.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(u,v))}},{key:"renderSlide",value:function(e,t){var r=this.props,n=r.y,o=r.height,i=r.stroke,s=r.travellerWidth,l=Math.min(e,t)+s,c=Math.max(Math.abs(t-e)-s,0);return a.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:i,fillOpacity:.2,x:l,y:n,width:c,height:o})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,r=e.endIndex,n=e.y,o=e.height,i=e.travellerWidth,s=e.stroke,l=this.state,c=l.startX,d=l.endX,u={pointerEvents:"none",fill:s};return a.createElement(aM,{className:"recharts-brush-texts"},a.createElement(U$,EW({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,d)-5,y:n+o/2},u),this.getTextOfTick(t)),a.createElement(U$,EW({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,d)+i+5,y:n+o/2},u),this.getTextOfTick(r)))}},{key:"render",value:function(){var e=this.props,t=e.data,r=e.className,n=e.children,o=e.x,i=e.y,s=e.width,l=e.height,c=e.alwaysShowText,d=this.state,u=d.startX,p=d.endX,h=d.isTextActive,f=d.isSlideMoving,m=d.isTravellerMoving,g=d.isTravellerFocused;if(!t||!t.length||!KI(o)||!KI(i)||!KI(s)||!KI(l)||s<=0||l<=0)return null;var v=(0,vt.A)("recharts-brush",r),x=1===a.Children.count(n),b=function(e,t){if(!e)return null;var r=e.replace(/(\w)/,(function(e){return e.toUpperCase()})),n=CW.reduce((function(e,n){return wW(wW({},e),{},SW({},n+r,t))}),{});return n[e]=t,n}("userSelect","none");return a.createElement(aM,{className:v,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),x&&this.renderPanorama(),this.renderSlide(u,p),this.renderTravellerLayer(u,"startX"),this.renderTravellerLayer(p,"endX"),(h||f||m||g||c)&&this.renderText())}}],o=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,r=e.y,n=e.width,o=e.height,i=e.stroke,s=Math.floor(r+o/2)-1;return a.createElement(a.Fragment,null,a.createElement("rect",{x:t,y:r,width:n,height:o,fill:i,stroke:"none"}),a.createElement("line",{x1:t+1,y1:s,x2:t+n-1,y2:s,fill:"none",stroke:"#fff"}),a.createElement("line",{x1:t+1,y1:s+2,x2:t+n-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,r){return a.isValidElement(e)?a.cloneElement(e,r):lD()(e)?e(r):t.renderDefaultTraveller(r)}},{key:"getDerivedStateFromProps",value:function(e,t){var r=e.data,n=e.width,o=e.x,a=e.travellerWidth,i=e.updateId,s=e.startIndex,l=e.endIndex;if(r!==t.prevData||i!==t.prevUpdateId)return OW({prevData:r,prevTravellerWidth:a,prevUpdateId:i,prevX:o,prevWidth:n},r&&r.length?function(e){var t=e.data,r=e.startIndex,n=e.endIndex,o=e.x,a=e.width,i=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,l=a$().domain(qD()(0,s)).range([o,o+a-i]),c=l.domain().map((function(e){return l(e)}));return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(r),endX:l(n),scale:l,scaleValues:c}}({data:r,width:n,x:o,travellerWidth:a,startIndex:s,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(n!==t.prevWidth||o!==t.prevX||a!==t.prevTravellerWidth)){t.scale.range([o,o+n-a]);var c=t.scale.domain().map((function(e){return t.scale(e)}));return{prevData:r,prevTravellerWidth:a,prevUpdateId:i,prevX:o,prevWidth:n,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var r=0,n=e.length-1;n-r>1;){var o=Math.floor((r+n)/2);e[o]>t?n=o:r=o}return t>=e[n]?n:r}}],n&&PW(r.prototype,n),o&&PW(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(a.PureComponent);function LW(e){return LW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LW(e)}function BW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function FW(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?BW(Object(r),!0).forEach((function(t){_W(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BW(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _W(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=LW(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=LW(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==LW(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UW(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return WW(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WW(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function WW(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}RW(zW,"displayName","Brush"),RW(zW,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var VW=Math.PI/180,GW=function(e){return 180*e/Math.PI},HW=function(e,t,r,n){return{x:e+Math.cos(-VW*n)*r,y:t+Math.sin(-VW*n)*r}},qW=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2},YW=function(e,t){var r=e.x,n=e.y,o=t.cx,a=t.cy,i=function(e,t){var r=e.x,n=e.y,o=t.x,a=t.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(n-a,2))}({x:r,y:n},{x:o,y:a});if(i<=0)return{radius:i};var s=(r-o)/i,l=Math.acos(s);return n>a&&(l=2*Math.PI-l),{radius:i,angle:GW(l),angleInRadian:l}},KW=function(e,t){var r=t.startAngle,n=t.endAngle,o=Math.floor(r/360),a=Math.floor(n/360);return e+360*Math.min(o,a)},XW=function(e,t){var r=e.x,n=e.y,o=YW({x:r,y:n},t),a=o.radius,i=o.angle,s=t.innerRadius,l=t.outerRadius;if(a<s||a>l)return!1;if(0===a)return!0;var c,d=function(e){var t=e.startAngle,r=e.endAngle,n=Math.floor(t/360),o=Math.floor(r/360),a=Math.min(n,o);return{startAngle:t-360*a,endAngle:r-360*a}}(t),u=d.startAngle,p=d.endAngle,h=i;if(u<=p){for(;h>p;)h-=360;for(;h<u;)h+=360;c=h>=u&&h<=p}else{for(;h>u;)h-=360;for(;h<p;)h+=360;c=h>=p&&h<=u}return c?FW(FW({},t),{},{radius:a,angle:KW(h,t)}):null},QW=function(e){return(0,a.isValidElement)(e)||lD()(e)||"boolean"===typeof e?"":e.className};function JW(e){return JW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JW(e)}var ZW=["offset"];function eV(e){return function(e){if(Array.isArray(e))return tV(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return tV(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tV(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tV(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rV(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function nV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oV(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nV(Object(r),!0).forEach((function(t){aV(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nV(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function aV(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=JW(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=JW(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==JW(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iV(){return iV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iV.apply(this,arguments)}var sV=function(e,t,r){var n,o,i=e.position,s=e.viewBox,l=e.offset,c=e.className,d=s,u=d.cx,p=d.cy,h=d.innerRadius,f=d.outerRadius,m=d.startAngle,g=d.endAngle,v=d.clockWise,x=(h+f)/2,b=function(e,t){return qI(t-e)*Math.min(Math.abs(t-e),360)}(m,g),y=b>=0?1:-1;"insideStart"===i?(n=m+y*l,o=v):"insideEnd"===i?(n=g-y*l,o=!v):"end"===i&&(n=g+y*l,o=v),o=b<=0?o:!o;var j=HW(u,p,x,n),w=HW(u,p,x,n+359*(o?1:-1)),S="M".concat(j.x,",").concat(j.y,"\n    A").concat(x,",").concat(x,",0,1,").concat(o?0:1,",\n    ").concat(w.x,",").concat(w.y),C=iD()(e.id)?JI("recharts-radial-line-"):e.id;return a.createElement("text",iV({},r,{dominantBaseline:"central",className:(0,vt.A)("recharts-radial-bar-label",c)}),a.createElement("defs",null,a.createElement("path",{id:C,d:S})),a.createElement("textPath",{xlinkHref:"#".concat(C)},t))};function lV(e){var t,r=e.offset,n=oV({offset:void 0===r?5:r},rV(e,ZW)),o=n.viewBox,i=n.position,s=n.value,l=n.children,c=n.content,d=n.className,u=void 0===d?"":d,p=n.textBreakAll;if(!o||iD()(s)&&iD()(l)&&!(0,a.isValidElement)(c)&&!lD()(c))return null;if((0,a.isValidElement)(c))return(0,a.cloneElement)(c,n);if(lD()(c)){if(t=(0,a.createElement)(c,n),(0,a.isValidElement)(t))return t}else t=function(e){var t=e.value,r=e.formatter,n=iD()(e.children)?t:e.children;return lD()(r)?r(n):n}(n);var h=function(e){return"cx"in e&&KI(e.cx)}(o),f=ND(n,!0);if(h&&("insideStart"===i||"insideEnd"===i||"end"===i))return sV(n,t,f);var m=h?function(e){var t=e.viewBox,r=e.offset,n=e.position,o=t,a=o.cx,i=o.cy,s=o.innerRadius,l=o.outerRadius,c=(o.startAngle+o.endAngle)/2;if("outside"===n){var d=HW(a,i,l+r,c),u=d.x;return{x:u,y:d.y,textAnchor:u>=a?"start":"end",verticalAnchor:"middle"}}if("center"===n)return{x:a,y:i,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===n)return{x:a,y:i,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===n)return{x:a,y:i,textAnchor:"middle",verticalAnchor:"end"};var p=HW(a,i,(s+l)/2,c);return{x:p.x,y:p.y,textAnchor:"middle",verticalAnchor:"middle"}}(n):function(e){var t=e.viewBox,r=e.parentViewBox,n=e.offset,o=e.position,a=t,i=a.x,s=a.y,l=a.width,c=a.height,d=c>=0?1:-1,u=d*n,p=d>0?"end":"start",h=d>0?"start":"end",f=l>=0?1:-1,m=f*n,g=f>0?"end":"start",v=f>0?"start":"end";if("top"===o)return oV(oV({},{x:i+l/2,y:s-d*n,textAnchor:"middle",verticalAnchor:p}),r?{height:Math.max(s-r.y,0),width:l}:{});if("bottom"===o)return oV(oV({},{x:i+l/2,y:s+c+u,textAnchor:"middle",verticalAnchor:h}),r?{height:Math.max(r.y+r.height-(s+c),0),width:l}:{});if("left"===o){var x={x:i-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"};return oV(oV({},x),r?{width:Math.max(x.x-r.x,0),height:c}:{})}if("right"===o){var b={x:i+l+m,y:s+c/2,textAnchor:v,verticalAnchor:"middle"};return oV(oV({},b),r?{width:Math.max(r.x+r.width-b.x,0),height:c}:{})}var y=r?{width:l,height:c}:{};return"insideLeft"===o?oV({x:i+m,y:s+c/2,textAnchor:v,verticalAnchor:"middle"},y):"insideRight"===o?oV({x:i+l-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"},y):"insideTop"===o?oV({x:i+l/2,y:s+u,textAnchor:"middle",verticalAnchor:h},y):"insideBottom"===o?oV({x:i+l/2,y:s+c-u,textAnchor:"middle",verticalAnchor:p},y):"insideTopLeft"===o?oV({x:i+m,y:s+u,textAnchor:v,verticalAnchor:h},y):"insideTopRight"===o?oV({x:i+l-m,y:s+u,textAnchor:g,verticalAnchor:h},y):"insideBottomLeft"===o?oV({x:i+m,y:s+c-u,textAnchor:v,verticalAnchor:p},y):"insideBottomRight"===o?oV({x:i+l-m,y:s+c-u,textAnchor:g,verticalAnchor:p},y):dD()(o)&&(KI(o.x)||YI(o.x))&&(KI(o.y)||YI(o.y))?oV({x:i+ZI(o.x,l),y:s+ZI(o.y,c),textAnchor:"end",verticalAnchor:"end"},y):oV({x:i+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},y)}(n);return a.createElement(U$,iV({className:(0,vt.A)("recharts-label",u)},f,m,{breakAll:p}),t)}lV.displayName="Label";var cV=function(e){var t=e.cx,r=e.cy,n=e.angle,o=e.startAngle,a=e.endAngle,i=e.r,s=e.radius,l=e.innerRadius,c=e.outerRadius,d=e.x,u=e.y,p=e.top,h=e.left,f=e.width,m=e.height,g=e.clockWise,v=e.labelViewBox;if(v)return v;if(KI(f)&&KI(m)){if(KI(d)&&KI(u))return{x:d,y:u,width:f,height:m};if(KI(p)&&KI(h))return{x:p,y:h,width:f,height:m}}return KI(d)&&KI(u)?{x:d,y:u,width:0,height:0}:KI(t)&&KI(r)?{cx:t,cy:r,startAngle:o||n||0,endAngle:a||n||0,innerRadius:l||0,outerRadius:c||s||i||0,clockWise:g}:e.viewBox?e.viewBox:{}};lV.parseViewBox=cV,lV.renderCallByParent=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var n=e.children,o=cV(e),i=PD(n,lV).map((function(e,r){return(0,a.cloneElement)(e,{viewBox:t||o,key:"label-".concat(r)})}));if(!r)return i;var s=function(e,t){return e?!0===e?a.createElement(lV,{key:"label-implicit",viewBox:t}):XI(e)?a.createElement(lV,{key:"label-implicit",viewBox:t,value:e}):(0,a.isValidElement)(e)?e.type===lV?(0,a.cloneElement)(e,{key:"label-implicit",viewBox:t}):a.createElement(lV,{key:"label-implicit",content:e,viewBox:t}):lD()(e)?a.createElement(lV,{key:"label-implicit",content:e,viewBox:t}):dD()(e)?a.createElement(lV,iV({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||o);return[s].concat(eV(i))};var dV=function(e,t){var r=e.alwaysShow,n=e.ifOverflow;return r&&(n="extendDomain"),n===t},uV=r(1733),pV=r.n(uV),hV=r(7002),fV=r.n(hV),mV=function(e){return null};mV.displayName="Cell";var gV=r(4065),vV=r.n(gV);function xV(e){return xV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xV(e)}var bV=["valueAccessor"],yV=["data","dataKey","clockWise","id","textBreakAll"];function jV(e){return function(e){if(Array.isArray(e))return wV(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return wV(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wV(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wV(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function SV(){return SV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SV.apply(this,arguments)}function CV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function AV(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?CV(Object(r),!0).forEach((function(t){EV(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CV(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function EV(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=xV(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=xV(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xV(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kV(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var OV=function(e){return Array.isArray(e.value)?vV()(e.value):e.value};function PV(e){var t=e.valueAccessor,r=void 0===t?OV:t,n=kV(e,bV),o=n.data,i=n.dataKey,s=n.clockWise,l=n.id,c=n.textBreakAll,d=kV(n,yV);return o&&o.length?a.createElement(aM,{className:"recharts-label-list"},o.map((function(e,t){var n=iD()(i)?r(e,t):KU(e&&e.payload,i),o=iD()(l)?{}:{id:"".concat(l,"-").concat(t)};return a.createElement(lV,SV({},ND(e,!0),d,o,{parentViewBox:e.parentViewBox,value:n,textBreakAll:c,viewBox:lV.parseViewBox(iD()(s)?e:AV(AV({},e),{},{clockWise:s})),key:"label-".concat(t),index:t}))}))):null}PV.displayName="LabelList",PV.renderCallByParent=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var n=PD(e.children,PV).map((function(e,r){return(0,a.cloneElement)(e,{data:t,key:"labelList-".concat(r)})}));return r?[function(e,t){return e?!0===e?a.createElement(PV,{key:"labelList-implicit",data:t}):a.isValidElement(e)||lD()(e)?a.createElement(PV,{key:"labelList-implicit",data:t,content:e}):dD()(e)?a.createElement(PV,SV({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t)].concat(jV(n)):n};var IV=r(2322),DV=r.n(IV),MV=r(6361),TV=r.n(MV);function RV(e){return RV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RV(e)}function NV(){return NV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NV.apply(this,arguments)}function $V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return zV(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zV(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zV(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function BV(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?LV(Object(r),!0).forEach((function(t){FV(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LV(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function FV(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=RV(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=RV(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==RV(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _V=function(e,t,r,n,o){var a,i=r-n;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+r,",").concat(t),a+="L ".concat(e+r-i/2,",").concat(t+o),a+="L ".concat(e+r-i/2-n,",").concat(t+o),a+="L ".concat(e,",").concat(t," Z")},UV={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},WV=function(e){var t=BV(BV({},UV),e),r=(0,a.useRef)(),n=$V((0,a.useState)(-1),2),o=n[0],i=n[1];(0,a.useEffect)((function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&i(e)}catch(t){}}),[]);var s=t.x,l=t.y,c=t.upperWidth,d=t.lowerWidth,u=t.height,p=t.className,h=t.animationEasing,f=t.animationDuration,m=t.animationBegin,g=t.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||d!==+d||u!==+u||0===c&&0===d||0===u)return null;var v=(0,vt.A)("recharts-trapezoid",p);return g?a.createElement($N,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:u,x:s,y:l},to:{upperWidth:c,lowerWidth:d,height:u,x:s,y:l},duration:f,animationEasing:h,isActive:g},(function(e){var n=e.upperWidth,i=e.lowerWidth,s=e.height,l=e.x,c=e.y;return a.createElement($N,{canBegin:o>0,from:"0px ".concat(-1===o?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:f,easing:h},a.createElement("path",NV({},ND(t,!0),{className:v,d:_V(l,c,n,i,s),ref:r})))})):a.createElement("g",null,a.createElement("path",NV({},ND(t,!0),{className:v,d:_V(s,l,c,d,u)})))};function VV(e){return VV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VV(e)}function GV(){return GV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GV.apply(this,arguments)}function HV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qV(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?HV(Object(r),!0).forEach((function(t){YV(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HV(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function YV(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=VV(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=VV(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==VV(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var KV=function(e){var t=e.cx,r=e.cy,n=e.radius,o=e.angle,a=e.sign,i=e.isExternal,s=e.cornerRadius,l=e.cornerIsExternal,c=s*(i?1:-1)+n,d=Math.asin(s/c)/VW,u=l?o:o+a*d,p=l?o-a*d:o;return{center:HW(t,r,c,u),circleTangency:HW(t,r,n,u),lineTangency:HW(t,r,c*Math.cos(d*VW),p),theta:d}},XV=function(e){var t=e.cx,r=e.cy,n=e.innerRadius,o=e.outerRadius,a=e.startAngle,i=function(e,t){return qI(t-e)*Math.min(Math.abs(t-e),359.999)}(a,e.endAngle),s=a+i,l=HW(t,r,o,a),c=HW(t,r,o,s),d="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(o,",").concat(o,",0,\n    ").concat(+(Math.abs(i)>180),",").concat(+(a>s),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(n>0){var u=HW(t,r,n,a),p=HW(t,r,n,s);d+="L ".concat(p.x,",").concat(p.y,"\n            A ").concat(n,",").concat(n,",0,\n            ").concat(+(Math.abs(i)>180),",").concat(+(a<=s),",\n            ").concat(u.x,",").concat(u.y," Z")}else d+="L ".concat(t,",").concat(r," Z");return d},QV={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},JV=function(e){var t=qV(qV({},QV),e),r=t.cx,n=t.cy,o=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,u=t.endAngle,p=t.className;if(i<o||d===u)return null;var h,f=(0,vt.A)("recharts-sector",p),m=i-o,g=ZI(s,m,0,!0);return h=g>0&&Math.abs(d-u)<360?function(e){var t=e.cx,r=e.cy,n=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,i=e.forceCornerRadius,s=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,d=qI(c-l),u=KV({cx:t,cy:r,radius:o,angle:l,sign:d,cornerRadius:a,cornerIsExternal:s}),p=u.circleTangency,h=u.lineTangency,f=u.theta,m=KV({cx:t,cy:r,radius:o,angle:c,sign:-d,cornerRadius:a,cornerIsExternal:s}),g=m.circleTangency,v=m.lineTangency,x=m.theta,b=s?Math.abs(l-c):Math.abs(l-c)-f-x;if(b<0)return i?"M ".concat(h.x,",").concat(h.y,"\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*a,",0\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*-a,",0\n      "):XV({cx:t,cy:r,innerRadius:n,outerRadius:o,startAngle:l,endAngle:c});var y="M ".concat(h.x,",").concat(h.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,"\n    A").concat(o,",").concat(o,",0,").concat(+(b>180),",").concat(+(d<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(v.x,",").concat(v.y,"\n  ");if(n>0){var j=KV({cx:t,cy:r,radius:n,angle:l,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),w=j.circleTangency,S=j.lineTangency,C=j.theta,A=KV({cx:t,cy:r,radius:n,angle:c,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),E=A.circleTangency,k=A.lineTangency,O=A.theta,P=s?Math.abs(l-c):Math.abs(l-c)-C-O;if(P<0&&0===a)return"".concat(y,"L").concat(t,",").concat(r,"Z");y+="L".concat(k.x,",").concat(k.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(E.x,",").concat(E.y,"\n      A").concat(n,",").concat(n,",0,").concat(+(P>180),",").concat(+(d>0),",").concat(w.x,",").concat(w.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,"Z")}else y+="L".concat(t,",").concat(r,"Z");return y}({cx:r,cy:n,innerRadius:o,outerRadius:i,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u}):XV({cx:r,cy:n,innerRadius:o,outerRadius:i,startAngle:d,endAngle:u}),a.createElement("path",GV({},ND(t,!0),{className:f,d:h,role:"img"}))},ZV=["option","shapeType","propTransformer","activeClassName","isActive"];function eG(e){return eG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eG(e)}function tG(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function rG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nG(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rG(Object(r),!0).forEach((function(t){oG(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rG(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function oG(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=eG(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=eG(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eG(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aG(e,t){return nG(nG({},t),e)}function iG(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return a.createElement(qN,r);case"trapezoid":return a.createElement(WV,r);case"sector":return a.createElement(JV,r);case"symbols":if(function(e){return"symbols"===e}(t))return a.createElement(NT,r);break;default:return null}}function sG(e){var t,r=e.option,n=e.shapeType,o=e.propTransformer,i=void 0===o?aG:o,s=e.activeClassName,l=void 0===s?"recharts-active-shape":s,c=e.isActive,d=tG(e,ZV);if((0,a.isValidElement)(r))t=(0,a.cloneElement)(r,nG(nG({},d),function(e){return(0,a.isValidElement)(e)?e.props:e}(r)));else if(lD()(r))t=r(d);else if(DV()(r)&&!TV()(r)){var u=i(r,d);t=a.createElement(iG,{shapeType:n,elementProps:u})}else{var p=d;t=a.createElement(iG,{shapeType:n,elementProps:p})}return c?a.createElement(aM,{className:l},t):t}function lG(e,t){return null!=t&&"trapezoids"in e.props}function cG(e,t){return null!=t&&"sectors"in e.props}function dG(e,t){return null!=t&&"points"in e.props}function uG(e,t){var r,n,o=e.x===(null===t||void 0===t||null===(r=t.labelViewBox)||void 0===r?void 0:r.x)||e.x===t.x,a=e.y===(null===t||void 0===t||null===(n=t.labelViewBox)||void 0===n?void 0:n.y)||e.y===t.y;return o&&a}function pG(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function hG(e,t){var r=e.x===t.x,n=e.y===t.y,o=e.z===t.z;return r&&n&&o}function fG(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,o=function(e,t){var r;return lG(e,t)?r="trapezoids":cG(e,t)?r="sectors":dG(e,t)&&(r="points"),r}(r,t),a=function(e,t){var r,n;return lG(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:cG(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:dG(e,t)?t.payload:{}}(r,t),i=n.filter((function(e,n){var i=Q_()(a,e),s=r.props[o].filter((function(e){var n=function(e,t){var r;return lG(e,t)?r=uG:cG(e,t)?r=pG:dG(e,t)&&(r=hG),r}(r,t);return n(e,t)})),l=r.props[o].indexOf(s[s.length-1]);return i&&n===l}));return n.indexOf(i[i.length-1])}var mG=["x","y"];function gG(e){return gG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gG(e)}function vG(){return vG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vG.apply(this,arguments)}function xG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bG(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xG(Object(r),!0).forEach((function(t){yG(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xG(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function yG(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=gG(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=gG(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==gG(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jG(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function wG(e,t){var r=e.x,n=e.y,o=jG(e,mG),a="".concat(r),i=parseInt(a,10),s="".concat(n),l=parseInt(s,10),c="".concat(t.height||o.height),d=parseInt(c,10),u="".concat(t.width||o.width),p=parseInt(u,10);return bG(bG(bG(bG(bG({},t),o),i?{x:i}:{}),l?{y:l}:{}),{},{height:d,width:p,name:t.name,radius:t.radius})}function SG(e){return a.createElement(sG,vG({shapeType:"rectangle",propTransformer:wG,activeClassName:"recharts-active-bar"},e))}var CG,AG=["value","background"];function EG(e){return EG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EG(e)}function kG(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function OG(){return OG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OG.apply(this,arguments)}function PG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function IG(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?PG(Object(r),!0).forEach((function(t){$G(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PG(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function DG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zG(n.key),n)}}function MG(e,t,r){return t=RG(t),function(e,t){if(t&&("object"===EG(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,TG()?Reflect.construct(t,r||[],RG(e).constructor):t.apply(e,r))}function TG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(TG=function(){return!!e})()}function RG(e){return RG=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},RG(e)}function NG(e,t){return NG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},NG(e,t)}function $G(e,t,r){return(t=zG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zG(e){var t=function(e,t){if("object"!=EG(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=EG(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==EG(t)?t:t+""}var LG=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return $G(e=MG(this,t,[].concat(n)),"state",{isAnimationFinished:!1}),$G(e,"id",JI("recharts-bar-")),$G(e,"handleAnimationEnd",(function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()})),$G(e,"handleAnimationStart",(function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NG(e,t)}(t,e),r=t,o=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],(n=[{key:"renderRectanglesStatically",value:function(e){var t=this,r=this.props,n=r.shape,o=r.dataKey,i=r.activeIndex,s=r.activeBar,l=ND(this.props,!1);return e&&e.map((function(e,r){var c=r===i,d=c?s:n,u=IG(IG(IG({},l),e),{},{isActive:c,option:d,index:r,dataKey:o,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return a.createElement(aM,OG({className:"recharts-bar-rectangle"},bD(t.props,e,r),{key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(r)}),a.createElement(SG,u))}))}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,r=t.data,n=t.layout,o=t.isAnimationActive,i=t.animationBegin,s=t.animationDuration,l=t.animationEasing,c=t.animationId,d=this.state.prevData;return a.createElement($N,{begin:i,duration:s,isActive:o,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(t){var o=t.t,i=r.map((function(e,t){var r=d&&d[t];if(r){var a=tD(r.x,e.x),i=tD(r.y,e.y),s=tD(r.width,e.width),l=tD(r.height,e.height);return IG(IG({},e),{},{x:a(o),y:i(o),width:s(o),height:l(o)})}if("horizontal"===n){var c=tD(0,e.height)(o);return IG(IG({},e),{},{y:e.y+e.height-c,height:c})}var u=tD(0,e.width)(o);return IG(IG({},e),{},{width:u})}));return a.createElement(aM,null,e.renderRectanglesStatically(i))}))}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,r=e.isAnimationActive,n=this.state.prevData;return!(r&&t&&t.length)||n&&Q_()(n,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,r=t.data,n=t.dataKey,o=t.activeIndex,i=ND(this.props.background,!1);return r.map((function(t,r){t.value;var s=t.background,l=kG(t,AG);if(!s)return null;var c=IG(IG(IG(IG(IG({},l),{},{fill:"#eee"},s),i),bD(e.props,t,r)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:n,index:r,className:"recharts-bar-background-rectangle"});return a.createElement(SG,OG({key:"background-bar-".concat(r),option:e.props.background,isActive:r===o},c))}))}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,n=r.data,o=r.xAxis,i=r.yAxis,s=r.layout,l=PD(r.children,zU);if(!l)return null;var c="vertical"===s?n[0].height/2:n[0].width/2,d=function(e,t){var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:KU(e,t)}},u={clipPath:e?"url(#clipPath-".concat(t,")"):null};return a.createElement(aM,u,l.map((function(e){return a.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:n,xAxis:o,yAxis:i,layout:s,offset:c,dataPointFormatter:d})})))}},{key:"render",value:function(){var e=this.props,t=e.hide,r=e.data,n=e.className,o=e.xAxis,i=e.yAxis,s=e.left,l=e.top,c=e.width,d=e.height,u=e.isAnimationActive,p=e.background,h=e.id;if(t||!r||!r.length)return null;var f=this.state.isAnimationFinished,m=(0,vt.A)("recharts-bar",n),g=o&&o.allowDataOverflow,v=i&&i.allowDataOverflow,x=g||v,b=iD()(h)?this.id:h;return a.createElement(aM,{className:m},g||v?a.createElement("defs",null,a.createElement("clipPath",{id:"clipPath-".concat(b)},a.createElement("rect",{x:g?s:s-c/2,y:v?l:l-d/2,width:g?c:2*c,height:v?d:2*d}))):null,a.createElement(aM,{className:"recharts-bar-rectangles",clipPath:x?"url(#clipPath-".concat(b,")"):null},p?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(x,b),(!u||f)&&PV.renderCallByParent(this.props,r))}}])&&DG(r.prototype,n),o&&DG(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(a.PureComponent);function BG(e){return BG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BG(e)}function FG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VG(n.key),n)}}function _G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function UG(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_G(Object(r),!0).forEach((function(t){WG(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function WG(e,t,r){return(t=VG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VG(e){var t=function(e,t){if("object"!=BG(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=BG(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==BG(t)?t:t+""}CG=LG,$G(LG,"displayName","Bar"),$G(LG,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!MM.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),$G(LG,"getComposedData",(function(e){var t=e.props,r=e.item,n=e.barPosition,o=e.bandSize,a=e.xAxis,i=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,d=e.dataStartIndex,u=e.displayedData,p=e.offset,h=function(e,t){if(!e)return null;for(var r=0,n=e.length;r<n;r++)if(e[r].item===t)return e[r].position;return null}(n,r);if(!h)return null;var f=t.layout,m=r.type.defaultProps,g=void 0!==m?IG(IG({},m),r.props):r.props,v=g.dataKey,x=g.children,b=g.minPointSize,y="horizontal"===f?i:a,j=c?y.scale.domain():null,w=function(e){var t=e.numericAxis,r=t.scale.domain();if("number"===t.type){var n=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return n<=0&&o>=0?0:o<0?o:n}return r[0]}({numericAxis:y}),S=PD(x,mV),C=u.map((function(e,t){var n,u,p,m,g,x;c?n=function(e,t){if(!t||2!==t.length||!KI(t[0])||!KI(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),o=[e[0],e[1]];return(!KI(e[0])||e[0]<r)&&(o[0]=r),(!KI(e[1])||e[1]>n)&&(o[1]=n),o[0]>n&&(o[0]=n),o[1]<r&&(o[1]=r),o}(c[d+t],j):(n=KU(e,v),Array.isArray(n)||(n=[w,n]));var y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(r,n){if("number"===typeof e)return e;var o="number"===typeof r;return o?e(r,n):(o||QD(!1),t)}}(b,CG.defaultProps.minPointSize)(n[1],t);if("horizontal"===f){var C,A=[i.scale(n[0]),i.scale(n[1])],E=A[0],k=A[1];u=pW({axis:a,ticks:s,bandSize:o,offset:h.offset,entry:e,index:t}),p=null!==(C=null!==k&&void 0!==k?k:E)&&void 0!==C?C:void 0,m=h.size;var O=E-k;if(g=Number.isNaN(O)?0:O,x={x:u,y:i.y,width:m,height:i.height},Math.abs(y)>0&&Math.abs(g)<Math.abs(y)){var P=qI(g||y)*(Math.abs(y)-Math.abs(g));p-=P,g+=P}}else{var I=[a.scale(n[0]),a.scale(n[1])],D=I[0],M=I[1];if(u=D,p=pW({axis:i,ticks:l,bandSize:o,offset:h.offset,entry:e,index:t}),m=M-D,g=h.size,x={x:a.x,y:p,width:a.width,height:g},Math.abs(y)>0&&Math.abs(m)<Math.abs(y))m+=qI(m||y)*(Math.abs(y)-Math.abs(m))}return IG(IG(IG({},e),{},{x:u,y:p,width:m,height:g,value:c?n:n[1],payload:e,background:x},S&&S[t]&&S[t].props),{},{tooltipPayload:[bW(r,e)],tooltipPosition:{x:u+m/2,y:p+g/2}})}));return IG({data:C,layout:f},p)}));var GG=function(e,t,r,n,o){var a=e.width,i=e.height,s=e.layout,l=e.children,c=Object.keys(t),d={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:i-r.bottom,bottomMirror:i-r.bottom},u=!!ID(l,LG);return c.reduce((function(a,i){var l,c,p,h,f,m=t[i],g=m.orientation,v=m.domain,x=m.padding,b=void 0===x?{}:x,y=m.mirror,j=m.reversed,w="".concat(g).concat(y?"Mirror":"");if("number"===m.type&&("gap"===m.padding||"no-gap"===m.padding)){var S=v[1]-v[0],C=1/0,A=m.categoricalDomain.sort(nD);if(A.forEach((function(e,t){t>0&&(C=Math.min((e||0)-(A[t-1]||0),C))})),Number.isFinite(C)){var E=C/S,k="vertical"===m.layout?r.height:r.width;if("gap"===m.padding&&(l=E*k/2),"no-gap"===m.padding){var O=ZI(e.barCategoryGap,E*k),P=E*k/2;l=P-O-(P-O)/k*O}}}c="xAxis"===n?[r.left+(b.left||0)+(l||0),r.left+r.width-(b.right||0)-(l||0)]:"yAxis"===n?"horizontal"===s?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(l||0),r.top+r.height-(b.bottom||0)-(l||0)]:m.range,j&&(c=[c[1],c[0]]);var I=aW(m,o,u),D=I.scale,M=I.realScaleType;D.domain(v).range(c),sW(D);var T=dW(D,UG(UG({},m),{},{realScaleType:M}));"xAxis"===n?(f="top"===g&&!y||"bottom"===g&&y,p=r.left,h=d[w]-f*m.height):"yAxis"===n&&(f="left"===g&&!y||"right"===g&&y,p=d[w]-f*m.width,h=r.top);var R=UG(UG(UG({},m),T),{},{realScaleType:M,x:p,y:h,scale:D,width:"xAxis"===n?r.width:m.width,height:"yAxis"===n?r.height:m.height});return R.bandSize=vW(R,T),m.hide||"xAxis"!==n?m.hide||(d[w]+=(f?-1:1)*R.width):d[w]+=(f?-1:1)*R.height,UG(UG({},a),{},WG({},i,R))}),{})},HG=function(e,t){var r=e.x,n=e.y,o=t.x,a=t.y;return{x:Math.min(r,o),y:Math.min(n,a),width:Math.abs(o-r),height:Math.abs(a-n)}},qG=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,r=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.bandAware,n=t.position;if(void 0!==e){if(n)switch(n){case"start":default:return this.scale(e);case"middle":var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o;case"end":var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}if(r){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),r=t[0],n=t[t.length-1];return r<=n?e>=r&&e<=n:e>=n&&e<=r}}],n=[{key:"create",value:function(t){return new e(t)}}],r&&FG(t.prototype,r),n&&FG(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();WG(qG,"EPS",1e-4);var YG=function(e){var t=Object.keys(e).reduce((function(t,r){return UG(UG({},t),{},WG({},r,qG.create(e[r])))}),{});return UG(UG({},t),{},{apply:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.bandAware,o=r.position;return pV()(e,(function(e,r){return t[r].apply(e,{bandAware:n,position:o})}))},isInRange:function(e){return fV()(e,(function(e,r){return t[r].isInRange(e)}))}})};function KG(){return KG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KG.apply(this,arguments)}function XG(e){return XG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XG(e)}function QG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function JG(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?QG(Object(r),!0).forEach((function(t){oH(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QG(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ZG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aH(n.key),n)}}function eH(e,t,r){return t=rH(t),function(e,t){if(t&&("object"===XG(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,tH()?Reflect.construct(t,r||[],rH(e).constructor):t.apply(e,r))}function tH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(tH=function(){return!!e})()}function rH(e){return rH=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rH(e)}function nH(e,t){return nH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},nH(e,t)}function oH(e,t,r){return(t=aH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aH(e){var t=function(e,t){if("object"!=XG(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=XG(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==XG(t)?t:t+""}var iH=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),eH(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nH(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this.props,r=e.x,n=e.y,o=e.r,i=e.alwaysShow,s=e.clipPathId,l=XI(r),c=XI(n);if(oD(void 0===i,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!c)return null;var d=function(e){var t=e.x,r=e.y,n=e.xAxis,o=e.yAxis,a=YG({x:n.scale,y:o.scale}),i=a.apply({x:t,y:r},{bandAware:!0});return dV(e,"discard")&&!a.isInRange(i)?null:i}(this.props);if(!d)return null;var u=d.x,p=d.y,h=this.props,f=h.shape,m=h.className,g=JG(JG({clipPath:dV(this.props,"hidden")?"url(#".concat(s,")"):void 0},ND(this.props,!0)),{},{cx:u,cy:p});return a.createElement(aM,{className:(0,vt.A)("recharts-reference-dot",m)},t.renderDot(f,g),lV.renderCallByParent(this.props,{x:u-o,y:p-o,width:2*o,height:2*o}))}}])&&ZG(r.prototype,n),o&&ZG(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(a.Component);oH(iH,"displayName","ReferenceDot"),oH(iH,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),oH(iH,"renderDot",(function(e,t){return a.isValidElement(e)?a.cloneElement(e,t):lD()(e)?e(t):a.createElement(cR,KG({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))}));var sH=r(4597),lH=r.n(sH),cH=r(8990),dH=r.n(cH),uH=r(5797),pH=r.n(uH)()((function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}}),(function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}));var hH=(0,a.createContext)(void 0),fH=(0,a.createContext)(void 0),mH=(0,a.createContext)(void 0),gH=(0,a.createContext)({}),vH=(0,a.createContext)(void 0),xH=(0,a.createContext)(0),bH=(0,a.createContext)(0),yH=function(e){var t=e.state,r=t.xAxisMap,n=t.yAxisMap,o=t.offset,i=e.clipPathId,s=e.children,l=e.width,c=e.height,d=pH(o);return a.createElement(hH.Provider,{value:r},a.createElement(fH.Provider,{value:n},a.createElement(gH.Provider,{value:o},a.createElement(mH.Provider,{value:d},a.createElement(vH.Provider,{value:i},a.createElement(xH.Provider,{value:c},a.createElement(bH.Provider,{value:l},s)))))))};var jH=function(e){var t=(0,a.useContext)(hH);null==t&&QD(!1);var r=t[e];return null==r&&QD(!1),r},wH=function(e){var t=(0,a.useContext)(fH);null==t&&QD(!1);var r=t[e];return null==r&&QD(!1),r},SH=function(){return(0,a.useContext)(bH)},CH=function(){return(0,a.useContext)(xH)};function AH(e){return AH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AH(e)}function EH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RH(n.key),n)}}function kH(e,t,r){return t=PH(t),function(e,t){if(t&&("object"===AH(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,OH()?Reflect.construct(t,r||[],PH(e).constructor):t.apply(e,r))}function OH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(OH=function(){return!!e})()}function PH(e){return PH=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},PH(e)}function IH(e,t){return IH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},IH(e,t)}function DH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function MH(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?DH(Object(r),!0).forEach((function(t){TH(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DH(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function TH(e,t,r){return(t=RH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RH(e){var t=function(e,t){if("object"!=AH(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=AH(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==AH(t)?t:t+""}function NH(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return $H(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $H(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $H(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zH(){return zH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zH.apply(this,arguments)}function LH(e){var t=e.x,r=e.y,n=e.segment,o=e.xAxisId,i=e.yAxisId,s=e.shape,l=e.className,c=e.alwaysShow,d=(0,a.useContext)(vH),u=jH(o),p=wH(i),h=(0,a.useContext)(mH);if(!d||!h)return null;oD(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=function(e,t,r,n,o,a,i,s,l){var c=o.x,d=o.y,u=o.width,p=o.height;if(r){var h=l.y,f=e.y.apply(h,{position:a});if(dV(l,"discard")&&!e.y.isInRange(f))return null;var m=[{x:c+u,y:f},{x:c,y:f}];return"left"===s?m.reverse():m}if(t){var g=l.x,v=e.x.apply(g,{position:a});if(dV(l,"discard")&&!e.x.isInRange(v))return null;var x=[{x:v,y:d+p},{x:v,y:d}];return"top"===i?x.reverse():x}if(n){var b=l.segment.map((function(t){return e.apply(t,{position:a})}));return dV(l,"discard")&&lH()(b,(function(t){return!e.isInRange(t)}))?null:b}return null}(YG({x:u.scale,y:p.scale}),XI(t),XI(r),n&&2===n.length,h,e.position,u.orientation,p.orientation,e);if(!f)return null;var m=NH(f,2),g=m[0],v=g.x,x=g.y,b=m[1],y=b.x,j=b.y,w=MH(MH({clipPath:dV(e,"hidden")?"url(#".concat(d,")"):void 0},ND(e,!0)),{},{x1:v,y1:x,x2:y,y2:j});return a.createElement(aM,{className:(0,vt.A)("recharts-reference-line",l)},function(e,t){return a.isValidElement(e)?a.cloneElement(e,t):lD()(e)?e(t):a.createElement("line",zH({},t,{className:"recharts-reference-line-line"}))}(s,w),lV.renderCallByParent(e,function(e){var t=e.x1,r=e.y1,n=e.x2,o=e.y2;return HG({x:t,y:r},{x:n,y:o})}({x1:v,y1:x,x2:y,y2:j})))}var BH=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),kH(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IH(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){return a.createElement(LH,this.props)}}])&&EH(r.prototype,n),o&&EH(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(a.Component);function FH(){return FH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},FH.apply(this,arguments)}function _H(e){return _H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_H(e)}function UH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function WH(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?UH(Object(r),!0).forEach((function(t){KH(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UH(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function VH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XH(n.key),n)}}function GH(e,t,r){return t=qH(t),function(e,t){if(t&&("object"===_H(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,HH()?Reflect.construct(t,r||[],qH(e).constructor):t.apply(e,r))}function HH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(HH=function(){return!!e})()}function qH(e){return qH=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qH(e)}function YH(e,t){return YH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},YH(e,t)}function KH(e,t,r){return(t=XH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XH(e){var t=function(e,t){if("object"!=_H(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=_H(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_H(t)?t:t+""}TH(BH,"displayName","ReferenceLine"),TH(BH,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var QH=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),GH(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YH(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this.props,r=e.x1,n=e.x2,o=e.y1,i=e.y2,s=e.className,l=e.alwaysShow,c=e.clipPathId;oD(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=XI(r),u=XI(n),p=XI(o),h=XI(i),f=this.props.shape;if(!d&&!u&&!p&&!h&&!f)return null;var m=function(e,t,r,n,o){var a=o.x1,i=o.x2,s=o.y1,l=o.y2,c=o.xAxis,d=o.yAxis;if(!c||!d)return null;var u=YG({x:c.scale,y:d.scale}),p={x:e?u.x.apply(a,{position:"start"}):u.x.rangeMin,y:r?u.y.apply(s,{position:"start"}):u.y.rangeMin},h={x:t?u.x.apply(i,{position:"end"}):u.x.rangeMax,y:n?u.y.apply(l,{position:"end"}):u.y.rangeMax};return!dV(o,"discard")||u.isInRange(p)&&u.isInRange(h)?HG(p,h):null}(d,u,p,h,this.props);if(!m&&!f)return null;var g=dV(this.props,"hidden")?"url(#".concat(c,")"):void 0;return a.createElement(aM,{className:(0,vt.A)("recharts-reference-area",s)},t.renderRect(f,WH(WH({clipPath:g},ND(this.props,!0)),m)),lV.renderCallByParent(this.props,m))}}])&&VH(r.prototype,n),o&&VH(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(a.Component);function JH(e){return function(e){if(Array.isArray(e))return ZH(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ZH(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZH(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ZH(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}KH(QH,"displayName","ReferenceArea"),KH(QH,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),KH(QH,"renderRect",(function(e,t){return a.isValidElement(e)?a.cloneElement(e,t):lD()(e)?e(t):a.createElement(qN,FH({},t,{className:"recharts-reference-area-rect"}))}));var eq=function(e,t,r,n,o){var a=PD(e,BH),i=PD(e,iH),s=[].concat(JH(a),JH(i)),l=PD(e,QH),c="".concat(n,"Id"),d=n[0],u=t;if(s.length&&(u=s.reduce((function(e,t){if(t.props[c]===r&&dV(t.props,"extendDomain")&&KI(t.props[d])){var n=t.props[d];return[Math.min(e[0],n),Math.max(e[1],n)]}return e}),u)),l.length){var p="".concat(d,"1"),h="".concat(d,"2");u=l.reduce((function(e,t){if(t.props[c]===r&&dV(t.props,"extendDomain")&&KI(t.props[p])&&KI(t.props[h])){var n=t.props[p],o=t.props[h];return[Math.min(e[0],n,o),Math.max(e[1],n,o)]}return e}),u)}return o&&o.length&&(u=o.reduce((function(e,t){return KI(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e}),u)),u},tq=r(7283),rq=new(r.n(tq)()),nq="recharts.syncMouseEvents";function oq(e){return oq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oq(e)}function aq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sq(n.key),n)}}function iq(e,t,r){return(t=sq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sq(e){var t=function(e,t){if("object"!=oq(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=oq(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oq(t)?t:t+""}var lq=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),iq(this,"activeIndex",0),iq(this,"coordinateList",[]),iq(this,"layout","horizontal")},(t=[{key:"setDetails",value:function(e){var t,r=e.coordinateList,n=void 0===r?null:r,o=e.container,a=void 0===o?null:o,i=e.layout,s=void 0===i?null:i,l=e.offset,c=void 0===l?null:l,d=e.mouseHandlerCallback,u=void 0===d?null:d;this.coordinateList=null!==(t=null!==n&&void 0!==n?n:this.coordinateList)&&void 0!==t?t:[],this.container=null!==a&&void 0!==a?a:this.container,this.layout=null!==s&&void 0!==s?s:this.layout,this.offset=null!==c&&void 0!==c?c:this.offset,this.mouseHandlerCallback=null!==u&&void 0!==u?u:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var r=this.container.getBoundingClientRect(),n=r.x,o=r.y,a=r.height,i=this.coordinateList[this.activeIndex].coordinate,s=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=n+i+s,d=o+this.offset.top+a/2+l;this.mouseHandlerCallback({pageX:c,pageY:d})}}}])&&aq(e.prototype,t),r&&aq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}();function cq(){}function dq(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function uq(e){this._context=e}function pq(e){this._context=e}function hq(e){this._context=e}uq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:dq(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:dq(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},pq.prototype={areaStart:cq,areaEnd:cq,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:dq(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},hq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:dq(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class fq{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function mq(e){this._context=e}function gq(e){this._context=e}function vq(e){return new gq(e)}function xq(e){return e<0?-1:1}function bq(e,t,r){var n=e._x1-e._x0,o=t-e._x1,a=(e._y1-e._y0)/(n||o<0&&-0),i=(r-e._y1)/(o||n<0&&-0),s=(a*o+i*n)/(n+o);return(xq(a)+xq(i))*Math.min(Math.abs(a),Math.abs(i),.5*Math.abs(s))||0}function yq(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function jq(e,t,r){var n=e._x0,o=e._y0,a=e._x1,i=e._y1,s=(a-n)/3;e._context.bezierCurveTo(n+s,o+s*t,a-s,i-s*r,a,i)}function wq(e){this._context=e}function Sq(e){this._context=new Cq(e)}function Cq(e){this._context=e}function Aq(e){this._context=e}function Eq(e){var t,r,n=e.length-1,o=new Array(n),a=new Array(n),i=new Array(n);for(o[0]=0,a[0]=2,i[0]=e[0]+2*e[1],t=1;t<n-1;++t)o[t]=1,a[t]=4,i[t]=4*e[t]+2*e[t+1];for(o[n-1]=2,a[n-1]=7,i[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=o[t]/a[t-1],a[t]-=r,i[t]-=r*i[t-1];for(o[n-1]=i[n-1]/a[n-1],t=n-2;t>=0;--t)o[t]=(i[t]-o[t+1])/a[t];for(a[n-1]=(e[n]+o[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-o[t+1];return[o,a]}function kq(e,t){this._context=e,this._t=t}function Oq(e){return e[0]}function Pq(e){return e[1]}function Iq(e,t){var r=xT(!0),n=null,o=vq,a=null,i=AT(s);function s(s){var l,c,d,u=(s=F_(s)).length,p=!1;for(null==n&&(a=o(d=i())),l=0;l<=u;++l)!(l<u&&r(c=s[l],l,s))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+e(c,l,s),+t(c,l,s));if(d)return a=null,d+""||null}return e="function"===typeof e?e:void 0===e?Oq:xT(e),t="function"===typeof t?t:void 0===t?Pq:xT(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:xT(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:xT(+e),s):t},s.defined=function(e){return arguments.length?(r="function"===typeof e?e:xT(!!e),s):r},s.curve=function(e){return arguments.length?(o=e,null!=n&&(a=o(n)),s):o},s.context=function(e){return arguments.length?(null==e?n=a=null:a=o(n=e),s):n},s}function Dq(e,t,r){var n=null,o=xT(!0),a=null,i=vq,s=null,l=AT(c);function c(c){var d,u,p,h,f,m=(c=F_(c)).length,g=!1,v=new Array(m),x=new Array(m);for(null==a&&(s=i(f=l())),d=0;d<=m;++d){if(!(d<m&&o(h=c[d],d,c))===g)if(g=!g)u=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),p=d-1;p>=u;--p)s.point(v[p],x[p]);s.lineEnd(),s.areaEnd()}g&&(v[d]=+e(h,d,c),x[d]=+t(h,d,c),s.point(n?+n(h,d,c):v[d],r?+r(h,d,c):x[d]))}if(f)return s=null,f+""||null}function d(){return Iq().defined(o).curve(i).context(a)}return e="function"===typeof e?e:void 0===e?Oq:xT(+e),t="function"===typeof t?t:xT(void 0===t?0:+t),r="function"===typeof r?r:void 0===r?Pq:xT(+r),c.x=function(t){return arguments.length?(e="function"===typeof t?t:xT(+t),n=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:xT(+t),c):e},c.x1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:xT(+e),c):n},c.y=function(e){return arguments.length?(t="function"===typeof e?e:xT(+e),r=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:xT(+e),c):t},c.y1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:xT(+e),c):r},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(r)},c.lineX1=function(){return d().x(n).y(t)},c.defined=function(e){return arguments.length?(o="function"===typeof e?e:xT(!!e),c):o},c.curve=function(e){return arguments.length?(i=e,null!=a&&(s=i(a)),c):i},c.context=function(e){return arguments.length?(null==e?a=s=null:s=i(a=e),c):a},c}function Mq(e){return Mq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mq(e)}function Tq(){return Tq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tq.apply(this,arguments)}function Rq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Nq(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rq(Object(r),!0).forEach((function(t){$q(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rq(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $q(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Mq(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Mq(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Mq(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}mq.prototype={areaStart:cq,areaEnd:cq,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},gq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},wq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:jq(this,this._t0,yq(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,jq(this,yq(this,r=bq(this,e,t)),r);break;default:jq(this,this._t0,r=bq(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}},(Sq.prototype=Object.create(wq.prototype)).point=function(e,t){wq.prototype.point.call(this,t,e)},Cq.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,o,a){this._context.bezierCurveTo(t,e,n,r,a,o)}},Aq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===r)this._context.lineTo(e[1],t[1]);else for(var n=Eq(e),o=Eq(t),a=0,i=1;i<r;++a,++i)this._context.bezierCurveTo(n[0][a],o[0][a],n[1][a],o[1][a],e[i],t[i]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},kq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}}this._x=e,this._y=t}};var zq={curveBasisClosed:function(e){return new pq(e)},curveBasisOpen:function(e){return new hq(e)},curveBasis:function(e){return new uq(e)},curveBumpX:function(e){return new fq(e,!0)},curveBumpY:function(e){return new fq(e,!1)},curveLinearClosed:function(e){return new mq(e)},curveLinear:vq,curveMonotoneX:function(e){return new wq(e)},curveMonotoneY:function(e){return new Sq(e)},curveNatural:function(e){return new Aq(e)},curveStep:function(e){return new kq(e,.5)},curveStepAfter:function(e){return new kq(e,1)},curveStepBefore:function(e){return new kq(e,0)}},Lq=function(e){return e.x===+e.x&&e.y===+e.y},Bq=function(e){return e.x},Fq=function(e){return e.y},_q=function(e){var t,r=e.type,n=void 0===r?"linear":r,o=e.points,a=void 0===o?[]:o,i=e.baseLine,s=e.layout,l=e.connectNulls,c=void 0!==l&&l,d=function(e,t){if(lD()(e))return e;var r="curve".concat(KM()(e));return"curveMonotone"!==r&&"curveBump"!==r||!t?zq[r]||vq:zq["".concat(r).concat("vertical"===t?"Y":"X")]}(n,s),u=c?a.filter((function(e){return Lq(e)})):a;if(Array.isArray(i)){var p=c?i.filter((function(e){return Lq(e)})):i,h=u.map((function(e,t){return Nq(Nq({},e),{},{base:p[t]})}));return(t="vertical"===s?Dq().y(Fq).x1(Bq).x0((function(e){return e.base.x})):Dq().x(Bq).y1(Fq).y0((function(e){return e.base.y}))).defined(Lq).curve(d),t(h)}return(t="vertical"===s&&KI(i)?Dq().y(Fq).x1(Bq).x0(i):KI(i)?Dq().x(Bq).y1(Fq).y0(i):Iq().x(Bq).y(Fq)).defined(Lq).curve(d),t(u)},Uq=function(e){var t=e.className,r=e.points,n=e.path,o=e.pathRef;if((!r||!r.length)&&!n)return null;var i=r&&r.length?_q(e):n;return a.createElement("path",Tq({},ND(e,!1),xD(e),{className:(0,vt.A)("recharts-curve",t),d:i,ref:o}))};function Wq(e){return Wq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wq(e)}var Vq=["x","y","top","left","width","height","className"];function Gq(){return Gq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gq.apply(this,arguments)}function Hq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qq(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Wq(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Wq(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Wq(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yq(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Kq=function(e,t,r,n,o,a){return"M".concat(e,",").concat(o,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r)},Xq=function(e){var t=e.x,r=void 0===t?0:t,n=e.y,o=void 0===n?0:n,i=e.top,s=void 0===i?0:i,l=e.left,c=void 0===l?0:l,d=e.width,u=void 0===d?0:d,p=e.height,h=void 0===p?0:p,f=e.className,m=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hq(Object(r),!0).forEach((function(t){qq(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hq(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({x:r,y:o,top:s,left:c,width:u,height:h},Yq(e,Vq));return KI(r)&&KI(o)&&KI(u)&&KI(h)&&KI(s)&&KI(c)?a.createElement("path",Gq({},ND(m,!0),{className:(0,vt.A)("recharts-cross",f),d:Kq(r,o,u,h,s,c)})):null};function Qq(e){var t=e.cx,r=e.cy,n=e.radius,o=e.startAngle,a=e.endAngle;return{points:[HW(t,r,n,o),HW(t,r,n,a)],cx:t,cy:r,radius:n,startAngle:o,endAngle:a}}function Jq(e,t,r){var n,o,a,i;if("horizontal"===e)a=n=t.x,o=r.top,i=r.top+r.height;else if("vertical"===e)i=o=t.y,n=r.left,a=r.left+r.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return Qq(t);var s=t.cx,l=t.cy,c=t.innerRadius,d=t.outerRadius,u=t.angle,p=HW(s,l,c,u),h=HW(s,l,d,u);n=p.x,o=p.y,a=h.x,i=h.y}return[{x:n,y:o},{x:a,y:i}]}function Zq(e){return Zq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zq(e)}function eY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tY(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eY(Object(r),!0).forEach((function(t){rY(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eY(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rY(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Zq(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Zq(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Zq(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nY(e){var t,r,n,o=e.element,i=e.tooltipEventType,s=e.isActive,l=e.activeCoordinate,c=e.activePayload,d=e.offset,u=e.activeTooltipIndex,p=e.tooltipAxisBandSize,h=e.layout,f=e.chartName,m=null!==(t=o.props.cursor)&&void 0!==t?t:null===(r=o.type.defaultProps)||void 0===r?void 0:r.cursor;if(!o||!m||!s||!l||"ScatterChart"!==f&&"axis"!==i)return null;var g=Uq;if("ScatterChart"===f)n=l,g=Xq;else if("BarChart"===f)n=function(e,t,r,n){var o=n/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-o:r.left+.5,y:"horizontal"===e?r.top+.5:t.y-o,width:"horizontal"===e?n:r.width-1,height:"horizontal"===e?r.height-1:n}}(h,l,d,p),g=qN;else if("radial"===h){var v=Qq(l),x=v.cx,b=v.cy,y=v.radius;n={cx:x,cy:b,startAngle:v.startAngle,endAngle:v.endAngle,innerRadius:y,outerRadius:y},g=JV}else n={points:Jq(h,l,d)},g=Uq;var j=tY(tY(tY(tY({stroke:"#ccc",pointerEvents:"none"},d),n),ND(m,!1)),{},{payload:c,payloadIndex:u,className:(0,vt.A)("recharts-tooltip-cursor",m.className)});return(0,a.isValidElement)(m)?(0,a.cloneElement)(m,j):(0,a.createElement)(g,j)}var oY=["item"],aY=["children","className","width","height","style","compact","title","desc"];function iY(e){return iY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iY(e)}function sY(){return sY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sY.apply(this,arguments)}function lY(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||gY(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cY(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function dY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jY(n.key),n)}}function uY(e,t,r){return t=hY(t),function(e,t){if(t&&("object"===iY(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,pY()?Reflect.construct(t,r||[],hY(e).constructor):t.apply(e,r))}function pY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(pY=function(){return!!e})()}function hY(e){return hY=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hY(e)}function fY(e,t){return fY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fY(e,t)}function mY(e){return function(e){if(Array.isArray(e))return vY(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||gY(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gY(e,t){if(e){if("string"===typeof e)return vY(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vY(e,t):void 0}}function vY(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bY(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xY(Object(r),!0).forEach((function(t){yY(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xY(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function yY(e,t,r){return(t=jY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jY(e){var t=function(e,t){if("object"!=iY(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=iY(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==iY(t)?t:t+""}var wY={xAxis:["bottom","top"],yAxis:["left","right"]},SY={width:"100%",height:"100%"},CY={x:0,y:0};function AY(e){return e}var EY=function(e,t){var r=t.graphicalItems,n=t.dataStartIndex,o=t.dataEndIndex,a=(null!==r&&void 0!==r?r:[]).reduce((function(e,t){var r=t.props.data;return r&&r.length?[].concat(mY(e),mY(r)):e}),[]);return a.length>0?a:e&&e.length&&KI(n)&&KI(o)?e.slice(n,o+1):[]};function kY(e){return"number"===e?[0,"auto"]:void 0}var OY=function(e,t,r,n){var o=e.graphicalItems,a=e.tooltipAxis,i=EY(t,e);return r<0||!o||!o.length||r>=i.length?null:o.reduce((function(o,s){var l,c,d=null!==(l=s.props.data)&&void 0!==l?l:t;(d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1)),a.dataKey&&!a.allowDuplicatedCategory)?c=rD(void 0===d?i:d,a.dataKey,n):c=d&&d[r]||i[r];return c?[].concat(mY(o),[bW(s,c)]):o}),[])},PY=function(e,t,r,n){var o=n||{x:e.chartX,y:e.chartY},a=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(o,r),i=e.orderedTooltipTicks,s=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,i=null!==(t=null===r||void 0===r?void 0:r.length)&&void 0!==t?t:0;if(i<=1)return 0;if(o&&"angleAxis"===o.axisType&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var s=o.range,l=0;l<i;l++){var c=l>0?n[l-1].coordinate:n[i-1].coordinate,d=n[l].coordinate,u=l>=i-1?n[0].coordinate:n[l+1].coordinate,p=void 0;if(qI(d-c)!==qI(u-d)){var h=[];if(qI(u-d)===qI(s[1]-s[0])){p=u;var f=d+s[1]-s[0];h[0]=Math.min(f,(f+c)/2),h[1]=Math.max(f,(f+c)/2)}else{p=c;var m=u+s[1]-s[0];h[0]=Math.min(d,(m+d)/2),h[1]=Math.max(d,(m+d)/2)}var g=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(e>g[0]&&e<=g[1]||e>=h[0]&&e<=h[1]){a=n[l].index;break}}else{var v=Math.min(c,u),x=Math.max(c,u);if(e>(v+d)/2&&e<=(x+d)/2){a=n[l].index;break}}}else for(var b=0;b<i;b++)if(0===b&&e<=(r[b].coordinate+r[b+1].coordinate)/2||b>0&&b<i-1&&e>(r[b].coordinate+r[b-1].coordinate)/2&&e<=(r[b].coordinate+r[b+1].coordinate)/2||b===i-1&&e>(r[b].coordinate+r[b-1].coordinate)/2){a=r[b].index;break}return a}(a,i,l,s);if(c>=0&&l){var d=l[c]&&l[c].value,u=OY(e,t,c,d),p=function(e,t,r,n){var o=t.find((function(e){return e&&e.index===r}));if(o){if("horizontal"===e)return{x:o.coordinate,y:n.y};if("vertical"===e)return{x:n.x,y:o.coordinate};if("centric"===e){var a=o.coordinate,i=n.radius;return bY(bY(bY({},n),HW(n.cx,n.cy,i,a)),{},{angle:a,radius:i})}var s=o.coordinate,l=n.angle;return bY(bY(bY({},n),HW(n.cx,n.cy,s,l)),{},{angle:l,radius:s})}return CY}(r,i,c,o);return{activeTooltipIndex:c,activeLabel:d,activePayload:u,activeCoordinate:p}}return null},IY=function(e,t){var r=t.axes,n=t.graphicalItems,o=t.axisType,a=t.axisIdKey,i=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,d=e.children,u=e.stackOffset,p=eW(c,o);return r.reduce((function(t,r){var h,f=void 0!==r.type.defaultProps?bY(bY({},r.type.defaultProps),r.props):r.props,m=f.type,g=f.dataKey,v=f.allowDataOverflow,x=f.allowDuplicatedCategory,b=f.scale,y=f.ticks,j=f.includeHidden,w=f[a];if(t[w])return t;var S,C,A,E=EY(e.data,{graphicalItems:n.filter((function(e){var t;return(a in e.props?e.props[a]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[a])===w})),dataStartIndex:s,dataEndIndex:l}),k=E.length;(function(e,t,r){if("number"===r&&!0===t&&Array.isArray(e)){var n=null===e||void 0===e?void 0:e[0],o=null===e||void 0===e?void 0:e[1];if(n&&o&&KI(n)&&KI(o))return!0}return!1})(f.domain,v,m)&&(S=gW(f.domain,null,v),!p||"number"!==m&&"auto"===b||(A=XU(E,g,"category")));var O=kY(m);if(!S||0===S.length){var P,I=null!==(P=f.domain)&&void 0!==P?P:O;if(g){if(S=XU(E,g,m),"category"===m&&p){var D=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++){if(r[e[n]])return!0;r[e[n]]=!0}return!1}(S);x&&D?(C=S,S=qD()(0,k)):x||(S=xW(I,S,r).reduce((function(e,t){return e.indexOf(t)>=0?e:[].concat(mY(e),[t])}),[]))}else if("category"===m)S=x?S.filter((function(e){return""!==e&&!iD()(e)})):xW(I,S,r).reduce((function(e,t){return e.indexOf(t)>=0||""===t||iD()(t)?e:[].concat(mY(e),[t])}),[]);else if("number"===m){var M=function(e,t,r,n,o){var a=t.map((function(t){return JU(e,t,r,o,n)})).filter((function(e){return!iD()(e)}));return a&&a.length?a.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]):null}(E,n.filter((function(e){var t,r,n=a in e.props?e.props[a]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[a],o="hide"in e.props?e.props.hide:null===(r=e.type.defaultProps)||void 0===r?void 0:r.hide;return n===w&&(j||!o)})),g,o,c);M&&(S=M)}!p||"number"!==m&&"auto"===b||(A=XU(E,g,"category"))}else S=p?qD()(0,k):i&&i[w]&&i[w].hasStack&&"number"===m?"expand"===u?[0,1]:hW(i[w].stackGroups,s,l):ZU(E,n.filter((function(e){var t=a in e.props?e.props[a]:e.type.defaultProps[a],r="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===w&&(j||!r)})),m,c,!0);if("number"===m)S=eq(d,S,w,o,y),I&&(S=gW(I,S,v));else if("category"===m&&I){var T=I;S.every((function(e){return T.indexOf(e)>=0}))&&(S=T)}}return bY(bY({},t),{},yY({},w,bY(bY({},f),{},{axisType:o,domain:S,categoricalDomain:A,duplicateDomain:C,originalDomain:null!==(h=f.domain)&&void 0!==h?h:O,isCategorical:p,layout:c})))}),{})},DY=function(e,t){var r=t.axisType,n=void 0===r?"xAxis":r,o=t.AxisComp,a=t.graphicalItems,i=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.children,d="".concat(n,"Id"),u=PD(c,o),p={};return u&&u.length?p=IY(e,{axes:u,graphicalItems:a,axisType:n,axisIdKey:d,stackGroups:i,dataStartIndex:s,dataEndIndex:l}):a&&a.length&&(p=function(e,t){var r=t.graphicalItems,n=t.Axis,o=t.axisType,a=t.axisIdKey,i=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,d=e.children,u=EY(e.data,{graphicalItems:r,dataStartIndex:s,dataEndIndex:l}),p=u.length,h=eW(c,o),f=-1;return r.reduce((function(e,t){var m,g=(void 0!==t.type.defaultProps?bY(bY({},t.type.defaultProps),t.props):t.props)[a],v=kY("number");return e[g]?e:(f++,h?m=qD()(0,p):i&&i[g]&&i[g].hasStack?(m=hW(i[g].stackGroups,s,l),m=eq(d,m,g,o)):(m=gW(v,ZU(u,r.filter((function(e){var t,r,n=a in e.props?e.props[a]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[a],o="hide"in e.props?e.props.hide:null===(r=e.type.defaultProps)||void 0===r?void 0:r.hide;return n===g&&!o})),"number",c),n.defaultProps.allowDataOverflow),m=eq(d,m,g,o)),bY(bY({},e),{},yY({},g,bY(bY({axisType:o},n.defaultProps),{},{hide:!0,orientation:VI()(wY,"".concat(o,".").concat(f%2),null),domain:m,originalDomain:v,isCategorical:h,layout:c}))))}),{})}(e,{Axis:o,graphicalItems:a,axisType:n,axisIdKey:d,stackGroups:i,dataStartIndex:s,dataEndIndex:l})),p},MY=function(e){var t=e.children,r=e.defaultShowTooltip,n=ID(t,zW),o=0,a=0;return e.data&&0!==e.data.length&&(a=e.data.length-1),n&&n.props&&(n.props.startIndex>=0&&(o=n.props.startIndex),n.props.endIndex>=0&&(a=n.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:Boolean(r)}},TY=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},RY=function(e,t){var r=e.props,n=(e.graphicalItems,e.xAxisMap),o=void 0===n?{}:n,a=e.yAxisMap,i=void 0===a?{}:a,s=r.width,l=r.height,c=r.children,d=r.margin||{},u=ID(c,zW),p=ID(c,sR),h=Object.keys(i).reduce((function(e,t){var r=i[t],n=r.orientation;return r.mirror||r.hide?e:bY(bY({},e),{},yY({},n,e[n]+r.width))}),{left:d.left||0,right:d.right||0}),f=Object.keys(o).reduce((function(e,t){var r=o[t],n=r.orientation;return r.mirror||r.hide?e:bY(bY({},e),{},yY({},n,VI()(e,"".concat(n))+r.height))}),{top:d.top||0,bottom:d.bottom||0}),m=bY(bY({},f),h),g=m.bottom;u&&(m.bottom+=u.props.height||zW.defaultProps.height),p&&t&&(m=function(e,t,r,n){var o=r.children,a=r.width,i=r.margin,s=a-(i.left||0)-(i.right||0),l=UU({children:o,legendWidth:s});if(l){var c=n||{},d=c.width,u=c.height,p=l.align,h=l.verticalAlign,f=l.layout;if(("vertical"===f||"horizontal"===f&&"middle"===h)&&"center"!==p&&KI(e[p]))return qU(qU({},e),{},YU({},p,e[p]+(d||0)));if(("horizontal"===f||"vertical"===f&&"center"===p)&&"middle"!==h&&KI(e[h]))return qU(qU({},e),{},YU({},h,e[h]+(u||0)))}return e}(m,0,r,t));var v=s-m.left-m.right,x=l-m.top-m.bottom;return bY(bY({brushBottom:g},m),{},{width:Math.max(v,0),height:Math.max(x,0)})},NY=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},$Y=function(e){var t=e.chartName,r=e.GraphicalChild,n=e.defaultTooltipEventType,o=void 0===n?"axis":n,i=e.validateTooltipEventTypes,s=void 0===i?["axis"]:i,l=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,u=e.defaultProps,p=function(e,t){var r=t.graphicalItems,n=t.stackGroups,o=t.offset,a=t.updateId,i=t.dataStartIndex,s=t.dataEndIndex,c=e.barSize,d=e.layout,u=e.barGap,p=e.barCategoryGap,h=e.maxBarSize,f=TY(d),m=f.numericAxisName,g=f.cateAxisName,v=function(e){return!(!e||!e.length)&&e.some((function(e){var t=AD(e&&e.type);return t&&t.indexOf("Bar")>=0}))}(r),x=[];return r.forEach((function(r,f){var b=EY(e.data,{graphicalItems:[r],dataStartIndex:i,dataEndIndex:s}),y=void 0!==r.type.defaultProps?bY(bY({},r.type.defaultProps),r.props):r.props,j=y.dataKey,w=y.maxBarSize,S=y["".concat(m,"Id")],C=y["".concat(g,"Id")],A=l.reduce((function(e,r){var n=t["".concat(r.axisType,"Map")],o=y["".concat(r.axisType,"Id")];n&&n[o]||"zAxis"===r.axisType||QD(!1);var a=n[o];return bY(bY({},e),{},yY(yY({},r.axisType,a),"".concat(r.axisType,"Ticks"),rW(a)))}),{}),E=A[g],k=A["".concat(g,"Ticks")],O=n&&n[S]&&n[S].hasStack&&function(e,t){var r,n=(null!==(r=e.type)&&void 0!==r&&r.defaultProps?qU(qU({},e.type.defaultProps),e.props):e.props).stackId;if(XI(n)){var o=t[n];if(o){var a=o.items.indexOf(e);return a>=0?o.stackedData[a]:null}}return null}(r,n[S].stackGroups),P=AD(r.type).indexOf("Bar")>=0,I=vW(E,k),D=[],M=v&&function(e){var t=e.barSize,r=e.totalSize,n=e.stackGroups,o=void 0===n?{}:n;if(!o)return{};for(var a={},i=Object.keys(o),s=0,l=i.length;s<l;s++)for(var c=o[i[s]].stackGroups,d=Object.keys(c),u=0,p=d.length;u<p;u++){var h=c[d[u]],f=h.items,m=h.cateAxisId,g=f.filter((function(e){return AD(e.type).indexOf("Bar")>=0}));if(g&&g.length){var v=g[0].type.defaultProps,x=void 0!==v?qU(qU({},v),g[0].props):g[0].props,b=x.barSize,y=x[m];a[y]||(a[y]=[]);var j=iD()(b)?t:b;a[y].push({item:g[0],stackList:g.slice(1),barSize:iD()(j)?void 0:ZI(j,r,0)})}}return a}({barSize:c,stackGroups:n,totalSize:NY(A,g)});if(P){var T,R,N=iD()(w)?h:w,$=null!==(T=null!==(R=vW(E,k,!0))&&void 0!==R?R:N)&&void 0!==T?T:0;D=function(e){var t=e.barGap,r=e.barCategoryGap,n=e.bandSize,o=e.sizeList,a=void 0===o?[]:o,i=e.maxBarSize,s=a.length;if(s<1)return null;var l,c=ZI(t,n,0,!0),d=[];if(a[0].barSize===+a[0].barSize){var u=!1,p=n/s,h=a.reduce((function(e,t){return e+t.barSize||0}),0);(h+=(s-1)*c)>=n&&(h-=(s-1)*c,c=0),h>=n&&p>0&&(u=!0,h=s*(p*=.9));var f={offset:((n-h)/2|0)-c,size:0};l=a.reduce((function(e,t){var r={item:t.item,position:{offset:f.offset+f.size+c,size:u?p:t.barSize}},n=[].concat(VU(e),[r]);return f=n[n.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){n.push({item:e,position:f})})),n}),d)}else{var m=ZI(r,n,0,!0);n-2*m-(s-1)*c<=0&&(c=0);var g=(n-2*m-(s-1)*c)/s;g>1&&(g>>=0);var v=i===+i?Math.min(g,i):g;l=a.reduce((function(e,t,r){var n=[].concat(VU(e),[{item:t.item,position:{offset:m+(g+c)*r+(g-v)/2,size:v}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){n.push({item:e,position:n[n.length-1].position})})),n}),d)}return l}({barGap:u,barCategoryGap:p,bandSize:$!==I?$:I,sizeList:M[C],maxBarSize:N}),$!==I&&(D=D.map((function(e){return bY(bY({},e),{},{position:bY(bY({},e.position),{},{offset:e.position.offset-$/2})})})))}var z,L,B=r&&r.type&&r.type.getComposedData;B&&x.push({props:bY(bY({},B(bY(bY({},A),{},{displayedData:b,props:e,dataKey:j,item:r,bandSize:I,barPosition:D,offset:o,stackedData:O,layout:d,dataStartIndex:i,dataEndIndex:s}))),{},yY(yY(yY({key:r.key||"item-".concat(f)},m,A[m]),g,A[g]),"animationId",a)),childIndex:(z=r,L=e.children,OD(L).indexOf(z)),item:r})})),x},h=function(e,n){var o=e.props,a=e.dataStartIndex,i=e.dataEndIndex,s=e.updateId;if(!DD({props:o}))return null;var c=o.children,u=o.layout,h=o.stackOffset,f=o.data,m=o.reverseStackOrder,g=TY(u),v=g.numericAxisName,x=g.cateAxisName,b=PD(c,r),y=function(e,t,r,n,o,a){if(!e)return null;var i=(a?t.reverse():t).reduce((function(e,t){var o,a=null!==(o=t.type)&&void 0!==o&&o.defaultProps?qU(qU({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(a.hide)return e;var s=a[r],l=e[s]||{hasStack:!1,stackGroups:{}};if(XI(i)){var c=l.stackGroups[i]||{numericAxisId:r,cateAxisId:n,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[i]=c}else l.stackGroups[JI("_stackId_")]={numericAxisId:r,cateAxisId:n,items:[t]};return qU(qU({},e),{},YU({},s,l))}),{});return Object.keys(i).reduce((function(t,a){var s=i[a];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce((function(t,a){var i=s.stackGroups[a];return qU(qU({},t),{},YU({},a,{numericAxisId:r,cateAxisId:n,items:i.items,stackedData:cW(e,i.items,o)}))}),{})),qU(qU({},t),{},YU({},a,s))}),{})}(f,b,"".concat(v,"Id"),"".concat(x,"Id"),h,m),j=l.reduce((function(e,t){var r="".concat(t.axisType,"Map");return bY(bY({},e),{},yY({},r,DY(o,bY(bY({},t),{},{graphicalItems:b,stackGroups:t.axisType===v&&y,dataStartIndex:a,dataEndIndex:i}))))}),{}),w=RY(bY(bY({},j),{},{props:o,graphicalItems:b}),null===n||void 0===n?void 0:n.legendBBox);Object.keys(j).forEach((function(e){j[e]=d(o,j[e],w,e.replace("Map",""),t)}));var S=function(e){var t=eD(e),r=rW(t,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:KD()(r,(function(e){return e.coordinate})),tooltipAxis:t,tooltipAxisBandSize:vW(t,r)}}(j["".concat(x,"Map")]),C=p(o,bY(bY({},j),{},{dataStartIndex:a,dataEndIndex:i,updateId:s,graphicalItems:b,stackGroups:y,offset:w}));return bY(bY({formattedGraphicalItems:C,graphicalItems:b,offset:w,stackGroups:y},S),j)},f=function(e){function r(e){var n,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),yY(i=uY(this,r,[e]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),yY(i,"accessibilityManager",new lq),yY(i,"handleLegendBBoxUpdate",(function(e){if(e){var t=i.state,r=t.dataStartIndex,n=t.dataEndIndex,o=t.updateId;i.setState(bY({legendBBox:e},h({props:i.props,dataStartIndex:r,dataEndIndex:n,updateId:o},bY(bY({},i.state),{},{legendBBox:e}))))}})),yY(i,"handleReceiveSyncEvent",(function(e,t,r){if(i.props.syncId===e){if(r===i.eventEmitterSymbol&&"function"!==typeof i.props.syncMethod)return;i.applySyncEvent(t)}})),yY(i,"handleBrushChange",(function(e){var t=e.startIndex,r=e.endIndex;if(t!==i.state.dataStartIndex||r!==i.state.dataEndIndex){var n=i.state.updateId;i.setState((function(){return bY({dataStartIndex:t,dataEndIndex:r},h({props:i.props,dataStartIndex:t,dataEndIndex:r,updateId:n},i.state))})),i.triggerSyncEvent({dataStartIndex:t,dataEndIndex:r})}})),yY(i,"handleMouseEnter",(function(e){var t=i.getMouseInfo(e);if(t){var r=bY(bY({},t),{},{isTooltipActive:!0});i.setState(r),i.triggerSyncEvent(r);var n=i.props.onMouseEnter;lD()(n)&&n(r,e)}})),yY(i,"triggeredAfterMouseMove",(function(e){var t=i.getMouseInfo(e),r=t?bY(bY({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};i.setState(r),i.triggerSyncEvent(r);var n=i.props.onMouseMove;lD()(n)&&n(r,e)})),yY(i,"handleItemMouseEnter",(function(e){i.setState((function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}}))})),yY(i,"handleItemMouseLeave",(function(){i.setState((function(){return{isTooltipActive:!1}}))})),yY(i,"handleMouseMove",(function(e){e.persist(),i.throttleTriggeredAfterMouseMove(e)})),yY(i,"handleMouseLeave",(function(e){i.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};i.setState(t),i.triggerSyncEvent(t);var r=i.props.onMouseLeave;lD()(r)&&r(t,e)})),yY(i,"handleOuterEvent",(function(e){var t,r=function(e){var t=e&&e.type;return t&&CD[t]?CD[t]:null}(e),n=VI()(i.props,"".concat(r));r&&lD()(n)&&n(null!==(t=/.*touch.*/i.test(r)?i.getMouseInfo(e.changedTouches[0]):i.getMouseInfo(e))&&void 0!==t?t:{},e)})),yY(i,"handleClick",(function(e){var t=i.getMouseInfo(e);if(t){var r=bY(bY({},t),{},{isTooltipActive:!0});i.setState(r),i.triggerSyncEvent(r);var n=i.props.onClick;lD()(n)&&n(r,e)}})),yY(i,"handleMouseDown",(function(e){var t=i.props.onMouseDown;lD()(t)&&t(i.getMouseInfo(e),e)})),yY(i,"handleMouseUp",(function(e){var t=i.props.onMouseUp;lD()(t)&&t(i.getMouseInfo(e),e)})),yY(i,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&i.throttleTriggeredAfterMouseMove(e.changedTouches[0])})),yY(i,"handleTouchStart",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&i.handleMouseDown(e.changedTouches[0])})),yY(i,"handleTouchEnd",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&i.handleMouseUp(e.changedTouches[0])})),yY(i,"handleDoubleClick",(function(e){var t=i.props.onDoubleClick;lD()(t)&&t(i.getMouseInfo(e),e)})),yY(i,"handleContextMenu",(function(e){var t=i.props.onContextMenu;lD()(t)&&t(i.getMouseInfo(e),e)})),yY(i,"triggerSyncEvent",(function(e){void 0!==i.props.syncId&&rq.emit(nq,i.props.syncId,e,i.eventEmitterSymbol)})),yY(i,"applySyncEvent",(function(e){var t=i.props,r=t.layout,n=t.syncMethod,o=i.state.updateId,a=e.dataStartIndex,s=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)i.setState(bY({dataStartIndex:a,dataEndIndex:s},h({props:i.props,dataStartIndex:a,dataEndIndex:s,updateId:o},i.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,d=e.activeTooltipIndex,u=i.state,p=u.offset,f=u.tooltipTicks;if(!p)return;if("function"===typeof n)d=n(f,e);else if("value"===n){d=-1;for(var m=0;m<f.length;m++)if(f[m].value===e.activeLabel){d=m;break}}var g=bY(bY({},p),{},{x:p.left,y:p.top}),v=Math.min(l,g.x+g.width),x=Math.min(c,g.y+g.height),b=f[d]&&f[d].value,y=OY(i.state,i.props.data,d),j=f[d]?{x:"horizontal"===r?f[d].coordinate:v,y:"horizontal"===r?x:f[d].coordinate}:CY;i.setState(bY(bY({},e),{},{activeLabel:b,activeCoordinate:j,activePayload:y,activeTooltipIndex:d}))}else i.setState(e)})),yY(i,"renderCursor",(function(e){var r,n=i.state,o=n.isTooltipActive,s=n.activeCoordinate,l=n.activePayload,c=n.offset,d=n.activeTooltipIndex,u=n.tooltipAxisBandSize,p=i.getTooltipEventType(),h=null!==(r=e.props.active)&&void 0!==r?r:o,f=i.props.layout,m=e.key||"_recharts-cursor";return a.createElement(nY,{key:m,activeCoordinate:s,activePayload:l,activeTooltipIndex:d,chartName:t,element:e,isActive:h,layout:f,offset:c,tooltipAxisBandSize:u,tooltipEventType:p})})),yY(i,"renderPolarAxis",(function(e,t,r){var n=VI()(e,"type.axisType"),o=VI()(i.state,"".concat(n,"Map")),s=e.type.defaultProps,l=void 0!==s?bY(bY({},s),e.props):e.props,c=o&&o[l["".concat(n,"Id")]];return(0,a.cloneElement)(e,bY(bY({},c),{},{className:(0,vt.A)(n,c.className),key:e.key||"".concat(t,"-").concat(r),ticks:rW(c,!0)}))})),yY(i,"renderPolarGrid",(function(e){var t=e.props,r=t.radialLines,n=t.polarAngles,o=t.polarRadius,s=i.state,l=s.radiusAxisMap,c=s.angleAxisMap,d=eD(l),u=eD(c),p=u.cx,h=u.cy,f=u.innerRadius,m=u.outerRadius;return(0,a.cloneElement)(e,{polarAngles:Array.isArray(n)?n:rW(u,!0).map((function(e){return e.coordinate})),polarRadius:Array.isArray(o)?o:rW(d,!0).map((function(e){return e.coordinate})),cx:p,cy:h,innerRadius:f,outerRadius:m,key:e.key||"polar-grid",radialLines:r})})),yY(i,"renderLegend",(function(){var e=i.state.formattedGraphicalItems,t=i.props,r=t.children,n=t.width,o=t.height,s=i.props.margin||{},l=n-(s.left||0)-(s.right||0),d=UU({children:r,formattedGraphicalItems:e,legendWidth:l,legendContent:c});if(!d)return null;var u=d.item,p=cY(d,oY);return(0,a.cloneElement)(u,bY(bY({},p),{},{chartWidth:n,chartHeight:o,margin:s,onBBoxUpdate:i.handleLegendBBoxUpdate}))})),yY(i,"renderTooltip",(function(){var e,t=i.props,r=t.children,n=t.accessibilityLayer,o=ID(r,qM);if(!o)return null;var s=i.state,l=s.isTooltipActive,c=s.activeCoordinate,d=s.activePayload,u=s.activeLabel,p=s.offset,h=null!==(e=o.props.active)&&void 0!==e?e:l;return(0,a.cloneElement)(o,{viewBox:bY(bY({},p),{},{x:p.left,y:p.top}),active:h,label:u,payload:h?d:[],coordinate:c,accessibilityLayer:n})})),yY(i,"renderBrush",(function(e){var t=i.props,r=t.margin,n=t.data,o=i.state,s=o.offset,l=o.dataStartIndex,c=o.dataEndIndex,d=o.updateId;return(0,a.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:oW(i.handleBrushChange,e.props.onChange),data:n,x:KI(e.props.x)?e.props.x:s.left,y:KI(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(r.bottom||0),width:KI(e.props.width)?e.props.width:s.width,startIndex:l,endIndex:c,updateId:"brush-".concat(d)})})),yY(i,"renderReferenceElement",(function(e,t,r){if(!e)return null;var n=i.clipPathId,o=i.state,s=o.xAxisMap,l=o.yAxisMap,c=o.offset,d=e.type.defaultProps||{},u=e.props,p=u.xAxisId,h=void 0===p?d.xAxisId:p,f=u.yAxisId,m=void 0===f?d.yAxisId:f;return(0,a.cloneElement)(e,{key:e.key||"".concat(t,"-").concat(r),xAxis:s[h],yAxis:l[m],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:n})})),yY(i,"renderActivePoints",(function(e){var t=e.item,n=e.activePoint,o=e.basePoint,a=e.childIndex,i=e.isRange,s=[],l=t.props.key,c=void 0!==t.item.type.defaultProps?bY(bY({},t.item.type.defaultProps),t.item.props):t.item.props,d=c.activeDot,u=bY(bY({index:a,dataKey:c.dataKey,cx:n.x,cy:n.y,r:4,fill:QU(t.item),strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value},ND(d,!1)),xD(d));return s.push(r.renderActiveDot(d,u,"".concat(l,"-activePoint-").concat(a))),o?s.push(r.renderActiveDot(d,bY(bY({},u),{},{cx:o.x,cy:o.y}),"".concat(l,"-basePoint-").concat(a))):i&&s.push(null),s})),yY(i,"renderGraphicChild",(function(e,t,r){var n=i.filterFormatItem(e,t,r);if(!n)return null;var o=i.getTooltipEventType(),s=i.state,l=s.isTooltipActive,c=s.tooltipAxis,d=s.activeTooltipIndex,u=s.activeLabel,p=ID(i.props.children,qM),h=n.props,f=h.points,m=h.isRange,g=h.baseLine,v=void 0!==n.item.type.defaultProps?bY(bY({},n.item.type.defaultProps),n.item.props):n.item.props,x=v.activeDot,b=v.hide,y=v.activeBar,j=v.activeShape,w=Boolean(!b&&l&&p&&(x||y||j)),S={};"axis"!==o&&p&&"click"===p.props.trigger?S={onClick:oW(i.handleItemMouseEnter,e.props.onClick)}:"axis"!==o&&(S={onMouseLeave:oW(i.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:oW(i.handleItemMouseEnter,e.props.onMouseEnter)});var C=(0,a.cloneElement)(e,bY(bY({},n.props),S));if(w){if(!(d>=0)){var A,E=(null!==(A=i.getItemByXY(i.state.activeCoordinate))&&void 0!==A?A:{graphicalItem:C}).graphicalItem,k=E.item,O=void 0===k?e:k,P=E.childIndex,I=bY(bY(bY({},n.props),S),{},{activeIndex:P});return[(0,a.cloneElement)(O,I),null,null]}var D,M;if(c.dataKey&&!c.allowDuplicatedCategory){var T="function"===typeof c.dataKey?function(e){return"function"===typeof c.dataKey?c.dataKey(e.payload):null}:"payload.".concat(c.dataKey.toString());D=rD(f,T,u),M=m&&g&&rD(g,T,u)}else D=null===f||void 0===f?void 0:f[d],M=m&&g&&g[d];if(j||y){var R=void 0!==e.props.activeIndex?e.props.activeIndex:d;return[(0,a.cloneElement)(e,bY(bY(bY({},n.props),S),{},{activeIndex:R})),null,null]}if(!iD()(D))return[C].concat(mY(i.renderActivePoints({item:n,activePoint:D,basePoint:M,childIndex:d,isRange:m})))}return m?[C,null,null]:[C,null]})),yY(i,"renderCustomized",(function(e,t,r){return(0,a.cloneElement)(e,bY(bY({key:"recharts-customized-".concat(r)},i.props),i.state))})),yY(i,"renderMap",{CartesianGrid:{handler:AY,once:!0},ReferenceArea:{handler:i.renderReferenceElement},ReferenceLine:{handler:AY},ReferenceDot:{handler:i.renderReferenceElement},XAxis:{handler:AY},YAxis:{handler:AY},Brush:{handler:i.renderBrush,once:!0},Bar:{handler:i.renderGraphicChild},Line:{handler:i.renderGraphicChild},Area:{handler:i.renderGraphicChild},Radar:{handler:i.renderGraphicChild},RadialBar:{handler:i.renderGraphicChild},Scatter:{handler:i.renderGraphicChild},Pie:{handler:i.renderGraphicChild},Funnel:{handler:i.renderGraphicChild},Tooltip:{handler:i.renderCursor,once:!0},PolarGrid:{handler:i.renderPolarGrid,once:!0},PolarAngleAxis:{handler:i.renderPolarAxis},PolarRadiusAxis:{handler:i.renderPolarAxis},Customized:{handler:i.renderCustomized}}),i.clipPathId="".concat(null!==(n=e.id)&&void 0!==n?n:JI("recharts"),"-clip"),i.throttleTriggeredAfterMouseMove=LI()(i.triggeredAfterMouseMove,null!==(o=e.throttleDelay)&&void 0!==o?o:1e3/60),i.state={},i}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fY(e,t)}(r,e),n=r,i=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,r=e.data,n=e.height,o=e.layout,a=ID(t,qM);if(a){var i=a.props.defaultIndex;if(!("number"!==typeof i||i<0||i>this.state.tooltipTicks.length-1)){var s=this.state.tooltipTicks[i]&&this.state.tooltipTicks[i].value,l=OY(this.state,r,i,s),c=this.state.tooltipTicks[i].coordinate,d=(this.state.offset.top+n)/2,u="horizontal"===o?{x:c,y:d}:{y:c,x:d},p=this.state.formattedGraphicalItems.find((function(e){return"Scatter"===e.item.type.name}));p&&(u=bY(bY({},u),p.props.points[i].tooltipPosition),l=p.props.points[i].tooltipPayload);var h={activeTooltipIndex:i,isTooltipActive:!0,activeLabel:s,activePayload:l,activeCoordinate:u};this.setState(h),this.renderCursor(a),this.accessibilityManager.setIndex(i)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(r=this.props.margin.left)&&void 0!==r?r:0,top:null!==(n=this.props.margin.top)&&void 0!==n?n:0}}),null):null;var r,n}},{key:"componentDidUpdate",value:function(e){$D([ID(e.children,qM)],[ID(this.props.children,qM)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=ID(this.props.children,qM);if(e&&"boolean"===typeof e.props.shared){var t=e.props.shared?"axis":"item";return s.indexOf(t)>=0?t:o}return o}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,r=this.container,n=r.getBoundingClientRect(),o={top:(t=n).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},a={chartX:Math.round(e.pageX-o.left),chartY:Math.round(e.pageY-o.top)},i=n.width/r.offsetWidth||1,s=this.inRange(a.chartX,a.chartY,i);if(!s)return null;var l=this.state,c=l.xAxisMap,d=l.yAxisMap,u=this.getTooltipEventType(),p=PY(this.state,this.props.data,this.props.layout,s);if("axis"!==u&&c&&d){var h=eD(c).scale,f=eD(d).scale,m=h&&h.invert?h.invert(a.chartX):null,g=f&&f.invert?f.invert(a.chartY):null;return bY(bY({},a),{},{xValue:m,yValue:g},p)}return p?bY(bY({},a),p):null}},{key:"inRange",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=this.props.layout,o=e/r,a=t/r;if("horizontal"===n||"vertical"===n){var i=this.state.offset;return o>=i.left&&o<=i.left+i.width&&a>=i.top&&a<=i.top+i.height?{x:o,y:a}:null}var s=this.state,l=s.angleAxisMap,c=s.radiusAxisMap;if(l&&c){var d=eD(l);return XW({x:o,y:a},d)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),r=ID(e,qM),n={};return r&&"axis"===t&&(n="click"===r.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),bY(bY({},xD(this.props,this.handleOuterEvent)),n)}},{key:"addListener",value:function(){rq.on(nq,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){rq.removeListener(nq,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,r){for(var n=this.state.formattedGraphicalItems,o=0,a=n.length;o<a;o++){var i=n[o];if(i.item===e||i.props.key===e.key||t===AD(i.item.type)&&r===i.childIndex)return i}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,r=t.left,n=t.top,o=t.height,i=t.width;return a.createElement("defs",null,a.createElement("clipPath",{id:e},a.createElement("rect",{x:r,y:n,height:o,width:i})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce((function(e,t){var r=lY(t,2),n=r[0],o=r[1];return bY(bY({},e),{},yY({},n,o.scale))}),{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce((function(e,t){var r=lY(t,2),n=r[0],o=r[1];return bY(bY({},e),{},yY({},n,o.scale))}),{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,r=t.formattedGraphicalItems,n=t.activeItem;if(r&&r.length)for(var o=0,a=r.length;o<a;o++){var i=r[o],s=i.props,l=i.item,c=void 0!==l.type.defaultProps?bY(bY({},l.type.defaultProps),l.props):l.props,d=AD(l.type);if("Bar"===d){var u=(s.data||[]).find((function(t){return GN(e,t)}));if(u)return{graphicalItem:i,payload:u}}else if("RadialBar"===d){var p=(s.data||[]).find((function(t){return XW(e,t)}));if(p)return{graphicalItem:i,payload:p}}else if(lG(i,n)||cG(i,n)||dG(i,n)){var h=fG({graphicalItem:i,activeTooltipItem:n,itemData:c.data}),f=void 0===c.activeIndex?h:c.activeIndex;return{graphicalItem:bY(bY({},i),{},{childIndex:f}),payload:dG(i,n)?c.data[h]:i.props.data[h]}}}return null}},{key:"render",value:function(){var e=this;if(!DD(this))return null;var t,r,n=this.props,o=n.children,i=n.className,s=n.width,l=n.height,c=n.style,d=n.compact,u=n.title,p=n.desc,h=cY(n,aY),f=ND(h,!1);if(d)return a.createElement(yH,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},a.createElement(tM,sY({},f,{width:s,height:l,title:u,desc:p}),this.renderClipPath(),LD(o,this.renderMap)));this.props.accessibilityLayer&&(f.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,f.role=null!==(r=this.props.role)&&void 0!==r?r:"application",f.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},f.onFocus=function(){e.accessibilityManager.focus()});var m=this.parseEventsOfWrapper();return a.createElement(yH,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},a.createElement("div",sY({className:(0,vt.A)("recharts-wrapper",i),style:bY({position:"relative",cursor:"default",width:s,height:l},c)},m,{ref:function(t){e.container=t}}),a.createElement(tM,sY({},f,{width:s,height:l,title:u,desc:p,style:SY}),this.renderClipPath(),LD(o,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],i&&dY(n.prototype,i),l&&dY(n,l),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,l}(a.Component);yY(f,"displayName",t),yY(f,"defaultProps",bY({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},u)),yY(f,"getDerivedStateFromProps",(function(e,t){var r=e.dataKey,n=e.data,o=e.children,a=e.width,i=e.height,s=e.layout,l=e.stackOffset,c=e.margin,d=t.dataStartIndex,u=t.dataEndIndex;if(void 0===t.updateId){var p=MY(e);return bY(bY(bY({},p),{},{updateId:0},h(bY(bY({props:e},p),{},{updateId:0}),t)),{},{prevDataKey:r,prevData:n,prevWidth:a,prevHeight:i,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:o})}if(r!==t.prevDataKey||n!==t.prevData||a!==t.prevWidth||i!==t.prevHeight||s!==t.prevLayout||l!==t.prevStackOffset||!pD(c,t.prevMargin)){var f=MY(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=bY(bY({},PY(t,n,s)),{},{updateId:t.updateId+1}),v=bY(bY(bY({},f),m),g);return bY(bY(bY({},v),h(bY({props:e},v),t)),{},{prevDataKey:r,prevData:n,prevWidth:a,prevHeight:i,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:o})}if(!$D(o,t.prevChildren)){var x,b,y,j,w=ID(o,zW),S=w&&null!==(x=null===(b=w.props)||void 0===b?void 0:b.startIndex)&&void 0!==x?x:d,C=w&&null!==(y=null===(j=w.props)||void 0===j?void 0:j.endIndex)&&void 0!==y?y:u,A=S!==d||C!==u,E=!iD()(n)&&!A?t.updateId:t.updateId+1;return bY(bY({updateId:E},h(bY(bY({props:e},t),{},{updateId:E,dataStartIndex:S,dataEndIndex:C}),t)),{},{prevChildren:o,dataStartIndex:S,dataEndIndex:C})}return null})),yY(f,"renderActiveDot",(function(e,t,r){var n;return n=(0,a.isValidElement)(e)?(0,a.cloneElement)(e,t):lD()(e)?e(t):a.createElement(cR,t),a.createElement(aM,{className:"recharts-active-dot",key:r},n)}));var m=(0,a.forwardRef)((function(e,t){return a.createElement(f,sY({},e,{ref:t}))}));return m.displayName=f.displayName,m},zY=["type","layout","connectNulls","ref"],LY=["key"];function BY(e){return BY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BY(e)}function FY(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function _Y(){return _Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_Y.apply(this,arguments)}function UY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function WY(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?UY(Object(r),!0).forEach((function(t){QY(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UY(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function VY(e){return function(e){if(Array.isArray(e))return GY(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return GY(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GY(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GY(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function HY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JY(n.key),n)}}function qY(e,t,r){return t=KY(t),function(e,t){if(t&&("object"===BY(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,YY()?Reflect.construct(t,r||[],KY(e).constructor):t.apply(e,r))}function YY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(YY=function(){return!!e})()}function KY(e){return KY=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},KY(e)}function XY(e,t){return XY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},XY(e,t)}function QY(e,t,r){return(t=JY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JY(e){var t=function(e,t){if("object"!=BY(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=BY(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==BY(t)?t:t+""}var ZY=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return QY(e=qY(this,t,[].concat(n)),"state",{isAnimationFinished:!0,totalLength:0}),QY(e,"generateSimpleStrokeDasharray",(function(e,t){return"".concat(t,"px ").concat(e-t,"px")})),QY(e,"getStrokeDasharray",(function(r,n,o){var a=o.reduce((function(e,t){return e+t}));if(!a)return e.generateSimpleStrokeDasharray(n,r);for(var i=Math.floor(r/a),s=r%a,l=n-r,c=[],d=0,u=0;d<o.length;u+=o[d],++d)if(u+o[d]>s){c=[].concat(VY(o.slice(0,d)),[s-u]);break}var p=c.length%2===0?[0,l]:[l];return[].concat(VY(t.repeat(o,i)),VY(c),p).map((function(e){return"".concat(e,"px")})).join(", ")})),QY(e,"id",JI("recharts-line-")),QY(e,"pathRef",(function(t){e.mainCurve=t})),QY(e,"handleAnimationEnd",(function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()})),QY(e,"handleAnimationStart",(function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XY(e,t)}(t,e),r=t,o=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var r=e.length%2!==0?[].concat(VY(e),[0]):e,n=[],o=0;o<t;++o)n=[].concat(VY(n),VY(r));return n}},{key:"renderDotItem",value:function(e,t){var r;if(a.isValidElement(e))r=a.cloneElement(e,t);else if(lD()(e))r=e(t);else{var n=t.key,o=FY(t,LY),i=(0,vt.A)("recharts-line-dot","boolean"!==typeof e?e.className:"");r=a.createElement(cR,_Y({key:n},o,{className:i}))}return r}}],(n=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,n=r.points,o=r.xAxis,i=r.yAxis,s=r.layout,l=PD(r.children,zU);if(!l)return null;var c=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:KU(e.payload,t)}},d={clipPath:e?"url(#clipPath-".concat(t,")"):null};return a.createElement(aM,d,l.map((function(e){return a.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:n,xAxis:o,yAxis:i,layout:s,dataPointFormatter:c})})))}},{key:"renderDots",value:function(e,r,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.dot,s=o.points,l=o.dataKey,c=ND(this.props,!1),d=ND(i,!0),u=s.map((function(e,r){var n=WY(WY(WY({key:"dot-".concat(r),r:3},c),d),{},{index:r,cx:e.x,cy:e.y,value:e.value,dataKey:l,payload:e.payload,points:s});return t.renderDotItem(i,n)})),p={clipPath:e?"url(#clipPath-".concat(r?"":"dots-").concat(n,")"):null};return a.createElement(aM,_Y({className:"recharts-line-dots",key:"dots"},p),u)}},{key:"renderCurveStatically",value:function(e,t,r,n){var o=this.props,i=o.type,s=o.layout,l=o.connectNulls,c=(o.ref,FY(o,zY)),d=WY(WY(WY({},ND(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(r,")"):null,points:e},n),{},{type:i,layout:s,connectNulls:l});return a.createElement(Uq,_Y({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var r=this,n=this.props,o=n.points,i=n.strokeDasharray,s=n.isAnimationActive,l=n.animationBegin,c=n.animationDuration,d=n.animationEasing,u=n.animationId,p=n.animateNewValues,h=n.width,f=n.height,m=this.state,g=m.prevPoints,v=m.totalLength;return a.createElement($N,{begin:l,duration:c,isActive:s,easing:d,from:{t:0},to:{t:1},key:"line-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(n){var a=n.t;if(g){var s=g.length/o.length,l=o.map((function(e,t){var r=Math.floor(t*s);if(g[r]){var n=g[r],o=tD(n.x,e.x),i=tD(n.y,e.y);return WY(WY({},e),{},{x:o(a),y:i(a)})}if(p){var l=tD(2*h,e.x),c=tD(f/2,e.y);return WY(WY({},e),{},{x:l(a),y:c(a)})}return WY(WY({},e),{},{x:e.x,y:e.y})}));return r.renderCurveStatically(l,e,t)}var c,d=tD(0,v)(a);if(i){var u="".concat(i).split(/[,\s]+/gim).map((function(e){return parseFloat(e)}));c=r.getStrokeDasharray(d,v,u)}else c=r.generateSimpleStrokeDasharray(v,d);return r.renderCurveStatically(o,e,t,{strokeDasharray:c})}))}},{key:"renderCurve",value:function(e,t){var r=this.props,n=r.points,o=r.isAnimationActive,a=this.state,i=a.prevPoints,s=a.totalLength;return o&&n&&n.length&&(!i&&s>0||!Q_()(i,n))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(n,e,t)}},{key:"render",value:function(){var e,t=this.props,r=t.hide,n=t.dot,o=t.points,i=t.className,s=t.xAxis,l=t.yAxis,c=t.top,d=t.left,u=t.width,p=t.height,h=t.isAnimationActive,f=t.id;if(r||!o||!o.length)return null;var m=this.state.isAnimationFinished,g=1===o.length,v=(0,vt.A)("recharts-line",i),x=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,y=x||b,j=iD()(f)?this.id:f,w=null!==(e=ND(n,!1))&&void 0!==e?e:{r:3,strokeWidth:2},S=w.r,C=void 0===S?3:S,A=w.strokeWidth,E=void 0===A?2:A,k=(RD(n)?n:{}).clipDot,O=void 0===k||k,P=2*C+E;return a.createElement(aM,{className:v},x||b?a.createElement("defs",null,a.createElement("clipPath",{id:"clipPath-".concat(j)},a.createElement("rect",{x:x?d:d-u/2,y:b?c:c-p/2,width:x?u:2*u,height:b?p:2*p})),!O&&a.createElement("clipPath",{id:"clipPath-dots-".concat(j)},a.createElement("rect",{x:d-P/2,y:c-P/2,width:u+P,height:p+P}))):null,!g&&this.renderCurve(y,j),this.renderErrorBar(y,j),(g||n)&&this.renderDots(y,O,j),(!h||m)&&PV.renderCallByParent(this.props,o))}}])&&HY(r.prototype,n),o&&HY(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(a.PureComponent);function eK(e,t,r){if(t<1)return[];if(1===t&&void 0===r)return e;for(var n=[],o=0;o<e.length;o+=t){if(void 0!==r&&!0!==r(e[o]))return;n.push(e[o])}return n}function tK(e,t,r){return function(e){var t=e.width,r=e.height,n=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),o=n*Math.PI/180,a=Math.atan(r/t),i=o>a&&o<Math.PI-a?r/Math.sin(o):t/Math.cos(o);return Math.abs(i)}({width:e.width+t.width,height:e.height+t.height},r)}function rK(e,t,r,n,o){if(e*t<e*n||e*t>e*o)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-o)<=0}function nK(e){return nK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nK(e)}function oK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function aK(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oK(Object(r),!0).forEach((function(t){iK(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oK(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function iK(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=nK(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=nK(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nK(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sK(e,t,r){var n=e.tick,o=e.ticks,a=e.viewBox,i=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,d=e.unit,u=e.angle;if(!o||!o.length||!n)return[];if(KI(l)||MM.isSsr)return function(e,t){return eK(e,t+1)}(o,"number"===typeof l&&KI(l)?l:0);var p=[],h="top"===s||"bottom"===s?"width":"height",f=d&&"width"===h?h$(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(e,n){var o=lD()(c)?c(e.value,n):e.value;return"width"===h?tK(h$(o,{fontSize:t,letterSpacing:r}),f,u):h$(o,{fontSize:t,letterSpacing:r})[h]},g=o.length>=2?qI(o[1].coordinate-o[0].coordinate):1,v=function(e,t,r){var n="width"===r,o=e.x,a=e.y,i=e.width,s=e.height;return 1===t?{start:n?o:a,end:n?o+i:a+s}:{start:n?o+i:a+s,end:n?o:a}}(a,g,h);return"equidistantPreserveStart"===l?function(e,t,r,n,o){for(var a,i=(n||[]).slice(),s=t.start,l=t.end,c=0,d=1,u=s,p=function(){var t=null===n||void 0===n?void 0:n[c];if(void 0===t)return{v:eK(n,d)};var a,i=c,p=function(){return void 0===a&&(a=r(t,i)),a},h=t.coordinate,f=0===c||rK(e,h,p,u,l);f||(c=0,u=s,d+=1),f&&(u=h+e*(p()/2+o),c+=d)};d<=i.length;)if(a=p())return a.v;return[]}(g,v,m,o,i):(p="preserveStart"===l||"preserveStartEnd"===l?function(e,t,r,n,o,a){var i=(n||[]).slice(),s=i.length,l=t.start,c=t.end;if(a){var d=n[s-1],u=r(d,s-1),p=e*(d.coordinate+e*u/2-c);i[s-1]=d=aK(aK({},d),{},{tickCoord:p>0?d.coordinate-p*e:d.coordinate}),rK(e,d.tickCoord,(function(){return u}),l,c)&&(c=d.tickCoord-e*(u/2+o),i[s-1]=aK(aK({},d),{},{isShow:!0}))}for(var h=a?s-1:s,f=function(t){var n,a=i[t],s=function(){return void 0===n&&(n=r(a,t)),n};if(0===t){var d=e*(a.coordinate-e*s()/2-l);i[t]=a=aK(aK({},a),{},{tickCoord:d<0?a.coordinate-d*e:a.coordinate})}else i[t]=a=aK(aK({},a),{},{tickCoord:a.coordinate});rK(e,a.tickCoord,s,l,c)&&(l=a.tickCoord+e*(s()/2+o),i[t]=aK(aK({},a),{},{isShow:!0}))},m=0;m<h;m++)f(m);return i}(g,v,m,o,i,"preserveStartEnd"===l):function(e,t,r,n,o){for(var a=(n||[]).slice(),i=a.length,s=t.start,l=t.end,c=function(t){var n,c=a[t],d=function(){return void 0===n&&(n=r(c,t)),n};if(t===i-1){var u=e*(c.coordinate+e*d()/2-l);a[t]=c=aK(aK({},c),{},{tickCoord:u>0?c.coordinate-u*e:c.coordinate})}else a[t]=c=aK(aK({},c),{},{tickCoord:c.coordinate});rK(e,c.tickCoord,d,s,l)&&(l=c.tickCoord-e*(d()/2+o),a[t]=aK(aK({},c),{},{isShow:!0}))},d=i-1;d>=0;d--)c(d);return a}(g,v,m,o,i),p.filter((function(e){return e.isShow})))}QY(ZY,"displayName","Line"),QY(ZY,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!MM.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),QY(ZY,"getComposedData",(function(e){var t=e.props,r=e.xAxis,n=e.yAxis,o=e.xAxisTicks,a=e.yAxisTicks,i=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,d=t.layout;return WY({points:l.map((function(e,t){var l=KU(e,i);return"horizontal"===d?{x:uW({axis:r,ticks:o,bandSize:s,entry:e,index:t}),y:iD()(l)?null:n.scale(l),value:l,payload:e}:{x:iD()(l)?null:r.scale(l),y:uW({axis:n,ticks:a,bandSize:s,entry:e,index:t}),value:l,payload:e}})),layout:d},c)}));var lK=["viewBox"],cK=["viewBox"],dK=["ticks"];function uK(e){return uK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uK(e)}function pK(){return pK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pK.apply(this,arguments)}function hK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fK(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hK(Object(r),!0).forEach((function(t){jK(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hK(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mK(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function gK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wK(n.key),n)}}function vK(e,t,r){return t=bK(t),function(e,t){if(t&&("object"===uK(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,xK()?Reflect.construct(t,r||[],bK(e).constructor):t.apply(e,r))}function xK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(xK=function(){return!!e})()}function bK(e){return bK=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bK(e)}function yK(e,t){return yK=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yK(e,t)}function jK(e,t,r){return(t=wK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wK(e){var t=function(e,t){if("object"!=uK(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=uK(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==uK(t)?t:t+""}var SK=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=vK(this,t,[e])).state={fontSize:"",letterSpacing:""},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yK(e,t)}(t,e),r=t,o=[{key:"renderTickItem",value:function(e,t,r){return a.isValidElement(e)?a.cloneElement(e,t):lD()(e)?e(t):a.createElement(U$,pK({},t,{className:"recharts-cartesian-axis-tick-value"}),r)}}],(n=[{key:"shouldComponentUpdate",value:function(e,t){var r=e.viewBox,n=mK(e,lK),o=this.props,a=o.viewBox,i=mK(o,cK);return!pD(r,a)||!pD(n,i)||!pD(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,r,n,o,a,i,s=this.props,l=s.x,c=s.y,d=s.width,u=s.height,p=s.orientation,h=s.tickSize,f=s.mirror,m=s.tickMargin,g=f?-1:1,v=e.tickSize||h,x=KI(e.tickCoord)?e.tickCoord:e.coordinate;switch(p){case"top":t=r=e.coordinate,i=(n=(o=c+ +!f*u)-g*v)-g*m,a=x;break;case"left":n=o=e.coordinate,a=(t=(r=l+ +!f*d)-g*v)-g*m,i=x;break;case"right":n=o=e.coordinate,a=(t=(r=l+ +f*d)+g*v)+g*m,i=x;break;default:t=r=e.coordinate,i=(n=(o=c+ +f*u)+g*v)+g*m,a=x}return{line:{x1:t,y1:n,x2:r,y2:o},tick:{x:a,y:i}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,r=t.orientation,n=t.mirror;switch(r){case"left":e=n?"start":"end";break;case"right":e=n?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,r=e.mirror,n="end";switch(t){case"left":case"right":n="middle";break;case"top":n=r?"start":"end";break;default:n=r?"end":"start"}return n}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,o=e.height,i=e.orientation,s=e.mirror,l=e.axisLine,c=fK(fK(fK({},ND(this.props,!1)),ND(l,!1)),{},{fill:"none"});if("top"===i||"bottom"===i){var d=+("top"===i&&!s||"bottom"===i&&s);c=fK(fK({},c),{},{x1:t,y1:r+d*o,x2:t+n,y2:r+d*o})}else{var u=+("left"===i&&!s||"right"===i&&s);c=fK(fK({},c),{},{x1:t+u*n,y1:r,x2:t+u*n,y2:r+o})}return a.createElement("line",pK({},c,{className:(0,vt.A)("recharts-cartesian-axis-line",VI()(l,"className"))}))}},{key:"renderTicks",value:function(e,r,n){var o=this,i=this.props,s=i.tickLine,l=i.stroke,c=i.tick,d=i.tickFormatter,u=i.unit,p=sK(fK(fK({},this.props),{},{ticks:e}),r,n),h=this.getTickTextAnchor(),f=this.getTickVerticalAnchor(),m=ND(this.props,!1),g=ND(c,!1),v=fK(fK({},m),{},{fill:"none"},ND(s,!1)),x=p.map((function(e,r){var n=o.getTickLineCoord(e),i=n.line,x=n.tick,b=fK(fK(fK(fK({textAnchor:h,verticalAnchor:f},m),{},{stroke:"none",fill:l},g),x),{},{index:r,payload:e,visibleTicksCount:p.length,tickFormatter:d});return a.createElement(aM,pK({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},bD(o.props,e,r)),s&&a.createElement("line",pK({},v,i,{className:(0,vt.A)("recharts-cartesian-axis-tick-line",VI()(s,"className"))})),c&&t.renderTickItem(c,b,"".concat(lD()(d)?d(e.value,r):e.value).concat(u||"")))}));return a.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var e=this,t=this.props,r=t.axisLine,n=t.width,o=t.height,i=t.ticksGenerator,s=t.className;if(t.hide)return null;var l=this.props,c=l.ticks,d=mK(l,dK),u=c;return lD()(i)&&(u=c&&c.length>0?i(this.props):i(d)),n<=0||o<=0||!u||!u.length?null:a.createElement(aM,{className:(0,vt.A)("recharts-cartesian-axis",s),ref:function(t){e.layerReference=t}},r&&this.renderAxisLine(),this.renderTicks(u,this.state.fontSize,this.state.letterSpacing),lV.renderCallByParent(this.props))}}])&&gK(r.prototype,n),o&&gK(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(a.Component);function CK(e){return CK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CK(e)}function AK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DK(n.key),n)}}function EK(e,t,r){return t=OK(t),function(e,t){if(t&&("object"===CK(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,kK()?Reflect.construct(t,r||[],OK(e).constructor):t.apply(e,r))}function kK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(kK=function(){return!!e})()}function OK(e){return OK=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},OK(e)}function PK(e,t){return PK=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},PK(e,t)}function IK(e,t,r){return(t=DK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DK(e){var t=function(e,t){if("object"!=CK(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=CK(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==CK(t)?t:t+""}function MK(){return MK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},MK.apply(this,arguments)}function TK(e){var t=e.xAxisId,r=SH(),n=CH(),o=jH(t);return null==o?null:a.createElement(SK,MK({},o,{className:(0,vt.A)("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(e){return rW(e,!0)}}))}jK(SK,"displayName","CartesianAxis"),jK(SK,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var RK=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),EK(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PK(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){return a.createElement(TK,this.props)}}])&&AK(r.prototype,n),o&&AK(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(a.Component);function NK(e){return NK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NK(e)}function $K(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UK(n.key),n)}}function zK(e,t,r){return t=BK(t),function(e,t){if(t&&("object"===NK(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,LK()?Reflect.construct(t,r||[],BK(e).constructor):t.apply(e,r))}function LK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(LK=function(){return!!e})()}function BK(e){return BK=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},BK(e)}function FK(e,t){return FK=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},FK(e,t)}function _K(e,t,r){return(t=UK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UK(e){var t=function(e,t){if("object"!=NK(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=NK(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==NK(t)?t:t+""}function WK(){return WK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},WK.apply(this,arguments)}IK(RK,"displayName","XAxis"),IK(RK,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var VK=function(e){var t=e.yAxisId,r=SH(),n=CH(),o=wH(t);return null==o?null:a.createElement(SK,WK({},o,{className:(0,vt.A)("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(e){return rW(e,!0)}}))},GK=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),zK(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FK(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){return a.createElement(VK,this.props)}}])&&$K(r.prototype,n),o&&$K(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(a.Component);_K(GK,"displayName","YAxis"),_K(GK,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var HK=$Y({chartName:"LineChart",GraphicalChild:ZY,axisComponents:[{axisType:"xAxis",AxisComp:RK},{axisType:"yAxis",AxisComp:GK}],formatAxisMap:GG}),qK=["x1","y1","x2","y2","key"],YK=["offset"];function KK(e){return KK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KK(e)}function XK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function QK(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?XK(Object(r),!0).forEach((function(t){JK(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XK(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function JK(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=KK(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=KK(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==KK(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZK(){return ZK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZK.apply(this,arguments)}function eX(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var tX=function(e){var t=e.fill;if(!t||"none"===t)return null;var r=e.fillOpacity,n=e.x,o=e.y,i=e.width,s=e.height,l=e.ry;return a.createElement("rect",{x:n,y:o,ry:l,width:i,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function rX(e,t){var r;if(a.isValidElement(e))r=a.cloneElement(e,t);else if(lD()(e))r=e(t);else{var n=t.x1,o=t.y1,i=t.x2,s=t.y2,l=t.key,c=eX(t,qK),d=ND(c,!1),u=(d.offset,eX(d,YK));r=a.createElement("line",ZK({},u,{x1:n,y1:o,x2:i,y2:s,fill:"none",key:l}))}return r}function nX(e){var t=e.x,r=e.width,n=e.horizontal,o=void 0===n||n,i=e.horizontalPoints;if(!o||!i||!i.length)return null;var s=i.map((function(n,a){var i=QK(QK({},e),{},{x1:t,y1:n,x2:t+r,y2:n,key:"line-".concat(a),index:a});return rX(o,i)}));return a.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function oX(e){var t=e.y,r=e.height,n=e.vertical,o=void 0===n||n,i=e.verticalPoints;if(!o||!i||!i.length)return null;var s=i.map((function(n,a){var i=QK(QK({},e),{},{x1:n,y1:t,x2:n,y2:t+r,key:"line-".concat(a),index:a});return rX(o,i)}));return a.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function aX(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,o=e.y,i=e.width,s=e.height,l=e.horizontalPoints,c=e.horizontal;if(!(void 0===c||c)||!t||!t.length)return null;var d=l.map((function(e){return Math.round(e+o-o)})).sort((function(e,t){return e-t}));o!==d[0]&&d.unshift(0);var u=d.map((function(e,l){var c=!d[l+1]?o+s-e:d[l+1]-e;if(c<=0)return null;var u=l%t.length;return a.createElement("rect",{key:"react-".concat(l),y:e,x:n,height:c,width:i,stroke:"none",fill:t[u],fillOpacity:r,className:"recharts-cartesian-grid-bg"})}));return a.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function iX(e){var t=e.vertical,r=void 0===t||t,n=e.verticalFill,o=e.fillOpacity,i=e.x,s=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!r||!n||!n.length)return null;var u=d.map((function(e){return Math.round(e+i-i)})).sort((function(e,t){return e-t}));i!==u[0]&&u.unshift(0);var p=u.map((function(e,t){var r=!u[t+1]?i+l-e:u[t+1]-e;if(r<=0)return null;var d=t%n.length;return a.createElement("rect",{key:"react-".concat(t),x:e,y:s,width:r,height:c,stroke:"none",fill:n[d],fillOpacity:o,className:"recharts-cartesian-grid-bg"})}));return a.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var sX=function(e,t){var r=e.xAxis,n=e.width,o=e.height,a=e.offset;return tW(sK(QK(QK(QK({},SK.defaultProps),r),{},{ticks:rW(r,!0),viewBox:{x:0,y:0,width:n,height:o}})),a.left,a.left+a.width,t)},lX=function(e,t){var r=e.yAxis,n=e.width,o=e.height,a=e.offset;return tW(sK(QK(QK(QK({},SK.defaultProps),r),{},{ticks:rW(r,!0),viewBox:{x:0,y:0,width:n,height:o}})),a.top,a.top+a.height,t)},cX={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function dX(e){var t,r,n,o,i,s,l=SH(),c=CH(),d=(0,a.useContext)(gH),u=QK(QK({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:cX.stroke,fill:null!==(r=e.fill)&&void 0!==r?r:cX.fill,horizontal:null!==(n=e.horizontal)&&void 0!==n?n:cX.horizontal,horizontalFill:null!==(o=e.horizontalFill)&&void 0!==o?o:cX.horizontalFill,vertical:null!==(i=e.vertical)&&void 0!==i?i:cX.vertical,verticalFill:null!==(s=e.verticalFill)&&void 0!==s?s:cX.verticalFill,x:KI(e.x)?e.x:d.left,y:KI(e.y)?e.y:d.top,width:KI(e.width)?e.width:d.width,height:KI(e.height)?e.height:d.height}),p=u.x,h=u.y,f=u.width,m=u.height,g=u.syncWithTicks,v=u.horizontalValues,x=u.verticalValues,b=function(){var e=(0,a.useContext)(hH);return eD(e)}(),y=function(){var e=(0,a.useContext)(fH);return dH()(e,(function(e){return fV()(e.domain,Number.isFinite)}))||eD(e)}();if(!KI(f)||f<=0||!KI(m)||m<=0||!KI(p)||p!==+p||!KI(h)||h!==+h)return null;var j=u.verticalCoordinatesGenerator||sX,w=u.horizontalCoordinatesGenerator||lX,S=u.horizontalPoints,C=u.verticalPoints;if((!S||!S.length)&&lD()(w)){var A=v&&v.length,E=w({yAxis:y?QK(QK({},y),{},{ticks:A?v:y.ticks}):void 0,width:l,height:c,offset:d},!!A||g);oD(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(KK(E),"]")),Array.isArray(E)&&(S=E)}if((!C||!C.length)&&lD()(j)){var k=x&&x.length,O=j({xAxis:b?QK(QK({},b),{},{ticks:k?x:b.ticks}):void 0,width:l,height:c,offset:d},!!k||g);oD(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(KK(O),"]")),Array.isArray(O)&&(C=O)}return a.createElement("g",{className:"recharts-cartesian-grid"},a.createElement(tX,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),a.createElement(nX,ZK({},u,{offset:d,horizontalPoints:S,xAxis:b,yAxis:y})),a.createElement(oX,ZK({},u,{offset:d,verticalPoints:C,xAxis:b,yAxis:y})),a.createElement(aX,ZK({},u,{horizontalPoints:S})),a.createElement(iX,ZK({},u,{verticalPoints:C})))}dX.displayName="CartesianGrid";const uX=(e,t)=>{const r=Math.abs(e);return"PYG"===t||"guaranies"===t?new Intl.NumberFormat("es-PY",{maximumFractionDigits:0,minimumFractionDigits:0}).format(r)+" Gs":"USD"===t||"dolares"===t?"$ "+new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(r):"BRL"===t||"reales"===t?"R$ "+new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(r):r.toString()};function pX(e,t){if(e.guaranies!==t.guaranies)return e.guaranies<t.guaranies?1:-1;if(e.dolares!==t.dolares)return e.dolares<t.dolares?1:-1;if(e.reales!==t.reales)return e.reales<t.reales?1:-1;const r=e.nombre_completo||e.persona_nombre||"",n=t.nombre_completo||t.persona_nombre||"";return r<n?-1:r>n?1:0}const hX=7300,fX=1350,mX=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(""),[o,i]=(0,a.useState)([]),[s,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(!0),[u,p]=(0,a.useState)(null),[h,f]=(0,a.useState)("desc"),[m,g]=(0,a.useState)(!1),[v,x]=(0,a.useState)(!1),[b,y]=(0,a.useState)(null),[j,w]=(0,a.useState)("mes"),[S,C]=(0,a.useState)("total"),[A,E]=(0,a.useState)([]);(0,a.useEffect)((()=>{O()}),[]);const k=(0,a.useMemo)((()=>{let t=e;if(r){const n=r.toLowerCase().trim();t=e.filter((e=>{const t=(e.nombre_completo||e.persona_nombre||"").toLowerCase(),r=(e.documento||"").toLowerCase();return t.includes(n)||r.includes(n)}))}return function(e,t){const r=e.map(((e,t)=>[e,t]));return r.sort(((e,r)=>{const n=t(e[0],r[0]);return 0!==n?n:e[1]-r[1]})),r.map((e=>e[0]))}(t,function(e){return"desc"===e?(e,t)=>pX(e,t):(e,t)=>-pX(e,t)}(h))}),[e,r,h]),O=async()=>{try{d(!0),p(null);const e=await QA();t(e),d(!1)}catch(e){p("Error al cargar las personas con saldo"),console.error(e),d(!1)}},P=async e=>{try{x(!0),y(null),g(!1);const t=await(async e=>(await mA.get(`/uso-devolucion/historial/persona/${e}`)).data)(e);i(t),t.length>0&&I(t,j,S),x(!1)}catch(t){y("Error al cargar los movimientos de la persona"),console.error(t),i([]),x(!1)}},I=(e,t,r)=>{if(!e||0===e.length)return void E([]);const n=[...e].sort(((e,t)=>new Date(e.fecha_creacion).getTime()-new Date(t.fecha_creacion).getTime()));let o=0,a=0,i=0;const s=new Map;n.forEach((e=>{if(e.anulado)return;const r=(e=>{switch(t){case"dia":return`${e.getDate().toString().padStart(2,"0")}/${(e.getMonth()+1).toString().padStart(2,"0")}/${e.getFullYear()}`;case"semana":const t=e.getDay(),r=e.getDate()-t+(0===t?-6:1),n=new Date(e);return n.setDate(r),`Sem ${n.getDate().toString().padStart(2,"0")}/${(n.getMonth()+1).toString().padStart(2,"0")}`;case"mes":return`${(e.getMonth()+1).toString().padStart(2,"0")}/${e.getFullYear()}`;case"a\xf1o":return e.getFullYear().toString();default:return e.toLocaleDateString()}})(new Date(e.fecha_creacion)),n="USO"===e.tipo?-1:1;o+=e.guaranies*n,a+=e.dolares*n,i+=e.reales*n;const l=o+a*hX+i*fX;s.set(r,{fecha:r,total:Math.abs(l),guaranies:Math.abs(o),dolares:Math.abs(a),reales:Math.abs(i),totalSigno:l,guaraniesSigno:o,dolaresSigno:a,realesSigno:i})}));const l=Array.from(s.values()).sort(((e,r)=>{if("dia"===t){const[t,n,o]=e.fecha.split("/").map(Number),[a,i,s]=r.fecha.split("/").map(Number);return new Date(o,n-1,t).getTime()-new Date(s,i-1,a).getTime()}if("semana"===t){const[t,n]=e.fecha.split(" "),[o,a]=r.fecha.split(" "),[i,s]=n.split("/").map(Number),[l,c]=a.split("/").map(Number);return 100*s+i-(100*c+l)}if("mes"===t){const[t,n]=e.fecha.split("/").map(Number),[o,a]=r.fecha.split("/").map(Number);return 100*n+t-(100*a+o)}return e.fecha.localeCompare(r.fecha)}));E(l)};(0,a.useEffect)((()=>{o.length>0&&I(o,j,S)}),[j,S]);const D=e=>{(null===s||void 0===s?void 0:s.persona_id)===e.persona_id?(l(null),i([]),y(null),g(!1)):(l(e),P(e.persona_id))},M=e=>{f(e)},T=e=>{C(e)},R=e=>{try{const t=new Date(e);if(isNaN(t.getTime()))return"Fecha inv\xe1lida";const r=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0");return`${r}/${n}/${t.getFullYear()}`}catch(a0){return console.error("Error formateando fecha:",e,a0),e}},N=(e,t,r)=>{const n=null===r||void 0===r?void 0:r.payload;let o=e;return n&&("total"===t&&void 0!==n.totalSigno?o=n.totalSigno:"guaranies"===t&&void 0!==n.guaraniesSigno?o=n.guaraniesSigno:"dolares"===t&&void 0!==n.dolaresSigno?o=n.dolaresSigno:"reales"===t&&void 0!==n.realesSigno&&(o=n.realesSigno)),"total"===t||"guaranies"===t?uX(o,"guaranies"):"dolares"===t?uX(o,"dolares"):"reales"===t?uX(o,"reales"):e},$=()=>0===A.length?(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,Ve.jsx)($r,{color:"text.secondary",children:"No hay datos suficientes para mostrar el gr\xe1fico"})}):(0,Ve.jsx)(Et,{sx:{width:"100%",height:400},children:(0,Ve.jsx)(GD,{width:"100%",height:"100%",children:(0,Ve.jsxs)(HK,{data:A,margin:{top:5,right:30,left:20,bottom:5},children:[(0,Ve.jsx)(dX,{strokeDasharray:"3 3"}),(0,Ve.jsx)(RK,{dataKey:"fecha"}),(0,Ve.jsx)(GK,{domain:[0,"auto"]})," ",(0,Ve.jsx)(qM,{formatter:N,labelFormatter:e=>`Fecha: ${e}`}),(0,Ve.jsx)(sR,{}),"total"===S&&(0,Ve.jsx)(ZY,{type:"monotone",dataKey:"total",name:"Saldo Total (Gs)",stroke:"#8884d8",activeDot:{r:8}}),"guaranies"===S&&(0,Ve.jsx)(ZY,{type:"monotone",dataKey:"guaranies",name:"Guaran\xedes",stroke:"#8884d8"}),"dolares"===S&&(0,Ve.jsx)(ZY,{type:"monotone",dataKey:"dolares",name:"D\xf3lares",stroke:"#82ca9d"}),"reales"===S&&(0,Ve.jsx)(ZY,{type:"monotone",dataKey:"reales",name:"Reales",stroke:"#ffc658"})]})})});return(0,Ve.jsxs)(Et,{sx:{p:3},children:[(0,Ve.jsx)($r,{variant:"h4",gutterBottom:!0,sx:{mb:3},children:"Balance con Personas"}),(0,Ve.jsxs)($h,{container:!0,spacing:3,children:[(0,Ve.jsx)($h,{item:!0,xs:12,md:5,children:(0,Ve.jsxs)($t,{sx:{p:2,height:"100%",display:"flex",flexDirection:"column"},children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,children:"Personas con Saldo Pendiente"}),(0,Ve.jsxs)($h,{container:!0,spacing:1,sx:{mb:2},alignItems:"center",children:[(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,md:7,children:(0,Ve.jsx)(jp,{fullWidth:!0,size:"small",placeholder:"Buscar por nombre o documento...",variant:"outlined",value:r,onChange:e=>{n(e.target.value)},onKeyDown:e=>{"Enter"===e.key&&k.length>0&&D(k[0])},InputProps:{startAdornment:(0,Ve.jsx)(kp,{position:"start",children:(0,Ve.jsx)(rf.A,{})}),onClick:e=>{var t;null===(t=e.currentTarget.querySelector("input"))||void 0===t||t.select()}}})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:4,md:3,children:(0,Ve.jsxs)(dC,{size:"small",variant:"outlined",fullWidth:!0,children:[(0,Ve.jsx)(fs,{onClick:()=>M("desc"),variant:"desc"===h?"contained":"outlined",title:"Ordenar Mayor a Menor",children:(0,Ve.jsx)(MI.A,{fontSize:"small"})}),(0,Ve.jsx)(fs,{onClick:()=>M("asc"),variant:"asc"===h?"contained":"outlined",title:"Ordenar Menor a Mayor",children:(0,Ve.jsx)(DI.A,{fontSize:"small"})})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:2,md:2,sx:{textAlign:"right"},children:(0,Ve.jsx)(Ir,{onClick:()=>{g((e=>!e))},disabled:!s||v,color:"primary",title:m?"Ver Movimientos":"Ver Gr\xe1fico Hist\xf3rico",children:m?(0,Ve.jsx)(RI.A,{}):(0,Ve.jsx)(TI.A,{})})})]}),(0,Ve.jsx)(Dp,{sx:{flexGrow:1,overflowY:"auto"},children:(0,Ve.jsxs)(zp,{size:"small",stickyHeader:!0,children:[(0,Ve.jsx)(Vp,{sx:{bgcolor:"primary.main"},children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{sx:{color:"white"},children:"Nombre"}),(0,Ve.jsx)(th,{sx:{color:"white"},children:"Documento"}),(0,Ve.jsx)(th,{sx:{color:"white",textAlign:"right"},children:"Le debemos"}),(0,Ve.jsx)(th,{sx:{color:"white",textAlign:"right"},children:"Nos debe"})]})}),(0,Ve.jsxs)(sh,{children:[c&&(0,Ve.jsx)(Xp,{children:(0,Ve.jsx)(th,{colSpan:4,align:"center",children:(0,Ve.jsx)(KS,{size:24})})}),u&&(0,Ve.jsx)(Xp,{children:(0,Ve.jsx)(th,{colSpan:4,align:"center",sx:{color:"error.main"},children:u})}),!c&&!u&&0===k.length&&(0,Ve.jsx)(Xp,{children:(0,Ve.jsx)(th,{colSpan:4,align:"center",children:r?"No hay personas que coincidan":"No hay personas con saldo"})}),!c&&!u&&k.map((e=>(0,Ve.jsxs)(Xp,{onClick:()=>D(e),hover:!0,selected:(null===s||void 0===s?void 0:s.persona_id)===e.persona_id,sx:{cursor:"pointer",bgcolor:(null===s||void 0===s?void 0:s.persona_id)===e.persona_id?"action.selected":"inherit","&:hover":{bgcolor:"action.hover"},...(null===s||void 0===s?void 0:s.persona_id)===e.persona_id&&{borderLeft:"3px solid #1976d2"}},children:[(0,Ve.jsx)(th,{children:e.nombre_completo||e.persona_nombre||`ID: ${e.persona_id}`}),(0,Ve.jsx)(th,{children:e.documento||"---"}),(0,Ve.jsxs)(th,{align:"right",children:[e.guaranies>0&&(0,Ve.jsx)($r,{component:"div",variant:"body2",children:uX(e.guaranies,"guaranies")}),e.dolares>0&&(0,Ve.jsx)($r,{component:"div",variant:"body2",children:uX(e.dolares,"dolares")}),e.reales>0&&(0,Ve.jsx)($r,{component:"div",variant:"body2",children:uX(e.reales,"reales")}),e.guaranies<=0&&e.dolares<=0&&e.reales<=0&&"-"]}),(0,Ve.jsxs)(th,{align:"right",children:[e.guaranies<0&&(0,Ve.jsx)($r,{component:"div",variant:"body2",color:"error",children:uX(Math.abs(e.guaranies),"guaranies")}),e.dolares<0&&(0,Ve.jsx)($r,{component:"div",variant:"body2",color:"error",children:uX(Math.abs(e.dolares),"dolares")}),e.reales<0&&(0,Ve.jsx)($r,{component:"div",variant:"body2",color:"error",children:uX(Math.abs(e.reales),"reales")}),e.guaranies>=0&&e.dolares>=0&&e.reales>=0&&"-"]})]},e.id||e.persona_id)))]})]})})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:7,children:(0,Ve.jsxs)($t,{sx:{p:2,height:"100%",display:"flex",flexDirection:"column"},children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,children:s?`${m?"Gr\xe1fico Hist\xf3rico":"Movimientos"}: ${s.nombre_completo||s.persona_nombre||`ID: ${s.persona_id}`}`:"Detalle Persona"}),(0,Ve.jsxs)(Et,{sx:{flexGrow:1,overflow:"auto"},children:[!s&&(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,Ve.jsx)($r,{color:"text.secondary",children:"Selecciona una persona de la lista"})}),s&&v&&(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,Ve.jsx)(KS,{})}),s&&b&&(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,Ve.jsx)($r,{color:"error",children:b})}),s&&!v&&!b&&(0,Ve.jsx)(Ve.Fragment,{children:m?(0,Ve.jsxs)(Et,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column"},children:[(0,Ve.jsxs)(Et,{sx:{mb:2,display:"flex",flexWrap:"wrap",alignItems:"center",gap:2},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center"},children:[(0,Ve.jsx)(NI.A,{sx:{mr:1}}),(0,Ve.jsx)($r,{variant:"body2",mr:1,children:"Intervalo:"}),(0,Ve.jsxs)(AI,{value:j,exclusive:!0,onChange:(e,t)=>{null!==t&&w(t)},"aria-label":"intervalo de tiempo",size:"small",children:[(0,Ve.jsx)(II,{value:"dia","aria-label":"d\xeda",children:"D\xcdA"}),(0,Ve.jsx)(II,{value:"semana","aria-label":"semana",children:"SEMANA"}),(0,Ve.jsx)(II,{value:"mes","aria-label":"mes",children:"MES"}),(0,Ve.jsx)(II,{value:"a\xf1o","aria-label":"a\xf1o",children:"A\xd1O"})]})]}),(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center",ml:"auto"},children:[(0,Ve.jsx)($I.A,{sx:{mr:1}}),(0,Ve.jsx)($r,{variant:"body2",mr:1,children:"Mostrar:"}),(0,Ve.jsxs)(dC,{size:"small",children:[(0,Ve.jsx)(fs,{variant:"total"===S?"contained":"outlined",onClick:()=>T("total"),children:"Total"}),(0,Ve.jsx)(fs,{variant:"guaranies"===S?"contained":"outlined",onClick:()=>T("guaranies"),children:"Gs"}),(0,Ve.jsx)(fs,{variant:"dolares"===S?"contained":"outlined",onClick:()=>T("dolares"),children:"USD"}),(0,Ve.jsx)(fs,{variant:"reales"===S?"contained":"outlined",onClick:()=>T("reales"),children:"R$"})]})]})]}),(0,Ve.jsx)(Et,{sx:{flexGrow:1,overflow:"hidden"},children:(0,Ve.jsx)($,{})})]}):(0,Ve.jsx)(Dp,{component:$t,elevation:0,children:(0,Ve.jsxs)(zp,{size:"small",stickyHeader:!0,children:[(0,Ve.jsx)(Vp,{sx:{bgcolor:"secondary.main"},children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{sx:{color:"white"},children:"Fecha"}),(0,Ve.jsx)(th,{sx:{color:"white"},children:"Tipo"}),(0,Ve.jsx)(th,{sx:{color:"white"},children:"Motivo"}),(0,Ve.jsx)(th,{sx:{color:"white",textAlign:"right"},children:"Guaran\xedes"}),(0,Ve.jsx)(th,{sx:{color:"white",textAlign:"right"},children:"D\xf3lares"}),(0,Ve.jsx)(th,{sx:{color:"white",textAlign:"right"},children:"Reales"})]})}),(0,Ve.jsx)(sh,{children:0===o.length?(0,Ve.jsx)(Xp,{children:(0,Ve.jsx)(th,{colSpan:6,align:"center",children:"No hay movimientos para mostrar"})}):o.map((e=>(0,Ve.jsxs)(Xp,{sx:{textDecoration:e.anulado?"line-through":"none",opacity:e.anulado?.6:1,"&:last-child td, &:last-child th":{border:0}},children:[(0,Ve.jsx)(th,{children:R(e.fecha_creacion)}),(0,Ve.jsxs)(th,{children:["USO"===e.tipo?"Uso":"Devoluci\xf3n",e.anulado&&(0,Ve.jsx)($r,{variant:"caption",sx:{ml:.5},children:"(A)"})]}),(0,Ve.jsx)(th,{children:e.motivo}),(0,Ve.jsx)(th,{align:"right",children:0!==e.guaranies?uX(e.guaranies,"guaranies"):"-"}),(0,Ve.jsx)(th,{align:"right",children:0!==e.dolares?uX(e.dolares,"dolares"):"-"}),(0,Ve.jsx)(th,{align:"right",children:0!==e.reales?uX(e.reales,"reales"):"-"})]},e.id)))})]})})})]})]})})]})]})};function gX(e){return(0,Mt.Ay)("MuiCardHeader",e)}const vX=(0,St.A)("MuiCardHeader",["root","avatar","action","content","title","subheader"]),xX=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],bX=(0,Ot.Ay)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,t)=>(0,Be.A)({[`& .${vX.title}`]:t.title,[`& .${vX.subheader}`]:t.subheader},t.root)})({display:"flex",alignItems:"center",padding:16}),yX=(0,Ot.Ay)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,t)=>t.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),jX=(0,Ot.Ay)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,t)=>t.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),wX=(0,Ot.Ay)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,t)=>t.content})({flex:"1 1 auto"}),SX=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiCardHeader"}),{action:n,avatar:o,className:a,component:i="div",disableTypography:s=!1,subheader:l,subheaderTypographyProps:c,title:d,titleTypographyProps:u}=r,p=(0,Fe.A)(r,xX),h=(0,Be.A)({},r,{component:i,disableTypography:s}),f=(e=>{const{classes:t}=e;return(0,kt.A)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},gX,t)})(h);let m=d;null==m||m.type===$r||s||(m=(0,Ve.jsx)($r,(0,Be.A)({variant:o?"body2":"h5",className:f.title,component:"span",display:"block"},u,{children:m})));let g=l;return null==g||g.type===$r||s||(g=(0,Ve.jsx)($r,(0,Be.A)({variant:o?"body2":"body1",className:f.subheader,color:"text.secondary",component:"span",display:"block"},c,{children:g}))),(0,Ve.jsxs)(bX,(0,Be.A)({className:(0,vt.A)(f.root,a),as:i,ref:t,ownerState:h},p,{children:[o&&(0,Ve.jsx)(yX,{className:f.avatar,ownerState:h,children:o}),(0,Ve.jsxs)(wX,{className:f.content,ownerState:h,children:[m,g]}),n&&(0,Ve.jsx)(jX,{className:f.action,ownerState:h,children:n})]}))}));var CX=r(5722),AX=r(4721),EX=r(4044),kX=r(1897),OX=r(9380),PX=r(8422);const IX=()=>{const[e,t]=(0,a.useState)(!0),[r,n]=(0,a.useState)(null),[o,i]=(0,a.useState)(new Date),[s,l]=(0,a.useState)(new Date),[c,d]=(0,a.useState)([]),[u,p]=(0,a.useState)([]),[h,f]=(0,a.useState)(0),[m,g]=(0,a.useState)(0),[v,x]=(0,a.useState)(0),[b,y]=(0,a.useState)(0),[j,w]=(0,a.useState)("TODOS"),[S,C]=(0,a.useState)("");(0,a.useEffect)((()=>{A()}),[o,s]);const A=async()=>{if(o&&s){t(!0),n(null);try{const e=o.toISOString().split("T")[0],t=s.toISOString().split("T")[0],r=await ed.get(`/api/aquipago/movimientos?fechaInicio=${e}&fechaFin=${t}`);r.data?(d(r.data.movimientos),p(r.data.depositos||[]),g(r.data.totalPagos),x(r.data.totalRetiros),y(r.data.totalDepositos||0),f(r.data.totalADepositar)):(d([]),p([]),g(0),x(0),y(0),f(0))}catch(l){var e,r,a,i;console.error("Error al cargar datos:",l),n((null===(e=l.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.message)||(null===(a=l.response)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.error)||"Error al cargar los datos de Aquipago"),d([]),p([]),g(0),x(0),y(0),f(0)}finally{t(!1)}}},E=c.filter((e=>{var t,r,n;const o="TODOS"===j||e.estado===j,a=""===S||e.cajaId.toLowerCase().includes(S.toLowerCase())||((null===(t=e.numeroEntero)||void 0===t?void 0:t.toString())||"").includes(S)||e.fecha.includes(S)||((null===(r=e.sucursal)||void 0===r?void 0:r.toLowerCase())||"").includes(S.toLowerCase())||((null===(n=e.usuario)||void 0===n?void 0:n.toLowerCase())||"").includes(S.toLowerCase())||e.id.toString().includes(S);return o&&a})),k=u.filter((e=>{const t=!e.observacion||!e.observacion.toUpperCase().includes("CANCELADO"),r=""===S||e.numeroDeposito.includes(S)||e.fecha.includes(S)||e.id.toString().includes(S);return t&&r})),O=a.useMemo((()=>{const e={};console.log("--- Recalculando movimientosAgrupados ---"),console.log("Datos brutos - movimientos:",c),console.log("Datos brutos - depositos:",u),console.log("Movimientos Filtrados (entrada al useMemo):",E),E.forEach(((t,r)=>{console.log(`Procesando mov ${r}:`,{id:t.id,servicio:t.servicio,monto:t.monto});const n=`C_${t.fecha.split("T")[0]}_${t.cajaId}`;e[n]||(e[n]={fecha:t.fecha,cajaId:t.cajaId,numeroEntero:t.numeroEntero||0,sucursal:t.sucursal||"",usuario:t.usuario||"",montosPago:0,montosRetiro:0,tipo:"CAJA",comprobantes:[]}),"pagos"===t.servicio?(console.log(`  -> Acumulando PAGO: ${t.monto} (actual: ${e[n].montosPago})`),e[n].montosPago+=t.monto):"retiros"===t.servicio?(console.log(`  -> Acumulando RETIRO: ${t.monto} (actual: ${e[n].montosRetiro})`),e[n].montosRetiro+=t.monto):console.warn(`  -> SERVICIO NO RECONOCIDO para mov ${t.id}: ${t.servicio}`),t.rutaComprobante&&!e[n].comprobantes.includes(t.rutaComprobante)&&e[n].comprobantes.push(t.rutaComprobante)})),k.forEach((t=>{const r=`D_${t.fecha}_${t.id}`,n=t.numeroComprobante||t.numeroDeposito||`${t.id}`;e[r]={fecha:t.fecha,cajaId:`Dep\xf3sito #${n}`,numeroEntero:0,sucursal:"Banco",usuario:"",montosPago:0,montosRetiro:t.monto,tipo:"DEPOSITO",numeroDeposito:t.numeroDeposito,numeroComprobante:t.numeroComprobante,comprobantes:t.rutaComprobante?[t.rutaComprobante]:[]}}));const t=Object.values(e).sort(((e,t)=>new Date(t.fecha).getTime()-new Date(e.fecha).getTime()));return console.log("--- Fin Recalculo movimientosAgrupados ---"),t}),[c,u,E,k]);return(0,Ve.jsx)(Cm,{dateAdapter:xw,adapterLocale:Cw,children:(0,Ve.jsxs)(Et,{sx:{p:3},children:[(0,Ve.jsx)(pt,{styles:{"*::-webkit-scrollbar":{width:"12px",height:"12px"},"*::-webkit-scrollbar-track":{backgroundColor:"#121212"},"*::-webkit-scrollbar-thumb":{backgroundColor:"#333",borderRadius:"6px","&:hover":{backgroundColor:"#444"}},html:{scrollbarColor:"#333 #121212",scrollbarWidth:"thin"},body:{scrollbarColor:"#333 #121212",scrollbarWidth:"thin"}}}),(0,Ve.jsx)($r,{variant:"h4",gutterBottom:!0,sx:{mb:3},children:"Balance Aqui Pago"}),r&&(0,Ve.jsx)(Ah,{severity:"error",sx:{mb:2},children:r}),(0,Ve.jsx)($t,{sx:{p:2,mb:3,bgcolor:"#2A2A2A"},children:(0,Ve.jsxs)($h,{container:!0,spacing:2,alignItems:"center",children:[(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,md:4,children:(0,Ve.jsx)(Kx,{label:"Fecha Inicio",value:o,onChange:e=>i(e),slotProps:{textField:{fullWidth:!0}}})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,md:4,children:(0,Ve.jsx)(Kx,{label:"Fecha Fin",value:s,onChange:e=>l(e),slotProps:{textField:{fullWidth:!0}}})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,md:4,children:(0,Ve.jsx)(fs,{variant:"contained",fullWidth:!0,onClick:A,disabled:e||!o||!s,startIcon:e?(0,Ve.jsx)(KS,{size:20}):(0,Ve.jsx)(rf.A,{}),children:e?"Cargando...":"Buscar"})})]})}),e?(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",my:5},children:(0,Ve.jsx)(KS,{})}):(0,Ve.jsxs)($h,{container:!0,spacing:3,children:[(0,Ve.jsx)($h,{item:!0,xs:12,md:5,children:(0,Ve.jsxs)(jk,{sx:{height:"100%",bgcolor:"#1E1E1E",color:"white"},children:[(0,Ve.jsx)(SX,{title:"Resumen por Fecha",subheader:"Servicios realizados y montos",titleTypographyProps:{variant:"h6"},subheaderTypographyProps:{color:"rgba(255, 255, 255, 0.7)"}}),(0,Ve.jsx)(Ii,{sx:{borderColor:"rgba(255, 255, 255, 0.12)"}}),(0,Ve.jsx)(Ak,{children:(0,Ve.jsxs)(Et,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,Ve.jsxs)(Et,{sx:{p:2,bgcolor:"#2E7D32",borderRadius:1,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center"},children:[(0,Ve.jsx)(EX.A,{sx:{mr:1,color:"white"}}),(0,Ve.jsx)($r,{variant:"subtitle1",color:"white",children:"Total Pagos:"})]}),(0,Ve.jsx)($r,{variant:"h6",color:"white",children:nC.guaranies(m)})]}),(0,Ve.jsxs)(Et,{sx:{p:2,bgcolor:"#F57C00",borderRadius:1,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center"},children:[(0,Ve.jsx)(kX.A,{sx:{mr:1,color:"white"}}),(0,Ve.jsx)($r,{variant:"subtitle1",color:"white",children:"Total Retiros:"})]}),(0,Ve.jsx)($r,{variant:"h6",color:"white",children:nC.guaranies(v)})]}),(0,Ve.jsxs)(Et,{sx:{p:2,bgcolor:"#9C27B0",borderRadius:1,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center"},children:[(0,Ve.jsx)(OX.A,{sx:{mr:1,color:"white"}}),(0,Ve.jsx)($r,{variant:"subtitle1",color:"white",children:"Total Dep\xf3sitos:"})]}),(0,Ve.jsx)($r,{variant:"h6",color:"white",children:nC.guaranies(b)})]}),(0,Ve.jsxs)(Et,{sx:{p:2,bgcolor:"#1976D2",borderRadius:1,display:"flex",alignItems:"center",justifyContent:"space-between",mt:1},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center"},children:[(0,Ve.jsx)(AX.A,{sx:{mr:1,color:"white"}}),(0,Ve.jsx)($r,{variant:"subtitle1",color:"white",children:"Total a Depositar:"})]}),(0,Ve.jsx)($r,{variant:"h6",color:"white",children:nC.guaranies(h)})]})]})})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:7,children:(0,Ve.jsxs)(jk,{sx:{height:"100%",bgcolor:"#1E1E1E",color:"white"},children:[(0,Ve.jsx)(SX,{title:"Detalle de Movimientos",subheader:"Movimientos de Aqui Pago por caja",titleTypographyProps:{variant:"h6"},subheaderTypographyProps:{color:"rgba(255, 255, 255, 0.7)"}}),(0,Ve.jsx)(Ii,{sx:{borderColor:"rgba(255, 255, 255, 0.12)"}}),(0,Ve.jsxs)(Ak,{children:[(0,Ve.jsx)($h,{container:!0,spacing:2,sx:{mb:2},children:(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsx)(jp,{fullWidth:!0,placeholder:"Buscar por caja, fecha o ID",value:S,onChange:e=>C(e.target.value),InputProps:{startAdornment:(0,Ve.jsx)(kp,{position:"start",children:(0,Ve.jsx)(rf.A,{})})},size:"small",sx:{bgcolor:"rgba(255, 255, 255, 0.08)","& .MuiOutlinedInput-root":{color:"white","& fieldset":{borderColor:"rgba(255, 255, 255, 0.23)"},"&:hover fieldset":{borderColor:"rgba(255, 255, 255, 0.4)"},"&.Mui-focused fieldset":{borderColor:"#1976D2"}},"& .MuiInputLabel-root":{color:"rgba(255, 255, 255, 0.7)"},"& .MuiInputAdornment-root":{color:"rgba(255, 255, 255, 0.7)"}}})})}),(0,Ve.jsx)(Dp,{sx:{maxHeight:400,"&::-webkit-scrollbar":{width:"10px",backgroundColor:"rgba(255, 255, 255, 0.05)"},"&::-webkit-scrollbar-thumb":{backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:"5px"}},children:(0,Ve.jsxs)(zp,{size:"small",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{sx:{color:"rgba(255, 255, 255, 0.7)",borderColor:"rgba(255, 255, 255, 0.12)"},children:"Fecha"}),(0,Ve.jsx)(th,{sx:{color:"rgba(255, 255, 255, 0.7)",borderColor:"rgba(255, 255, 255, 0.12)"},children:"Caja"}),(0,Ve.jsx)(th,{align:"right",sx:{color:"rgba(255, 255, 255, 0.7)",borderColor:"rgba(255, 255, 255, 0.12)"},children:"Pagos"}),(0,Ve.jsx)(th,{align:"right",sx:{color:"rgba(255, 255, 255, 0.7)",borderColor:"rgba(255, 255, 255, 0.12)"},children:"Retiros"}),(0,Ve.jsx)(th,{align:"center",sx:{color:"rgba(255, 255, 255, 0.7)",borderColor:"rgba(255, 255, 255, 0.12)"},children:"Comprobante"})]})}),(0,Ve.jsx)(sh,{children:O.length>0?O.map((e=>{return(0,Ve.jsxs)(Xp,{sx:{"&:hover":{bgcolor:"rgba(255, 255, 255, 0.08)"},"& .MuiTableCell-root":{borderColor:"rgba(255, 255, 255, 0.08)"},..."DEPOSITO"===e.tipo&&{bgcolor:"rgba(156, 39, 176, 0.1)","&:hover":{bgcolor:"rgba(156, 39, 176, 0.2)"}}},children:[(0,Ve.jsx)(th,{sx:{color:"white"},children:(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center"},children:[(0,Ve.jsx)(CX.A,{sx:{fontSize:16,mr:.5,color:"rgba(255, 255, 255, 0.7)"}}),(t=e.fecha,new Date(t).toLocaleDateString("es-PY",{day:"2-digit",month:"2-digit",year:"numeric"}))]})}),(0,Ve.jsx)(th,{sx:{color:"white"},children:(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center"},children:["CAJA"===e.tipo?(0,Ve.jsx)(PX.A,{sx:{fontSize:14,mr:.5,color:"rgba(255, 255, 255, 0.7)"}}):(0,Ve.jsx)(OX.A,{sx:{fontSize:14,mr:.5,color:"rgba(156, 39, 176, 0.7)"}}),(0,Ve.jsx)($r,{variant:"body2",children:"CAJA"===e.tipo?`Caja #${e.numeroEntero} ${e.sucursal} ${e.usuario}`:`Dep\xf3sito #${e.numeroDeposito}`})]})}),(0,Ve.jsx)(th,{align:"right",sx:{color:"white"},children:e.montosPago>0?nC.guaranies(e.montosPago):"-"}),(0,Ve.jsx)(th,{align:"right",sx:{color:"white"},children:e.montosRetiro>0?nC.guaranies(e.montosRetiro):"-"}),(0,Ve.jsx)(th,{align:"center",children:e.comprobantes.length>0?(0,Ve.jsx)(fs,{size:"small",variant:"outlined",color:"primary",onClick:()=>(async e=>{try{if(!e)return void n("Ruta de comprobante no disponible");let t=e.replace(/\\/g,"/");for(;t.includes("//");)t=t.replace(/\/\//g,"/");for(;t.startsWith("/");)t=t.substring(1);for(t.startsWith("uploads/")?t=t.substring(8):t.startsWith("comprobantes/")&&(t=t.substring(12));t.startsWith("/");)t=t.substring(1);console.log("Ruta de comprobante final para API:",t);const r=await ed.get(`/api/aquipago/comprobante/${t}`,{responseType:"blob"}),o=new Blob([r.data],{type:r.headers["content-type"]}),a=window.URL.createObjectURL(o);window.open(a,"_blank"),window.URL.revokeObjectURL(a)}catch(t){console.error("Error al ver comprobante:",t),n("Error al visualizar el comprobante solicitado")}})(e.comprobantes[0]),startIcon:(0,Ve.jsx)(pI.A,{}),sx:{fontSize:"0.75rem",py:.5,borderColor:"rgba(255, 255, 255, 0.3)",color:"white","&:hover":{borderColor:"#1976D2",bgcolor:"rgba(25, 118, 210, 0.1)"}},children:"Ver"}):(0,Ve.jsx)($r,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.5)"},children:"-"})})]},e.fecha+e.cajaId);var t})):(0,Ve.jsx)(Xp,{children:(0,Ve.jsx)(th,{colSpan:5,align:"center",sx:{color:"white"},children:"No se encontraron movimientos"})})})]})})]})]})})]})]})})};var DX=r(4802);const MX=()=>{const[e,t]=(0,a.useState)(!0),[r,n]=(0,a.useState)(null),[o,i]=(0,a.useState)(new Date),[s,l]=(0,a.useState)(new Date),[c,d]=(0,a.useState)([]),[u,p]=(0,a.useState)([]),[h,f]=(0,a.useState)(0),[m,g]=(0,a.useState)(0),[v,x]=(0,a.useState)(0),[b,y]=(0,a.useState)(0),[j,w]=(0,a.useState)("TODOS"),[S,C]=(0,a.useState)(""),[A,E]=(0,a.useState)(!1),[k,O]=(0,a.useState)(""),[P,I]=(0,a.useState)(!1);(0,a.useEffect)((()=>{D()}),[]),(0,a.useEffect)((()=>{M()}),[o,s]);const D=async()=>{try{const e=await ed.get("/api/weno-gs/balance-global");e.data&&void 0!==e.data.totalADepositar&&f(e.data.totalADepositar)}catch(e){console.error("Error al cargar balance global:",e)}},M=async()=>{if(o&&s){t(!0),n(null);try{const e=o.toISOString().split("T")[0],t=s.toISOString().split("T")[0],r=await ed.get(`/api/weno-gs/movimientos?fechaInicio=${e}&fechaFin=${t}`);r.data?(d(r.data.movimientos),p(r.data.depositos||[]),g(r.data.totalPagos),x(r.data.totalRetiros),y(r.data.totalDepositos||0)):(d([]),p([]),g(0),x(0),y(0))}catch(l){var e,r,a,i;console.error("Error al cargar datos:",l),n((null===(e=l.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.message)||(null===(a=l.response)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.error)||"Error al cargar los datos de Wepa Gs"),d([]),p([]),g(0),x(0),y(0)}finally{t(!1)}}},T=()=>{E(!1),k.startsWith("blob:")&&URL.revokeObjectURL(k),O("")},R=c.filter((e=>{var t,r,n;const o="TODOS"===j||e.estado===j,a=""===S||e.cajaId.toLowerCase().includes(S.toLowerCase())||((null===(t=e.numeroEntero)||void 0===t?void 0:t.toString())||"").includes(S)||e.fecha.includes(S)||((null===(r=e.sucursal)||void 0===r?void 0:r.toLowerCase())||"").includes(S.toLowerCase())||((null===(n=e.usuario)||void 0===n?void 0:n.toLowerCase())||"").includes(S.toLowerCase())||e.id.toString().includes(S);return o&&a})),N=u.filter((e=>{const t=!e.observacion||!e.observacion.toUpperCase().includes("CANCELADO"),r=""===S||e.numeroDeposito.includes(S)||e.fecha.includes(S)||e.id.toString().includes(S);return t&&r})),$=a.useMemo((()=>{const e={};console.log("--- Recalculando movimientosAgrupados ---"),console.log("Datos brutos - movimientos:",c),console.log("Datos brutos - depositos:",u),console.log("Movimientos Filtrados (entrada al useMemo):",R),R.forEach(((t,r)=>{console.log(`Procesando mov ${r}:`,{id:t.id,servicio:t.servicio,monto:t.monto});const n=`C_${t.fecha.split("T")[0]}_${t.cajaId}`;e[n]||(e[n]={fecha:t.fecha,cajaId:t.cajaId,numeroEntero:t.numeroEntero||0,sucursal:t.sucursal||"",usuario:t.usuario||"",montosPago:0,montosRetiro:0,tipo:"CAJA",comprobantes:[]}),"pagos"===t.servicio?(console.log(`  -> Acumulando PAGO: ${t.monto} (actual: ${e[n].montosPago})`),e[n].montosPago+=t.monto):"retiros"===t.servicio?(console.log(`  -> Acumulando RETIRO: ${t.monto} (actual: ${e[n].montosRetiro})`),e[n].montosRetiro+=t.monto):console.warn(`  -> SERVICIO NO RECONOCIDO para mov ${t.id}: ${t.servicio}`),t.rutaComprobante&&!e[n].comprobantes.includes(t.rutaComprobante)&&e[n].comprobantes.push(t.rutaComprobante)})),N.forEach((t=>{const r=`D_${t.fecha}_${t.id}`,n=t.numeroComprobante||t.numeroDeposito||`${t.id}`;e[r]={fecha:t.fecha,cajaId:`Dep\xf3sito #${n}`,numeroEntero:0,sucursal:"Banco",usuario:"",montosPago:0,montosRetiro:t.monto,tipo:"DEPOSITO",numeroDeposito:t.numeroDeposito,numeroComprobante:t.numeroComprobante,comprobantes:t.rutaComprobante?[t.rutaComprobante]:[]}}));const t=Object.values(e).sort(((e,t)=>new Date(t.fecha).getTime()-new Date(e.fecha).getTime()));return console.log("--- Fin Recalculo movimientosAgrupados ---"),t}),[c,u,R,N]);return(0,Ve.jsx)(Cm,{dateAdapter:xw,adapterLocale:Cw,children:(0,Ve.jsxs)(Et,{sx:{p:3},children:[(0,Ve.jsx)(pt,{styles:{"*::-webkit-scrollbar":{width:"12px",height:"12px"},"*::-webkit-scrollbar-track":{backgroundColor:"#121212"},"*::-webkit-scrollbar-thumb":{backgroundColor:"#333",borderRadius:"6px","&:hover":{backgroundColor:"#444"}},html:{scrollbarColor:"#333 #121212",scrollbarWidth:"thin"},body:{scrollbarColor:"#333 #121212",scrollbarWidth:"thin"}}}),(0,Ve.jsx)($r,{variant:"h4",gutterBottom:!0,sx:{mb:3},children:"Balance Wepa Gs"}),r&&(0,Ve.jsx)(Ah,{severity:"error",sx:{mb:2},children:r}),(0,Ve.jsx)($t,{sx:{p:2,mb:3,bgcolor:"#2A2A2A"},children:(0,Ve.jsxs)($h,{container:!0,spacing:2,alignItems:"center",children:[(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,md:4,children:(0,Ve.jsx)(Kx,{label:"Fecha Inicio",value:o,onChange:e=>i(e),slotProps:{textField:{fullWidth:!0}}})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,md:4,children:(0,Ve.jsx)(Kx,{label:"Fecha Fin",value:s,onChange:e=>l(e),slotProps:{textField:{fullWidth:!0}}})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,md:4,children:(0,Ve.jsx)(fs,{variant:"contained",fullWidth:!0,onClick:M,disabled:e||!o||!s,startIcon:e?(0,Ve.jsx)(KS,{size:20}):(0,Ve.jsx)(rf.A,{}),children:e?"Cargando...":"Buscar"})})]})}),e?(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",my:5},children:(0,Ve.jsx)(KS,{})}):(0,Ve.jsxs)($h,{container:!0,spacing:3,children:[(0,Ve.jsx)($h,{item:!0,xs:12,md:5,children:(0,Ve.jsxs)(jk,{sx:{height:"100%",bgcolor:"#1E1E1E",color:"white"},children:[(0,Ve.jsx)(SX,{title:"Resumen por Fecha",subheader:"Servicios realizados y montos",titleTypographyProps:{variant:"h6"},subheaderTypographyProps:{color:"rgba(255, 255, 255, 0.7)"}}),(0,Ve.jsx)(Ii,{sx:{borderColor:"rgba(255, 255, 255, 0.12)"}}),(0,Ve.jsx)(Ak,{children:(0,Ve.jsxs)(Et,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,Ve.jsxs)(Et,{sx:{p:2,bgcolor:"#2E7D32",borderRadius:1,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center"},children:[(0,Ve.jsx)(EX.A,{sx:{mr:1,color:"white"}}),(0,Ve.jsx)($r,{variant:"subtitle1",color:"white",children:"Total Pagos:"})]}),(0,Ve.jsx)($r,{variant:"h6",color:"white",children:nC.guaranies(m)})]}),(0,Ve.jsxs)(Et,{sx:{p:2,bgcolor:"#F57C00",borderRadius:1,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center"},children:[(0,Ve.jsx)(kX.A,{sx:{mr:1,color:"white"}}),(0,Ve.jsx)($r,{variant:"subtitle1",color:"white",children:"Total Retiros:"})]}),(0,Ve.jsx)($r,{variant:"h6",color:"white",children:nC.guaranies(v)})]}),(0,Ve.jsxs)(Et,{sx:{p:2,bgcolor:"#9C27B0",borderRadius:1,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center"},children:[(0,Ve.jsx)(OX.A,{sx:{mr:1,color:"white"}}),(0,Ve.jsx)($r,{variant:"subtitle1",color:"white",children:"Total Dep\xf3sitos:"})]}),(0,Ve.jsx)($r,{variant:"h6",color:"white",children:nC.guaranies(b)})]}),(0,Ve.jsxs)(Et,{sx:{p:2,bgcolor:"#1976D2",borderRadius:1,display:"flex",alignItems:"center",justifyContent:"space-between",mt:1},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center"},children:[(0,Ve.jsx)(AX.A,{sx:{mr:1,color:"white"}}),(0,Ve.jsx)($r,{variant:"subtitle1",color:"white",children:"Total a Depositar:"})]}),(0,Ve.jsx)($r,{variant:"h6",color:"white",children:nC.guaranies(h)})]})]})})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:7,children:(0,Ve.jsxs)(jk,{sx:{height:"100%",bgcolor:"#1E1E1E",color:"white"},children:[(0,Ve.jsx)(SX,{title:"Detalle de Movimientos",subheader:"Movimientos de Wepa Gs por caja",titleTypographyProps:{variant:"h6"},subheaderTypographyProps:{color:"rgba(255, 255, 255, 0.7)"}}),(0,Ve.jsx)(Ii,{sx:{borderColor:"rgba(255, 255, 255, 0.12)"}}),(0,Ve.jsxs)(Ak,{children:[(0,Ve.jsx)($h,{container:!0,spacing:2,sx:{mb:2},children:(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsx)(jp,{fullWidth:!0,placeholder:"Buscar por caja, fecha o ID",value:S,onChange:e=>C(e.target.value),InputProps:{startAdornment:(0,Ve.jsx)(kp,{position:"start",children:(0,Ve.jsx)(rf.A,{})})},size:"small",sx:{bgcolor:"rgba(255, 255, 255, 0.08)","& .MuiOutlinedInput-root":{color:"white","& fieldset":{borderColor:"rgba(255, 255, 255, 0.23)"},"&:hover fieldset":{borderColor:"rgba(255, 255, 255, 0.4)"},"&.Mui-focused fieldset":{borderColor:"#1976D2"}},"& .MuiInputLabel-root":{color:"rgba(255, 255, 255, 0.7)"},"& .MuiInputAdornment-root":{color:"rgba(255, 255, 255, 0.7)"}}})})}),(0,Ve.jsx)(Dp,{sx:{maxHeight:400,"&::-webkit-scrollbar":{width:"10px",backgroundColor:"rgba(255, 255, 255, 0.05)"},"&::-webkit-scrollbar-thumb":{backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:"5px"}},children:(0,Ve.jsxs)(zp,{size:"small",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{sx:{color:"rgba(255, 255, 255, 0.7)",borderColor:"rgba(255, 255, 255, 0.12)"},children:"Fecha"}),(0,Ve.jsx)(th,{sx:{color:"rgba(255, 255, 255, 0.7)",borderColor:"rgba(255, 255, 255, 0.12)"},children:"Caja"}),(0,Ve.jsx)(th,{align:"right",sx:{color:"rgba(255, 255, 255, 0.7)",borderColor:"rgba(255, 255, 255, 0.12)"},children:"Pagos"}),(0,Ve.jsx)(th,{align:"right",sx:{color:"rgba(255, 255, 255, 0.7)",borderColor:"rgba(255, 255, 255, 0.12)"},children:"Retiros"}),(0,Ve.jsx)(th,{align:"center",sx:{color:"rgba(255, 255, 255, 0.7)",borderColor:"rgba(255, 255, 255, 0.12)"},children:"Comprobante"})]})}),(0,Ve.jsx)(sh,{children:$.length>0?$.map((e=>{return(0,Ve.jsxs)(Xp,{sx:{"&:hover":{bgcolor:"rgba(255, 255, 255, 0.08)"},"& .MuiTableCell-root":{borderColor:"rgba(255, 255, 255, 0.08)"},..."DEPOSITO"===e.tipo&&{bgcolor:"rgba(156, 39, 176, 0.1)","&:hover":{bgcolor:"rgba(156, 39, 176, 0.2)"}}},children:[(0,Ve.jsx)(th,{sx:{color:"white"},children:(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center"},children:[(0,Ve.jsx)(CX.A,{sx:{fontSize:16,mr:.5,color:"rgba(255, 255, 255, 0.7)"}}),(t=e.fecha,new Date(t).toLocaleDateString("es-PY",{day:"2-digit",month:"2-digit",year:"numeric"}))]})}),(0,Ve.jsx)(th,{sx:{color:"white"},children:(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center"},children:["CAJA"===e.tipo?(0,Ve.jsx)(PX.A,{sx:{fontSize:14,mr:.5,color:"rgba(255, 255, 255, 0.7)"}}):(0,Ve.jsx)(OX.A,{sx:{fontSize:14,mr:.5,color:"rgba(156, 39, 176, 0.7)"}}),(0,Ve.jsx)($r,{variant:"body2",children:"CAJA"===e.tipo?`Caja #${e.numeroEntero} ${e.sucursal} ${e.usuario}`:`Dep\xf3sito #${e.numeroDeposito}`})]})}),(0,Ve.jsx)(th,{align:"right",sx:{color:"white"},children:e.montosPago>0?nC.guaranies(e.montosPago):"-"}),(0,Ve.jsx)(th,{align:"right",sx:{color:"white"},children:e.montosRetiro>0?nC.guaranies(e.montosRetiro):"-"}),(0,Ve.jsx)(th,{align:"center",children:e.comprobantes.length>0?(0,Ve.jsx)(fs,{size:"small",variant:"outlined",color:"primary",onClick:()=>(async e=>{try{if(!e)return void n("Ruta de comprobante no disponible");I(!0),console.log("Ruta de comprobante original:",e);const r=e.split("/").pop()||e.split("\\").pop()||e;let o="";try{const t=await ed.get(`/api/weno-gs/comprobante/${encodeURIComponent(e)}`,{responseType:"blob"}),r=new Blob([t.data],{type:t.headers["content-type"]});o=URL.createObjectURL(r)}catch(t){console.log("Error en estrategia 1, intentando estrategia 2...");try{const e=await ed.get(`/api/weno-gs/comprobante/${encodeURIComponent(r)}`,{responseType:"blob"}),t=new Blob([e.data],{type:e.headers["content-type"]});o=URL.createObjectURL(t)}catch(t){console.log("Error en estrategia 2, intentando estrategia 3..."),o=`/uploads/${encodeURIComponent(r)}`}}O(o),E(!0)}catch(t){console.error("Error al ver comprobante:",t),n("Error al visualizar el comprobante solicitado")}finally{I(!1)}})(e.comprobantes[0]),startIcon:(0,Ve.jsx)(pI.A,{}),sx:{fontSize:"0.75rem",py:.5,borderColor:"rgba(255, 255, 255, 0.3)",color:"white","&:hover":{borderColor:"#1976D2",bgcolor:"rgba(25, 118, 210, 0.1)"}},children:"Ver"}):(0,Ve.jsx)($r,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.5)"},children:"-"})})]},e.fecha+e.cajaId);var t})):(0,Ve.jsx)(Xp,{children:(0,Ve.jsx)(th,{colSpan:5,align:"center",sx:{color:"white"},children:"No se encontraron movimientos"})})})]})})]})]})})]}),(0,Ve.jsxs)(Fi,{open:A,onClose:T,maxWidth:"lg",fullWidth:!0,PaperProps:{sx:{bgcolor:"#1E1E1E",color:"white",maxHeight:"90vh"}},children:[(0,Ve.jsxs)(Gi,{sx:{bgcolor:"#1E1E1E",color:"white",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ve.jsx)($r,{variant:"h6",children:"Comprobante"}),(0,Ve.jsx)(Ir,{onClick:T,sx:{color:"white"},children:(0,Ve.jsx)(DX.A,{})})]}),(0,Ve.jsx)(Ki,{sx:{bgcolor:"#1E1E1E",display:"flex",justifyContent:"center",p:1},children:P?(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"60vh"},children:(0,Ve.jsx)(KS,{})}):k?(0,Ve.jsx)(Et,{sx:{maxWidth:"100%",maxHeight:"70vh",overflow:"auto"},children:(0,Ve.jsx)("img",{src:k,alt:"Comprobante",style:{maxWidth:"100%",display:"block",margin:"0 auto",border:"1px solid rgba(255, 255, 255, 0.12)"},onError:()=>n("Error al cargar la imagen del comprobante")})}):(0,Ve.jsx)($r,{sx:{color:"white"},children:"No se pudo cargar el comprobante"})}),(0,Ve.jsx)(ns,{sx:{bgcolor:"#1E1E1E",borderTop:"1px solid rgba(255, 255, 255, 0.12)"},children:(0,Ve.jsx)(fs,{onClick:T,variant:"outlined",sx:{color:"white",borderColor:"rgba(255, 255, 255, 0.3)"},children:"Cerrar"})})]})]})})},TX=()=>{const[e,t]=(0,a.useState)(!0),[r,n]=(0,a.useState)(null),[o,i]=(0,a.useState)(new Date),[s,l]=(0,a.useState)(new Date),[c,d]=(0,a.useState)([]),[u,p]=(0,a.useState)([]),[h,f]=(0,a.useState)(0),[m,g]=(0,a.useState)(0),[v,x]=(0,a.useState)(0),[b,y]=(0,a.useState)(0),[j,w]=(0,a.useState)("TODOS"),[S,C]=(0,a.useState)(""),[A,E]=(0,a.useState)(!1),[k,O]=(0,a.useState)(""),[P,I]=(0,a.useState)(!1);(0,a.useEffect)((()=>{D()}),[]),(0,a.useEffect)((()=>{M()}),[o,s]);const D=async()=>{try{const e=await ed.get("/api/wepa-usd/balance-global");e.data&&void 0!==e.data.totalADepositar&&f(e.data.totalADepositar)}catch(e){console.error("Error al cargar balance global de Wepa USD:",e)}},M=async()=>{if(o&&s){t(!0),n(null);try{const e=o.toISOString().split("T")[0],t=s.toISOString().split("T")[0],r=await ed.get(`/api/wepa-usd/movimientos?fechaInicio=${e}&fechaFin=${t}`);r.data?(console.log("Datos recibidos de la API:",r.data),d(r.data.movimientos),p(r.data.depositos||[]),g(r.data.totalPagos),x(r.data.totalRetiros),y(r.data.totalDepositos||0)):(d([]),p([]),g(0),x(0),y(0))}catch(l){var e,r,a,i;console.error("Error al cargar datos:",l),n((null===(e=l.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.message)||(null===(a=l.response)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.error)||"Error al cargar los datos de Wepa USD"),d([]),p([]),g(0),x(0),y(0)}finally{t(!1)}}},T=()=>{E(!1),k.startsWith("blob:")&&URL.revokeObjectURL(k),O("")},R=c.filter((e=>{var t,r,n;const o="TODOS"===j||e.estado===j,a=""===S||e.cajaId.toLowerCase().includes(S.toLowerCase())||((null===(t=e.numeroEntero)||void 0===t?void 0:t.toString())||"").includes(S)||e.fecha.includes(S)||((null===(r=e.sucursal)||void 0===r?void 0:r.toLowerCase())||"").includes(S.toLowerCase())||((null===(n=e.usuario)||void 0===n?void 0:n.toLowerCase())||"").includes(S.toLowerCase())||e.id.toString().includes(S);return o&&a})),N=u.filter((e=>{const t=!e.observacion||!e.observacion.toUpperCase().includes("CANCELADO"),r=""===S||e.numeroDeposito.includes(S)||e.fecha.includes(S)||e.id.toString().includes(S);return t&&r})),$=a.useMemo((()=>{const e={};console.log("--- Recalculando movimientosAgrupados ---"),console.log("Datos brutos - movimientos:",c),console.log("Datos brutos - depositos:",u),console.log("Movimientos Filtrados (entrada al useMemo):",R),R.forEach(((t,r)=>{console.log(`Procesando mov ${r}:`,{id:t.id,servicio:t.servicio,monto:t.monto});const n=`C_${t.fecha.split("T")[0]}_${t.cajaId}`;e[n]||(e[n]={fecha:t.fecha,cajaId:t.cajaId,numeroEntero:t.numeroEntero||0,sucursal:t.sucursal||"",usuario:t.usuario||"",montosPago:0,montosRetiro:0,tipo:"CAJA",comprobantes:[]}),"pagos"===t.servicio?(console.log(`  -> Acumulando PAGO: ${t.monto} (actual: ${e[n].montosPago})`),e[n].montosPago+=t.monto):"retiros"===t.servicio?(console.log(`  -> Acumulando RETIRO: ${t.monto} (actual: ${e[n].montosRetiro})`),e[n].montosRetiro+=t.monto):console.warn(`  -> SERVICIO NO RECONOCIDO para mov ${t.id}: ${t.servicio}`),t.rutaComprobante&&!e[n].comprobantes.includes(t.rutaComprobante)&&e[n].comprobantes.push(t.rutaComprobante)})),N.forEach((t=>{const r=`D_${t.fecha}_${t.id}`,n=t.numeroComprobante||t.numeroDeposito||`${t.id}`;e[r]={fecha:t.fecha,cajaId:`Dep\xf3sito #${n}`,numeroEntero:0,sucursal:"Banco",usuario:"",montosPago:0,montosRetiro:t.monto,tipo:"DEPOSITO",numeroDeposito:t.numeroDeposito,numeroComprobante:t.numeroComprobante,comprobantes:t.rutaComprobante?[t.rutaComprobante]:[]}}));const t=Object.values(e).sort(((e,t)=>new Date(t.fecha).getTime()-new Date(e.fecha).getTime()));return console.log("--- Fin Recalculo movimientosAgrupados ---"),t}),[c,u,R,N]);return(0,Ve.jsx)(Cm,{dateAdapter:xw,adapterLocale:Cw,children:(0,Ve.jsxs)(Et,{sx:{p:3},children:[(0,Ve.jsx)(pt,{styles:{"*::-webkit-scrollbar":{width:"12px",height:"12px"},"*::-webkit-scrollbar-track":{backgroundColor:"#121212"},"*::-webkit-scrollbar-thumb":{backgroundColor:"#333",borderRadius:"6px","&:hover":{backgroundColor:"#444"}},html:{scrollbarColor:"#333 #121212",scrollbarWidth:"thin"},body:{scrollbarColor:"#333 #121212",scrollbarWidth:"thin"}}}),(0,Ve.jsx)($r,{variant:"h4",gutterBottom:!0,sx:{mb:3},children:"Balance Wepa USD"}),r&&(0,Ve.jsx)(Ah,{severity:"error",sx:{mb:2},children:r}),(0,Ve.jsx)($t,{sx:{p:2,mb:3,bgcolor:"#2A2A2A"},children:(0,Ve.jsxs)($h,{container:!0,spacing:2,alignItems:"center",children:[(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,md:4,children:(0,Ve.jsx)(Kx,{label:"Fecha Inicio",value:o,onChange:e=>i(e),slotProps:{textField:{fullWidth:!0}}})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,md:4,children:(0,Ve.jsx)(Kx,{label:"Fecha Fin",value:s,onChange:e=>l(e),slotProps:{textField:{fullWidth:!0}}})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,md:4,children:(0,Ve.jsx)(fs,{variant:"contained",fullWidth:!0,onClick:M,disabled:e||!o||!s,startIcon:e?(0,Ve.jsx)(KS,{size:20}):(0,Ve.jsx)(rf.A,{}),children:e?"Cargando...":"Buscar"})})]})}),e?(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",my:5},children:(0,Ve.jsx)(KS,{})}):(0,Ve.jsxs)($h,{container:!0,spacing:3,children:[(0,Ve.jsx)($h,{item:!0,xs:12,md:5,children:(0,Ve.jsxs)(jk,{sx:{height:"100%",bgcolor:"#1E1E1E",color:"white"},children:[(0,Ve.jsx)(SX,{title:"Resumen por Fecha",subheader:"Servicios realizados y montos",titleTypographyProps:{variant:"h6"},subheaderTypographyProps:{color:"rgba(255, 255, 255, 0.7)"}}),(0,Ve.jsx)(Ii,{sx:{borderColor:"rgba(255, 255, 255, 0.12)"}}),(0,Ve.jsx)(Ak,{children:(0,Ve.jsxs)(Et,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,Ve.jsxs)(Et,{sx:{p:2,bgcolor:"#2E7D32",borderRadius:1,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center"},children:[(0,Ve.jsx)(EX.A,{sx:{mr:1,color:"white"}}),(0,Ve.jsx)($r,{variant:"subtitle1",color:"white",children:"Total Pagos:"})]}),(0,Ve.jsx)($r,{variant:"h6",color:"white",children:nC.dollars(m)})]}),(0,Ve.jsxs)(Et,{sx:{p:2,bgcolor:"#F57C00",borderRadius:1,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center"},children:[(0,Ve.jsx)(kX.A,{sx:{mr:1,color:"white"}}),(0,Ve.jsx)($r,{variant:"subtitle1",color:"white",children:"Total Retiros:"})]}),(0,Ve.jsx)($r,{variant:"h6",color:"white",children:nC.dollars(v)})]}),(0,Ve.jsxs)(Et,{sx:{p:2,bgcolor:"#9C27B0",borderRadius:1,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center"},children:[(0,Ve.jsx)(OX.A,{sx:{mr:1,color:"white"}}),(0,Ve.jsx)($r,{variant:"subtitle1",color:"white",children:"Total Dep\xf3sitos:"})]}),(0,Ve.jsx)($r,{variant:"h6",color:"white",children:nC.dollars(b)})]}),(0,Ve.jsxs)(Et,{sx:{p:2,bgcolor:"#1976D2",borderRadius:1,display:"flex",alignItems:"center",justifyContent:"space-between",mt:1},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center"},children:[(0,Ve.jsx)(AX.A,{sx:{mr:1,color:"white"}}),(0,Ve.jsx)($r,{variant:"subtitle1",color:"white",children:"Total a Depositar:"})]}),(0,Ve.jsx)($r,{variant:"h6",color:"white",children:nC.dollars(h)})]})]})})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:7,children:(0,Ve.jsxs)(jk,{sx:{height:"100%",bgcolor:"#1E1E1E",color:"white"},children:[(0,Ve.jsx)(SX,{title:"Detalle de Movimientos",subheader:"Movimientos de Wepa USD por caja",titleTypographyProps:{variant:"h6"},subheaderTypographyProps:{color:"rgba(255, 255, 255, 0.7)"}}),(0,Ve.jsx)(Ii,{sx:{borderColor:"rgba(255, 255, 255, 0.12)"}}),(0,Ve.jsxs)(Ak,{children:[(0,Ve.jsx)($h,{container:!0,spacing:2,sx:{mb:2},children:(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsx)(jp,{fullWidth:!0,placeholder:"Buscar por caja, fecha o ID",value:S,onChange:e=>C(e.target.value),InputProps:{startAdornment:(0,Ve.jsx)(kp,{position:"start",children:(0,Ve.jsx)(rf.A,{})})},size:"small",sx:{bgcolor:"rgba(255, 255, 255, 0.08)","& .MuiOutlinedInput-root":{color:"white","& fieldset":{borderColor:"rgba(255, 255, 255, 0.23)"},"&:hover fieldset":{borderColor:"rgba(255, 255, 255, 0.4)"},"&.Mui-focused fieldset":{borderColor:"#1976D2"}},"& .MuiInputLabel-root":{color:"rgba(255, 255, 255, 0.7)"},"& .MuiInputAdornment-root":{color:"rgba(255, 255, 255, 0.7)"}}})})}),(0,Ve.jsx)(Dp,{sx:{maxHeight:400,"&::-webkit-scrollbar":{width:"10px",backgroundColor:"rgba(255, 255, 255, 0.05)"},"&::-webkit-scrollbar-thumb":{backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:"5px"}},children:(0,Ve.jsxs)(zp,{size:"small",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{sx:{color:"rgba(255, 255, 255, 0.7)",borderColor:"rgba(255, 255, 255, 0.12)"},children:"Fecha"}),(0,Ve.jsx)(th,{sx:{color:"rgba(255, 255, 255, 0.7)",borderColor:"rgba(255, 255, 255, 0.12)"},children:"Caja"}),(0,Ve.jsx)(th,{align:"right",sx:{color:"rgba(255, 255, 255, 0.7)",borderColor:"rgba(255, 255, 255, 0.12)"},children:"Pagos"}),(0,Ve.jsx)(th,{align:"right",sx:{color:"rgba(255, 255, 255, 0.7)",borderColor:"rgba(255, 255, 255, 0.12)"},children:"Retiros"}),(0,Ve.jsx)(th,{align:"center",sx:{color:"rgba(255, 255, 255, 0.7)",borderColor:"rgba(255, 255, 255, 0.12)"},children:"Comprobante"})]})}),(0,Ve.jsx)(sh,{children:$.length>0?$.map((e=>{return(0,Ve.jsxs)(Xp,{sx:{"&:hover":{bgcolor:"rgba(255, 255, 255, 0.08)"},"& .MuiTableCell-root":{borderColor:"rgba(255, 255, 255, 0.08)"},..."DEPOSITO"===e.tipo&&{bgcolor:"rgba(156, 39, 176, 0.1)","&:hover":{bgcolor:"rgba(156, 39, 176, 0.2)"}}},children:[(0,Ve.jsx)(th,{sx:{color:"white"},children:(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center"},children:[(0,Ve.jsx)(CX.A,{sx:{fontSize:16,mr:.5,color:"rgba(255, 255, 255, 0.7)"}}),(t=e.fecha,new Date(t).toLocaleDateString("es-PY",{day:"2-digit",month:"2-digit",year:"numeric"}))]})}),(0,Ve.jsx)(th,{sx:{color:"white"},children:(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center"},children:["CAJA"===e.tipo?(0,Ve.jsx)(PX.A,{sx:{fontSize:14,mr:.5,color:"rgba(255, 255, 255, 0.7)"}}):(0,Ve.jsx)(OX.A,{sx:{fontSize:14,mr:.5,color:"rgba(156, 39, 176, 0.7)"}}),(0,Ve.jsx)($r,{variant:"body2",children:"CAJA"===e.tipo?`Caja #${e.numeroEntero} ${e.sucursal} ${e.usuario}`:`Dep\xf3sito #${e.numeroDeposito}`})]})}),(0,Ve.jsx)(th,{align:"right",sx:{color:"white"},children:e.montosPago>0?nC.dollars(e.montosPago):"-"}),(0,Ve.jsx)(th,{align:"right",sx:{color:"white"},children:e.montosRetiro>0?nC.dollars(e.montosRetiro):"-"}),(0,Ve.jsx)(th,{align:"center",children:e.comprobantes.length>0?(0,Ve.jsx)(fs,{size:"small",variant:"outlined",color:"primary",onClick:()=>(async e=>{try{if(!e)return void n("Ruta de comprobante no disponible");I(!0),console.log("Ruta de comprobante original:",e);const r=e.split("/").pop()||e.split("\\").pop()||e;let o="";try{const t=await ed.get(`/api/wepa-usd/comprobante/${encodeURIComponent(e)}`,{responseType:"blob"}),r=new Blob([t.data],{type:t.headers["content-type"]});o=URL.createObjectURL(r)}catch(t){console.log("Error en estrategia 1, intentando estrategia 2...");try{const e=await ed.get(`/api/wepa-usd/comprobante/${encodeURIComponent(r)}`,{responseType:"blob"}),t=new Blob([e.data],{type:e.headers["content-type"]});o=URL.createObjectURL(t)}catch(t){console.log("Error en estrategia 2, intentando estrategia 3..."),o=`/uploads/${encodeURIComponent(r)}`}}O(o),E(!0)}catch(t){console.error("Error al ver comprobante:",t),n("Error al visualizar el comprobante solicitado")}finally{I(!1)}})(e.comprobantes[0]),startIcon:(0,Ve.jsx)(pI.A,{}),sx:{fontSize:"0.75rem",py:.5,borderColor:"rgba(255, 255, 255, 0.3)",color:"white","&:hover":{borderColor:"#1976D2",bgcolor:"rgba(25, 118, 210, 0.1)"}},children:"Ver"}):(0,Ve.jsx)($r,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.5)"},children:"-"})})]},e.fecha+e.cajaId);var t})):(0,Ve.jsx)(Xp,{children:(0,Ve.jsx)(th,{colSpan:5,align:"center",sx:{color:"white"},children:"No se encontraron movimientos"})})})]})})]})]})})]}),(0,Ve.jsxs)(Fi,{open:A,onClose:T,maxWidth:"lg",fullWidth:!0,PaperProps:{sx:{bgcolor:"#1E1E1E",color:"white",maxHeight:"90vh"}},children:[(0,Ve.jsxs)(Gi,{sx:{bgcolor:"#1E1E1E",color:"white",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ve.jsx)($r,{variant:"h6",children:"Comprobante"}),(0,Ve.jsx)(Ir,{onClick:T,sx:{color:"white"},children:(0,Ve.jsx)(DX.A,{})})]}),(0,Ve.jsx)(Ki,{sx:{bgcolor:"#1E1E1E",display:"flex",justifyContent:"center",p:1},children:P?(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"60vh"},children:(0,Ve.jsx)(KS,{})}):k?(0,Ve.jsx)(Et,{sx:{maxWidth:"100%",maxHeight:"70vh",overflow:"auto"},children:(0,Ve.jsx)("img",{src:k,alt:"Comprobante",style:{maxWidth:"100%",display:"block",margin:"0 auto",border:"1px solid rgba(255, 255, 255, 0.12)"},onError:()=>n("Error al cargar la imagen del comprobante")})}):(0,Ve.jsx)($r,{sx:{color:"white"},children:"No se pudo cargar el comprobante"})}),(0,Ve.jsx)(ns,{sx:{bgcolor:"#1E1E1E",borderTop:"1px solid rgba(255, 255, 255, 0.12)"},children:(0,Ve.jsx)(fs,{onClick:T,variant:"outlined",sx:{color:"white",borderColor:"rgba(255, 255, 255, 0.3)"},children:"Cerrar"})})]})]})})},RX=(0,ms.A)((0,Ve.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward"),NX=(0,ms.A)((0,Ve.jsx)("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"}),"KeyboardArrowLeft"),$X=(0,ms.A)((0,Ve.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}),"KeyboardArrowRight"),zX=e=>{let{username:t}=e;const r=re(),[n,o]=(0,a.useState)(0),[i,s]=(0,a.useState)([]),[l,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(!0),[p,h]=(0,a.useState)(null),[f,m]=(0,a.useState)("left"),[g,v]=(0,a.useState)(!0);(0,a.useEffect)((()=>{(async()=>{try{u(!0),console.log("Obteniendo datos del carrusel y panel informativo...");const e=await ed.get("/api/carousel/slides/active");console.log("Respuesta de slides:",e.data),e.data&&e.data.length>0?s(e.data):(console.warn("No se encontraron slides, usando datos de respaldo"),s([{id:1,title:"Promociones especiales",content:"Aproveche nuestras promociones del mes",bgColor:"#bbdefb",orden:1,activo:!0}]));const t=await ed.get("/api/carousel/info-panel");console.log("Respuesta del panel informativo:",t.data),t.data?c(t.data):(console.warn("No se encontr\xf3 informaci\xf3n del panel, usando datos de respaldo"),c({id:1,title:"Informaci\xf3n importante",content:"Bienvenido al sistema de servicios de nuestra empresa.",notaImportante:"Recuerde realizar su cierre de caja diario antes de finalizar su turno."})),u(!1)}catch(e){console.error("Error al cargar datos:",e),h("Error al cargar los datos desde el servidor"),u(!1),s([{id:1,title:"Promociones especiales",content:"Aproveche nuestras promociones del mes",bgColor:"#bbdefb",orden:1,activo:!0}]),c({id:1,title:"Informaci\xf3n importante",content:"Bienvenido al sistema de servicios de nuestra empresa.",notaImportante:"Recuerde realizar su cierre de caja diario antes de finalizar su turno."})}})()}),[]);const x=i.length;(0,a.useEffect)((()=>{if(i.length<=1)return;const e=setInterval((()=>{m("left"),v(!1),setTimeout((()=>{o((e=>(e+1)%x)),v(!0)}),300)}),6e3);return()=>{clearInterval(e)}}),[n,i.length,x]);return d?(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:(0,Ve.jsx)(KS,{})}):(0,Ve.jsxs)(Et,{sx:{p:3},children:[(0,Ve.jsxs)($r,{variant:"h4",gutterBottom:!0,children:["Bienvenido, ",t]}),(0,Ve.jsx)($r,{variant:"body1",color:"text.secondary",paragraph:!0,children:"Panel de operaciones del sistema de servicios"}),(0,Ve.jsxs)($h,{container:!0,spacing:3,children:[(0,Ve.jsx)($h,{item:!0,xs:12,md:4,children:(0,Ve.jsxs)(jk,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,Ve.jsxs)(Ak,{sx:{flexGrow:1},children:[(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",mb:2},children:(0,Ve.jsx)(js,{fontSize:"large",color:"primary"})}),(0,Ve.jsx)($r,{variant:"h5",component:"div",align:"center",children:"Operaciones de Caja"}),(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",align:"center",children:"Registrar ingresos, egresos y movimientos"}),(0,Ve.jsxs)(Et,{sx:{mt:3},children:[(0,Ve.jsx)($r,{variant:"body1",paragraph:!0,children:"Desde aqu\xed podr\xe1s:"}),(0,Ve.jsxs)("ul",{children:[(0,Ve.jsx)("li",{children:"Registrar ingresos de efectivo"}),(0,Ve.jsx)("li",{children:"Procesar pagos de servicios"}),(0,Ve.jsx)("li",{children:"Realizar cierres de caja"}),(0,Ve.jsx)("li",{children:"Consultar movimientos"})]})]})]}),(0,Ve.jsx)(sI,{children:(0,Ve.jsx)(fs,{fullWidth:!0,variant:"contained",color:"primary",onClick:()=>r("/cajas"),endIcon:(0,Ve.jsx)(RX,{}),children:"Acceder"})})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:4,children:(0,Ve.jsx)(jk,{sx:{height:"100%"},children:(0,Ve.jsxs)(Ak,{children:[(0,Ve.jsx)($r,{variant:"h5",component:"div",align:"center",gutterBottom:!0,children:"Novedades"}),i.length>0?(0,Ve.jsxs)(Et,{sx:{position:"relative",height:375,overflow:"hidden"},children:[(0,Ve.jsx)($t,{elevation:3,sx:{position:"absolute",top:0,left:0,right:0,bottom:0,bgcolor:i[n].bgColor,overflow:"hidden",padding:0},children:(0,Ve.jsx)(Pa,{direction:f,in:g,timeout:500,children:(0,Ve.jsx)(Et,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"},children:(0,Ve.jsx)(oa,{in:g,timeout:{enter:500,exit:200},children:(0,Ve.jsx)(Et,{sx:{width:"100%",height:"100%"},children:i[n].imageUrl?(0,Ve.jsx)(Et,{component:"img",src:i[n].imageUrl,alt:i[n].title,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",margin:0,padding:0}}):(0,Ve.jsxs)(Et,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%",p:2},children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,children:i[n].title}),(0,Ve.jsx)($r,{variant:"body1",children:i[n].content})]})})})})})}),(0,Ve.jsx)(Ir,{onClick:()=>{m("right"),v(!1),setTimeout((()=>{o((e=>(e-1+x)%x)),v(!0)}),300)},size:"small",sx:{position:"absolute",left:8,top:"50%",transform:"translateY(-50%)",bgcolor:"rgba(255, 255, 255, 0.7)",zIndex:2,"&:hover":{bgcolor:"rgba(255, 255, 255, 0.9)"}},children:(0,Ve.jsx)(NX,{})}),(0,Ve.jsx)(Ir,{onClick:()=>{m("left"),v(!1),setTimeout((()=>{o((e=>(e+1)%x)),v(!0)}),300)},size:"small",sx:{position:"absolute",right:8,top:"50%",transform:"translateY(-50%)",bgcolor:"rgba(255, 255, 255, 0.7)",zIndex:2,"&:hover":{bgcolor:"rgba(255, 255, 255, 0.9)"}},children:(0,Ve.jsx)($X,{})}),(0,Ve.jsx)(Et,{sx:{position:"absolute",bottom:16,left:0,right:0,display:"flex",justifyContent:"center",zIndex:2},children:i.map(((e,t)=>(0,Ve.jsx)(Et,{sx:{width:8,height:8,borderRadius:"50%",mx:.5,bgcolor:t===n?"primary.main":"rgba(255, 255, 255, 0.7)",cursor:"pointer"},onClick:()=>o(t)},t)))})]}):(0,Ve.jsx)($r,{variant:"body1",align:"center",children:"No hay novedades para mostrar"})]})})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:4,children:(0,Ve.jsx)(jk,{sx:{height:"100%"},children:(0,Ve.jsxs)(Ak,{children:[(0,Ve.jsx)($r,{variant:"h5",component:"div",align:"center",gutterBottom:!0,children:(null===l||void 0===l?void 0:l.title)||"Informaci\xf3n importante"}),(0,Ve.jsxs)(Et,{sx:{minHeight:"390px"},children:[" ",(0,Ve.jsx)($r,{variant:"body1",paragraph:!0,children:(null===l||void 0===l?void 0:l.content)||"Bienvenido al sistema de servicios de nuestra empresa."}),!l&&(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsxs)($r,{variant:"body1",paragraph:!0,children:[(0,Ve.jsx)("strong",{children:"Horario de atenci\xf3n:"}),(0,Ve.jsx)("br",{}),"Lunes a Viernes: 07:00 - 17:00",(0,Ve.jsx)("br",{}),"S\xe1bados: 07:00 - 12:00"]}),(0,Ve.jsxs)($r,{variant:"body1",paragraph:!0,children:[(0,Ve.jsx)("strong",{children:"Contacto de soporte:"}),(0,Ve.jsx)("br",{}),"soporte@empresa.com",(0,Ve.jsx)("br",{}),"Tel: (021) 555-123"]})]})]}),(0,Ve.jsx)($r,{variant:"body1",paragraph:!0,sx:{color:"error.main",fontWeight:"bold",mt:2},children:(null===l||void 0===l?void 0:l.notaImportante)||"Recuerde realizar su cierre de caja diario antes de finalizar su turno."})]})})})]})]})},LX=(0,ms.A)((0,Ve.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"People"),BX=(0,ms.A)((0,Ve.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft"),FX=(0,ms.A)((0,Ve.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight"),_X="http://localhost:3000/api",UX=e=>{let{hasPermission:t}=e;const r=re(),n=gt(),{convertirDolaresAGuaranies:o,convertirRealesAGuaranies:i}=SC(),[s,l]=(0,a.useState)(!0),[c,d]=(0,a.useState)({guaranies:0,dolares:0,reales:0}),[u,p]=(0,a.useState)(!0),[h,f]=(0,a.useState)({aquipago:{monto:0,porDepositar:!1},wepaGs:{monto:0,porDepositar:!1},wepaUsd:{monto:0,porDepositar:!1}}),[m,g]=(0,a.useState)(!0),[v,x]=(0,a.useState)([]),[b,y]=(0,a.useState)(0),[j,w]=(0,a.useState)({inicio:new Date,fin:new Date}),S=e=>e.toLocaleString("es-PY",{maximumFractionDigits:0}),C=145,A=3,E=e=>e.toLocaleDateString("es-PY",{day:"2-digit",month:"2-digit",year:"numeric"}),k=async()=>{try{const e=(new Date).toISOString().split("T")[0],t=(await ed.get(`${_X}/aquipago/movimientos`,{params:{fechaInicio:e,fechaFin:e}})).data.totalADepositar||0;return{monto:Math.abs(t),porDepositar:t>0}}catch(e){return console.error("Error al cargar el balance de Aqui Pago:",e),{monto:0,porDepositar:!1}}},O=async()=>{try{const e=(await ed.get(`${_X}/weno-gs/balance-global`)).data.totalADepositar||0;return{monto:Math.abs(e),porDepositar:e>0}}catch(e){return console.error("Error al cargar el balance de Wepa Gs:",e),{monto:0,porDepositar:!1}}},P=async()=>{try{const e=(await ed.get(`${_X}/wepa-usd/balance-global`)).data.totalADepositar||0;return{monto:Math.abs(e),porDepositar:e>0}}catch(e){return console.error("Error al cargar el balance de Wepa USD:",e),{monto:0,porDepositar:!1}}};(0,a.useEffect)((()=>{(async()=>{l(!0);try{const e=await fA.getSaldosActuales();d({guaranies:e.guaranies||0,dolares:e.dolares||0,reales:e.reales||0})}catch(e){console.error("Error al cargar saldo de caja mayor:",e)}finally{l(!1)}})()}),[]),(0,a.useEffect)((()=>{(async()=>{p(!0);try{const[e,t,r]=await Promise.all([k(),O(),P()]);f({aquipago:e,wepaGs:t,wepaUsd:r}),console.log("Valores por depositar cargados:",{aquipago:e,wepaGs:t,wepaUsd:r})}catch(e){console.error("Error al cargar valores por depositar:",e)}finally{p(!1)}})()}),[]),(0,a.useEffect)((()=>{(async()=>{g(!0);try{const e=new Date,t=new Date(e);t.setDate(e.getDate()-e.getDay()+7*b);const r=new Date(t);r.setDate(t.getDate()+6),t.setHours(0,0,0,0),r.setHours(23,59,59,999),w({inicio:new Date(t),fin:new Date(r)});const n=t.toISOString().split("T")[0],o=r.toISOString().split("T")[0];console.log(`Cargando movimientos de: ${n} a ${o}`);const a=await ed.get(`${_X}/movimientos-caja/all-movimientos`,{params:{fechaDesde:n,fechaHasta:o}}),i=a.data.data||a.data||[],s=["Domingo","Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado"],l=new Map,c={};for(let u=0;u<7;u++){const e=new Date(t);e.setDate(t.getDate()+u);const r=s[u];c[r]=e,l.set(r,{montoTotal:0})}i.forEach((e=>{if(e.createdAt){const n=new Date(e.createdAt);if(n.setHours(0,0,0,0),n>=t&&n<=r){if(!(e.operadora&&e.operadora.toLowerCase().includes("dolar")||e.servicio&&e.servicio.toLowerCase().includes("dolar")||e.moneda&&"usd"===e.moneda.toLowerCase()||e.operadora&&"wepadolares"===e.operadora.toLowerCase())){const t=s[n.getDay()],r=l.get(t)||{montoTotal:0};console.log(`Movimiento del ${n.toLocaleDateString()} (${t}): ${e.monto}`),l.set(t,{montoTotal:r.montoTotal+Math.abs(parseFloat(e.monto)||0)})}}else console.log(`Movimiento fuera de rango: ${n.toLocaleDateString()} - Rango: ${t.toLocaleDateString()} a ${r.toLocaleDateString()}`)}}));const d=s.map((e=>{var t;return{dia:e,montoTotal:(null===(t=l.get(e))||void 0===t?void 0:t.montoTotal)||0}}));x(d),console.log("Movimientos por d\xeda cargados:",d)}catch(e){console.error("Error al cargar movimientos por d\xeda:",e)}finally{g(!1)}})()}),[b]);return(0,Ve.jsxs)(Et,{sx:{p:3},children:[(0,Ve.jsx)($r,{variant:"h4",gutterBottom:!0,children:"Panel de Administraci\xf3n"}),(0,Ve.jsx)($r,{variant:"body1",color:"text.secondary",paragraph:!0,children:"Resumen del sistema de servicios"}),(0,Ve.jsxs)($h,{container:!0,spacing:3,sx:{mb:4},children:[(0,Ve.jsx)($h,{item:!0,xs:12,md:6,lg:3,children:(0,Ve.jsxs)($t,{sx:{p:2,display:"flex",flexDirection:"column",height:140,bgcolor:"rgba(33, 150, 243, 0.12)",color:n.palette.primary.main,borderRadius:2,borderLeft:`4px solid ${n.palette.primary.main}`,transition:"transform 0.2s","&:hover":{transform:"translateY(-5px)",boxShadow:n.shadows[8]}},children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,children:"Valores por Depositar"}),u?(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",alignItems:"center",flexGrow:1},children:(0,Ve.jsx)(KS,{size:30,color:"primary"})}):(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsxs)($r,{variant:"h3",component:"div",sx:{flexGrow:1,fontWeight:"bold"},children:["Gs. ",S((()=>{let e=0;return h.aquipago.porDepositar&&(e+=h.aquipago.monto),h.wepaGs.porDepositar&&(e+=h.wepaGs.monto),e})())]}),(0,Ve.jsx)($r,{variant:"body2",children:h.wepaUsd.porDepositar?`Wepa USD: $${S(h.wepaUsd.monto)} (por depositar)`:h.wepaUsd.monto>0?`Wepa USD: $${S(h.wepaUsd.monto)} (en haber)`:"Wepa USD: $0"})]})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:6,lg:3,children:(0,Ve.jsxs)($t,{sx:{p:2,display:"flex",flexDirection:"column",height:140,bgcolor:"rgba(156, 39, 176, 0.12)",color:n.palette.secondary.main,borderRadius:2,borderLeft:`4px solid ${n.palette.secondary.main}`,transition:"transform 0.2s","&:hover":{transform:"translateY(-5px)",boxShadow:n.shadows[8]}},children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,children:"Saldo Total"}),s?(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",alignItems:"center",flexGrow:1},children:(0,Ve.jsx)(KS,{size:30,color:"secondary"})}):(0,Ve.jsxs)($r,{variant:"h3",component:"div",sx:{flexGrow:1,fontWeight:"bold"},children:["Gs. ",S(c.guaranies+o(c.dolares)+i(c.reales))]}),(0,Ve.jsx)($r,{variant:"body2",children:"Efectivo en caja mayor"})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:6,lg:3,children:(0,Ve.jsxs)($t,{sx:{p:2,display:"flex",flexDirection:"column",height:140,bgcolor:"rgba(76, 175, 80, 0.12)",color:n.palette.success.main,borderRadius:2,borderLeft:`4px solid ${n.palette.success.main}`,transition:"transform 0.2s","&:hover":{transform:"translateY(-5px)",boxShadow:n.shadows[8]}},children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,children:"Movimientos"}),(0,Ve.jsx)($r,{variant:"h3",component:"div",sx:{flexGrow:1,fontWeight:"bold"},children:C}),(0,Ve.jsx)($r,{variant:"body2",children:"Operaciones registradas hoy"})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:6,lg:3,children:(0,Ve.jsxs)($t,{sx:{p:2,display:"flex",flexDirection:"column",height:140,bgcolor:"rgba(255, 152, 0, 0.12)",color:n.palette.warning.main,borderRadius:2,borderLeft:`4px solid ${n.palette.warning.main}`,transition:"transform 0.2s","&:hover":{transform:"translateY(-5px)",boxShadow:n.shadows[8]}},children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,children:"Pendientes"}),(0,Ve.jsx)($r,{variant:"h3",component:"div",sx:{flexGrow:1,fontWeight:"bold"},children:A}),(0,Ve.jsx)($r,{variant:"body2",children:"Cajas pendientes de conciliaci\xf3n"})]})})]}),(0,Ve.jsxs)($h,{container:!0,spacing:3,children:[(0,Ve.jsx)($h,{item:!0,xs:12,md:7,children:(0,Ve.jsxs)($t,{sx:{p:2,borderRadius:2},children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,children:"M\xf3dulos Principales"}),(0,Ve.jsx)(Ii,{sx:{mb:2}}),(0,Ve.jsxs)(Va,{children:[t("CAJA_MAYOR","BALANCE")&&(0,Ve.jsxs)(ai,{button:!0,onClick:()=>r("/caja-mayor/balance"),children:[(0,Ve.jsx)(di,{children:(0,Ve.jsx)(vs,{color:"primary"})}),(0,Ve.jsx)(mi,{primary:"Caja Mayor",secondary:"Balance y movimientos"})]}),t("SALDOS_MONETARIOS","VER")&&(0,Ve.jsxs)(ai,{button:!0,onClick:()=>r("/saldos-monetarios"),children:[(0,Ve.jsx)(di,{children:(0,Ve.jsx)(ys,{color:"primary"})}),(0,Ve.jsx)(mi,{primary:"Saldos Monetarios",secondary:"Control de pagos y servicios"})]}),t("PDV","CAJAS")&&(0,Ve.jsxs)(ai,{button:!0,onClick:()=>r("/pdv/cajas"),children:[(0,Ve.jsx)(di,{children:(0,Ve.jsx)(js,{color:"primary"})}),(0,Ve.jsx)(mi,{primary:"Control de Cajas",secondary:"Supervisi\xf3n y diferencias"})]}),t("RECURSOS_HUMANOS","PERSONAS")&&(0,Ve.jsxs)(ai,{button:!0,onClick:()=>r("/recursos-humanos"),children:[(0,Ve.jsx)(di,{children:(0,Ve.jsx)(LX,{color:"primary"})}),(0,Ve.jsx)(mi,{primary:"Recursos Humanos",secondary:"Gesti\xf3n de personas"})]}),t("CONFIGURACION","USUARIOS")&&(0,Ve.jsxs)(ai,{button:!0,onClick:()=>r("/usuarios"),children:[(0,Ve.jsx)(di,{children:(0,Ve.jsx)(Es,{color:"primary"})}),(0,Ve.jsx)(mi,{primary:"Configuraci\xf3n",secondary:"Usuarios, roles y par\xe1metros"})]})]})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:5,children:(0,Ve.jsx)(jk,{variant:"outlined",sx:{bgcolor:"#212121",height:"100%",borderRadius:2,boxShadow:n.shadows[4],display:"flex",flexDirection:"column"},children:(0,Ve.jsxs)(Ak,{sx:{flexGrow:1,display:"flex",flexDirection:"column",p:2,"&:last-child":{pb:2}},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[(0,Ve.jsx)($r,{variant:"h6",children:"Movimientos por D\xeda de la Semana"}),(0,Ve.jsxs)(oS,{direction:"row",spacing:1,alignItems:"center",children:[(0,Ve.jsx)(Ir,{size:"small",onClick:()=>{y((e=>e-1))},sx:{color:n.palette.grey[500]},children:(0,Ve.jsx)(BX,{fontSize:"small"})}),!m&&(0,Ve.jsxs)($r,{variant:"body2",color:"text.secondary",sx:{minWidth:"140px",textAlign:"center"},children:[E(j.inicio)," - ",E(j.fin)]}),(0,Ve.jsx)(Ir,{size:"small",onClick:()=>{y((e=>e+1))},sx:{color:n.palette.grey[500]},children:(0,Ve.jsx)(FX,{fontSize:"small"})})]})]}),(0,Ve.jsx)(Ii,{sx:{mb:2}}),m?(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",alignItems:"center",flexGrow:1,minHeight:240},children:(0,Ve.jsx)(KS,{size:40})}):(0,Ve.jsx)(Et,{sx:{flexGrow:1,width:"100%",height:{xs:240,sm:240,md:260},mt:1},children:(0,Ve.jsx)(GD,{width:"100%",height:"100%",children:(0,Ve.jsxs)(HK,{data:v,margin:{top:5,right:20,left:20,bottom:5},children:[(0,Ve.jsx)(dX,{strokeDasharray:"3 3",stroke:"#424242"}),(0,Ve.jsx)(RK,{dataKey:"dia",stroke:"#9e9e9e",tick:{fontSize:12},tickFormatter:e=>e.substring(0,3)}),(0,Ve.jsx)(GK,{stroke:"#82ca9d",tick:{fontSize:11},tickFormatter:e=>S(e)}),(0,Ve.jsx)(qM,{formatter:e=>S(e)+" Gs",contentStyle:{backgroundColor:"#333333",border:"none",color:"#e0e0e0"}}),(0,Ve.jsx)(ZY,{type:"monotone",dataKey:"montoTotal",stroke:"#82ca9d",name:"Monto Total",strokeWidth:2,dot:{r:4},activeDot:{r:8}})]})})})]})})})]})]})},WX=()=>{const{user:e,loading:t,hasPermission:r}=eC(),[n,o]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{if(e&&e.rol){const t=e.rol.nombre.toUpperCase();o("ADMINISTRADOR"===t||e.rol.permisos.some((e=>"CONFIGURACION"===e.modulo&&["USUARIOS","ROLES","SUCURSALES"].includes(e.pantalla))))}}),[e]),t?(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,Ve.jsx)(KS,{})}):(0,Ve.jsx)(Et,{children:n?(0,Ve.jsx)(UX,{hasPermission:r}):(0,Ve.jsx)(zX,{username:(null===e||void 0===e?void 0:e.username)||"Usuario"})})},VX=(0,ms.A)((0,Ve.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh"),GX=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[o,i]=(0,a.useState)(null),[s,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(!1),[u,p]=(0,a.useState)(!1),[h,f]=(0,a.useState)({id:0,title:"",content:"",bgColor:"#f0f0f0",imageUrl:"",orden:0,activo:!0}),[m,g]=(0,a.useState)({title:"Informaci\xf3n importante",content:"Bienvenido al sistema de servicios de nuestra empresa.",notaImportante:"Recuerde realizar su cierre de caja diario antes de finalizar su turno."}),[v,x]=(0,a.useState)(!1),[b,y]=(0,a.useState)(0),[j,w]=(0,a.useState)(!1),{user:S}=eC();(0,a.useEffect)((()=>{C(),A()}),[]);const C=async()=>{try{n(!0),console.log("Cargando slides desde la API...");const e=localStorage.getItem("token"),r=await ed.get("/api/carousel/slides",{headers:{Authorization:`Bearer ${e}`}});console.log("Respuesta de slides:",r.data),r.data&&r.data.length>0?t(r.data):(console.warn("No se encontraron slides"),t([])),n(!1)}catch(e){console.error("Error al cargar los slides del carrusel:",e),i("Error al cargar los datos. Intente nuevamente."),n(!1)}},A=async()=>{try{console.log("Cargando panel informativo desde la API...");const e=localStorage.getItem("token"),t=await ed.get("/api/carousel/info-panel",{headers:{Authorization:`Bearer ${e}`}});console.log("Respuesta del panel informativo:",t.data),t.data?g(t.data):console.warn("No se encontr\xf3 panel informativo")}catch(e){console.error("Error al cargar el panel informativo:",e),i("Error al cargar la informaci\xf3n del panel. Intente nuevamente.")}},E=e=>{const{name:t,value:r}=e.target;g((e=>({...e,[t]:r})))},k=async(t,r)=>{try{const o=e.findIndex((e=>e.id===t));if("up"===r&&0===o||"down"===r&&o===e.length-1)return;n(!0);const a=localStorage.getItem("token");console.log(`Cambiando orden del slide ${t} hacia ${r}`),await ed.post(`/api/carousel/slides/${t}/reorder`,{direction:r},{headers:{Authorization:`Bearer ${a}`}}),await C(),l("Orden actualizado correctamente"),n(!1)}catch(o){console.error("Error al cambiar el orden:",o),i("Error al cambiar el orden. Intente nuevamente."),n(!1)}},O=()=>{f({id:0,title:"",content:"",bgColor:"#f0f0f0",imageUrl:"",orden:e.length+1,activo:!0})},P=e=>{const{name:t,value:r}=e.target;f((e=>({...e,[t]:r})))};return(0,Ve.jsxs)(Et,{sx:{p:3},children:[(0,Ve.jsx)($r,{variant:"h4",gutterBottom:!0,children:"Configuraci\xf3n del Carrusel y Panel Informativo"}),(0,Ve.jsxs)($h,{container:!0,spacing:3,children:[(0,Ve.jsx)($h,{item:!0,xs:12,md:7,children:(0,Ve.jsxs)($t,{sx:{p:2,mb:3},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,Ve.jsx)($r,{variant:"h6",children:"Slides del Carrusel"}),(0,Ve.jsxs)(Et,{children:[(0,Ve.jsx)(fs,{variant:"outlined",startIcon:(0,Ve.jsx)(VX,{}),onClick:C,sx:{mr:1},children:"Actualizar"}),(0,Ve.jsx)(fs,{variant:"contained",color:"primary",startIcon:(0,Ve.jsx)(XS,{}),onClick:()=>{O(),p(!1),d(!0)},children:"Nuevo Slide"})]})]}),r?(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",p:3},children:(0,Ve.jsx)(KS,{})}):o?(0,Ve.jsx)(Ah,{severity:"error",sx:{mb:2},children:o}):(0,Ve.jsx)(Dp,{children:(0,Ve.jsxs)(zp,{children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Orden"}),(0,Ve.jsx)(th,{children:"Imagen"}),(0,Ve.jsx)(th,{children:"T\xedtulo"}),(0,Ve.jsx)(th,{children:"Contenido"}),(0,Ve.jsx)(th,{children:"Estado"}),(0,Ve.jsx)(th,{align:"center",children:"Acciones"})]})}),(0,Ve.jsx)(sh,{children:0===e.length?(0,Ve.jsx)(Xp,{children:(0,Ve.jsx)(th,{colSpan:6,align:"center",children:'No hay slides configurados. Haga clic en "Nuevo Slide" para a\xf1adir uno.'})}):e.map((r=>(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center"},children:[r.orden,(0,Ve.jsxs)(Et,{children:[(0,Ve.jsx)(Ir,{size:"small",onClick:()=>k(r.id,"up"),disabled:1===r.orden,children:(0,Ve.jsx)(xC,{fontSize:"small"})}),(0,Ve.jsx)(Ir,{size:"small",onClick:()=>k(r.id,"down"),disabled:r.orden===e.length,children:(0,Ve.jsx)(uC,{fontSize:"small"})})]})]})}),(0,Ve.jsx)(th,{children:r.imageUrl?(0,Ve.jsx)(Et,{component:"img",src:r.imageUrl,alt:r.title,sx:{width:40,height:40,objectFit:"cover",borderRadius:1}}):(0,Ve.jsx)(Et,{sx:{width:40,height:40,bgcolor:r.bgColor,borderRadius:1,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,Ve.jsx)(Ds,{fontSize:"small"})})}),(0,Ve.jsx)(th,{children:r.title}),(0,Ve.jsx)(th,{children:r.content}),(0,Ve.jsx)(th,{children:r.activo?"Activo":"Inactivo"}),(0,Ve.jsxs)(th,{align:"center",children:[(0,Ve.jsx)(Ir,{color:"primary",onClick:()=>(e=>{f({...e}),p(!0),d(!0)})(r),size:"small",children:(0,Ve.jsx)(yC,{fontSize:"small"})}),(0,Ve.jsx)(Ir,{color:"error",onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1 seguro de que desea eliminar este slide?"))try{n(!0);const r=localStorage.getItem("token");console.log("Eliminando slide con ID:",e),await ed.delete(`/api/carousel/slides/${e}`,{headers:{Authorization:`Bearer ${r}`}}),t((t=>t.filter((t=>t.id!==e)))),l("Slide eliminado correctamente"),n(!1)}catch(r){console.error("Error al eliminar el slide:",r),i("Error al eliminar el slide. Intente nuevamente."),n(!1)}})(r.id),size:"small",children:(0,Ve.jsx)(NE,{fontSize:"small"})})]})]},r.id)))})]})})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:5,children:(0,Ve.jsxs)($t,{sx:{p:2,mb:3},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,Ve.jsx)($r,{variant:"h6",children:"Panel Informativo"}),v?(0,Ve.jsxs)(Et,{children:[(0,Ve.jsx)(fs,{variant:"outlined",color:"inherit",onClick:()=>x(!1),sx:{mr:1},children:"Cancelar"}),(0,Ve.jsx)(fs,{variant:"contained",color:"primary",onClick:async()=>{try{if(!m.title||!m.content||!m.notaImportante)return void i("Todos los campos del panel informativo son obligatorios");n(!0);const e=localStorage.getItem("token");console.log("Guardando panel informativo:",m);const t=await ed.put("/api/carousel/info-panel",m,{headers:{Authorization:`Bearer ${e}`}});g(t.data),l("Informaci\xf3n actualizada correctamente"),x(!1),n(!1)}catch(e){console.error("Error al actualizar panel informativo:",e),i("Error al actualizar la informaci\xf3n. Intente nuevamente."),n(!1)}},children:"Guardar"})]}):(0,Ve.jsx)(fs,{variant:"outlined",startIcon:(0,Ve.jsx)(yC,{}),onClick:()=>x(!0),children:"Editar"})]}),v?(0,Ve.jsxs)(Et,{children:[(0,Ve.jsx)(jp,{fullWidth:!0,label:"T\xedtulo",name:"title",value:m.title,onChange:E,margin:"normal",required:!0,error:!m.title,helperText:m.title?"":"El t\xedtulo es obligatorio"}),(0,Ve.jsx)(jp,{fullWidth:!0,label:"Contenido principal",name:"content",value:m.content,onChange:E,margin:"normal",multiline:!0,rows:4,required:!0,error:!m.content,helperText:m.content?"":"El contenido es obligatorio"}),(0,Ve.jsx)(jp,{fullWidth:!0,label:"Nota importante",name:"notaImportante",value:m.notaImportante,onChange:E,margin:"normal",required:!0,error:!m.notaImportante,helperText:m.notaImportante?"":"La nota importante es obligatoria"})]}):(0,Ve.jsxs)(Et,{children:[(0,Ve.jsx)($r,{variant:"subtitle1",gutterBottom:!0,children:m.title}),(0,Ve.jsx)($r,{variant:"body1",paragraph:!0,sx:{minHeight:"30vh",fontSize:"1.1rem",overflow:"auto"},children:m.content}),(0,Ve.jsx)($r,{variant:"body2",color:"error.main",paragraph:!0,children:m.notaImportante})]})]})})]}),(0,Ve.jsxs)($t,{sx:{p:2,mb:3},children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,children:"Vista previa"}),0===e.length?(0,Ve.jsx)(Ah,{severity:"info",children:"No hay slides para mostrar en la vista previa."}):(0,Ve.jsxs)($h,{container:!0,spacing:2,children:[(0,Ve.jsx)($h,{item:!0,xs:12,md:4,children:(0,Ve.jsxs)(jk,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,Ve.jsxs)(Ak,{sx:{flexGrow:1},children:[(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",mb:2},children:(0,Ve.jsx)(js,{fontSize:"large",color:"primary"})}),(0,Ve.jsx)($r,{variant:"h5",component:"div",align:"center",children:"Operaciones de Caja"}),(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",align:"center",children:"Registrar ingresos, egresos y movimientos"}),(0,Ve.jsxs)(Et,{sx:{mt:3},children:[(0,Ve.jsx)($r,{variant:"body1",paragraph:!0,children:"Desde aqu\xed podr\xe1s:"}),(0,Ve.jsxs)("ul",{children:[(0,Ve.jsx)("li",{children:"Registrar ingresos de efectivo"}),(0,Ve.jsx)("li",{children:"Procesar pagos de servicios"}),(0,Ve.jsx)("li",{children:"Realizar cierres de caja"}),(0,Ve.jsx)("li",{children:"Consultar movimientos"})]})]})]}),(0,Ve.jsx)(sI,{children:(0,Ve.jsx)(fs,{fullWidth:!0,variant:"contained",color:"primary",endIcon:(0,Ve.jsx)(RX,{}),children:"Acceder"})})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:4,children:(0,Ve.jsxs)(Et,{sx:{position:"relative",height:375,margin:0,padding:0},children:[(0,Ve.jsx)($t,{elevation:3,sx:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",bgcolor:e[b].bgColor,textAlign:"center",overflow:"hidden"},children:e[b].imageUrl?(0,Ve.jsx)(Et,{component:"img",src:e[b].imageUrl,alt:e[b].title,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",margin:0,padding:0}}):(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,Ve.jsx)(Ds,{sx:{fontSize:60,opacity:.5}})})}),(0,Ve.jsx)(Ir,{onClick:()=>{y((t=>(t-1+e.length)%e.length))},size:"small",sx:{position:"absolute",left:8,top:"50%",transform:"translateY(-50%)",bgcolor:"rgba(255, 255, 255, 0.7)",zIndex:2,"&:hover":{bgcolor:"rgba(255, 255, 255, 0.9)"}},children:(0,Ve.jsx)(xC,{style:{transform:"rotate(-90deg)"}})}),(0,Ve.jsx)(Ir,{onClick:()=>{y((t=>(t+1)%e.length))},size:"small",sx:{position:"absolute",right:8,top:"50%",transform:"translateY(-50%)",bgcolor:"rgba(255, 255, 255, 0.7)",zIndex:2,"&:hover":{bgcolor:"rgba(255, 255, 255, 0.9)"}},children:(0,Ve.jsx)(xC,{style:{transform:"rotate(90deg)"}})}),(0,Ve.jsx)(Et,{sx:{position:"absolute",bottom:16,left:0,right:0,display:"flex",justifyContent:"center",zIndex:2},children:e.map(((e,t)=>(0,Ve.jsx)(Et,{sx:{width:8,height:8,borderRadius:"50%",mx:.5,bgcolor:t===b?"primary.main":"rgba(255, 255, 255, 0.7)",cursor:"pointer"},onClick:()=>y(t)},t)))})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:4,children:(0,Ve.jsx)(jk,{sx:{height:"100%"},children:(0,Ve.jsxs)(Ak,{children:[(0,Ve.jsx)($r,{variant:"h5",component:"div",align:"center",gutterBottom:!0,children:m.title}),(0,Ve.jsx)($r,{variant:"body1",paragraph:!0,sx:{minHeight:"30vh",fontSize:"1.1rem",overflow:"auto"},children:m.content}),(0,Ve.jsx)($r,{variant:"body1",paragraph:!0,sx:{color:"error.main"},children:m.notaImportante})]})})})]})]}),(0,Ve.jsxs)(Fi,{open:c,onClose:()=>d(!1),maxWidth:"md",fullWidth:!0,children:[(0,Ve.jsx)(Gi,{children:u?"Editar Slide":"Nuevo Slide"}),(0,Ve.jsx)(Ki,{children:(0,Ve.jsxs)(Et,{sx:{pt:1},children:[(0,Ve.jsx)(jp,{fullWidth:!0,label:"T\xedtulo",name:"title",value:h.title,onChange:P,margin:"normal",required:!0,error:""===h.title.trim(),helperText:""===h.title.trim()?"El t\xedtulo es obligatorio":""}),(0,Ve.jsx)(jp,{fullWidth:!0,label:"Contenido",name:"content",value:h.content,onChange:P,margin:"normal",multiline:!0,rows:3,required:!0,error:""===h.content.trim(),helperText:""===h.content.trim()?"El contenido es obligatorio":""}),(0,Ve.jsx)(jp,{fullWidth:!0,label:"Color de fondo (c\xf3digo hexadecimal)",name:"bgColor",value:h.bgColor,onChange:P,margin:"normal",InputProps:{startAdornment:(0,Ve.jsx)(Et,{sx:{width:24,height:24,bgcolor:h.bgColor,borderRadius:1,border:"1px solid rgba(0,0,0,0.1)",mr:1}})}}),(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center",mt:2},children:[(0,Ve.jsxs)(fs,{variant:"outlined",component:"label",startIcon:(0,Ve.jsx)(Ds,{}),disabled:j,children:[j?"Subiendo...":"Subir Imagen",(0,Ve.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:async e=>{var t;const r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(r)try{w(!0);const e=new FormData;e.append("image",r);const t=localStorage.getItem("token"),n=await ed.post("/api/carousel/uploads",e,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${t}`}});console.log("Imagen subida correctamente:",n.data),f((e=>({...e,imageUrl:n.data.url}))),w(!1)}catch(n){console.error("Error al subir la imagen:",n),i("Error al subir la imagen. Intente nuevamente."),w(!1);const e=new FileReader;e.onload=()=>{f((t=>({...t,imageUrl:e.result})))},e.readAsDataURL(r)}},disabled:j})]}),j&&(0,Ve.jsx)(KS,{size:24,sx:{ml:2}}),h.imageUrl&&(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center",ml:2},children:[(0,Ve.jsx)(Et,{component:"img",src:h.imageUrl,alt:"Vista previa",sx:{width:60,height:60,objectFit:"cover",borderRadius:1,mr:1}}),(0,Ve.jsx)(Ir,{size:"small",color:"error",onClick:()=>f((e=>({...e,imageUrl:""}))),children:(0,Ve.jsx)(NE,{})})]})]}),(0,Ve.jsx)(Ii,{sx:{my:2}}),(0,Ve.jsx)($r,{variant:"subtitle1",gutterBottom:!0,children:"Vista previa"}),(0,Ve.jsx)(Et,{sx:{position:"relative",height:250,bgcolor:h.bgColor,borderRadius:1,overflow:"hidden"},children:h.imageUrl?(0,Ve.jsx)(Et,{component:"img",src:h.imageUrl,alt:"Vista previa",sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",margin:0,padding:0}}):(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",bgcolor:h.bgColor},children:(0,Ve.jsx)(Ds,{sx:{fontSize:60,opacity:.5}})})})]})}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:()=>d(!1),color:"inherit",children:"Cancelar"}),(0,Ve.jsx)(fs,{onClick:async()=>{try{if(""===h.title.trim()||""===h.content.trim())return void i("El t\xedtulo y el contenido son obligatorios");d(!1),n(!0);const e=localStorage.getItem("token");if(u)console.log("Actualizando slide existente:",h),await ed.put(`/api/carousel/slides/${h.id}`,h,{headers:{Authorization:`Bearer ${e}`}}),t((e=>e.map((e=>e.id===h.id?h:e)))),l("Slide actualizado correctamente");else{console.log("Creando nuevo slide:",h);const r=(await ed.post("/api/carousel/slides",h,{headers:{Authorization:`Bearer ${e}`}})).data;t((e=>[...e,r])),l("Nuevo slide creado correctamente")}n(!1),O()}catch(e){console.error("Error al guardar el slide:",e),i("Error al guardar los datos. Intente nuevamente."),n(!1)}},variant:"contained",color:"primary",disabled:""===h.title.trim()||""===h.content.trim()||j,children:"Guardar"})]})]}),(0,Ve.jsx)(tf,{open:null!==s,autoHideDuration:4e3,onClose:()=>l(null),anchorOrigin:{vertical:"bottom",horizontal:"right"},children:(0,Ve.jsx)(Ah,{onClose:()=>l(null),severity:"success",children:s})}),(0,Ve.jsx)(tf,{open:null!==o&&!r,autoHideDuration:4e3,onClose:()=>i(null),anchorOrigin:{vertical:"bottom",horizontal:"right"},children:(0,Ve.jsx)(Ah,{onClose:()=>i(null),severity:"error",children:o})})]})},HX="http://localhost:3000/api",qX={getSueldosMinimos:async()=>(await ed.get(`${HX}/sueldos-minimos`)).data,getSueldoMinimoVigente:async()=>(await ed.get(`${HX}/sueldos-minimos/vigente`)).data,createSueldoMinimo:async e=>(await ed.post(`${HX}/sueldos-minimos`,e)).data},YX=()=>{const{hasPermission:e}=eC(),[t,r]=(0,a.useState)([]),[n,o]=(0,a.useState)(!1),[i,s]=(0,a.useState)(null),[l,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(!1),[p,h]=(0,a.useState)({valor:0}),[f,m]=(0,a.useState)("");(0,a.useEffect)((()=>{g()}),[]);const g=async()=>{o(!0),s(null);try{const e=await qX.getSueldosMinimos();r(e)}catch(i){var e,t;console.error("Error al cargar sueldos m\xednimos:",i),s((null===(e=i.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Error al cargar los sueldos m\xednimos")}finally{o(!1)}},v=e=>{try{return uy(new Date(e),"dd 'de' MMMM 'de' yyyy, HH:mm",{locale:Cw})}catch(i){return e}};return(0,Ve.jsxs)(Et,{sx:{p:3},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,Ve.jsx)($r,{variant:"h4",component:"h1",children:"Sueldo M\xednimo"}),e("CONFIGURACION","SUELDO_MINIMO")&&(0,Ve.jsx)(fs,{variant:"contained",color:"primary",startIcon:(0,Ve.jsx)(XS,{}),onClick:()=>u(!0),children:"Nuevo Sueldo M\xednimo"})]}),i&&(0,Ve.jsx)(Ah,{severity:"error",sx:{mb:2},children:i}),(0,Ve.jsx)(tf,{open:!!l,autoHideDuration:6e3,onClose:()=>c(null),anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,Ve.jsx)(Ah,{onClose:()=>c(null),severity:"success",children:l})}),n?(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",my:4},children:(0,Ve.jsx)(KS,{})}):(0,Ve.jsx)(Dp,{component:$t,children:(0,Ve.jsxs)(zp,{children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{sx:{backgroundColor:"primary.main"},children:[(0,Ve.jsx)(th,{sx:{color:"white"},children:"Fecha"}),(0,Ve.jsx)(th,{sx:{color:"white"},children:"Valor"}),(0,Ve.jsx)(th,{sx:{color:"white"},children:"Estado"}),(0,Ve.jsx)(th,{sx:{color:"white"},children:"Usuario"})]})}),(0,Ve.jsx)(sh,{children:t.length>0?t.map((e=>{var t;return(0,Ve.jsxs)(Xp,{sx:{backgroundColor:e.vigente?"rgba(76, 175, 80, 0.1)":"inherit"},children:[(0,Ve.jsx)(th,{children:v(e.fecha)}),(0,Ve.jsx)(th,{children:nC.guaranies(e.valor)}),(0,Ve.jsx)(th,{children:e.vigente?(0,Ve.jsx)($r,{variant:"body2",sx:{color:"success.main",fontWeight:"bold"},children:"VIGENTE"}):(0,Ve.jsx)($r,{variant:"body2",color:"textSecondary",children:"Hist\xf3rico"})}),(0,Ve.jsx)(th,{children:(null===(t=e.usuario)||void 0===t?void 0:t.nombre)||"Desconocido"})]},e.id)})):(0,Ve.jsx)(Xp,{children:(0,Ve.jsx)(th,{colSpan:4,align:"center",children:"No hay registros de sueldo m\xednimo"})})})]})}),(0,Ve.jsxs)(Fi,{open:d,onClose:()=>u(!1),maxWidth:"sm",fullWidth:!0,children:[(0,Ve.jsx)(Gi,{children:"Nuevo Sueldo M\xednimo"}),(0,Ve.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),p.valor<=0)m("El valor debe ser mayor que 0");else{o(!0),s(null);try{await qX.createSueldoMinimo(p),c("Sueldo m\xednimo registrado correctamente"),u(!1),g(),h({valor:0})}catch(i){var t,r;console.error("Error al registrar sueldo m\xednimo:",i),s((null===(t=i.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||"Error al registrar el sueldo m\xednimo")}finally{o(!1)}}},children:[(0,Ve.jsx)(Ki,{children:(0,Ve.jsx)(jp,{name:"valor",label:"Valor del Sueldo M\xednimo (G$)",fullWidth:!0,margin:"normal",variant:"outlined",type:"number",inputProps:{min:0,step:"0.01"},value:p.valor,onChange:e=>{const t=parseFloat(e.target.value)||0;h({valor:t}),m(t<=0?"El valor debe ser mayor que 0":"")},onFocus:e=>{e.target.select()},error:!!f,helperText:f,required:!0})}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:()=>u(!1),color:"inherit",children:"Cancelar"}),(0,Ve.jsx)(fs,{type:"submit",color:"primary",variant:"contained",disabled:n||p.valor<=0,children:n?(0,Ve.jsx)(KS,{size:24}):"Guardar"})]})]})]})]})};function KX(e){return(0,Mt.Ay)("MuiAlertTitle",e)}(0,St.A)("MuiAlertTitle",["root"]);const XX=["className"],QX=(0,Ot.Ay)($r,{name:"MuiAlertTitle",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{fontWeight:t.typography.fontWeightMedium,marginTop:-2}})),JX=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiAlertTitle"}),{className:n}=r,o=(0,Fe.A)(r,XX),a=r,i=(e=>{const{classes:t}=e;return(0,kt.A)({root:["root"]},KX,t)})(a);return(0,Ve.jsx)(QX,(0,Be.A)({gutterBottom:!0,component:"div",ownerState:a,ref:t,className:(0,vt.A)(i.root,n)},o))})),ZX=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)({}),[o,i]=(0,a.useState)((new Date).getMonth()+1),[s,l]=(0,a.useState)((new Date).getFullYear()),[c,d]=(0,a.useState)(!1),[u,p]=(0,a.useState)({open:!1,message:"",severity:"success"}),h=(0,a.useRef)({}),f=[{value:1,label:"Enero"},{value:2,label:"Febrero"},{value:3,label:"Marzo"},{value:4,label:"Abril"},{value:5,label:"Mayo"},{value:6,label:"Junio"},{value:7,label:"Julio"},{value:8,label:"Agosto"},{value:9,label:"Septiembre"},{value:10,label:"Octubre"},{value:11,label:"Noviembre"},{value:12,label:"Diciembre"}],m=Array.from({length:5},((e,t)=>(new Date).getFullYear()-2+t));(0,a.useEffect)((()=>{g()}),[]),(0,a.useEffect)((()=>{v()}),[o,s]);const g=async()=>{d(!0);try{const e=await ed.get("/api/personas/funcionarios");if(!(e.data&&Array.isArray(e.data)&&e.data.length>0))throw new Error("No se encontraron funcionarios");{t(e.data);const r={};e.data.forEach((e=>{r[e.id]=""})),n(r)}}catch(e){console.error("Error al cargar las personas:",e),p({open:!0,message:"Error al cargar la lista de funcionarios. Usando datos de ejemplo.",severity:"error"})}finally{d(!1)}},v=async()=>{if(0!==e.length){d(!0);try{const e=await ed.get(`/api/sueldos/${s}/${o}`);if(e.data&&Array.isArray(e.data)){const t={};e.data.forEach((e=>{t[e.personaId]=x(e.monto)})),n((e=>({...e,...t})))}}catch(r){var t;console.error("Error al cargar los sueldos:",r),p({open:!0,message:`No hay datos de sueldos para ${null===(t=f.find((e=>e.value===o)))||void 0===t?void 0:t.label} ${s}`,severity:"info"})}finally{d(!1)}}},x=e=>e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."),b=e=>{e.target.select()},y=()=>{p({...u,open:!1})};return(0,Ve.jsxs)(Et,{sx:{p:2},children:[(0,Ve.jsxs)($t,{elevation:3,sx:{p:3,mb:3},children:[(0,Ve.jsx)($r,{variant:"h5",component:"h1",gutterBottom:!0,children:"Carga de Sueldos"}),0===e.length&&!c&&(0,Ve.jsxs)(Ah,{severity:"warning",sx:{mb:3},children:[(0,Ve.jsx)(JX,{children:"No hay funcionarios"}),"No se encontraron funcionarios registrados en el sistema."]}),(0,Ve.jsxs)(Et,{sx:{display:"flex",gap:2,mb:3},children:[(0,Ve.jsxs)(lu,{sx:{minWidth:150},children:[(0,Ve.jsx)(ou,{id:"mes-select-label",children:"Mes"}),(0,Ve.jsx)(gp,{labelId:"mes-select-label",id:"mes-select",value:o,label:"Mes",onChange:e=>i(e.target.value),children:f.map((e=>(0,Ve.jsx)(_h,{value:e.value,children:e.label},e.value)))})]}),(0,Ve.jsxs)(lu,{sx:{minWidth:120},children:[(0,Ve.jsx)(ou,{id:"anio-select-label",children:"A\xf1o"}),(0,Ve.jsx)(gp,{labelId:"anio-select-label",id:"anio-select",value:s,label:"A\xf1o",onChange:e=>l(e.target.value),children:m.map((e=>(0,Ve.jsx)(_h,{value:e,children:e},e)))})]}),(0,Ve.jsx)(fs,{variant:"contained",color:"primary",startIcon:(0,Ve.jsx)(VX,{}),onClick:v,disabled:c||0===e.length,children:"Actualizar"}),(0,Ve.jsx)(fs,{variant:"contained",color:"success",startIcon:(0,Ve.jsx)(GE,{}),onClick:async()=>{d(!0);try{const e=Object.entries(r).filter((e=>{let[t,r]=e;return""!==r.trim()})).map((e=>{let[t,r]=e;return{personaId:parseInt(t),monto:parseFloat(r.replace(/\./g,"")),mes:o,anio:s}}));if(0===e.length)return p({open:!0,message:"No hay sueldos para guardar",severity:"warning"}),void d(!1);await ed.post("/api/sueldos/guardar",e),p({open:!0,message:"Sueldos guardados correctamente",severity:"success"})}catch(e){console.error("Error al guardar los sueldos:",e),p({open:!0,message:"Error al guardar los sueldos",severity:"error"})}finally{d(!1)}},disabled:c||0===e.length,sx:{ml:"auto"},children:"Guardar"})]}),c?(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",p:3},children:(0,Ve.jsx)(KS,{})}):e.length>0&&(0,Ve.jsx)(Dp,{component:$t,sx:{maxHeight:"calc(100vh - 300px)"},children:(0,Ve.jsxs)(zp,{stickyHeader:!0,size:"small",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{width:"5%",children:"ID"}),(0,Ve.jsx)(th,{width:"40%",children:"Nombre"}),(0,Ve.jsx)(th,{width:"30%",children:"Documento"}),(0,Ve.jsx)(th,{width:"25%",children:"Sueldo (Gs.)"})]})}),(0,Ve.jsx)(sh,{children:e.map(((t,o)=>(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:t.id}),(0,Ve.jsx)(th,{children:t.nombreCompleto}),(0,Ve.jsx)(th,{children:t.documento}),(0,Ve.jsx)(th,{children:(0,Ve.jsx)(jp,{variant:"outlined",size:"small",fullWidth:!0,value:r[t.id]||"",onChange:e=>((e,t)=>{let r=t.replace(/[^\d]/g,"");const o=x(parseInt(r||"0"));n((t=>({...t,[e]:o})))})(t.id,e.target.value),onKeyDown:t=>((t,r)=>{if("Enter"===t.key){t.preventDefault();const n=r+1;if(n<e.length&&h.current[e[n].id]){const t=h.current[e[n].id];null===t||void 0===t||t.focus()}else if(n>=e.length&&e.length>0&&h.current[e[0].id]){const t=h.current[e[0].id];null===t||void 0===t||t.focus()}}})(t,o),onFocus:b,inputRef:e=>h.current[t.id]=e,InputProps:{inputProps:{style:{textAlign:"right"}}}})})]},t.id)))})]})})]}),(0,Ve.jsx)(tf,{open:u.open,autoHideDuration:6e3,onClose:y,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,Ve.jsx)(Ah,{onClose:y,severity:u.severity,sx:{width:"100%"},children:u.message})})]})};function eQ(e){return(0,Mt.Ay)("MuiSwitch",e)}const tQ=(0,St.A)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),rQ=["className","color","edge","size","sx"],nQ=(0,Ot.Ay)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.edge&&t[`edge${(0,Pt.A)(r.edge)}`],t[`size${(0,Pt.A)(r.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${tQ.thumb}`]:{width:16,height:16},[`& .${tQ.switchBase}`]:{padding:4,[`&.${tQ.checked}`]:{transform:"translateX(16px)"}}}}]}),oQ=(0,Ot.Ay)(mS,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.switchBase,{[`& .${tQ.input}`]:t.input},"default"!==r.color&&t[`color${(0,Pt.A)(r.color)}`]]}})((e=>{let{theme:t}=e;return{position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${"light"===t.palette.mode?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${tQ.checked}`]:{transform:"translateX(20px)"},[`&.${tQ.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${"light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${tQ.checked} + .${tQ.track}`]:{opacity:.5},[`&.${tQ.disabled} + .${tQ.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:""+("light"===t.palette.mode?.12:.2)},[`& .${tQ.input}`]:{left:"-100%",width:"300%"}}}),(e=>{let{theme:t}=e;return{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,It.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[r]=e;return{props:{color:r},style:{[`&.${tQ.checked}`]:{color:(t.vars||t).palette[r].main,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,It.X4)(t.palette[r].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${tQ.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${r}DisabledColor`]:`${"light"===t.palette.mode?(0,It.a)(t.palette[r].main,.62):(0,It.e$)(t.palette[r].main,.55)}`}},[`&.${tQ.checked} + .${tQ.track}`]:{backgroundColor:(t.vars||t).palette[r].main}}}}))]}})),aQ=(0,Ot.Ay)("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})((e=>{let{theme:t}=e;return{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${"light"===t.palette.mode?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:""+("light"===t.palette.mode?.38:.3)}})),iQ=(0,Ot.Ay)("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})((e=>{let{theme:t}=e;return{boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}})),sQ=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiSwitch"}),{className:n,color:o="primary",edge:a=!1,size:i="medium",sx:s}=r,l=(0,Fe.A)(r,rQ),c=(0,Be.A)({},r,{color:o,edge:a,size:i}),d=(e=>{const{classes:t,edge:r,size:n,color:o,checked:a,disabled:i}=e,s={root:["root",r&&`edge${(0,Pt.A)(r)}`,`size${(0,Pt.A)(n)}`],switchBase:["switchBase",`color${(0,Pt.A)(o)}`,a&&"checked",i&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=(0,kt.A)(s,eQ,t);return(0,Be.A)({},t,l)})(c),u=(0,Ve.jsx)(iQ,{className:d.thumb,ownerState:c});return(0,Ve.jsxs)(nQ,{className:(0,vt.A)(d.root,n),sx:s,ownerState:c,children:[(0,Ve.jsx)(oQ,(0,Be.A)({type:"checkbox",icon:u,checkedIcon:u,ref:t,ownerState:c},l,{classes:(0,Be.A)({},d,{root:d.switchBase})})),(0,Ve.jsx)(aQ,{className:d.track,ownerState:c})]})}));function lQ(e){return(0,Mt.Ay)("MuiFab",e)}const cQ=(0,St.A)("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),dQ=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],uQ=(0,Ot.Ay)(Ar,{name:"MuiFab",slot:"Root",shouldForwardProp:e=>(0,Ia.A)(e)||"classes"===e,overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`size${(0,Pt.A)(r.size)}`],"inherit"===r.color&&t.colorInherit,t[(0,Pt.A)(r.size)],t[r.color]]}})((e=>{let{theme:t,ownerState:r}=e;var n,o;return(0,Be.A)({},t.typography.button,{minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.text.primary:null==(n=(o=t.palette).getContrastText)?void 0:n.call(o,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},[`&.${cQ.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]}},"small"===r.size&&{width:40,height:40},"medium"===r.size&&{width:48,height:48},"extended"===r.variant&&{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},"extended"===r.variant&&"small"===r.size&&{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"extended"===r.variant&&"medium"===r.size&&{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40},"inherit"===r.color&&{color:"inherit"})}),(e=>{let{theme:t,ownerState:r}=e;return(0,Be.A)({},"inherit"!==r.color&&"default"!==r.color&&null!=(t.vars||t).palette[r.color]&&{color:(t.vars||t).palette[r.color].contrastText,backgroundColor:(t.vars||t).palette[r.color].main,"&:hover":{backgroundColor:(t.vars||t).palette[r.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[r.color].main}}})}),(e=>{let{theme:t}=e;return{[`&.${cQ.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}})),pQ=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiFab"}),{children:n,className:o,color:a="default",component:i="button",disabled:s=!1,disableFocusRipple:l=!1,focusVisibleClassName:c,size:d="large",variant:u="circular"}=r,p=(0,Fe.A)(r,dQ),h=(0,Be.A)({},r,{color:a,component:i,disabled:s,disableFocusRipple:l,size:d,variant:u}),f=(e=>{const{color:t,variant:r,classes:n,size:o}=e,a={root:["root",r,`size${(0,Pt.A)(o)}`,"inherit"===t?"colorInherit":t]},i=(0,kt.A)(a,lQ,n);return(0,Be.A)({},n,i)})(h);return(0,Ve.jsx)(uQ,(0,Be.A)({className:(0,vt.A)(f.root,o),component:i,disabled:s,focusRipple:!l,focusVisibleClassName:(0,vt.A)(f.focusVisible,c),ownerState:h,ref:t},p,{classes:f,children:n}))}));var hQ=r(3709),fQ=r(3253);const mQ=e=>{if(isNaN(e))return console.error("formatGuaranies recibi\xf3 un valor NaN:",e),"0";const t=Math.round(e);return new Intl.NumberFormat("es-PY").format(t)},gQ=(e,t)=>{if(isNaN(e))return console.error("formatMonto recibi\xf3 un valor NaN:",e),"0";const r=Math.round(e);switch(t){case"GS":default:return mQ(r);case"USD":case"BRL":return new Intl.NumberFormat("es-PY",{minimumFractionDigits:2,maximumFractionDigits:2}).format(r)}};function vQ(e){switch(e){case 1:return"UN";case 2:return"DOS";case 3:return"TRES";case 4:return"CUATRO";case 5:return"CINCO";case 6:return"SEIS";case 7:return"SIETE";case 8:return"OCHO";case 9:return"NUEVE";default:return""}}function xQ(e){const t=e%10;switch(Math.floor(e/10)){case 1:switch(t){case 0:return"DIEZ";case 1:return"ONCE";case 2:return"DOCE";case 3:return"TRECE";case 4:return"CATORCE";case 5:return"QUINCE";default:return"DIECI"+vQ(t)}case 2:return 0===t?"VEINTE":"VEINTI"+(1===t?"UNO":vQ(t));case 3:return bQ("TREINTA",t);case 4:return bQ("CUARENTA",t);case 5:return bQ("CINCUENTA",t);case 6:return bQ("SESENTA",t);case 7:return bQ("SETENTA",t);case 8:return bQ("OCHENTA",t);case 9:return bQ("NOVENTA",t);case 0:return vQ(t);default:return""}}function bQ(e,t){return t>0?e+" Y "+(1===t?"UNO":vQ(t)):e}function yQ(e){const t=e%100;switch(Math.floor(e/100)){case 1:return t>0?"CIENTO "+xQ(t):"CIEN";case 2:return"DOSCIENTOS "+xQ(t);case 3:return"TRESCIENTOS "+xQ(t);case 4:return"CUATROCIENTOS "+xQ(t);case 5:return"QUINIENTOS "+xQ(t);case 6:return"SEISCIENTOS "+xQ(t);case 7:return"SETECIENTOS "+xQ(t);case 8:return"OCHOCIENTOS "+xQ(t);case 9:return"NOVECIENTOS "+xQ(t);default:return xQ(t)}}function jQ(e,t,r,n){const o=Math.floor(e/t),a=e%t;let i="";return o>0&&(i=1===o?r.startsWith("UN")?r:"UN "+r:yQ(o)+" "+n),""!==i&&a>0&&(i+=" "),i}function wQ(e){const t=1e6,r=(Math.floor(e/t),e%t),n=jQ(e,t,"MILLON","MILLONES"),o=function(e){const t=1e3,r=(Math.floor(e/t),e%t),n=jQ(e,t,"MIL","MIL"),o=yQ(r);return""===n?o:(n+(""!==o?" "+o:"")).trim()}(r);if(""===n)return o;const a=n.endsWith("MILLONES")?" DE":"";return(n+a+(""!==o?" "+o:"")).trim()}function SQ(e,t){if(null===e||void 0===e||isNaN(e))return console.error("N\xfamero inv\xe1lido para convertir a letras:",e),"";const r=e<0,n={numero:e=Math.abs(e),enteros:Math.floor(e),centavos:Math.round(100*(e-Math.floor(e))),letrasCentavos:"",letrasMonedaPlural:"",letrasMonedaSingular:"",letrasMonedaCentavoPlural:"",letrasMonedaCentavoSingular:""};switch(t){case"GS":case"PYG":n.letrasMonedaPlural="GUARANIES",n.letrasMonedaSingular="GUARANI";break;case"USD":n.letrasMonedaPlural="DOLARES AMERICANOS",n.letrasMonedaSingular="DOLAR AMERICANO",n.letrasMonedaCentavoPlural="CENTAVOS",n.letrasMonedaCentavoSingular="CENTAVO";break;case"BRL":n.letrasMonedaPlural="REALES BRASILE\xd1OS",n.letrasMonedaSingular="REAL BRASILE\xd1O",n.letrasMonedaCentavoPlural="CENTAVOS",n.letrasMonedaCentavoSingular="CENTAVO";break;default:n.letrasMonedaPlural="",n.letrasMonedaSingular=""}if(n.centavos>0&&"GS"!==t&&"PYG"!==t){const e=(n.centavos,wQ(n.centavos)),t=1===n.centavos?n.letrasMonedaCentavoSingular:n.letrasMonedaCentavoPlural;n.letrasCentavos="CON "+e+" "+t}let o="";o=0===n.enteros?"CERO":wQ(n.enteros);let a=r?"MENOS ":"";if(a+=o,t){a+=" "+(1===n.enteros?n.letrasMonedaSingular:n.letrasMonedaPlural)}return n.letrasCentavos&&(a+=" "+n.letrasCentavos),a.replace(/\s+/g," ").trim().toUpperCase()}const CQ=()=>{var e,t;const r=(new Date).getFullYear(),n=(new Date).getMonth()+1,[o,i]=(0,a.useState)(r),[s,l]=(0,a.useState)(n),[c,d]=(0,a.useState)(null),[u,p]=(0,a.useState)([]),[h,f]=(0,a.useState)([]),[m,g]=(0,a.useState)(!1),[v,x]=(0,a.useState)(!1),[b,y]=(0,a.useState)(!1),[j,w]=(0,a.useState)(null),[S,C]=(0,a.useState)(!1),[A,E]=(0,a.useState)(null),[k,O]=(0,a.useState)(null),[P,I]=(0,a.useState)(!1),[D,M]=(0,a.useState)(null),[T,R]=(0,a.useState)([]),[N,$]=(0,a.useState)(0),[z,L]=(0,a.useState)(!1),[B,F]=(0,a.useState)(null),[_,U]=(0,a.useState)(""),[W,V]=(0,a.useState)(""),[G,H]=(0,a.useState)("GS"),[q,Y]=(0,a.useState)(""),[K,X]=(0,a.useState)(!0),[Q,J]=(0,a.useState)(!0),Z=(0,a.useRef)(null),ee=(0,a.useRef)(null),te=(0,a.useRef)(null),re=(0,a.useRef)(null),ne=(0,a.useRef)(null),oe=(0,a.useRef)(null),ae=(0,a.useRef)(null),ie=["Aguinaldo","Bonificacion","Horas extra","Jornales","Sueldo","Vacaciones"],se=["Adelanto","Compras","Descuento","IPS","Multa","Vale"],{user:le}=eC(),[ce,de]=(0,a.useState)(!1),[ue,pe]=(0,a.useState)(null),[he,fe]=(0,a.useState)(""),[me,ge]=(0,a.useState)(""),[ve,xe]=(0,a.useState)(""),[be,ye]=(0,a.useState)(!1),je=["Vale","Sueldo","IPS"],[we,Se]=(0,a.useState)(!1),[Ce,Ae]=(0,a.useState)(!1),[Ee,ke]=(0,a.useState)(!1),[Oe,Pe]=(0,a.useState)(null),[Ie,De]=(0,a.useState)("");(0,a.useEffect)((()=>{(async()=>{g(!0),E(null);try{const e=localStorage.getItem("token"),t=(await ed.get("/api/personas",{headers:{Authorization:`Bearer ${e}`}})).data.filter((e=>"Funcionario"===e.tipo||"Vip"===e.tipo));p(t)}catch(r){var e,t;console.error("Error al cargar las personas (funcionarios y VIP):",r);const n=(null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"No se pudo cargar la lista de personas.";E(n),p([])}finally{g(!1)}})(),Me()}),[]);const Me=async()=>{L(!0),F(null);try{console.log("[DEBUG] Intentando obtener sueldo m\xednimo usando sueldoMinimoService...");try{const e=await qX.getSueldoMinimoVigente();return console.log("[DEBUG] Sueldo m\xednimo vigente obtenido:",e),void $(e.valor)}catch(o){console.log("[DEBUG] No se pudo obtener el sueldo m\xednimo vigente, intentando obtener todos:",o)}const e=await qX.getSueldosMinimos();if(console.log("[DEBUG] Todos los sueldos m\xednimos obtenidos:",e),e&&e.length>0){const t=e.find((e=>e.vigente));if(t)console.log("[DEBUG] Se encontr\xf3 sueldo m\xednimo vigente:",t),$(t.valor);else{const t=[...e].sort(((e,t)=>new Date(t.fecha).getTime()-new Date(e.fecha).getTime()));if(t.length>0){const e=t[0];console.log("[DEBUG] Usando sueldo m\xednimo m\xe1s reciente:",e),$(e.valor)}else console.warn("[DEBUG] No se encontraron registros de sueldo m\xednimo"),$(0)}}else console.warn("[DEBUG] No se recibieron datos de sueldo m\xednimo"),$(0)}catch(a){var e,t,r,n;console.error("[DEBUG] Error al cargar el sueldo m\xednimo:",a),a.response?console.error("[DEBUG] Error de respuesta:",{status:a.response.status,headers:a.response.headers,data:a.response.data}):a.request?console.error("[DEBUG] Error de solicitud (no se recibi\xf3 respuesta):",a.request):console.error("[DEBUG] Error de configuraci\xf3n:",a.message);const o=(null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||(null===(r=a.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.error)||"No se pudo cargar el sueldo m\xednimo.";F(o)}finally{L(!1)}},Te=async()=>{if(c&&o&&s){x(!0),O(null);try{const e=localStorage.getItem("token"),t=await ed.get(`/api/rrhh/movimientos/${c.id}`,{params:{mes:s,anio:o},headers:{Authorization:`Bearer ${e}`}});console.log("[DEBUG-FRONTEND] Respuesta completa:",t.data);const{movimientos:r,mesFinalizado:n,resumen:a,cotizaciones:i}=t.data;f(r||[]),I(n||!1),M(a||null),R(i||[]),console.log("[DEBUG-FRONTEND] Mes finalizado:",n),console.log("[DEBUG-FRONTEND] Resumen:",a),console.log("[DEBUG-FRONTEND] Cotizaciones:",i)}catch(r){var e,t;console.error("Error al cargar movimientos:",r);const n=(null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"No se pudieron cargar los movimientos.";O(n),f([]),I(!1),M(null),R([])}finally{x(!1)}}else f([]),O(null),I(!1),M(null),R([])};(0,a.useEffect)((()=>{Te(),Re()}),[c,o,s]),(0,a.useEffect)((()=>{console.log("[DEBUG] El valor del sueldo m\xednimo ha cambiado:",N)}),[N]);const Re=async()=>{if(c&&o&&s)try{const e=localStorage.getItem("token"),t=await ed.get(`/api/rrhh/estado-mes/${c.id}`,{params:{mes:s,anio:o},headers:{Authorization:`Bearer ${e}`}});I(t.data.finalizado||!1)}catch(e){console.error("Error al verificar estado del mes:",e),I(!1)}else I(!1)},Ne=async()=>{if(!c||!_||!q||!W||!le)return void alert("Por favor, complete todos los campos requeridos y aseg\xfarese de estar autenticado.");y(!0),w(null),C(!1);let e=parseFloat(q)||0;se.includes(_)&&e>0&&(e=-e),ie.includes(_)&&e<0&&(e=Math.abs(e));const t={personaId:c.id,mes:s,anio:o,tipo:_,observacion:W,moneda:G,monto:e};console.log("Enviando movimiento:",t);try{var r;const e=localStorage.getItem("token");console.log("[DEBUG] Token disponible:",e?"S\xed":"No"),console.log("[DEBUG] Usuario actual:",le);const n={Authorization:`Bearer ${e}`,"Content-Type":"application/json"};console.log("[DEBUG] Cabeceras a enviar:",n);const o=await ed.post("/api/rrhh/movimientos",t,{headers:n});console.log("Movimiento guardado:",o.data),C(!0),U(""),V(""),Y(""),Te(),null===(r=re.current)||void 0===r||r.focus(),setTimeout((()=>C(!1)),3e3)}catch(i){var n,a;console.error("Error al guardar movimiento:",i),i.response?console.error("[DEBUG] Error de respuesta:",{status:i.response.status,data:i.response.data,headers:i.response.headers}):i.request?console.error("[DEBUG] Error de solicitud (sin respuesta):",i.request):console.error("[DEBUG] Error general:",i.message);const e=(null===(n=i.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)||"Error al conectar con el servidor.";w(e),setTimeout((()=>w(null)),5e3)}finally{y(!1)}},$e=Array.from({length:5},((e,t)=>r-t)),ze=[{value:1,label:"Enero"},{value:2,label:"Febrero"},{value:3,label:"Marzo"},{value:4,label:"Abril"},{value:5,label:"Mayo"},{value:6,label:"Junio"},{value:7,label:"Julio"},{value:8,label:"Agosto"},{value:9,label:"Septiembre"},{value:10,label:"Octubre"},{value:11,label:"Noviembre"},{value:12,label:"Diciembre"}],Le=()=>{const e={};return h.filter((e=>(K||"Vale"!==e.tipo)&&(Q||"Sueldo"!==e.tipo))).forEach((t=>{let r=t.moneda||"GS";"PYG"===r&&(r="GS");let n=parseFloat(t.monto)||0;"Vale"===t.tipo&&n>0&&(n=-n),e[r]||(e[r]=0),e[r]+=n})),e},Be=()=>{de(!1),pe(null)},Fe=async e=>{if(c&&le)try{const t=localStorage.getItem("token");if(!t)return void console.error("Error al eliminar movimiento: Token no disponible");const r=await ed.delete(`/api/rrhh/movimientos/${e}`,{headers:{Authorization:`Bearer ${t}`}});console.log("Movimiento eliminado:",r.data),Te()}catch(n){var t,r;console.error("Error al eliminar movimiento:",n);const e=(null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Error al conectar con el servidor.";w(e),setTimeout((()=>w(null)),5e3)}else console.error("Error al eliminar movimiento: Persona o usuario no seleccionados")};return(0,Ve.jsxs)(Et,{sx:{p:2},children:[(0,Ve.jsx)(pt,{styles:{"*::-webkit-scrollbar":{width:"12px",height:"12px"},"*::-webkit-scrollbar-track":{backgroundColor:"#121212"},"*::-webkit-scrollbar-thumb":{backgroundColor:"#333",borderRadius:"6px","&:hover":{backgroundColor:"#444"}},html:{scrollbarColor:"#333 #121212",scrollbarWidth:"thin"},body:{scrollbarColor:"#333 #121212",scrollbarWidth:"thin"}}}),(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,Ve.jsx)($r,{variant:"h5",children:"Resumen Mensual RRHH"}),S&&(0,Ve.jsx)(Ah,{severity:"success",sx:{ml:2,py:0,flexGrow:1,"& .MuiAlert-message":{py:.5}},children:"Movimiento guardado correctamente."})]}),j&&(0,Ve.jsx)(Ah,{severity:"error",sx:{mb:2},children:j}),A&&(0,Ve.jsx)(Ah,{severity:"error",sx:{mb:2},children:A}),k&&(0,Ve.jsx)(Ah,{severity:"error",sx:{mb:2},children:k}),(0,Ve.jsx)($t,{sx:{p:1.5,mb:1.5},children:(0,Ve.jsxs)($h,{container:!0,spacing:2,alignItems:"flex-start",children:[(0,Ve.jsx)($h,{item:!0,xs:12,sm:3,children:(0,Ve.jsxs)(lu,{fullWidth:!0,size:"small",ref:Z,children:[(0,Ve.jsx)(ou,{id:"year-select-label",children:"A\xf1o"}),(0,Ve.jsx)(gp,{labelId:"year-select-label",id:"year-select",value:o,label:"A\xf1o",onChange:e=>{i(e.target.value)},children:$e.map((e=>(0,Ve.jsx)(_h,{value:e,children:e},e)))})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:3,children:(0,Ve.jsxs)(lu,{fullWidth:!0,size:"small",ref:ee,children:[(0,Ve.jsx)(ou,{id:"month-select-label",children:"Mes"}),(0,Ve.jsx)(gp,{labelId:"month-select-label",id:"month-select",value:s,label:"Mes",onChange:e=>{l(e.target.value)},children:ze.map((e=>(0,Ve.jsx)(_h,{value:e.value,children:e.label},e.value)))})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(sA,{id:"persona-select",ref:te,options:u,getOptionLabel:e=>e.nombreCompleto,value:c,onChange:(e,t)=>{d(t)},isOptionEqualToValue:(e,t)=>e.id===t.id,loading:m,loadingText:"Cargando funcionarios y personas VIP...",noOptionsText:A?"Error al cargar":"No hay personas disponibles",size:"small",inputValue:Ie,onInputChange:(e,t)=>{De(t.toUpperCase())},renderInput:e=>(0,Ve.jsx)(jp,{...e,label:"Seleccionar Persona (Funcionario o VIP)",variant:"outlined",InputProps:{...e.InputProps,endAdornment:(0,Ve.jsxs)(a.Fragment,{children:[m?(0,Ve.jsx)($r,{children:"Cargando..."}):null,e.InputProps.endAdornment]})},onFocus:e=>e.target.select()})})}),c&&!P&&(0,Ve.jsxs)($h,{item:!0,xs:12,container:!0,spacing:1,sx:{mt:.5,borderTop:"1px dashed #ccc",pt:1},children:[(0,Ve.jsx)($h,{item:!0,xs:12,sx:{mb:-.5},children:(0,Ve.jsx)($r,{variant:"subtitle2",children:"Cargar Nuevo Movimiento"})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:3,children:(0,Ve.jsxs)(lu,{fullWidth:!0,size:"small",ref:re,margin:"dense",children:[(0,Ve.jsx)(ou,{id:"tipo-mov-label",children:"Tipo Movimiento"}),(0,Ve.jsxs)(gp,{labelId:"tipo-mov-label",id:"tipo-mov-select",value:_,label:"Tipo Movimiento",onChange:e=>{U(e.target.value)},onKeyDown:e=>{var t;"Enter"===e.key&&(null===(t=ne.current)||void 0===t||t.focus(),e.preventDefault())},children:[(0,Ve.jsx)(_h,{value:"",children:(0,Ve.jsx)("em",{children:"Seleccione..."})}),["Adelanto","Aguinaldo","Bonificacion","Compras","Descuento","Horas extra","Jornales","Multa","Vacaciones"].map((e=>(0,Ve.jsx)(_h,{value:e,children:e},e)))]})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:4,children:(0,Ve.jsx)(jp,{label:"Observaci\xf3n",variant:"outlined",fullWidth:!0,size:"small",margin:"dense",value:W,onChange:e=>{V(e.target.value.toUpperCase())},inputRef:ne,onKeyDown:e=>{var t;"Enter"===e.key&&(null===(t=oe.current)||void 0===t||t.focus(),e.preventDefault())},onFocus:e=>e.target.select()})}),(0,Ve.jsx)($h,{item:!0,xs:6,sm:1,children:(0,Ve.jsxs)(lu,{fullWidth:!0,size:"small",margin:"dense",children:[(0,Ve.jsx)(ou,{id:"moneda-label",children:"Moneda"}),(0,Ve.jsxs)(gp,{labelId:"moneda-label",id:"moneda-select",value:G,label:"Moneda",onChange:e=>{H(e.target.value)},children:[(0,Ve.jsx)(_h,{value:"GS",children:"GS"}),(0,Ve.jsx)(_h,{value:"USD",children:"USD"}),(0,Ve.jsx)(_h,{value:"BRL",children:"BRL"})]})]})}),(0,Ve.jsx)($h,{item:!0,xs:6,sm:2,children:(0,Ve.jsx)(jp,{label:"Monto",variant:"outlined",fullWidth:!0,size:"small",margin:"dense",value:q,onChange:e=>{const t=e.target.value;/^\d*\.?\d*$/.test(t)&&Y(t)},inputRef:oe,onKeyDown:e=>{var t;"Enter"===e.key&&(null===(t=ae.current)||void 0===t||t.focus(),e.preventDefault())},InputProps:{sx:{textAlign:"right"}},onFocus:e=>e.target.select()})}),(0,Ve.jsxs)($h,{item:!0,xs:12,sm:2,sx:{display:"flex",alignItems:"center",mt:1},children:[" ",(0,Ve.jsx)(fs,{variant:"contained",color:"primary",onClick:Ne,disabled:b||!c||!_||!q||!W,ref:ae,fullWidth:!0,size:"small",startIcon:b?(0,Ve.jsx)(KS,{size:16,color:"inherit"}):null,onKeyDown:e=>{"Enter"===e.key&&(Ne(),e.preventDefault())},children:b?"Guardando...":"Guardar"})]})]})]})}),c&&(0,Ve.jsx)(Et,{position:"relative",children:(0,Ve.jsxs)(Dp,{component:$t,sx:{boxShadow:3,background:"linear-gradient(to bottom, #1e1e1e, #121212)","& .MuiTableBody-root":{"& .MuiTableRow-root":{borderBottom:"1px solid rgba(255, 255, 255, 0.1)"}},"& .MuiTableCell-root":{color:"rgba(255, 255, 255, 0.87)"}},children:[(0,Ve.jsxs)(Et,{sx:{p:2,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ve.jsxs)($r,{variant:"h6",sx:{color:"white"},children:["Movimientos de: ",c.nombreCompleto," - ",null===(e=ze.find((e=>e.value===s)))||void 0===e?void 0:e.label," ",o,P&&(0,Ve.jsx)($r,{component:"span",variant:"caption",sx:{ml:2,color:"success.main",bgcolor:"rgba(46, 139, 87, 0.2)",borderRadius:1,px:1,py:.5},children:"MES FINALIZADO"})]}),(0,Ve.jsxs)(Et,{sx:{display:"flex",gap:3},children:[(0,Ve.jsx)(dS,{control:(0,Ve.jsx)(sQ,{checked:K,onChange:e=>X(e.target.checked),color:"primary",size:"small"}),label:"Mostrar Vales",sx:{color:"white"}}),(0,Ve.jsx)(dS,{control:(0,Ve.jsx)(sQ,{checked:Q,onChange:e=>J(e.target.checked),color:"primary",size:"small"}),label:"Mostrar Sueldos",sx:{color:"white"}})]})]}),(0,Ve.jsxs)(zp,{sx:{minWidth:650},"aria-label":"tabla de movimientos",size:"small",children:[(0,Ve.jsx)(Vp,{sx:{backgroundColor:"#212121"},children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{sx:{color:"white",py:1,fontWeight:"bold"},children:"Fecha"}),(0,Ve.jsx)(th,{sx:{color:"white",py:1,fontWeight:"bold"},children:"Tipo"}),(0,Ve.jsx)(th,{sx:{color:"white",py:1,fontWeight:"bold"},children:"Descripci\xf3n"}),(0,Ve.jsx)(th,{align:"right",sx:{color:"white",py:1,fontWeight:"bold"},children:"Monto"}),P&&(0,Ve.jsx)(th,{align:"right",sx:{color:"white",py:1,fontWeight:"bold"},children:"Monto (GS)"}),(0,Ve.jsx)(th,{align:"right",sx:{color:"white",py:1,fontWeight:"bold"},children:"Acciones"})]})}),(0,Ve.jsxs)(sh,{children:[v?(0,Ve.jsx)(Xp,{children:(0,Ve.jsxs)(th,{colSpan:P?6:5,align:"center",children:[(0,Ve.jsx)(KS,{size:24})," Cargando movimientos..."]})}):h.length>0?h.filter((e=>(K||"Vale"!==e.tipo)&&(Q||"Sueldo"!==e.tipo))).map((e=>{var t;return(0,Ve.jsxs)(Xp,{sx:{"&:last-child td, &:last-child th":{border:0},"& td":{py:.75},..."Vale"===e.tipo?{backgroundColor:"rgba(205, 140, 0, 0.15)","&:hover":{backgroundColor:"rgba(205, 140, 0, 0.25)"}}:{},..."Sueldo"===e.tipo?{backgroundColor:"rgba(30, 144, 255, 0.15)","&:hover":{backgroundColor:"rgba(30, 144, 255, 0.25)"}}:{},..."IPS"===e.tipo?{backgroundColor:"rgba(220, 20, 60, 0.15)","&:hover":{backgroundColor:"rgba(220, 20, 60, 0.25)"}}:{},...ie.includes(e.tipo)&&"Sueldo"!==e.tipo?{backgroundColor:"rgba(46, 139, 87, 0.15)","&:hover":{backgroundColor:"rgba(46, 139, 87, 0.25)"}}:{},...se.includes(e.tipo)&&"Vale"!==e.tipo&&"IPS"!==e.tipo?{backgroundColor:"rgba(178, 34, 34, 0.15)","&:hover":{backgroundColor:"rgba(178, 34, 34, 0.25)"}}:{}},children:[(0,Ve.jsx)(th,{component:"th",scope:"row",children:new Date(e.fecha).toLocaleDateString("es-ES")}),(0,Ve.jsx)(th,{children:"Vale"===e.tipo?(0,Ve.jsx)(Et,{sx:{display:"flex",alignItems:"center"},children:(0,Ve.jsxs)($r,{variant:"body2",sx:{fontWeight:"bold",color:"pendiente"===e.estadoVale?"warning.main":"cobrado"===e.estadoVale?"success.main":"text.primary"},children:[e.tipo," ",e.numeroVale&&`#${e.numeroVale}`]})}):"Sueldo"===e.tipo?(0,Ve.jsx)(Et,{sx:{display:"flex",alignItems:"center"},children:(0,Ve.jsx)($r,{variant:"body2",sx:{fontWeight:"bold",color:"primary.main"},children:e.tipo})}):"IPS"===e.tipo?(0,Ve.jsx)(Et,{sx:{display:"flex",alignItems:"center"},children:(0,Ve.jsx)($r,{variant:"body2",sx:{fontWeight:"bold",color:"error.main"},children:e.tipo})}):ie.includes(e.tipo)?(0,Ve.jsx)(Et,{sx:{display:"flex",alignItems:"center"},children:(0,Ve.jsx)($r,{variant:"body2",sx:{fontWeight:"bold",color:"success.main"},children:e.tipo})}):se.includes(e.tipo)?(0,Ve.jsx)(Et,{sx:{display:"flex",alignItems:"center"},children:(0,Ve.jsx)($r,{variant:"body2",sx:{fontWeight:"bold",color:"error.main"},children:e.tipo})}):e.tipo}),(0,Ve.jsx)(th,{children:e.descripcion}),(0,Ve.jsx)(th,{align:"right",children:(0,Ve.jsxs)($r,{component:"span",sx:{fontWeight:"bold",color:se.includes(e.tipo)?"#f44336":"#4caf50"},children:[e.moneda," ","Vale"===e.tipo?`-${gQ(Math.abs(parseFloat(e.monto)||0),e.moneda)}`:gQ(parseFloat(e.monto)||0,e.moneda)]})}),P&&(0,Ve.jsx)(th,{align:"right",children:"GS"!==e.moneda&&"PYG"!==e.moneda?(0,Ve.jsxs)($r,{component:"span",sx:{fontWeight:"bold",color:se.includes(e.tipo)?"#f44336":"#4caf50"},children:["GS ",gQ(e.montoConvertidoGS?parseFloat(e.montoConvertidoGS):parseFloat(e.monto)*((null===(t=T.find((t=>t.moneda===e.moneda)))||void 0===t?void 0:t.valor)||0),"GS")]}):null}),(0,Ve.jsx)(th,{align:"right",children:(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"flex-end",gap:1},children:[!["IPS","Sueldo"].includes(e.tipo)&&(0,Ve.jsx)(Qo,{title:"Imprimir recibo",children:(0,Ve.jsx)(Ir,{size:"small",onClick:()=>(e=>{const t=parseFloat(e.monto),r=Math.abs(t),n=SQ(r,e.moneda),o=`\n      <html>\n        <head>\n          <title>Recibo</title>\n          <style>\n            body { font-family: Arial, sans-serif; margin: 40px; }\n            .recibo { border: 1px solid #000; padding: 20px; max-width: 800px; margin: 0 auto; }\n            .header { text-align: center; margin-bottom: 20px; }\n            .title { font-size: 20px; font-weight: bold; margin-bottom: 5px; }\n            .content { font-size: 14px; line-height: 1.5; }\n            .fecha { text-align: right; margin-bottom: 25px; }\n            .monto { font-weight: bold; }\n            .concepto { margin: 15px 0; }\n            .total-box { \n              text-align: right; \n              border: 3px solid #000; \n              display: inline-block;\n              padding: 5px 15px;\n              float: right;\n              margin-bottom: 15px;\n              font-weight: bold;\n              font-size: 16px;\n            }\n            .clearfix {\n              clear: both;\n            }\n            .firma-container { \n              margin-top: 50px; \n              text-align: center;\n            }\n            .firma-line { \n              width: 200px; \n              border-top: 1px solid #000; \n              margin: 0 auto 5px auto;\n            }\n            .datos-personales { \n              margin-top: 40px; \n              text-align: center;\n            }\n          </style>\n        </head>\n        <body>\n          <div class="recibo">\n            <div class="header">\n              <div class="title">RECIBO</div>\n            </div>\n            \n            <div class="total-box">\n              Total: ${e.moneda} ${gQ(r,e.moneda)}\n            </div>\n            \n            <div class="clearfix"></div>\n            \n            <div class="fecha">\n              Fecha: ${new Date(e.fecha).toLocaleDateString("es-ES")}\n            </div>\n            \n            <div class="content">\n              <p>\n                Recib\xed de <strong>FARMACIA FRANCO AREVALOS S.A.</strong>, \n                la suma de <span class="monto">${n}</span>\n              </p>\n              \n              <div class="concepto">\n                <strong>Concepto:</strong> ${e.descripcion}\n              </div>\n            </div>\n            \n            <div class="firma-container">\n              <div class="firma-line"></div>\n              <div>Firma</div>\n              \n              <div class="datos-personales">\n                <div><strong>Nombre:</strong> ${(null===c||void 0===c?void 0:c.nombreCompleto)||""}</div>\n                <div><strong>N\xba Documento:</strong> ${(null===c||void 0===c?void 0:c.documento)||""}</div>\n              </div>\n            </div>\n          </div>\n          <script>\n            window.onload = function() { window.print(); }\n          <\/script>\n        </body>\n      </html>\n    `,a=window.open("","_blank");a&&(a.document.write(o),a.document.close())})(e),sx:{color:"rgba(255, 255, 255, 0.8)","&:hover":{color:"white",backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:(0,Ve.jsx)(hQ.A,{fontSize:"inherit"})})}),!je.includes(e.tipo)&&!P&&(0,Ve.jsx)(Qo,{title:"Eliminar",children:(0,Ve.jsx)(Ir,{size:"small",onClick:()=>(e=>{pe(e.id),fe(e.descripcion),ge(e.monto),xe(e.moneda),de(!0)})(e),sx:{color:"rgba(255, 100, 100, 0.8)","&:hover":{color:"error.main",backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:(0,Ve.jsx)(af.A,{fontSize:"inherit"})})})]})})]},e.id)})):(0,Ve.jsx)(Xp,{children:(0,Ve.jsx)(th,{colSpan:P?6:5,align:"center",children:k||"No hay movimientos para el per\xedodo seleccionado."})}),!v&&h.length>0&&(0,Ve.jsxs)(Ve.Fragment,{children:[Object.entries(Le()).map((e=>{var t;let[r,n]=e;return(0,Ve.jsxs)(Xp,{sx:{backgroundColor:"#212121",fontWeight:"bold","& td":{py:1,color:"white"},"&:last-child":{borderBottom:"2px solid rgba(224, 224, 224, 1)"}},children:[(0,Ve.jsx)(th,{colSpan:3,align:"right",children:(0,Ve.jsxs)("strong",{children:["Saldo del Mes (",r,"):"]})}),(0,Ve.jsx)(th,{align:"right",children:(0,Ve.jsx)($r,{component:"span",sx:{fontWeight:"bold",color:n<0?"#f44336":"#4caf50"},children:(0,Ve.jsx)("strong",{children:gQ(n,r)})})}),P&&"GS"!==r&&"PYG"!==r&&(0,Ve.jsx)(th,{align:"left",children:(0,Ve.jsxs)($r,{component:"span",variant:"caption",sx:{color:"grey.400"},children:["Cotizaci\xf3n: GS ",gQ((null===(t=T.find((e=>e.moneda===r)))||void 0===t?void 0:t.valor)||0,"GS")]})}),(0,Ve.jsx)(th,{colSpan:P?"GS"!==r&&"PYG"!==r?1:2:1})]},r)})),P&&D&&(0,Ve.jsxs)(Xp,{sx:{backgroundColor:"rgba(46, 139, 87, 0.2)","& td":{py:1.5,color:"white",fontWeight:"bold"}},children:[(0,Ve.jsxs)(th,{colSpan:3,align:"right",children:[(0,Ve.jsx)($r,{variant:"subtitle1",children:"TOTAL FINAL (GS):"}),((e,t)=>{const r=Le(),n=r.GS||0,o=r.USD||0,a=r.BRL||0,i=(null===(e=T.find((e=>"USD"===e.moneda)))||void 0===e?void 0:e.valor)||0,s=(null===(t=T.find((e=>"BRL"===e.moneda)))||void 0===t?void 0:t.valor)||0,l=o*i,c=a*s,d=n+l+c;return(0,Ve.jsxs)($r,{variant:"caption",sx:{display:"block",color:"rgba(255,255,255,0.7)"},children:["C\xe1lculo: ",gQ(n,"GS"),0!==o&&` + (${gQ(o,"USD")} x ${gQ(i,"GS")} = ${gQ(l,"GS")})`,0!==a&&` + (${gQ(a,"BRL")} x ${gQ(s,"GS")} = ${gQ(c,"GS")})`," = ",gQ(d,"GS")]})})()]}),(0,Ve.jsx)(th,{align:"right",colSpan:3,children:(0,Ve.jsxs)($r,{variant:"subtitle1",sx:{fontWeight:"bold",color:((e,t)=>{const r=Le(),n=r.GS||0,o=r.USD||0,a=r.BRL||0;return n+o*((null===(e=T.find((e=>"USD"===e.moneda)))||void 0===e?void 0:e.valor)||0)+a*((null===(t=T.find((e=>"BRL"===e.moneda)))||void 0===t?void 0:t.valor)||0)<0?"#f44336":"#4caf50"})()},children:["GS ",((e,t)=>{const r=Le(),n=r.GS||0,o=r.USD||0,a=r.BRL||0,i=(null===(e=T.find((e=>"USD"===e.moneda)))||void 0===e?void 0:e.valor)||0,s=(null===(t=T.find((e=>"BRL"===e.moneda)))||void 0===t?void 0:t.valor)||0;return gQ(n+o*i+a*s,"GS")})()]})})]})]})]})]}),P&&h.length>0&&(0,Ve.jsx)(Et,{sx:{p:2,display:"flex",justifyContent:"flex-end"},children:(0,Ve.jsx)(fs,{variant:"contained",color:"primary",startIcon:(0,Ve.jsx)(hQ.A,{}),onClick:()=>{var e,t,r;if(!c||!D)return;const n=h.filter((e=>ie.includes(e.tipo)&&("GS"===e.moneda||"PYG"===e.moneda))),a=h.filter((e=>se.includes(e.tipo)&&("GS"===e.moneda||"PYG"===e.moneda))),i=h.filter((e=>"GS"!==e.moneda&&"PYG"!==e.moneda)),l=N;console.log("[DEBUG] --------- INFORMACI\xd3N DE DEPURACI\xd3N IMPRESI\xd3N ----------"),console.log("[DEBUG] Valor de sueldoMinimo en el estado:",N),console.log("[DEBUG] Valor usado para impresi\xf3n:",l),console.log("[DEBUG] -----------------------------------------------------");const d=n.reduce(((e,t)=>e+parseFloat(t.monto)),0),u=n.filter((e=>"Sueldo"!==e.tipo)),p=u.reduce(((e,t)=>e+parseFloat(t.monto)),0),f=d<l,m=f?d:l,g=f?0:Math.max(0,d-l-p),v=Math.round(m)+Math.round(p)+Math.round(g);console.log("[DEBUG] Sueldo m\xednimo:",l),console.log("[DEBUG] Total ingresos:",d),console.log("[DEBUG] Ingresos < Sueldo M\xednimo:",f),console.log("[DEBUG] Monto para primer recibo:",m),console.log("[DEBUG] Total otros ingresos:",p),console.log("[DEBUG] Bonificaci\xf3n:",g),console.log("[DEBUG] Total final ingresos (calculado):",v);const x=i.map((e=>{var t;const r=parseFloat(e.monto),n=(null===(t=T.find((t=>t.moneda===e.moneda)))||void 0===t?void 0:t.valor)||0,o=r*n;return{...e,cotizacion:n,montoConvertidoCalculado:o}})),b=SQ(m,"GS"),y=SQ(g,"GS"),j=`\n      <html>\n        <head>\n          <title>Recibos de Sueldo - ${c.nombreCompleto}</title>\n          <style>\n            body { \n              font-family: Arial, sans-serif; \n              padding: 0;\n              margin: 0;\n              font-size: 11px;\n            }\n            .page {\n              width: 210mm;\n              min-height: 297mm;\n              padding: 5mm;\n              margin: 0;\n              border: 1px #D3D3D3 solid;\n              background: white;\n              box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);\n            }\n            .subpage {\n              padding: 0.5cm;\n              min-height: 257mm;\n            }\n            .recibos-section {\n              display: flex;\n              flex-direction: column;\n              margin-bottom: 15px;\n              padding-bottom: 10px;\n              border-bottom: 1px dashed black;\n            }\n            .recibo {\n              width: 100%;\n              border: 1px solid black;\n              padding: 8px;\n              margin-bottom: 10px;\n            }\n            .recibo-header {\n              text-align: center;\n              font-weight: bold;\n              margin-bottom: 8px;\n              font-size: 13px;\n            }\n            .fecha-monto {\n              display: flex;\n              justify-content: space-between;\n              margin-bottom: 10px;\n            }\n            .monto-box {\n              border: 2px solid black;\n              padding: 4px 8px;\n              font-weight: bold;\n              text-align: right;\n            }\n            .firma {\n              margin-top: 20px;\n              text-align: center;\n            }\n            .firma-linea {\n              width: 70%;\n              margin: 0 auto 5px auto;\n              border-top: 1px solid black;\n            }\n            .resumen {\n              border: 1px solid black;\n              padding: 8px;\n            }\n            .resumen-header {\n              text-align: center;\n              font-weight: bold;\n              margin-bottom: 8px;\n              font-size: 13px;\n            }\n            .info-headers {\n              display: flex;\n              justify-content: space-between;\n              margin-bottom: 8px;\n              font-weight: bold;\n            }\n            .tablas {\n              display: flex;\n              justify-content: space-between;\n              gap: 8px;\n            }\n            .tabla-container {\n              width: 49%;\n            }\n            table {\n              width: 100%;\n              border-collapse: collapse;\n              font-size: 10px;\n            }\n            table th, table td {\n              border: 1px solid #ddd;\n              padding: 3px 4px;\n              vertical-align: top;\n            }\n            table th {\n              background-color: #f2f2f2;\n              text-align: left;\n              font-weight: bold;\n            }\n            table tbody tr:nth-child(even) {\n              background-color: #f9f9f9;\n            }\n            .concepto {\n              width: 75%;\n            }\n            .monto {\n              text-align: right;\n              width: 25%;\n              white-space: nowrap;\n            }\n            .moneda-col {\n              text-align: center;\n              width: 25%;\n            }\n            .total {\n              text-align: right;\n              font-weight: bold;\n              margin-top: 6px;\n              background-color: #f2f2f2;\n              padding: 4px;\n            }\n            .total-final {\n              text-align: right;\n              font-weight: bold;\n              margin-top: 10px;\n              background-color: #e8ffe8;\n              padding: 5px;\n              border: 2px solid #007700;\n              font-size: 12px;\n            }\n            .moneda-extranjera {\n              margin-top: 10px;\n            }\n            .moneda-extranjera table {\n              margin-bottom: 5px;\n            }\n            .cotizaciones {\n              font-size: 9px;\n              margin-top: 3px;\n              color: #555;\n            }\n            @media print {\n              body { margin: 0; padding: 0; }\n              .page { margin: 0; border: none; box-shadow: none; }\n            }\n          </style>\n        </head>\n        <body>\n          <div class="page">\n            <div class="subpage">\n              <div class="recibos-section">\n                \x3c!-- Recibo Sueldo --\x3e\n                <div class="recibo">\n                  <div class="recibo-header">RECIBO DE HABERES</div>\n                  <div class="fecha-monto">\n                    <div>Fecha: ${(new Date).toLocaleDateString("es-ES")}</div>\n                    <div class="monto-box">GS ${gQ(m,"GS")}</div>\n                  </div>\n                  <div>\n                    <p>Recib\xed de <strong>FARMACIA FRANCO AREVALOS S.A.</strong>, la suma de:</p>\n                    <p><strong>${b}</strong></p>\n                    <p>En concepto de pago de salario: ${null===(e=ze.find((e=>e.value===s)))||void 0===e?void 0:e.label} ${o}</p>\n                  </div>\n                  <div class="firma">\n                    <div class="firma-linea"></div>\n                    <div>Firma</div>\n                    <div style="margin-top: 15px;">\n                      <p><strong>Nombre:</strong> ${(null===c||void 0===c?void 0:c.nombreCompleto)||""}</p>\n                      <p><strong>N\xba Documento:</strong> ${(null===c||void 0===c?void 0:c.documento)||""}</p>\n                    </div>\n                  </div>\n                </div>\n                \n                \x3c!-- Recibo Bonificaciones (solo si bonificaci\xf3n > 0) --\x3e\n                ${g>0?`\n                <div class="recibo">\n                  <div class="recibo-header">RECIBO DE HABERES</div>\n                  <div class="fecha-monto">\n                    <div>Fecha: ${(new Date).toLocaleDateString("es-ES")}</div>\n                    <div class="monto-box">GS ${gQ(g,"GS")}</div>\n                  </div>\n                  <div>\n                    <p>Recib\xed de <strong>FARMACIA FRANCO AREVALOS S.A.</strong>, la suma de:</p>\n                    <p><strong>${y}</strong></p>\n                    <p>En concepto de pago de bonificaciones del: ${null===(t=ze.find((e=>e.value===s)))||void 0===t?void 0:t.label} ${o}</p>\n                  </div>\n                  <div class="firma">\n                    <div class="firma-linea"></div>\n                    <div>Firma</div>\n                    <div style="margin-top: 15px;">\n                      <p><strong>Nombre:</strong> ${(null===c||void 0===c?void 0:c.nombreCompleto)||""}</p>\n                      <p><strong>N\xba Documento:</strong> ${(null===c||void 0===c?void 0:c.documento)||""}</p>\n                    </div>\n                  </div>\n                </div>\n                `:""}\n              </div>\n              \n              \x3c!-- Resumen --\x3e\n              <div class="resumen">\n                <div class="resumen-header">RESUMEN DE LIQUIDACI\xd3N - ${null===(r=ze.find((e=>e.value===s)))||void 0===r?void 0:r.label} ${o}</div>\n                <div class="info-headers">\n                  <div><strong>Colaborador:</strong> ${c.nombreCompleto}</div>\n                  <div><strong>Documento:</strong> ${c.documento||"N/A"}</div>\n                </div>\n                \n                <div class="tablas">\n                  \x3c!-- Tabla Ingresos --\x3e\n                  <div class="tabla-container">\n                    <div style="font-weight: bold; margin-bottom: 4px;">INGRESOS</div>\n                    <table>\n                      <thead>\n                        <tr>\n                          <th class="concepto">Concepto</th>\n                          <th class="monto">Monto (GS)</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        ${f?`\n                        \x3c!-- Mostrar ingresos reales cuando son menores al sueldo m\xednimo --\x3e\n                        ${n.map((e=>`\n                        <tr>\n                          <td class="concepto">${e.tipo}: ${e.descripcion}</td>\n                          <td class="monto">${gQ(parseFloat(e.monto),"GS")}</td>\n                        </tr>\n                        `)).join("")}\n                        `:`\n                        \x3c!-- Mostrar sueldo m\xednimo + otros cuando ingresos >= sueldo m\xednimo --\x3e\n                        <tr>\n                          <td class="concepto">Sueldo M\xednimo</td>\n                          <td class="monto">${gQ(l,"GS")}</td>\n                        </tr>\n                        ${u.map((e=>`\n                        <tr>\n                          <td class="concepto">${e.tipo}: ${e.descripcion}</td>\n                          <td class="monto">${gQ(parseFloat(e.monto),"GS")}</td>\n                        </tr>\n                        `)).join("")}\n                        ${g>0?`\n                        <tr>\n                          <td class="concepto">Bonificaci\xf3n</td>\n                          <td class="monto">${gQ(g,"GS")}</td>\n                        </tr>\n                        `:""}\n                        `}\n                      </tbody>\n                      <tfoot>\n                        <tr>\n                          <td style="text-align: right; font-weight: bold;">Total Ingresos:</td>\n                          <td class="monto" style="font-weight: bold;">${gQ(v,"GS")}</td>\n                        </tr>\n                      </tfoot>\n                    </table>\n                  </div>\n                  \n                  \x3c!-- Tabla Descuentos --\x3e\n                  <div class="tabla-container">\n                    <div style="font-weight: bold; margin-bottom: 4px;">DESCUENTOS</div>\n                    <table>\n                      <thead>\n                        <tr>\n                          <th class="concepto">Concepto</th>\n                          <th class="monto">Monto (GS)</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        ${a.map((e=>`\n                        <tr>\n                          <td class="concepto">${e.tipo}: ${e.descripcion}</td>\n                          <td class="monto">${gQ(Math.abs(parseFloat(e.monto)),"GS")}</td>\n                        </tr>\n                        `)).join("")}\n                      </tbody>\n                      <tfoot>\n                        <tr>\n                          <td style="text-align: right; font-weight: bold;">Total Descuentos:</td>\n                          <td class="monto" style="font-weight: bold;">${gQ(Math.abs(a.reduce(((e,t)=>e+parseFloat(t.monto)),0)),"GS")}</td>\n                        </tr>\n                      </tfoot>\n                    </table>\n                  </div>\n                </div>\n                \n                ${i.length>0?`\n                \x3c!-- Monedas extranjeras --\x3e\n                <div class="moneda-extranjera">\n                  <div style="font-weight: bold; margin-bottom: 4px;">MONEDA EXTRANJERA</div>\n                  <table>\n                    <thead>\n                      <tr>\n                        <th class="concepto">Concepto</th>\n                        <th class="moneda-col">Moneda Original</th>\n                        <th class="monto">Monto (GS)</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      ${x.map((e=>{const t=parseFloat(e.monto),r=e.montoConvertidoCalculado||0;return`\n                        <tr>\n                          <td class="concepto">${e.tipo}: ${e.descripcion}</td>\n                          <td class="moneda-col">${e.moneda} ${gQ(Math.abs(t),e.moneda)}</td>\n                          <td class="monto">${gQ(Math.abs(r),"GS")}</td>\n                        </tr>\n                        `})).join("")}\n                    </tbody>\n                  </table>\n                  <div class="cotizaciones">\n                    <strong>Cotizaciones:</strong> \n                    ${T.map((e=>`${e.moneda}: GS ${gQ(e.valor,"GS")}`)).join(", ")}\n                  </div>\n                </div>\n                `:""}\n                \n                <div class="total-final">\n                  TOTAL A COBRAR: GS ${gQ(parseFloat(D.totalFinalGS),"GS")}\n                </div>\n              </div>\n            </div>\n          </div>\n          <script>\n            // Asegurar que la impresi\xf3n funcione\n            window.onload = function() { \n              setTimeout(function() {\n                window.print();\n              }, 500);\n            }\n          <\/script>\n        </body>\n      </html>\n    `,w=window.open("","_blank");w&&(w.document.write(j),w.document.close())},sx:{mt:2,mb:2,mr:7},children:"Imprimir Recibo de Sueldo"})}),P?(0,Ve.jsx)(Qo,{title:"Reabrir Mes",children:(0,Ve.jsx)(pQ,{color:"secondary",sx:{position:"absolute",bottom:16,right:16},onClick:async()=>{if(c&&o&&s)try{const e=localStorage.getItem("token"),t=await ed.post("/api/rrhh/reabrir-mes",{personaId:c.id,mes:s,anio:o},{headers:{Authorization:`Bearer ${e}`}});console.log("Mes reabierto correctamente:",t.data),I(!1),C(!0),setTimeout((()=>C(!1)),3e3),Te()}catch(r){var e,t;console.error("Error al reabrir mes:",r);const n=(null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Error al conectar con el servidor.";w(n)}},children:(0,Ve.jsx)(fQ.A,{})})}):(0,Ve.jsx)(pQ,{color:"primary",sx:{position:"absolute",bottom:16,right:16},onClick:()=>{const e=h.filter((e=>(K||"Vale"!==e.tipo)&&(Q||"Sueldo"!==e.tipo))).map((e=>e.moneda)).filter((e=>"GS"!==e&&"PYG"!==e)),t={};e.forEach((e=>{t[e]=!0}));const r=Object.keys(t);if(r.length>0){const e=r.map((e=>({moneda:e,valor:0})));R(e),Se(!0)}else Ae(!0)},disabled:v||0===h.length,children:(0,Ve.jsx)(fQ.A,{})})]})}),!c&&!m&&u.length>0&&(0,Ve.jsx)($r,{sx:{mt:2,textAlign:"center"},children:"Por favor, seleccione una persona para ver sus movimientos."}),!m&&0===u.length&&!A&&(0,Ve.jsx)($r,{sx:{mt:2,textAlign:"center"},children:"No se encontraron funcionarios o personas VIP para seleccionar."}),(0,Ve.jsxs)(Fi,{open:ce,onClose:Be,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,Ve.jsx)(Gi,{id:"alert-dialog-title",children:"Confirmar Eliminaci\xf3n"}),(0,Ve.jsx)(Ki,{children:(0,Ve.jsxs)(Zi,{id:"alert-dialog-description",children:['\xbfEst\xe1s seguro de que quieres eliminar el movimiento "',he,'"?']})}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:Be,children:"Cancelar"}),(0,Ve.jsx)(fs,{onClick:async()=>{if(ue){ye(!0);try{await Fe(ue),C(!0),setTimeout((()=>C(!1)),3e3)}catch(e){console.error("Error confirmando eliminaci\xf3n:",e)}finally{ye(!1),Be()}}},autoFocus:!0,children:"Confirmar"})]})]}),(0,Ve.jsxs)(Fi,{open:we,onClose:()=>Se(!1),"aria-labelledby":"cotizacion-dialog-title",children:[(0,Ve.jsx)(Gi,{id:"cotizacion-dialog-title",children:"Ingresar Cotizaciones"}),(0,Ve.jsxs)(Ki,{children:[(0,Ve.jsx)(Zi,{children:"Se encontraron montos en monedas extranjeras. Por favor, ingrese la cotizaci\xf3n actual para cada moneda:"}),T.map(((e,t)=>(0,Ve.jsx)(jp,{margin:"dense",label:`Cotizaci\xf3n ${e.moneda} a Guaran\xedes`,fullWidth:!0,variant:"outlined",value:e.valor>0?e.valor.toLocaleString("es-PY"):"",onChange:e=>((e,t)=>{const r=[...T];r[e].valor=parseFloat(t.replace(/\./g,"").replace(",","."))||0,R(r)})(t,e.target.value),sx:{mb:2},InputProps:{endAdornment:(0,Ve.jsx)($r,{variant:"caption",children:"Gs."})},onFocus:e=>e.target.select()},e.moneda)))]}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:()=>Se(!1),children:"Cancelar"}),(0,Ve.jsx)(fs,{onClick:()=>{T.every((e=>e.valor>0))?(Se(!1),Ae(!0)):alert("Todas las cotizaciones deben tener valores mayores a cero")},variant:"contained",disabled:T.some((e=>e.valor<=0)),children:"Continuar"})]})]}),(0,Ve.jsxs)(Fi,{open:Ce,onClose:()=>Ae(!1),"aria-labelledby":"confirmacion-dialog-title",children:[(0,Ve.jsx)(Gi,{id:"confirmacion-dialog-title",children:"Confirmar Finalizaci\xf3n de Mes"}),(0,Ve.jsxs)(Ki,{children:[(0,Ve.jsxs)(Zi,{children:["\xbfEst\xe1 seguro de que desea finalizar el resumen del mes de ",null===(t=ze.find((e=>e.value===s)))||void 0===t?void 0:t.label," ",o," para ",null===c||void 0===c?void 0:c.nombreCompleto,"?"]}),(0,Ve.jsx)($r,{variant:"body2",sx:{mt:2,color:"warning.main"},children:"Esta acci\xf3n guardar\xe1 una copia de todos los movimientos actuales. Una vez finalizado, los datos se mostrar\xe1n desde esta copia."}),Oe&&(0,Ve.jsx)(Ah,{severity:"error",sx:{mt:2},children:Oe})]}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:()=>Ae(!1),disabled:Ee,children:"Cancelar"}),(0,Ve.jsx)(fs,{onClick:async()=>{if(c&&o&&s){ke(!0),Pe(null);try{const e=localStorage.getItem("token"),t=Le(),r={personaId:c.id,mes:s,anio:o,cotizaciones:T,saldos:t},n=await ed.post("/api/rrhh/finalizar-mes",r,{headers:{Authorization:`Bearer ${e}`}});console.log("Mes finalizado correctamente:",n.data),I(!0),Ae(!1),C(!0),setTimeout((()=>C(!1)),3e3),Te()}catch(r){var e,t;console.error("Error al finalizar mes:",r);const n=(null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Error al conectar con el servidor.";Pe(n)}finally{ke(!1)}}else Pe("Datos incompletos para finalizar el mes")},variant:"contained",color:"primary",disabled:Ee,startIcon:Ee?(0,Ve.jsx)(KS,{size:20}):null,children:Ee?"Procesando...":"Finalizar Mes"})]})]})]})},AQ=e=>{e.currentTarget&&"function"===typeof e.currentTarget.select&&e.currentTarget.select()},EQ=e=>{try{const t=new Date(e),r=t.getDate().toString().padStart(2,"0"),n=(t.getMonth()+1).toString().padStart(2,"0");return`${r}/${n}/${t.getFullYear()}`}catch(t){return console.error("Error al formatear fecha:",t,e),"Fecha inv\xe1lida"}},kQ=()=>{const e=(0,a.useRef)(null),[t,r]=(0,a.useState)(""),[n,o]=(0,a.useState)(!1),[i,s]=(0,a.useState)([]),[l,c]=(0,a.useState)([]),[d,u]=(0,a.useState)(!1),[p,h]=(0,a.useState)(!1),[f,m]=(0,a.useState)(null),[g,v]=(0,a.useState)(!1),[x,b]=(0,a.useState)(!1),[y,j]=(0,a.useState)(null),[w,S]=(0,a.useState)({open:!1,message:"",severity:"success"});(0,a.useEffect)((()=>{C()}),[]),(0,a.useEffect)((()=>{const e=setTimeout((()=>{t.trim().length>=3?(A(),v(!0)):(s([]),v(!1))}),300);return()=>clearTimeout(e)}),[t]),(0,a.useEffect)((()=>{const t=t=>{e.current&&!e.current.contains(t.target)&&v(!1)};return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}}),[]);const C=async()=>{u(!0);try{const e=await ed.get("/api/ips/personas");e.data&&Array.isArray(e.data)?(console.log("Datos de IPS cargados:",e.data),c(e.data),0===e.data.length&&S({open:!0,message:"No hay personas registradas en IPS",severity:"info"})):(console.warn("Respuesta inesperada de la API:",e.data),c([]),S({open:!0,message:"Error al obtener datos de IPS: formato incorrecto",severity:"error"}))}catch(e){console.error("Error al cargar personas de IPS:",e),c([]),S({open:!0,message:"Error al cargar la lista de personas registradas en IPS",severity:"error"})}finally{u(!1)}},A=async()=>{if(!t.trim()||t.trim().length<3)s([]);else{h(!0);try{const e=await ed.get(`/api/personas/buscar-personas?termino=${t}`);if(e.data&&Array.isArray(e.data)){console.log("Resultados de b\xfasqueda:",e.data);const t=e.data.map((e=>({id:e.id,nombreCompleto:e.nombre||e.nombreCompleto,documento:e.documento,tipo:e.tipo}))).filter((e=>"FUNCIONARIO"===e.tipo.toUpperCase()||"VIP"===e.tipo.toUpperCase()));s(t)}else s([])}catch(e){console.error("Error al buscar personas:",e),s([]),S({open:!0,message:"Error al buscar personas",severity:"error"})}finally{h(!1)}}},E=()=>{o(!1),m(null)},k=e=>{(e=>{m(e),o(!0)})(e),v(!1)},O=()=>{b(!1),j(null)},P=()=>{S({...w,open:!1})};return(0,Ve.jsxs)(Et,{sx:{width:"100%"},children:[(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",py:2,px:2,borderBottom:1,borderColor:"divider"},children:(0,Ve.jsx)($r,{variant:"h5",component:"h1",children:"Gesti\xf3n de IPS"})}),(0,Ve.jsxs)($t,{elevation:3,sx:{p:2,m:2},children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,children:"Buscar Personas (Funcionarios y VIP)"}),(0,Ve.jsxs)(Et,{sx:{display:"flex",gap:2,mb:2,position:"relative"},ref:e,children:[(0,Ve.jsx)(jp,{fullWidth:!0,size:"small",variant:"outlined",placeholder:"BUSCAR POR NOMBRE O DOCUMENTO...",value:t,onChange:e=>{r(e.target.value.toUpperCase())},onKeyPress:e=>{"Enter"!==e.key||g||(A(),v(!0))},onClick:AQ,InputProps:{startAdornment:(0,Ve.jsx)(kp,{position:"start",children:(0,Ve.jsx)(EC,{})}),endAdornment:p&&(0,Ve.jsx)(kp,{position:"end",children:(0,Ve.jsx)(KS,{size:20})})}}),g&&i.length>0&&(0,Ve.jsx)($t,{elevation:3,sx:{position:"absolute",width:"100%",top:"100%",left:0,zIndex:1e3,maxHeight:300,overflow:"auto",mt:.5},children:(0,Ve.jsx)(Va,{dense:!0,sx:{p:0},children:i.map((e=>(0,Ve.jsx)(ai,{button:!0,onClick:()=>k(e),children:(0,Ve.jsx)(mi,{primary:(0,Ve.jsxs)(Et,{display:"flex",justifyContent:"space-between",children:[(0,Ve.jsx)($r,{variant:"body2",children:e.nombreCompleto}),(0,Ve.jsx)(Pg,{label:e.tipo,color:"Funcionario"===e.tipo?"primary":"secondary",size:"small"})]}),secondary:`Documento: ${e.documento}`})},e.id)))})})]}),t.length>=3&&!p&&0===i.length&&(0,Ve.jsx)(Ah,{severity:"info",sx:{mt:2},children:"No se encontraron funcionarios o VIP con ese criterio de b\xfasqueda"})]}),(0,Ve.jsxs)($t,{elevation:3,sx:{p:2,m:2},children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,children:"Personas Registradas en IPS"}),d&&(0,Ve.jsx)(KS,{sx:{display:"block",m:"auto",my:2}}),d||0!==l.length?(0,Ve.jsx)(Dp,{children:(0,Ve.jsxs)(zp,{size:"small",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"NOMBRE"}),(0,Ve.jsx)(th,{children:"DOCUMENTO"}),(0,Ve.jsx)(th,{children:"TIPO"}),(0,Ve.jsx)(th,{children:"FECHA DE INICIO"}),(0,Ve.jsx)(th,{children:"ESTADO"}),(0,Ve.jsx)(th,{align:"center",children:"ACCIONES"})]})}),(0,Ve.jsx)(sh,{children:l.map((e=>(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:e.persona.nombreCompleto}),(0,Ve.jsx)(th,{children:e.persona.documento}),(0,Ve.jsx)(th,{children:(0,Ve.jsx)(Pg,{label:e.persona.tipo,color:"Funcionario"===e.persona.tipo?"primary":"secondary",size:"small"})}),(0,Ve.jsx)(th,{children:EQ(e.fechaInicio)}),(0,Ve.jsx)(th,{children:(0,Ve.jsx)(Pg,{label:e.estado,color:"ACTIVO"===e.estado?"success":"error",size:"small"})}),(0,Ve.jsx)(th,{align:"center",children:(0,Ve.jsx)(Ir,{color:"error",onClick:()=>(async e=>{j(e),b(!0)})(e.id),title:"Eliminar de IPS",children:(0,Ve.jsx)(NE,{})})})]},e.id)))})]})}):(0,Ve.jsx)(Ah,{severity:"info",children:"No hay personas registradas en IPS"})]}),(0,Ve.jsxs)(Fi,{open:n,onClose:E,children:[(0,Ve.jsx)(Gi,{children:"Agregar Persona a IPS"}),(0,Ve.jsx)(Ki,{children:f&&(0,Ve.jsxs)(Et,{sx:{mt:1},children:[(0,Ve.jsxs)($r,{children:[(0,Ve.jsx)("strong",{children:"Nombre:"})," ",f.nombreCompleto]}),(0,Ve.jsxs)($r,{children:[(0,Ve.jsx)("strong",{children:"Documento:"})," ",f.documento]}),(0,Ve.jsxs)($r,{children:[(0,Ve.jsx)("strong",{children:"Tipo:"})," ",f.tipo]}),(0,Ve.jsx)($r,{sx:{mt:2},children:"\xbfDesea agregar esta persona a la lista de IPS?"})]})}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:E,color:"inherit",children:"Cancelar"}),(0,Ve.jsx)(fs,{onClick:async()=>{if(f)try{u(!0);if(l.some((e=>e.personaId===f.id)))return S({open:!0,message:"Esta persona ya est\xe1 registrada en IPS",severity:"warning"}),void E();const e=new Date,t=e.getFullYear(),r=(e.getMonth()+1).toString().padStart(2,"0"),n=`${t}-${r}-${e.getDate().toString().padStart(2,"0")}`;console.log("Fecha a enviar al backend:",n);const o=await ed.post("/api/ips/agregar",{personaId:f.id,fechaInicio:n,estado:"ACTIVO"});if(!o.data)throw new Error("No se recibi\xf3 respuesta al agregar persona a IPS");console.log("Persona agregada a IPS:",o.data),await C(),S({open:!0,message:"Persona agregada a IPS exitosamente",severity:"success"}),E()}catch(e){console.error("Error al agregar persona a IPS:",e),S({open:!0,message:"Error al agregar persona a IPS",severity:"error"})}finally{u(!1)}},color:"primary",variant:"contained",autoFocus:!0,children:"Agregar a IPS"})]})]}),(0,Ve.jsxs)(Fi,{open:x,onClose:O,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,Ve.jsx)(Gi,{id:"alert-dialog-title",children:"Confirmar eliminaci\xf3n"}),(0,Ve.jsx)(Ki,{children:(0,Ve.jsx)(Et,{sx:{mt:1},children:(0,Ve.jsx)($r,{id:"alert-dialog-description",children:"\xbfEst\xe1 seguro que desea eliminar esta persona de IPS?"})})}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:O,color:"inherit",children:"Cancelar"}),(0,Ve.jsx)(fs,{onClick:async()=>{if(null!==y)try{u(!0),await ed.delete(`/api/ips/eliminar/${y}`),await C(),S({open:!0,message:"Persona eliminada de IPS exitosamente",severity:"success"})}catch(t){console.error("Error al eliminar persona de IPS:",t),S({open:!0,message:"Error al eliminar persona de IPS",severity:"error"})}finally{u(!1),b(!1),j(null),setTimeout((()=>{if(e.current){const t=e.current.querySelector("input");t&&t.focus()}}),100)}},color:"error",variant:"contained",autoFocus:!0,children:"Aceptar"})]})]}),(0,Ve.jsx)(tf,{open:w.open,autoHideDuration:6e3,onClose:P,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,Ve.jsx)(Ah,{onClose:P,severity:w.severity,variant:"filled",children:w.message})})]})},OQ="http://localhost:3000/api",PQ=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(null),[o,i]=(0,a.useState)(!1),[s,l]=(0,a.useState)(""),[c,d]=(0,a.useState)(!0),[u,p]=(0,a.useState)([]),[h,f]=(0,a.useState)(null),[m,g]=(0,a.useState)(!1),[v,x]=(0,a.useState)(""),[b,y]=(0,a.useState)(null),[j,w]=(0,a.useState)(!0),[S,C]=(0,a.useState)({open:!1,message:"",severity:"success"}),[A,E]=(0,a.useState)(0),[k,O]=(0,a.useState)(!1),[P,I]=(0,a.useState)(null),[D,M]=(0,a.useState)(!1),[T,R]=(0,a.useState)(null);(0,a.useEffect)((()=>{N(),$()}),[]);const N=async()=>{try{const e=await ed.get(`${OQ}/categorias-gastos`);t(e.data)}catch(e){console.error("Error al cargar categor\xedas:",e),z("Error al cargar las categor\xedas","error")}},$=async()=>{try{const e=await ed.get(`${OQ}/subcategorias-gastos`);p(e.data)}catch(e){console.error("Error al cargar subcategor\xedas:",e),z("Error al cargar las subcategor\xedas","error")}},z=(e,t)=>{C({open:!0,message:e,severity:t})},L=e=>{e?(n(e),l(e.nombre),d(e.activo)):(n(null),l(""),d(!0)),i(!0)},B=()=>{i(!1),n(null),l(""),d(!0)},F=e=>{e?(f(e),x(e.nombre),y(e.categoriaId),w(e.activo)):(f(null),x(""),y(null),w(!0)),g(!0)},_=()=>{g(!1),f(null),x(""),y(null),w(!0)};return(0,Ve.jsxs)(Et,{sx:{width:"100%"},children:[(0,Ve.jsxs)($t,{sx:{p:2,mb:3},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,Ve.jsx)(Ms,{sx:{fontSize:32,mr:1}}),(0,Ve.jsx)($r,{variant:"h5",component:"h1",gutterBottom:!0,sx:{flex:1},children:"Categor\xedas y Subcategor\xedas de Gastos"}),(0,Ve.jsx)(Qo,{title:"Actualizar datos",children:(0,Ve.jsx)(Ir,{onClick:()=>{N(),$()},children:(0,Ve.jsx)(VX,{})})})]}),(0,Ve.jsx)(Ii,{sx:{mb:2}}),(0,Ve.jsx)(Et,{sx:{borderBottom:1,borderColor:"divider"},children:(0,Ve.jsxs)(WA,{value:A,onChange:(e,t)=>{E(t)},"aria-label":"pesta\xf1as categor\xedas gastos",children:[(0,Ve.jsx)(YA,{label:"Categor\xedas"}),(0,Ve.jsx)(YA,{label:"Subcategor\xedas"})]})}),(0,Ve.jsxs)(Et,{hidden:0!==A,sx:{mt:2},children:[(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"end",mb:2},children:(0,Ve.jsx)(fs,{variant:"contained",startIcon:(0,Ve.jsx)(XS,{}),onClick:()=>L(),children:"Nueva Categor\xeda"})}),(0,Ve.jsx)(Dp,{children:(0,Ve.jsxs)(zp,{children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"ID"}),(0,Ve.jsx)(th,{children:"Nombre"}),(0,Ve.jsx)(th,{children:"Estado"}),(0,Ve.jsx)(th,{children:"Acciones"})]})}),(0,Ve.jsx)(sh,{children:e.length>0?e.map((e=>(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:e.id}),(0,Ve.jsx)(th,{children:e.nombre}),(0,Ve.jsx)(th,{children:e.activo?"Activo":"Inactivo"}),(0,Ve.jsxs)(th,{children:[(0,Ve.jsx)(Ir,{onClick:()=>L(e),children:(0,Ve.jsx)(yC,{})}),(0,Ve.jsx)(Ir,{onClick:()=>(async e=>{I(e),O(!0)})(e.id),children:(0,Ve.jsx)(NE,{})})]})]},e.id))):(0,Ve.jsx)(Xp,{children:(0,Ve.jsx)(th,{colSpan:4,align:"center",children:"No hay categor\xedas registradas"})})})]})})]}),(0,Ve.jsxs)(Et,{hidden:1!==A,sx:{mt:2},children:[(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"end",mb:2},children:(0,Ve.jsx)(fs,{variant:"contained",startIcon:(0,Ve.jsx)(XS,{}),onClick:()=>F(),disabled:0===e.length,children:"Nueva Subcategor\xeda"})}),(0,Ve.jsx)(Dp,{children:(0,Ve.jsxs)(zp,{children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"ID"}),(0,Ve.jsx)(th,{children:"Nombre"}),(0,Ve.jsx)(th,{children:"Categor\xeda"}),(0,Ve.jsx)(th,{children:"Estado"}),(0,Ve.jsx)(th,{children:"Acciones"})]})}),(0,Ve.jsx)(sh,{children:u.length>0?u.map((t=>{var r;return(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:t.id}),(0,Ve.jsx)(th,{children:t.nombre}),(0,Ve.jsx)(th,{children:(null===(r=e.find((e=>e.id===t.categoriaId)))||void 0===r?void 0:r.nombre)||"N/A"}),(0,Ve.jsx)(th,{children:t.activo?"Activo":"Inactivo"}),(0,Ve.jsxs)(th,{children:[(0,Ve.jsx)(Ir,{onClick:()=>F(t),children:(0,Ve.jsx)(yC,{})}),(0,Ve.jsx)(Ir,{onClick:()=>(async e=>{R(e),M(!0)})(t.id),children:(0,Ve.jsx)(NE,{})})]})]},t.id)})):(0,Ve.jsx)(Xp,{children:(0,Ve.jsx)(th,{colSpan:5,align:"center",children:"No hay subcategor\xedas registradas"})})})]})})]})]}),(0,Ve.jsxs)(Fi,{open:o,onClose:B,children:[(0,Ve.jsx)(Gi,{children:r?"Editar Categor\xeda":"Nueva Categor\xeda"}),(0,Ve.jsx)(Ki,{children:(0,Ve.jsxs)($h,{container:!0,spacing:2,sx:{mt:1},children:[(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsx)(jp,{label:"Nombre de la Categor\xeda",value:s,onChange:e=>l(e.target.value),fullWidth:!0,autoFocus:!0,onFocus:e=>e.target.select()})}),(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsx)(dS,{control:(0,Ve.jsx)(sQ,{checked:c,onChange:e=>d(e.target.checked)}),label:"Activo"})})]})}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:B,children:"Cancelar"}),(0,Ve.jsx)(fs,{onClick:async()=>{if(s.trim())try{let e;r?(e=await ed.put(`${OQ}/categorias-gastos/${r.id}`,{nombre:s,activo:c}),z("Categor\xeda actualizada correctamente","success")):(e=await ed.post(`${OQ}/categorias-gastos`,{nombre:s,activo:c}),z("Categor\xeda creada correctamente","success")),B(),N()}catch(e){console.error("Error al guardar categor\xeda:",e),z("Error al guardar la categor\xeda","error")}else z("El nombre de la categor\xeda es obligatorio","error")},variant:"contained",color:"primary",children:"Guardar"})]})]}),(0,Ve.jsxs)(Fi,{open:m,onClose:_,children:[(0,Ve.jsx)(Gi,{children:h?"Editar Subcategor\xeda":"Nueva Subcategor\xeda"}),(0,Ve.jsx)(Ki,{children:(0,Ve.jsxs)($h,{container:!0,spacing:2,sx:{mt:1},children:[(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsx)(jp,{label:"Nombre de la Subcategor\xeda",value:v,onChange:e=>x(e.target.value),fullWidth:!0,autoFocus:!0,onFocus:e=>e.target.select()})}),(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsxs)(jp,{select:!0,label:"Categor\xeda",value:b||"",onChange:e=>y(Number(e.target.value)),fullWidth:!0,children:[(0,Ve.jsx)(_h,{value:"",disabled:!0,children:"Seleccione una categor\xeda"}),e.map((e=>(0,Ve.jsx)(_h,{value:e.id,children:e.nombre},e.id)))]})}),(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsx)(dS,{control:(0,Ve.jsx)(sQ,{checked:j,onChange:e=>w(e.target.checked)}),label:"Activo"})})]})}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:_,children:"Cancelar"}),(0,Ve.jsx)(fs,{onClick:async()=>{if(v.trim())if(null!==b)try{let e;h?(e=await ed.put(`${OQ}/subcategorias-gastos/${h.id}`,{nombre:v,categoriaId:b,activo:j}),z("Subcategor\xeda actualizada correctamente","success")):(e=await ed.post(`${OQ}/subcategorias-gastos`,{nombre:v,categoriaId:b,activo:j}),z("Subcategor\xeda creada correctamente","success")),_(),$()}catch(e){console.error("Error al guardar subcategor\xeda:",e),z("Error al guardar la subcategor\xeda","error")}else z("Debe seleccionar una categor\xeda","error");else z("El nombre de la subcategor\xeda es obligatorio","error")},variant:"contained",color:"primary",children:"Guardar"})]})]}),(0,Ve.jsxs)(Fi,{open:k,onClose:()=>O(!1),children:[(0,Ve.jsx)(Gi,{children:"Eliminar Categor\xeda"}),(0,Ve.jsx)(Ki,{children:(0,Ve.jsx)(Zi,{children:"\xbfEst\xe1 seguro que desea eliminar esta categor\xeda? Esta acci\xf3n tambi\xe9n eliminar\xe1 todas las subcategor\xedas asociadas."})}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:()=>O(!1),children:"Cancelar"}),(0,Ve.jsx)(fs,{onClick:async()=>{if(null!==P)try{await ed.delete(`${OQ}/categorias-gastos/${P}`),z("Categor\xeda eliminada correctamente","success"),N(),$()}catch(e){console.error("Error al eliminar categor\xeda:",e),z("Error al eliminar la categor\xeda","error")}O(!1),I(null)},color:"error",variant:"contained",children:"Eliminar"})]})]}),(0,Ve.jsxs)(Fi,{open:D,onClose:()=>M(!1),children:[(0,Ve.jsx)(Gi,{children:"Eliminar Subcategor\xeda"}),(0,Ve.jsx)(Ki,{children:(0,Ve.jsx)(Zi,{children:"\xbfEst\xe1 seguro que desea eliminar esta subcategor\xeda?"})}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:()=>M(!1),children:"Cancelar"}),(0,Ve.jsx)(fs,{onClick:async()=>{if(null!==T)try{await ed.delete(`${OQ}/subcategorias-gastos/${T}`),z("Subcategor\xeda eliminada correctamente","success"),$()}catch(e){console.error("Error al eliminar subcategor\xeda:",e),z("Error al eliminar la subcategor\xeda","error")}M(!1),R(null)},color:"error",variant:"contained",children:"Eliminar"})]})]}),(0,Ve.jsx)(tf,{open:S.open,autoHideDuration:6e3,onClose:()=>C({...S,open:!1}),children:(0,Ve.jsx)(Ah,{onClose:()=>C({...S,open:!1}),severity:S.severity,sx:{width:"100%"},children:S.message})})]})},IQ=(0,ms.A)((0,Ve.jsx)("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 18H4V8h16z"}),"CalendarToday"),DQ=(0,ms.A)((0,Ve.jsx)("path",{d:"M11 17h2v-1h1c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1h-3v-1h4V8h-2V7h-2v1h-1c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1h3v1H9v2h2zm9-13H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4V6h16z"}),"LocalAtm"),MQ=(0,ms.A)((0,Ve.jsx)("path",{d:"M23 8c0 1.1-.9 2-2 2-.18 0-.35-.02-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56C19.02 8.35 19 8.18 19 8c0-1.1.9-2 2-2s2 .9 2 2"}),"Timeline"),TQ=(0,ms.A)((0,Ve.jsx)("path",{d:"M11 5.08V2c-5 .5-9 4.81-9 10s4 9.5 9 10v-3.08c-3-.48-6-3.4-6-6.92s3-6.44 6-6.92M18.97 11H22c-.47-5-4-8.53-9-9v3.08C16 5.51 18.54 8 18.97 11M13 18.92V22c5-.47 8.53-4 9-9h-3.03c-.43 3-2.97 5.49-5.97 5.92"}),"DonutLarge"),RQ=(0,ms.A)((0,Ve.jsx)("path",{d:"M12 7V3H2v18h20V7zM6 19H4v-2h2zm0-4H4v-2h2zm0-4H4V9h2zm0-4H4V5h2zm4 12H8v-2h2zm0-4H8v-2h2zm0-4H8V9h2zm0-4H8V5h2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8zm-2-8h-2v2h2zm0 4h-2v2h2z"}),"Business"),NQ=(0,ms.A)((0,Ve.jsx)("path",{d:"M4 9h4v11H4zm12 4h4v7h-4zm-6-9h4v16h-4z"}),"BarChart");function $Q(e,t){if(Jx(2,arguments),!t||"object"!==Qx(t))return new Date(NaN);var r=t.years?Xx(t.years):0,n=t.months?Xx(t.months):0,o=t.weeks?Xx(t.weeks):0,a=t.days?Xx(t.days):0,i=t.hours?Xx(t.hours):0,s=t.minutes?Xx(t.minutes):0,l=t.seconds?Xx(t.seconds):0,c=function(e,t){return Jx(2,arguments),rb(e,-Xx(t))}(e,n+12*r),d=function(e,t){return Jx(2,arguments),eb(e,-Xx(t))}(c,a+7*o),u=1e3*(l+60*(s+60*i));return new Date(d.getTime()-u)}var zQ,LQ=["layout","type","stroke","connectNulls","isRange","ref"],BQ=["key"];function FQ(e){return FQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FQ(e)}function _Q(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function UQ(){return UQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},UQ.apply(this,arguments)}function WQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function VQ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?WQ(Object(r),!0).forEach((function(t){XQ(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WQ(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function GQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QQ(n.key),n)}}function HQ(e,t,r){return t=YQ(t),function(e,t){if(t&&("object"===FQ(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,qQ()?Reflect.construct(t,r||[],YQ(e).constructor):t.apply(e,r))}function qQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(qQ=function(){return!!e})()}function YQ(e){return YQ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},YQ(e)}function KQ(e,t){return KQ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},KQ(e,t)}function XQ(e,t,r){return(t=QQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QQ(e){var t=function(e,t){if("object"!=FQ(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=FQ(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==FQ(t)?t:t+""}var JQ=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return XQ(e=HQ(this,t,[].concat(n)),"state",{isAnimationFinished:!0}),XQ(e,"id",JI("recharts-area-")),XQ(e,"handleAnimationEnd",(function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),lD()(t)&&t()})),XQ(e,"handleAnimationStart",(function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),lD()(t)&&t()})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KQ(e,t)}(t,e),r=t,o=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,curBaseLine:e.baseLine,prevPoints:t.curPoints,prevBaseLine:t.curBaseLine}:e.points!==t.curPoints||e.baseLine!==t.curBaseLine?{curPoints:e.points,curBaseLine:e.baseLine}:null}}],(n=[{key:"renderDots",value:function(e,r,n){var o=this.props.isAnimationActive,i=this.state.isAnimationFinished;if(o&&!i)return null;var s=this.props,l=s.dot,c=s.points,d=s.dataKey,u=ND(this.props,!1),p=ND(l,!0),h=c.map((function(e,r){var n=VQ(VQ(VQ({key:"dot-".concat(r),r:3},u),p),{},{index:r,cx:e.x,cy:e.y,dataKey:d,value:e.value,payload:e.payload,points:c});return t.renderDotItem(l,n)})),f={clipPath:e?"url(#clipPath-".concat(r?"":"dots-").concat(n,")"):null};return a.createElement(aM,UQ({className:"recharts-area-dots"},f),h)}},{key:"renderHorizontalRect",value:function(e){var t=this.props,r=t.baseLine,n=t.points,o=t.strokeWidth,i=n[0].x,s=n[n.length-1].x,l=e*Math.abs(i-s),c=G_()(n.map((function(e){return e.y||0})));return KI(r)&&"number"===typeof r?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(G_()(r.map((function(e){return e.y||0}))),c)),KI(c)?a.createElement("rect",{x:i<s?i:i-l,y:0,width:l,height:Math.floor(c+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(e){var t=this.props,r=t.baseLine,n=t.points,o=t.strokeWidth,i=n[0].y,s=n[n.length-1].y,l=e*Math.abs(i-s),c=G_()(n.map((function(e){return e.x||0})));return KI(r)&&"number"===typeof r?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(G_()(r.map((function(e){return e.x||0}))),c)),KI(c)?a.createElement("rect",{x:0,y:i<s?i:i-l,width:c+(o?parseInt("".concat(o),10):1),height:Math.floor(l)}):null}},{key:"renderClipRect",value:function(e){return"vertical"===this.props.layout?this.renderVerticalRect(e):this.renderHorizontalRect(e)}},{key:"renderAreaStatically",value:function(e,t,r,n){var o=this.props,i=o.layout,s=o.type,l=o.stroke,c=o.connectNulls,d=o.isRange,u=(o.ref,_Q(o,LQ));return a.createElement(aM,{clipPath:r?"url(#clipPath-".concat(n,")"):null},a.createElement(Uq,UQ({},ND(u,!0),{points:e,connectNulls:c,type:s,baseLine:t,layout:i,stroke:"none",className:"recharts-area-area"})),"none"!==l&&a.createElement(Uq,UQ({},ND(this.props,!1),{className:"recharts-area-curve",layout:i,type:s,connectNulls:c,fill:"none",points:e})),"none"!==l&&d&&a.createElement(Uq,UQ({},ND(this.props,!1),{className:"recharts-area-curve",layout:i,type:s,connectNulls:c,fill:"none",points:t})))}},{key:"renderAreaWithAnimation",value:function(e,t){var r=this,n=this.props,o=n.points,i=n.baseLine,s=n.isAnimationActive,l=n.animationBegin,c=n.animationDuration,d=n.animationEasing,u=n.animationId,p=this.state,h=p.prevPoints,f=p.prevBaseLine;return a.createElement($N,{begin:l,duration:c,isActive:s,easing:d,from:{t:0},to:{t:1},key:"area-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(n){var s=n.t;if(h){var l,c=h.length/o.length,d=o.map((function(e,t){var r=Math.floor(t*c);if(h[r]){var n=h[r],o=tD(n.x,e.x),a=tD(n.y,e.y);return VQ(VQ({},e),{},{x:o(s),y:a(s)})}return e}));return l=KI(i)&&"number"===typeof i?tD(f,i)(s):iD()(i)||UI()(i)?tD(f,0)(s):i.map((function(e,t){var r=Math.floor(t*c);if(f[r]){var n=f[r],o=tD(n.x,e.x),a=tD(n.y,e.y);return VQ(VQ({},e),{},{x:o(s),y:a(s)})}return e})),r.renderAreaStatically(d,l,e,t)}return a.createElement(aM,null,a.createElement("defs",null,a.createElement("clipPath",{id:"animationClipPath-".concat(t)},r.renderClipRect(s))),a.createElement(aM,{clipPath:"url(#animationClipPath-".concat(t,")")},r.renderAreaStatically(o,i,e,t)))}))}},{key:"renderArea",value:function(e,t){var r=this.props,n=r.points,o=r.baseLine,a=r.isAnimationActive,i=this.state,s=i.prevPoints,l=i.prevBaseLine,c=i.totalLength;return a&&n&&n.length&&(!s&&c>0||!Q_()(s,n)||!Q_()(l,o))?this.renderAreaWithAnimation(e,t):this.renderAreaStatically(n,o,e,t)}},{key:"render",value:function(){var e,t=this.props,r=t.hide,n=t.dot,o=t.points,i=t.className,s=t.top,l=t.left,c=t.xAxis,d=t.yAxis,u=t.width,p=t.height,h=t.isAnimationActive,f=t.id;if(r||!o||!o.length)return null;var m=this.state.isAnimationFinished,g=1===o.length,v=(0,vt.A)("recharts-area",i),x=c&&c.allowDataOverflow,b=d&&d.allowDataOverflow,y=x||b,j=iD()(f)?this.id:f,w=null!==(e=ND(n,!1))&&void 0!==e?e:{r:3,strokeWidth:2},S=w.r,C=void 0===S?3:S,A=w.strokeWidth,E=void 0===A?2:A,k=(RD(n)?n:{}).clipDot,O=void 0===k||k,P=2*C+E;return a.createElement(aM,{className:v},x||b?a.createElement("defs",null,a.createElement("clipPath",{id:"clipPath-".concat(j)},a.createElement("rect",{x:x?l:l-u/2,y:b?s:s-p/2,width:x?u:2*u,height:b?p:2*p})),!O&&a.createElement("clipPath",{id:"clipPath-dots-".concat(j)},a.createElement("rect",{x:l-P/2,y:s-P/2,width:u+P,height:p+P}))):null,g?null:this.renderArea(y,j),(n||g)&&this.renderDots(y,O,j),(!h||m)&&PV.renderCallByParent(this.props,o))}}])&&GQ(r.prototype,n),o&&GQ(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(a.PureComponent);zQ=JQ,XQ(JQ,"displayName","Area"),XQ(JQ,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!MM.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),XQ(JQ,"getBaseValue",(function(e,t,r,n){var o=e.layout,a=e.baseValue,i=t.props.baseValue,s=null!==i&&void 0!==i?i:a;if(KI(s)&&"number"===typeof s)return s;var l="horizontal"===o?n:r,c=l.scale.domain();if("number"===l.type){var d=Math.max(c[0],c[1]),u=Math.min(c[0],c[1]);return"dataMin"===s?u:"dataMax"===s||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return"dataMin"===s?c[0]:"dataMax"===s?c[1]:c[0]})),XQ(JQ,"getComposedData",(function(e){var t,r=e.props,n=e.item,o=e.xAxis,a=e.yAxis,i=e.xAxisTicks,s=e.yAxisTicks,l=e.bandSize,c=e.dataKey,d=e.stackedData,u=e.dataStartIndex,p=e.displayedData,h=e.offset,f=r.layout,m=d&&d.length,g=zQ.getBaseValue(r,n,o,a),v="horizontal"===f,x=!1,b=p.map((function(e,t){var r;m?r=d[u+t]:(r=KU(e,c),Array.isArray(r)?x=!0:r=[g,r]);var n=null==r[1]||m&&null==KU(e,c);return v?{x:uW({axis:o,ticks:i,bandSize:l,entry:e,index:t}),y:n?null:a.scale(r[1]),value:r,payload:e}:{x:n?null:o.scale(r[1]),y:uW({axis:a,ticks:s,bandSize:l,entry:e,index:t}),value:r,payload:e}}));return t=m||x?b.map((function(e){var t=Array.isArray(e.value)?e.value[0]:null;return v?{x:e.x,y:null!=t&&null!=e.y?a.scale(t):null}:{x:null!=t?o.scale(t):null,y:e.y}})):v?a.scale(g):o.scale(g),VQ({points:b,baseLine:t,layout:f,isRange:x},h)})),XQ(JQ,"renderDotItem",(function(e,t){var r;if(a.isValidElement(e))r=a.cloneElement(e,t);else if(lD()(e))r=e(t);else{var n=(0,vt.A)("recharts-area-dot","boolean"!==typeof e?e.className:""),o=t.key,i=_Q(t,BQ);r=a.createElement(cR,UQ({},i,{key:o,className:n}))}return r}));var ZQ=$Y({chartName:"AreaChart",GraphicalChild:JQ,axisComponents:[{axisType:"xAxis",AxisComp:RK},{axisType:"yAxis",AxisComp:GK}],formatAxisMap:GG}),eJ=["points","className","baseLinePoints","connectNulls"];function tJ(){return tJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tJ.apply(this,arguments)}function rJ(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function nJ(e){return function(e){if(Array.isArray(e))return oJ(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return oJ(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oJ(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oJ(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var aJ=function(e){return e&&e.x===+e.x&&e.y===+e.y},iJ=function(e,t){var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach((function(e){aJ(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])})),aJ(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(r=[r.reduce((function(e,t){return[].concat(nJ(e),nJ(t))}),[])]);var n=r.map((function(e){return e.reduce((function(e,t,r){return"".concat(e).concat(0===r?"M":"L").concat(t.x,",").concat(t.y)}),"")})).join("");return 1===r.length?"".concat(n,"Z"):n},sJ=function(e){var t=e.points,r=e.className,n=e.baseLinePoints,o=e.connectNulls,i=rJ(e,eJ);if(!t||!t.length)return null;var s=(0,vt.A)("recharts-polygon",r);if(n&&n.length){var l=i.stroke&&"none"!==i.stroke,c=function(e,t,r){var n=iJ(e,r);return"".concat("Z"===n.slice(-1)?n.slice(0,-1):n,"L").concat(iJ(t.reverse(),r).slice(1))}(t,n,o);return a.createElement("g",{className:s},a.createElement("path",tJ({},ND(i,!0),{fill:"Z"===c.slice(-1)?i.fill:"none",stroke:"none",d:c})),l?a.createElement("path",tJ({},ND(i,!0),{fill:"none",d:iJ(t,o)})):null,l?a.createElement("path",tJ({},ND(i,!0),{fill:"none",d:iJ(n,o)})):null)}var d=iJ(t,o);return a.createElement("path",tJ({},ND(i,!0),{fill:"Z"===d.slice(-1)?i.fill:"none",className:s,d:d}))};function lJ(e){return lJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lJ(e)}function cJ(){return cJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cJ.apply(this,arguments)}function dJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function uJ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dJ(Object(r),!0).forEach((function(t){vJ(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dJ(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xJ(n.key),n)}}function hJ(e,t,r){return t=mJ(t),function(e,t){if(t&&("object"===lJ(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,fJ()?Reflect.construct(t,r||[],mJ(e).constructor):t.apply(e,r))}function fJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(fJ=function(){return!!e})()}function mJ(e){return mJ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mJ(e)}function gJ(e,t){return gJ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gJ(e,t)}function vJ(e,t,r){return(t=xJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xJ(e){var t=function(e,t){if("object"!=lJ(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=lJ(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lJ(t)?t:t+""}var bJ=Math.PI/180,yJ=1e-5,jJ=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),hJ(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gJ(e,t)}(t,e),r=t,o=[{key:"renderTickItem",value:function(e,t,r){return a.isValidElement(e)?a.cloneElement(e,t):lD()(e)?e(t):a.createElement(U$,cJ({},t,{className:"recharts-polar-angle-axis-tick-value"}),r)}}],(n=[{key:"getTickLineCoord",value:function(e){var t=this.props,r=t.cx,n=t.cy,o=t.radius,a=t.orientation,i=t.tickSize||8,s=HW(r,n,o,e.coordinate),l=HW(r,n,o+("inner"===a?-1:1)*i,e.coordinate);return{x1:s.x,y1:s.y,x2:l.x,y2:l.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,r=Math.cos(-e.coordinate*bJ);return r>yJ?"outer"===t?"start":"end":r<-1e-5?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.radius,o=e.axisLine,i=e.axisLineType,s=uJ(uJ({},ND(this.props,!1)),{},{fill:"none"},ND(o,!1));if("circle"===i)return a.createElement(cR,cJ({className:"recharts-polar-angle-axis-line"},s,{cx:t,cy:r,r:n}));var l=this.props.ticks.map((function(e){return HW(t,r,n,e.coordinate)}));return a.createElement(sJ,cJ({className:"recharts-polar-angle-axis-line"},s,{points:l}))}},{key:"renderTicks",value:function(){var e=this,r=this.props,n=r.ticks,o=r.tick,i=r.tickLine,s=r.tickFormatter,l=r.stroke,c=ND(this.props,!1),d=ND(o,!1),u=uJ(uJ({},c),{},{fill:"none"},ND(i,!1)),p=n.map((function(r,n){var p=e.getTickLineCoord(r),h=uJ(uJ(uJ({textAnchor:e.getTickTextAnchor(r)},c),{},{stroke:"none",fill:l},d),{},{index:n,payload:r,x:p.x2,y:p.y2});return a.createElement(aM,cJ({className:(0,vt.A)("recharts-polar-angle-axis-tick",QW(o)),key:"tick-".concat(r.coordinate)},bD(e.props,r,n)),i&&a.createElement("line",cJ({className:"recharts-polar-angle-axis-tick-line"},u,p)),o&&t.renderTickItem(o,h,s?s(r.value,n):r.value))}));return a.createElement(aM,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var e=this.props,t=e.ticks,r=e.radius,n=e.axisLine;return r<=0||!t||!t.length?null:a.createElement(aM,{className:(0,vt.A)("recharts-polar-angle-axis",this.props.className)},n&&this.renderAxisLine(),this.renderTicks())}}])&&pJ(r.prototype,n),o&&pJ(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(a.PureComponent);vJ(jJ,"displayName","PolarAngleAxis"),vJ(jJ,"axisType","angleAxis"),vJ(jJ,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var wJ=r(2794),SJ=r.n(wJ),CJ=r(9364),AJ=r.n(CJ),EJ=["cx","cy","angle","ticks","axisLine"],kJ=["ticks","tick","angle","tickFormatter","stroke"];function OJ(e){return OJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OJ(e)}function PJ(){return PJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PJ.apply(this,arguments)}function IJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function DJ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?IJ(Object(r),!0).forEach((function(t){LJ(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IJ(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function MJ(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function TJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BJ(n.key),n)}}function RJ(e,t,r){return t=$J(t),function(e,t){if(t&&("object"===OJ(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,NJ()?Reflect.construct(t,r||[],$J(e).constructor):t.apply(e,r))}function NJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(NJ=function(){return!!e})()}function $J(e){return $J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$J(e)}function zJ(e,t){return zJ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zJ(e,t)}function LJ(e,t,r){return(t=BJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BJ(e){var t=function(e,t){if("object"!=OJ(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=OJ(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==OJ(t)?t:t+""}var FJ,_J=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),RJ(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zJ(e,t)}(t,e),r=t,o=[{key:"renderTickItem",value:function(e,t,r){return a.isValidElement(e)?a.cloneElement(e,t):lD()(e)?e(t):a.createElement(U$,PJ({},t,{className:"recharts-polar-radius-axis-tick-value"}),r)}}],(n=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,r=this.props,n=r.angle,o=r.cx,a=r.cy;return HW(o,a,t,n)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.angle,o=e.ticks,a=SJ()(o,(function(e){return e.coordinate||0}));return{cx:t,cy:r,startAngle:n,endAngle:n,innerRadius:AJ()(o,(function(e){return e.coordinate||0})).coordinate||0,outerRadius:a.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.angle,o=e.ticks,i=e.axisLine,s=MJ(e,EJ),l=o.reduce((function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]}),[1/0,-1/0]),c=HW(t,r,l[0],n),d=HW(t,r,l[1],n),u=DJ(DJ(DJ({},ND(s,!1)),{},{fill:"none"},ND(i,!1)),{},{x1:c.x,y1:c.y,x2:d.x,y2:d.y});return a.createElement("line",PJ({className:"recharts-polar-radius-axis-line"},u))}},{key:"renderTicks",value:function(){var e=this,r=this.props,n=r.ticks,o=r.tick,i=r.angle,s=r.tickFormatter,l=r.stroke,c=MJ(r,kJ),d=this.getTickTextAnchor(),u=ND(c,!1),p=ND(o,!1),h=n.map((function(r,n){var c=e.getTickValueCoord(r),h=DJ(DJ(DJ(DJ({textAnchor:d,transform:"rotate(".concat(90-i,", ").concat(c.x,", ").concat(c.y,")")},u),{},{stroke:"none",fill:l},p),{},{index:n},c),{},{payload:r});return a.createElement(aM,PJ({className:(0,vt.A)("recharts-polar-radius-axis-tick",QW(o)),key:"tick-".concat(r.coordinate)},bD(e.props,r,n)),t.renderTickItem(o,h,s?s(r.value,n):r.value))}));return a.createElement(aM,{className:"recharts-polar-radius-axis-ticks"},h)}},{key:"render",value:function(){var e=this.props,t=e.ticks,r=e.axisLine,n=e.tick;return t&&t.length?a.createElement(aM,{className:(0,vt.A)("recharts-polar-radius-axis",this.props.className)},r&&this.renderAxisLine(),n&&this.renderTicks(),lV.renderCallByParent(this.props,this.getViewBox())):null}}])&&TJ(r.prototype,n),o&&TJ(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(a.PureComponent);function UJ(e){return UJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UJ(e)}function WJ(){return WJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},WJ.apply(this,arguments)}function VJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function GJ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?VJ(Object(r),!0).forEach((function(t){QJ(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VJ(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function HJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JJ(n.key),n)}}function qJ(e,t,r){return t=KJ(t),function(e,t){if(t&&("object"===UJ(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,YJ()?Reflect.construct(t,r||[],KJ(e).constructor):t.apply(e,r))}function YJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(YJ=function(){return!!e})()}function KJ(e){return KJ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},KJ(e)}function XJ(e,t){return XJ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},XJ(e,t)}function QJ(e,t,r){return(t=JJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JJ(e){var t=function(e,t){if("object"!=UJ(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=UJ(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==UJ(t)?t:t+""}LJ(_J,"displayName","PolarRadiusAxis"),LJ(_J,"axisType","radiusAxis"),LJ(_J,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var ZJ=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),QJ(r=qJ(this,t,[e]),"pieRef",null),QJ(r,"sectorRefs",[]),QJ(r,"id",JI("recharts-pie-")),QJ(r,"handleAnimationEnd",(function(){var e=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),lD()(e)&&e()})),QJ(r,"handleAnimationStart",(function(){var e=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),lD()(e)&&e()})),r.state={isAnimationFinished:!e.isAnimationActive,prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,sectorToFocus:0},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XJ(e,t)}(t,e),r=t,o=[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,t,r){if(a.isValidElement(e))return a.cloneElement(e,t);if(lD()(e))return e(t);var n=(0,vt.A)("recharts-pie-label-line","boolean"!==typeof e?e.className:"");return a.createElement(Uq,WJ({},t,{key:r,type:"linear",className:n}))}},{key:"renderLabelItem",value:function(e,t,r){if(a.isValidElement(e))return a.cloneElement(e,t);var n=r;if(lD()(e)&&(n=e(t),a.isValidElement(n)))return n;var o=(0,vt.A)("recharts-pie-label-text","boolean"===typeof e||lD()(e)?"":e.className);return a.createElement(U$,WJ({},t,{alignmentBaseline:"middle",className:o}),n)}}],(n=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function(e){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,n=r.label,o=r.labelLine,i=r.dataKey,s=r.valueKey,l=ND(this.props,!1),c=ND(n,!1),d=ND(o,!1),u=n&&n.offsetRadius||20,p=e.map((function(e,r){var p=(e.startAngle+e.endAngle)/2,h=HW(e.cx,e.cy,e.outerRadius+u,p),f=GJ(GJ(GJ(GJ({},l),e),{},{stroke:"none"},c),{},{index:r,textAnchor:t.getTextAnchor(h.x,e.cx)},h),m=GJ(GJ(GJ(GJ({},l),e),{},{fill:"none",stroke:e.fill},d),{},{index:r,points:[HW(e.cx,e.cy,e.outerRadius,p),h]}),g=i;return iD()(i)&&iD()(s)?g="value":iD()(i)&&(g=s),a.createElement(aM,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(r)},o&&t.renderLabelLineItem(o,m,"line"),t.renderLabelItem(n,f,KU(e,g)))}));return a.createElement(aM,{className:"recharts-pie-labels"},p)}},{key:"renderSectorsStatically",value:function(e){var t=this,r=this.props,n=r.activeShape,o=r.blendStroke,i=r.inactiveShape;return e.map((function(r,s){if(0===(null===r||void 0===r?void 0:r.startAngle)&&0===(null===r||void 0===r?void 0:r.endAngle)&&1!==e.length)return null;var l=t.isActiveIndex(s),c=i&&t.hasActiveIndex()?i:null,d=l?n:c,u=GJ(GJ({},r),{},{stroke:o?r.fill:r.stroke,tabIndex:-1});return a.createElement(aM,WJ({ref:function(e){e&&!t.sectorRefs.includes(e)&&t.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},bD(t.props,r,s),{key:"sector-".concat(null===r||void 0===r?void 0:r.startAngle,"-").concat(null===r||void 0===r?void 0:r.endAngle,"-").concat(r.midAngle,"-").concat(s)}),a.createElement(sG,WJ({option:d,isActive:l,shapeType:"sector"},u)))}))}},{key:"renderSectorsWithAnimation",value:function(){var e=this,t=this.props,r=t.sectors,n=t.isAnimationActive,o=t.animationBegin,i=t.animationDuration,s=t.animationEasing,l=t.animationId,c=this.state,d=c.prevSectors,u=c.prevIsAnimationActive;return a.createElement($N,{begin:o,duration:i,isActive:n,easing:s,from:{t:0},to:{t:1},key:"pie-".concat(l,"-").concat(u),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},(function(t){var n=t.t,o=[],i=(r&&r[0]).startAngle;return r.forEach((function(e,t){var r=d&&d[t],a=t>0?VI()(e,"paddingAngle",0):0;if(r){var s=tD(r.endAngle-r.startAngle,e.endAngle-e.startAngle),l=GJ(GJ({},e),{},{startAngle:i+a,endAngle:i+s(n)+a});o.push(l),i=l.endAngle}else{var c=e.endAngle,u=e.startAngle,p=tD(0,c-u)(n),h=GJ(GJ({},e),{},{startAngle:i+a,endAngle:i+p+a});o.push(h),i=h.endAngle}})),a.createElement(aM,null,e.renderSectorsStatically(o))}))}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var r=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[r].focus(),t.setState({sectorToFocus:r});break;case"ArrowRight":var n=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[n].focus(),t.setState({sectorToFocus:n});break;case"Escape":t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,r=e.isAnimationActive,n=this.state.prevSectors;return!(r&&t&&t.length)||n&&Q_()(n,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,t=this.props,r=t.hide,n=t.sectors,o=t.className,i=t.label,s=t.cx,l=t.cy,c=t.innerRadius,d=t.outerRadius,u=t.isAnimationActive,p=this.state.isAnimationFinished;if(r||!n||!n.length||!KI(s)||!KI(l)||!KI(c)||!KI(d))return null;var h=(0,vt.A)("recharts-pie",o);return a.createElement(aM,{tabIndex:this.props.rootTabIndex,className:h,ref:function(t){e.pieRef=t}},this.renderSectors(),i&&this.renderLabels(n),lV.renderCallByParent(this.props,null,!1),(!u||p)&&PV.renderCallByParent(this.props,n,!1))}}])&&HJ(r.prototype,n),o&&HJ(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(a.PureComponent);FJ=ZJ,QJ(ZJ,"displayName","Pie"),QJ(ZJ,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!MM.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),QJ(ZJ,"parseDeltaAngle",(function(e,t){return qI(t-e)*Math.min(Math.abs(t-e),360)})),QJ(ZJ,"getRealPieData",(function(e){var t=e.data,r=e.children,n=ND(e,!1),o=PD(r,mV);return t&&t.length?t.map((function(e,t){return GJ(GJ(GJ({payload:e},n),e),o&&o[t]&&o[t].props)})):o&&o.length?o.map((function(e){return GJ(GJ({},n),e.props)})):[]})),QJ(ZJ,"parseCoordinateOfPie",(function(e,t){var r=t.top,n=t.left,o=t.width,a=t.height,i=qW(o,a);return{cx:n+ZI(e.cx,o,o/2),cy:r+ZI(e.cy,a,a/2),innerRadius:ZI(e.innerRadius,i,0),outerRadius:ZI(e.outerRadius,i,.8*i),maxRadius:e.maxRadius||Math.sqrt(o*o+a*a)/2}})),QJ(ZJ,"getComposedData",(function(e){var t=e.item,r=e.offset,n=void 0!==t.type.defaultProps?GJ(GJ({},t.type.defaultProps),t.props):t.props,o=FJ.getRealPieData(n);if(!o||!o.length)return null;var a=n.cornerRadius,i=n.startAngle,s=n.endAngle,l=n.paddingAngle,c=n.dataKey,d=n.nameKey,u=n.valueKey,p=n.tooltipType,h=Math.abs(n.minAngle),f=FJ.parseCoordinateOfPie(n,r),m=FJ.parseDeltaAngle(i,s),g=Math.abs(m),v=c;iD()(c)&&iD()(u)?(oD(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),v="value"):iD()(c)&&(oD(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),v=u);var x,b,y=o.filter((function(e){return 0!==KU(e,v,0)})).length,j=g-y*h-(g>=360?y:y-1)*l,w=o.reduce((function(e,t){var r=KU(t,v,0);return e+(KI(r)?r:0)}),0);w>0&&(x=o.map((function(e,t){var r,n=KU(e,v,0),o=KU(e,d,t),s=(KI(n)?n:0)/w,c=(r=t?b.endAngle+qI(m)*l*(0!==n?1:0):i)+qI(m)*((0!==n?h:0)+s*j),u=(r+c)/2,g=(f.innerRadius+f.outerRadius)/2,x=[{name:o,value:n,payload:e,dataKey:v,type:p}],y=HW(f.cx,f.cy,g,u);return b=GJ(GJ(GJ({percent:s,cornerRadius:a,name:o,tooltipPayload:x,midAngle:u,middleRadius:g,tooltipPosition:y},e),f),{},{value:KU(e,v),startAngle:r,endAngle:c,payload:e,paddingAngle:qI(m)*l})})));return GJ(GJ({},f),{},{sectors:x,data:o})}));var eZ=$Y({chartName:"PieChart",GraphicalChild:ZJ,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:jJ},{axisType:"radiusAxis",AxisComp:_J}],formatAxisMap:function(e,t,r,n,o){var a=e.width,i=e.height,s=e.startAngle,l=e.endAngle,c=ZI(e.cx,a,a/2),d=ZI(e.cy,i,i/2),u=qW(a,i,r),p=ZI(e.innerRadius,u,0),h=ZI(e.outerRadius,u,.8*u);return Object.keys(t).reduce((function(e,r){var a,i=t[r],u=i.domain,f=i.reversed;if(iD()(i.range))"angleAxis"===n?a=[s,l]:"radiusAxis"===n&&(a=[p,h]),f&&(a=[a[1],a[0]]);else{var m=UW(a=i.range,2);s=m[0],l=m[1]}var g=aW(i,o),v=g.realScaleType,x=g.scale;x.domain(u).range(a),sW(x);var b=dW(x,FW(FW({},i),{},{realScaleType:v})),y=FW(FW(FW({},i),b),{},{range:a,radius:h,realScaleType:v,scale:x,cx:c,cy:d,innerRadius:p,outerRadius:h,startAngle:s,endAngle:l});return FW(FW({},e),{},_W({},r,y))}),{})},defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),tZ=$Y({chartName:"BarChart",GraphicalChild:LG,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:RK},{axisType:"yAxis",AxisComp:GK}],formatAxisMap:GG});const rZ={fecha:new Date,descripcion:"",monto:"",moneda:"GS",categoriaId:"",subcategoriaId:"",sucursalId:"",observaciones:"",comprobante:null},nZ=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D","#FFC658","#8DD1E1","#A4DE6C","#D0ED57","#54478C","#2C699A","#048BA8","#0DB39E","#16DB93","#83E377","#B9E769","#EFEA5A","#F1C453","#F29E4C"],oZ=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=Number(e);return isNaN(r)||!isFinite(r)?t:r},aZ=()=>{const[e,t]=(0,a.useState)(0),[r,n]=(0,a.useState)([]),[o,i]=(0,a.useState)(rZ),[s,l]=(0,a.useState)(null),[c,d]=(0,a.useState)([]),[u,p]=(0,a.useState)([]),[h,f]=(0,a.useState)([]),[m,g]=(0,a.useState)([]),[v,x]=(0,a.useState)(!1),[b,y]=(0,a.useState)("crear"),[j,w]=(0,a.useState)(!1),[S,C]=(0,a.useState)(null),[A,E]=(0,a.useState)({fechaDesde:null,fechaHasta:null,categoriaId:"",subcategoriaId:"",sucursalId:"",moneda:""}),{token:k}=eC(),[O,P]=(0,a.useState)(!1),[I,D]=(0,a.useState)(null),[M,T]=(0,a.useState)(null),[R,N]=(0,a.useState)({descripcion:!1,monto:!1,categoriaId:!1}),[$,z]=(0,a.useState)(0),[L,B]=(0,a.useState)(10),[F,_]=(0,a.useState)({guaranies:0,dolares:0,reales:0}),[U,W]=(0,a.useState)(!1),[V,G]=(0,a.useState)("mes"),[H,q]=(0,a.useState)(tw(new Date)),[Y,K]=(0,a.useState)(sb(new Date)),[X,Q]=(0,a.useState)([]),[J,Z]=(0,a.useState)({gastosPorCategoria:[],gastosPorSucursal:[],gastosPorTiempo:[],estadisticasResumen:{totalGastos:0,promedioMensual:0,gastoMasAlto:0,categoriaMaxGasto:"",tendencia:"neutral",porcentajeCambio:0}}),[ee,te]=(0,a.useState)({dolar:7200,real:1400}),[re,ne]=(0,a.useState)(!1),oe=e=>{if(!e)return;if(o.comprobante instanceof File){const e=URL.createObjectURL(o.comprobante);return void window.open(e,"_blank")}const t=e.split("/").pop();window.open(`http://localhost:3000/uploads/comprobantes/${t}`,"_blank")};(0,a.useEffect)((()=>{ae(),ie(),se(),le(),fe()}),[]),(0,a.useEffect)((()=>{if(o.categoriaId){const e=u.filter((e=>e.categoriaId===parseInt(o.categoriaId)&&e.activo));f(e)}else f([])}),[o.categoriaId,u]);const ae=async()=>{try{const e=await ed.get("/api/categorias-gastos",{headers:{Authorization:`Bearer ${k}`}});d(e.data.filter((e=>e.activo)))}catch(e){console.error("Error al cargar categor\xedas:",e),D("Error al cargar categor\xedas")}},ie=async()=>{try{const e=await ed.get("/api/subcategorias-gastos",{headers:{Authorization:`Bearer ${k}`}});p(e.data.filter((e=>e.activo)))}catch(e){console.error("Error al cargar subcategor\xedas:",e),D("Error al cargar subcategor\xedas")}},se=async()=>{try{const e=await ed.get("/api/sucursales",{headers:{Authorization:`Bearer ${k}`}});g(e.data)}catch(e){console.error("Error al cargar sucursales:",e),D("Error al cargar sucursales")}},le=async()=>{P(!0);try{let e="/api/gastos?";if(A.fechaDesde){const t=new Date(A.fechaDesde);t.setHours(0,0,0,0),e+=`fechaDesde=${t.toISOString()}&`}if(A.fechaHasta){const t=new Date(A.fechaHasta);t.setHours(23,59,59,999),e+=`fechaHasta=${t.toISOString()}&`}A.categoriaId&&(e+=`categoriaId=${A.categoriaId}&`),A.subcategoriaId&&(e+=`subcategoriaId=${A.subcategoriaId}&`),A.sucursalId&&(e+=`sucursalId=${A.sucursalId}&`),A.moneda&&(e+=`moneda=${A.moneda}&`),console.log("URL de filtros: ",e);const t=await ed.get(e,{headers:{Authorization:`Bearer ${k}`}});n(t.data),ce(t.data),z(0)}catch(e){console.error("Error al cargar gastos:",e),D("Error al cargar gastos")}finally{P(!1)}},ce=e=>{const t={guaranies:0,dolares:0,reales:0};e.forEach((e=>{if("GS"===e.moneda){const r="string"===typeof e.monto?parseFloat(e.monto):e.monto;t.guaranies+=r}else if("USD"===e.moneda){const r="string"===typeof e.monto?parseFloat(e.monto):e.monto;t.dolares+=r}else if("BRL"===e.moneda){const r="string"===typeof e.monto?parseFloat(e.monto):e.monto;t.reales+=r}})),console.log("Totales calculados:",t),_(t)},de=(e,t)=>{E({...A,[e]:t})},ue=(e,t)=>{i("categoriaId"===e?{...o,[e]:t,subcategoriaId:""}:"string"===typeof t&&"monto"!==e?{...o,[e]:t.toUpperCase()}:{...o,[e]:t}),e in R&&N({...R,[e]:!1})},pe=(e,t)=>!isFinite(e)||isNaN(e)?"0":"GS"===t?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."):"BRL"===t?new Intl.NumberFormat("pt-BR",{style:"decimal",maximumFractionDigits:2,minimumFractionDigits:2}).format(e):"USD"===t?new Intl.NumberFormat("en-US",{style:"decimal",maximumFractionDigits:2,minimumFractionDigits:2}).format(e):new Intl.NumberFormat("es-PY",{style:"decimal",maximumFractionDigits:2,minimumFractionDigits:2}).format(e),he=(e,t)=>{if("Enter"===e.key){e.preventDefault();const r=document.getElementById(t);r&&r.focus()}},fe=async()=>{ne(!0);try{const e=await JS.getCotizaciones(),t=e.find((e=>e.vigente));t?(te({dolar:t.valorDolar,real:t.valorReal}),console.log("Cotizaciones cargadas:",t)):e.length>0&&(te({dolar:e[0].valorDolar,real:e[0].valorReal}),console.log("No hay cotizaci\xf3n vigente, usando la m\xe1s reciente:",e[0]))}catch(e){console.error("Error al cargar cotizaciones:",e)}finally{ne(!1)}};(0,a.useEffect)((()=>{if(r.length>0&&!re){const e=r.filter((e=>{const t=new Date(e.fecha);return!H||!Y||pw(t,{start:H,end:Y})}));if(Q(e),ee.dolar>0&&ee.real>0){const t=((e,t)=>{console.log("[Nueva L\xf3gica] Iniciando generaci\xf3n de estad\xedsticas para",e.length,"gastos."),console.log("[Nueva L\xf3gica] Cotizaciones utilizadas:",t);const r={gastosPorCategoria:[],gastosPorSucursal:[],gastosPorTiempo:[],estadisticasResumen:{totalGastos:0,promedioMensual:0,gastoMasAlto:0,categoriaMaxGasto:"N/A",tendencia:"neutral",porcentajeCambio:0}};if(!e||0===e.length)return console.log("[Nueva L\xf3gica] No hay gastos para procesar."),r;const n=e.map((e=>{const r=oZ(e.monto);let n=0;return"GS"===e.moneda?n=r:"USD"===e.moneda?n=r*oZ(t.dolar,1):"BRL"===e.moneda&&(n=r*oZ(t.real,1)),{...e,montoOriginal:r,montoEnGs:oZ(n),fechaObj:new Date(e.fecha)}})).filter((e=>e.montoEnGs>0||0===e.montoOriginal));if(0===n.length)return console.log("[Nueva L\xf3gica] No hay gastos con montos v\xe1lidos tras normalizaci\xf3n."),r;console.log("[Nueva L\xf3gica] Gastos normalizados (todos, si son pocos, o hasta 5):",n.slice(0,Math.min(5,n.length)).map((e=>({id:e.id,desc:e.descripcion,montoOriginal:e.montoOriginal,moneda:e.moneda,montoEnGs:e.montoEnGs}))));const o=n.reduce(((e,t)=>e+t.montoEnGs),0);console.log("[Nueva L\xf3gica] Total Gastos (GS):",o);let a=0,i="N/A";if(n.length>0){var s;const e=[...n].sort(((e,t)=>t.montoEnGs-e.montoEnGs))[0];a=e.montoEnGs,i=(null===(s=e.categoria)||void 0===s?void 0:s.nombre)||"Sin Categor\xeda"}console.log("[Nueva L\xf3gica] Gasto M\xe1s Alto (GS):",a,"Categor\xeda:",i);let l=0;if(o>0&&n.length>0){const e=n.map((e=>e.fechaObj.getTime())).sort(((e,t)=>e-t)),t=new Date(e[0]),r=new Date(e[e.length-1]),a=12*(r.getFullYear()-t.getFullYear())+(r.getMonth()-t.getMonth());l=o/Math.max(1,a+1)}console.log("[Nueva L\xf3gica] Promedio Mensual (GS):",l);const c=new Map;n.forEach((e=>{var t;const r=(null===(t=e.categoria)||void 0===t?void 0:t.nombre)||"Sin Categor\xeda";c.set(r,(c.get(r)||0)+e.montoEnGs)}));const d=Array.from(c.entries()).map(((e,t)=>{let[r,n]=e;return{nombre:r,monto:oZ(n),color:nZ[t%nZ.length]}})).sort(((e,t)=>t.monto-e.monto)),u=new Map;n.forEach((e=>{var t;const r=(null===(t=e.sucursal)||void 0===t?void 0:t.nombre)||"Sin Sucursal";u.set(r,(u.get(r)||0)+e.montoEnGs)}));const p=Array.from(u.entries()).map(((e,t)=>{let[r,n]=e;return{nombre:r,monto:oZ(n),color:nZ[t%nZ.length]}})).sort(((e,t)=>t.monto-e.monto)),h=new Map;n.forEach((e=>{const t=uy(e.fechaObj,"yyyy-MM-dd");h.set(t,(h.get(t)||0)+e.montoEnGs)}));const f=Array.from(h.entries()).map((e=>{let[t,r]=e;return{fecha:uy(new Date(t),"dd/MM/yyyy"),monto:oZ(r)}})).sort(((e,t)=>{const r=new Date(e.fecha.split("/").reverse().join("-")),n=new Date(t.fecha.split("/").reverse().join("-"));return r.getTime()-n.getTime()}));let m="neutral",g=0;if(f.length>=2){const e=Math.floor(f.length/2),t=f.slice(0,e).reduce(((e,t)=>e+t.monto),0),r=f.slice(e).reduce(((e,t)=>e+t.monto),0),n=t/Math.max(1,e),o=r/Math.max(1,f.length-e);n>0?(g=Math.round((o-n)/n*100),g>5?m="up":g<-5&&(m="down")):o>0&&(m="up",g=100)}return{gastosPorCategoria:d,gastosPorSucursal:p,gastosPorTiempo:f,estadisticasResumen:{totalGastos:oZ(o),promedioMensual:oZ(l),gastoMasAlto:oZ(a),categoriaMaxGasto:i,tendencia:m,porcentajeCambio:oZ(g)}}})(e,ee);Z(t)}else console.warn("[Nueva L\xf3gica] Cotizaciones no v\xe1lidas o no cargadas, estad\xedsticas no generadas."),Z({gastosPorCategoria:[],gastosPorSucursal:[],gastosPorTiempo:[],estadisticasResumen:{totalGastos:0,promedioMensual:0,gastoMasAlto:0,categoriaMaxGasto:"N/A",tendencia:"neutral",porcentajeCambio:0}})}else 0!==r.length||re||(Q([]),Z({gastosPorCategoria:[],gastosPorSucursal:[],gastosPorTiempo:[],estadisticasResumen:{totalGastos:0,promedioMensual:0,gastoMasAlto:0,categoriaMaxGasto:"N/A",tendencia:"neutral",porcentajeCambio:0}}))}),[r,V,H,Y,ee,re]);const me=e=>{G(e);const t=new Date;switch(e){case"mes":q(tw(t)),K(sb(t));break;case"trimestre":q($Q(t,{months:3})),K(t);break;case"anio":q(rw(t)),K(jb(t))}},ge=gt(),ve=e=>{if(!isFinite(e)||isNaN(e))return"Gs. 0";const t=Math.round(e);try{return`Gs. ${t.toLocaleString("es-PY",{maximumFractionDigits:0})}`}catch(r){return`Gs. ${t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}`}};return(0,Ve.jsx)(Cm,{dateAdapter:xw,adapterLocale:Cw,children:(0,Ve.jsxs)(Et,{sx:{width:"100%"},children:[(0,Ve.jsx)(pt,{styles:{"*::-webkit-scrollbar":{width:"12px",height:"12px"},"*::-webkit-scrollbar-track":{backgroundColor:"#121212"},"*::-webkit-scrollbar-thumb":{backgroundColor:"#333",borderRadius:"6px","&:hover":{backgroundColor:"#444"}},html:{scrollbarColor:"#333 #121212",scrollbarWidth:"thin"},body:{scrollbarColor:"#333 #121212",scrollbarWidth:"thin"}}}),(0,Ve.jsx)($r,{variant:"h5",gutterBottom:!0,children:"Gesti\xf3n de Gastos"}),(0,Ve.jsxs)($t,{sx:{p:2,mb:2},children:[(0,Ve.jsxs)(WA,{value:e,onChange:(e,r)=>{t(r)},sx:{borderBottom:1,borderColor:"divider",mb:2},children:[(0,Ve.jsx)(YA,{label:"Listado de Gastos"}),(0,Ve.jsx)(YA,{label:"Estad\xedsticas"})]}),0===e&&(0,Ve.jsxs)(Et,{children:[(0,Ve.jsxs)($t,{sx:{p:2,mb:2,bgcolor:"background.default"},children:[(0,Ve.jsx)($r,{variant:"subtitle1",gutterBottom:!0,children:"Filtros"}),(0,Ve.jsxs)($h,{container:!0,spacing:2,children:[(0,Ve.jsx)($h,{item:!0,xs:12,md:3,children:(0,Ve.jsx)(Kx,{label:"Fecha desde",value:A.fechaDesde,onChange:e=>de("fechaDesde",e),format:"dd/MM/yyyy",slotProps:{textField:{variant:"outlined",fullWidth:!0,size:"small"}}})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:3,children:(0,Ve.jsx)(Kx,{label:"Fecha hasta",value:A.fechaHasta,onChange:e=>de("fechaHasta",e),format:"dd/MM/yyyy",slotProps:{textField:{variant:"outlined",fullWidth:!0,size:"small"}}})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:3,children:(0,Ve.jsxs)(lu,{fullWidth:!0,size:"small",children:[(0,Ve.jsx)(ou,{children:"Categor\xeda"}),(0,Ve.jsxs)(gp,{value:A.categoriaId,onChange:e=>de("categoriaId",e.target.value),label:"Categor\xeda",children:[(0,Ve.jsx)(_h,{value:"",children:"Todas"}),c.map((e=>(0,Ve.jsx)(_h,{value:e.id.toString(),children:e.nombre},e.id)))]})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:3,children:(0,Ve.jsxs)(lu,{fullWidth:!0,size:"small",children:[(0,Ve.jsx)(ou,{children:"Moneda"}),(0,Ve.jsxs)(gp,{value:A.moneda,onChange:e=>de("moneda",e.target.value),label:"Moneda",children:[(0,Ve.jsx)(_h,{value:"",children:"Todas"}),(0,Ve.jsx)(_h,{value:"GS",children:"Guaran\xedes"}),(0,Ve.jsx)(_h,{value:"USD",children:"D\xf3lares"}),(0,Ve.jsx)(_h,{value:"BRL",children:"Reales"})]})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:3,children:(0,Ve.jsxs)(lu,{fullWidth:!0,size:"small",children:[(0,Ve.jsx)(ou,{children:"Subcategor\xeda"}),(0,Ve.jsxs)(gp,{value:A.subcategoriaId,onChange:e=>de("subcategoriaId",e.target.value),label:"Subcategor\xeda",disabled:!A.categoriaId,children:[(0,Ve.jsx)(_h,{value:"",children:"Todas"}),u.filter((e=>!A.categoriaId||e.categoriaId===parseInt(A.categoriaId))).map((e=>(0,Ve.jsx)(_h,{value:e.id.toString(),children:e.nombre},e.id)))]})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:3,children:(0,Ve.jsxs)(lu,{fullWidth:!0,size:"small",children:[(0,Ve.jsx)(ou,{children:"Sucursal"}),(0,Ve.jsxs)(gp,{value:A.sucursalId,onChange:e=>de("sucursalId",e.target.value),label:"Sucursal",children:[(0,Ve.jsx)(_h,{value:"",children:"Todas"}),m.map((e=>(0,Ve.jsx)(_h,{value:e.id.toString(),children:e.nombre},e.id)))]})]})}),(0,Ve.jsxs)($h,{item:!0,xs:12,md:6,sx:{display:"flex",justifyContent:"flex-end",alignItems:"center"},children:[(0,Ve.jsx)(fs,{variant:"outlined",startIcon:(0,Ve.jsx)(VX,{}),onClick:()=>{E({fechaDesde:null,fechaHasta:null,categoriaId:"",subcategoriaId:"",sucursalId:"",moneda:""}),W(!1),_({guaranies:0,dolares:0,reales:0})},sx:{mr:1},children:"Restablecer"}),(0,Ve.jsx)(fs,{variant:"contained",startIcon:(0,Ve.jsx)(EC,{}),onClick:()=>{W(!0),le()},children:"Buscar"})]})]})]}),U&&r.length>0&&(0,Ve.jsxs)($h,{container:!0,spacing:2,sx:{mb:2},children:[F.guaranies>0&&(0,Ve.jsx)($h,{item:!0,xs:12,md:4,children:(0,Ve.jsx)(jk,{children:(0,Ve.jsxs)(Ak,{children:[(0,Ve.jsx)($r,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Total Guaran\xedes (GS)"}),(0,Ve.jsx)($r,{variant:"h6",component:"div",children:pe(F.guaranies,"GS")})]})})}),F.dolares>0&&(0,Ve.jsx)($h,{item:!0,xs:12,md:4,children:(0,Ve.jsx)(jk,{children:(0,Ve.jsxs)(Ak,{children:[(0,Ve.jsx)($r,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Total D\xf3lares (USD)"}),(0,Ve.jsx)($r,{variant:"h6",component:"div",children:pe(F.dolares,"USD")})]})})}),F.reales>0&&(0,Ve.jsx)($h,{item:!0,xs:12,md:4,children:(0,Ve.jsx)(jk,{children:(0,Ve.jsxs)(Ak,{children:[(0,Ve.jsx)($r,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Total Reales (BRL)"}),(0,Ve.jsx)($r,{variant:"h6",component:"div",children:pe(F.reales,"BRL")})]})})})]}),(0,Ve.jsx)(Et,{sx:{mb:2,display:"flex",justifyContent:"flex-end"},children:(0,Ve.jsx)(fs,{variant:"contained",color:"primary",startIcon:(0,Ve.jsx)(XS,{}),onClick:()=>{i(rZ),l(null),y("crear"),x(!0)},children:"Nuevo Gasto"})})]}),0===e&&(0,Ve.jsx)(Et,{children:(0,Ve.jsxs)(Dp,{component:$t,children:[(0,Ve.jsxs)(zp,{size:"small",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"Fecha"}),(0,Ve.jsx)(th,{children:"Descripci\xf3n"}),(0,Ve.jsx)(th,{children:"Monto"}),(0,Ve.jsx)(th,{children:"Categor\xeda"}),(0,Ve.jsx)(th,{children:"Subcategor\xeda"}),(0,Ve.jsx)(th,{children:"Sucursal"}),(0,Ve.jsx)(th,{children:"Acciones"})]})}),(0,Ve.jsx)(sh,{children:O?(0,Ve.jsx)(Xp,{children:(0,Ve.jsx)(th,{colSpan:7,align:"center",children:(0,Ve.jsx)(KS,{size:24,sx:{my:2}})})}):0===r.length?(0,Ve.jsx)(Xp,{children:(0,Ve.jsx)(th,{colSpan:7,align:"center",children:"No hay gastos registrados"})}):r.slice($*L,$*L+L).map((e=>(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:uy(new Date(e.fecha),"dd/MM/yyyy")}),(0,Ve.jsx)(th,{children:e.descripcion}),(0,Ve.jsxs)(th,{children:["GS"===e.moneda?"Gs.":"USD"===e.moneda?"US$":"R$"," ",pe(e.monto,e.moneda)]}),(0,Ve.jsx)(th,{children:e.categoria.nombre}),(0,Ve.jsx)(th,{children:e.subcategoria?e.subcategoria.nombre:"-"}),(0,Ve.jsx)(th,{children:e.sucursal?e.sucursal.nombre:"-"}),(0,Ve.jsxs)(th,{children:[(0,Ve.jsx)(Qo,{title:"Editar",children:(0,Ve.jsx)(Ir,{size:"small",onClick:()=>(e=>{let t=e.monto.toString();"BRL"!==e.moneda&&"USD"!==e.moneda||(t=(100*e.monto).toString(),console.log(`Editando gasto en ${e.moneda} - Monto original: ${e.monto}, Monto ajustado: ${t}`));const r={fecha:new Date(e.fecha),descripcion:e.descripcion,monto:t,moneda:e.moneda,categoriaId:e.categoriaId.toString(),subcategoriaId:e.subcategoriaId?e.subcategoriaId.toString():"",sucursalId:e.sucursalId?e.sucursalId.toString():"",observaciones:e.observaciones||"",comprobante:null,id:e.id};i(r),l(e.comprobante),y("editar"),x(!0)})(e),children:(0,Ve.jsx)(yC,{fontSize:"small"})})}),(0,Ve.jsx)(Qo,{title:"Eliminar",children:(0,Ve.jsx)(Ir,{size:"small",color:"error",onClick:()=>{return t=e.id,C(t),void w(!0);var t},children:(0,Ve.jsx)(NE,{fontSize:"small"})})}),e.comprobante&&(0,Ve.jsx)(Qo,{title:"Ver comprobante",children:(0,Ve.jsx)(Ir,{size:"small",color:"info",onClick:()=>oe(e.comprobante),children:(0,Ve.jsx)(jC,{fontSize:"small"})})})]})]},e.id)))})]}),r.length>0&&(0,Ve.jsx)(DE,{rowsPerPageOptions:[5,10,25,50],component:"div",count:r.length,rowsPerPage:L,page:$,onPageChange:(e,t)=>{z(t)},onRowsPerPageChange:e=>{B(parseInt(e.target.value,10)),z(0)},labelRowsPerPage:"Filas por p\xe1gina",labelDisplayedRows:e=>{let{from:t,to:r,count:n}=e;return`${t}-${r} de ${n}`}})]})}),1===e&&(0,Ve.jsxs)(Et,{children:[(0,Ve.jsxs)(Et,{sx:{mb:3},children:[(0,Ve.jsxs)($h,{container:!0,spacing:2,alignItems:"center",children:[(0,Ve.jsxs)($h,{item:!0,xs:12,md:8,children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,children:"Estad\xedsticas de Gastos"}),(0,Ve.jsxs)($r,{variant:"caption",color:"text.secondary",children:["Cotizaciones: 1 USD = Gs. ",ee.dolar.toLocaleString()," | 1 BRL = Gs. ",ee.real.toLocaleString(),re&&(0,Ve.jsx)(KS,{size:12,sx:{ml:1}})]})]}),(0,Ve.jsx)($h,{item:!0,xs:12,md:4,sx:{textAlign:{xs:"left",md:"right"}},children:(0,Ve.jsxs)(dC,{variant:"outlined",size:"small",children:[(0,Ve.jsx)(fs,{onClick:()=>me("mes"),variant:"mes"===V?"contained":"outlined",children:"Mes"}),(0,Ve.jsx)(fs,{onClick:()=>me("trimestre"),variant:"trimestre"===V?"contained":"outlined",children:"Trimestre"}),(0,Ve.jsx)(fs,{onClick:()=>me("anio"),variant:"anio"===V?"contained":"outlined",children:"A\xf1o"}),(0,Ve.jsx)(fs,{onClick:()=>me("personalizado"),variant:"personalizado"===V?"contained":"outlined",children:"Personalizado"})]})}),"personalizado"===V&&(0,Ve.jsxs)($h,{item:!0,xs:12,container:!0,spacing:2,children:[(0,Ve.jsx)($h,{item:!0,xs:12,md:6,children:(0,Ve.jsx)(Kx,{label:"Fecha inicio",value:H,onChange:e=>q(e),format:"dd/MM/yyyy",slotProps:{textField:{variant:"outlined",fullWidth:!0,size:"small"}}})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:6,children:(0,Ve.jsx)(Kx,{label:"Fecha fin",value:Y,onChange:e=>K(e),format:"dd/MM/yyyy",slotProps:{textField:{variant:"outlined",fullWidth:!0,size:"small"}}})})]})]}),(0,Ve.jsxs)(Et,{sx:{mt:1,mb:3,display:"flex",alignItems:"center"},children:[(0,Ve.jsx)(IQ,{fontSize:"small",sx:{mr:1,color:"text.secondary"}}),(0,Ve.jsxs)($r,{variant:"body2",color:"text.secondary",children:["Per\xedodo: ",H&&Y?`${uy(H,"dd/MM/yyyy")} - ${uy(Y,"dd/MM/yyyy")}`:"Todos los registros"]}),(0,Ve.jsx)(Pg,{label:`${X.length} registros`,size:"small",color:"primary",variant:"outlined",sx:{ml:2}})]})]}),(0,Ve.jsxs)($h,{container:!0,spacing:2,sx:{mb:4},children:[(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,md:3,children:(0,Ve.jsx)(jk,{variant:"outlined",children:(0,Ve.jsxs)(Ak,{children:[(0,Ve.jsx)($r,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Total Gastos"}),(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center"},children:[(0,Ve.jsx)(DQ,{sx:{mr:1,color:"primary.main"}}),(0,Ve.jsx)($r,{variant:"h5",component:"div",children:ve(J.estadisticasResumen.totalGastos)})]})]})})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,md:3,children:(0,Ve.jsx)(jk,{variant:"outlined",children:(0,Ve.jsxs)(Ak,{children:[(0,Ve.jsx)($r,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Promedio Mensual"}),(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center"},children:[(0,Ve.jsx)(MQ,{sx:{mr:1,color:"success.main"}}),(0,Ve.jsx)($r,{variant:"h5",component:"div",children:ve(J.estadisticasResumen.promedioMensual)})]})]})})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,md:3,children:(0,Ve.jsx)(jk,{variant:"outlined",children:(0,Ve.jsxs)(Ak,{children:[(0,Ve.jsx)($r,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Mayor Gasto"}),(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center"},children:[(0,Ve.jsx)(gC,{sx:{mr:1,color:"error.main"}}),(0,Ve.jsx)($r,{variant:"h5",component:"div",children:ve(J.estadisticasResumen.gastoMasAlto)})]}),(0,Ve.jsx)($r,{variant:"caption",color:"text.secondary",children:J.estadisticasResumen.categoriaMaxGasto})]})})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,md:3,children:(0,Ve.jsx)(jk,{variant:"outlined",children:(0,Ve.jsxs)(Ak,{children:[(0,Ve.jsx)($r,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Tendencia"}),(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center"},children:["up"===J.estadisticasResumen.tendencia?(0,Ve.jsx)(gC,{sx:{mr:1,color:"error.main"}}):"down"===J.estadisticasResumen.tendencia?(0,Ve.jsx)(vC,{sx:{mr:1,color:"success.main"}}):(0,Ve.jsx)(MQ,{sx:{mr:1,color:"text.secondary"}}),(0,Ve.jsxs)($r,{variant:"h5",component:"div",color:"up"===J.estadisticasResumen.tendencia?"error.main":"down"===J.estadisticasResumen.tendencia?"success.main":"text.secondary",children:[J.estadisticasResumen.porcentajeCambio,"%"]})]}),(0,Ve.jsx)($r,{variant:"caption",color:"text.secondary",children:"Respecto al per\xedodo anterior"})]})})})]}),(0,Ve.jsxs)($h,{container:!0,spacing:3,children:[(0,Ve.jsx)($h,{item:!0,xs:12,md:8,children:(0,Ve.jsx)(jk,{variant:"outlined",sx:{height:"100%"},children:(0,Ve.jsxs)(Ak,{children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,Ve.jsx)(MQ,{sx:{mr:1,color:"primary.main"}}),(0,Ve.jsx)($r,{variant:"h6",children:"Evoluci\xf3n de Gastos"})]}),(0,Ve.jsx)(Ii,{sx:{mb:2}}),(0,Ve.jsx)(Et,{sx:{height:300},children:(0,Ve.jsx)(GD,{width:"100%",height:"100%",children:(0,Ve.jsxs)(ZQ,{data:J.gastosPorTiempo,margin:{top:10,right:30,left:0,bottom:0},children:[(0,Ve.jsx)(dX,{strokeDasharray:"3 3"}),(0,Ve.jsx)(RK,{dataKey:"fecha"}),(0,Ve.jsx)(GK,{}),(0,Ve.jsx)(qM,{formatter:e=>ve(e),labelFormatter:e=>`Fecha: ${e}`}),(0,Ve.jsx)(JQ,{type:"monotone",dataKey:"monto",stroke:ge.palette.primary.main,fill:ge.palette.primary.light,name:"Gasto"})]})})})]})})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:4,children:(0,Ve.jsx)(jk,{variant:"outlined",sx:{height:"100%"},children:(0,Ve.jsxs)(Ak,{children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,Ve.jsx)(TQ,{sx:{mr:1,color:"secondary.main"}}),(0,Ve.jsx)($r,{variant:"h6",children:"Gastos por Categor\xeda"})]}),(0,Ve.jsx)(Ii,{sx:{mb:2}}),(0,Ve.jsx)(Et,{sx:{height:300,display:"flex",justifyContent:"center"},children:(0,Ve.jsx)(GD,{width:"100%",height:"100%",children:(0,Ve.jsxs)(eZ,{children:[(0,Ve.jsx)(ZJ,{data:J.gastosPorCategoria,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"monto",nameKey:"nombre",label:e=>{let{name:t,percent:r}=e;return`${t}: ${(100*r).toFixed(0)}%`},children:J.gastosPorCategoria.map(((e,t)=>(0,Ve.jsx)(mV,{fill:e.color},`cell-${t}`)))}),(0,Ve.jsx)(qM,{formatter:e=>ve(e)}),(0,Ve.jsx)(sR,{layout:"vertical",verticalAlign:"bottom",align:"center"})]})})})]})})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:6,children:(0,Ve.jsx)(jk,{variant:"outlined",children:(0,Ve.jsxs)(Ak,{children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,Ve.jsx)(RQ,{sx:{mr:1,color:"info.main"}}),(0,Ve.jsx)($r,{variant:"h6",children:"Gastos por Sucursal"})]}),(0,Ve.jsx)(Ii,{sx:{mb:2}}),(0,Ve.jsx)(Et,{sx:{height:300},children:(0,Ve.jsx)(GD,{width:"100%",height:"100%",children:(0,Ve.jsxs)(tZ,{data:J.gastosPorSucursal,margin:{top:20,right:30,left:20,bottom:70},layout:"vertical",children:[(0,Ve.jsx)(dX,{strokeDasharray:"3 3"}),(0,Ve.jsx)(RK,{type:"number"}),(0,Ve.jsx)(GK,{dataKey:"nombre",type:"category",tick:{fontSize:12},width:130}),(0,Ve.jsx)(qM,{formatter:e=>ve(e),labelFormatter:e=>`Sucursal: ${e}`}),(0,Ve.jsx)(LG,{dataKey:"monto",name:"Monto",radius:[0,4,4,0],children:J.gastosPorSucursal.map(((e,t)=>(0,Ve.jsx)(mV,{fill:e.color},`cell-${t}`)))})]})})})]})})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:6,children:(0,Ve.jsx)(jk,{variant:"outlined",children:(0,Ve.jsxs)(Ak,{children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,Ve.jsx)(NQ,{sx:{mr:1,color:"warning.main"}}),(0,Ve.jsx)($r,{variant:"h6",children:"Top Gastos por Categor\xeda"})]}),(0,Ve.jsx)(Ii,{sx:{mb:2}}),(0,Ve.jsx)(Et,{sx:{height:300},children:(0,Ve.jsx)(GD,{width:"100%",height:"100%",children:(0,Ve.jsxs)(tZ,{data:J.gastosPorCategoria.slice(0,5),margin:{top:5,right:30,left:20,bottom:5},children:[(0,Ve.jsx)(dX,{strokeDasharray:"3 3"}),(0,Ve.jsx)(RK,{dataKey:"nombre"}),(0,Ve.jsx)(GK,{}),(0,Ve.jsx)(qM,{formatter:e=>ve(e),labelFormatter:e=>`Categor\xeda: ${e}`}),(0,Ve.jsx)(LG,{dataKey:"monto",name:"Monto",radius:[4,4,0,0],children:J.gastosPorCategoria.slice(0,5).map(((e,t)=>(0,Ve.jsx)(mV,{fill:e.color},`cell-${t}`)))})]})})})]})})})]})]})]}),(0,Ve.jsxs)(Fi,{open:v,onClose:()=>x(!1),maxWidth:"md",fullWidth:!0,children:[(0,Ve.jsx)(Gi,{children:"crear"===b?"Nuevo Gasto":"Editar Gasto"}),(0,Ve.jsx)(Ki,{children:(0,Ve.jsxs)($h,{container:!0,spacing:3,sx:{mt:1},children:[(0,Ve.jsx)($h,{item:!0,xs:12,md:6,children:(0,Ve.jsx)(Kx,{label:"Fecha",value:o.fecha,onChange:e=>ue("fecha",e),format:"dd/MM/yyyy",slotProps:{textField:{variant:"outlined",fullWidth:!0,id:"fecha",onKeyDown:e=>he(e,"descripcion")}}})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:6,children:(0,Ve.jsxs)(lu,{fullWidth:!0,children:[(0,Ve.jsx)(ou,{children:"Moneda"}),(0,Ve.jsxs)(gp,{value:o.moneda,onChange:e=>ue("moneda",e.target.value),label:"Moneda",id:"moneda",onKeyDown:e=>he(e,"monto"),children:[(0,Ve.jsx)(_h,{value:"GS",children:"Guaran\xedes (GS)"}),(0,Ve.jsx)(_h,{value:"USD",children:"D\xf3lares (USD)"}),(0,Ve.jsx)(_h,{value:"BRL",children:"Reales (BRL)"})]})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsx)(jp,{label:"Descripci\xf3n",value:o.descripcion,onChange:e=>ue("descripcion",e.target.value),fullWidth:!0,error:R.descripcion,helperText:R.descripcion?"La descripci\xf3n es requerida":"",id:"descripcion",onKeyDown:e=>he(e,"moneda"),onFocus:e=>e.target.select()})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:6,children:(0,Ve.jsx)(jp,{label:`Monto (${o.moneda})`,value:(e=>{if(!e)return"";if("GS"===o.moneda){const t=e.replace(/\D/g,"");return""===t?"":t.replace(/\B(?=(\d{3})+(?!\d))/g,".")}if("BRL"===o.moneda){const t=e.replace(/\D/g,"");if(""===t)return"";const r=t.padStart(3,"0"),n=r.slice(-2);return`${(r.slice(0,-2).replace(/^0+/,"")||"0").replace(/\B(?=(\d{3})+(?!\d))/g,".")},${n}`}if("USD"===o.moneda){const t=e.replace(/\D/g,"");if(""===t)return"";const r=t.padStart(3,"0"),n=r.slice(-2);return`${(r.slice(0,-2).replace(/^0+/,"")||"0").replace(/\B(?=(\d{3})+(?!\d))/g,",")}.${n}`}return e})(o.monto),onChange:e=>{const t=e.target.value.replace(/\D/g,"");ue("monto",t)},fullWidth:!0,error:R.monto,helperText:R.monto?"Ingrese un monto v\xe1lido":"",id:"monto",onKeyDown:e=>he(e,"categoriaId"),onFocus:e=>e.target.select(),InputProps:{startAdornment:(0,Ve.jsx)(kp,{position:"start",children:"GS"===o.moneda?"Gs.":"USD"===o.moneda?"US$":"R$"})}})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:6,children:(0,Ve.jsx)(sA,{id:"categoriaId",options:c,getOptionLabel:e=>e.nombre,value:c.find((e=>e.id.toString()===o.categoriaId))||null,onChange:(e,t)=>{ue("categoriaId",t?t.id.toString():"")},isOptionEqualToValue:(e,t)=>e.id===t.id,renderInput:e=>(0,Ve.jsx)(jp,{...e,label:"Categor\xeda",error:R.categoriaId,helperText:R.categoriaId?"Seleccione una categor\xeda":"",fullWidth:!0,onKeyDown:e=>he(e,"subcategoriaId")}),noOptionsText:"No hay categor\xedas",clearText:"Borrar",openText:"Abrir",closeText:"Cerrar"})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:6,children:(0,Ve.jsx)(sA,{id:"subcategoriaId",options:h,getOptionLabel:e=>e.nombre,value:h.find((e=>e.id.toString()===o.subcategoriaId))||null,onChange:(e,t)=>{ue("subcategoriaId",t?t.id.toString():"")},isOptionEqualToValue:(e,t)=>e.id===t.id,disabled:!o.categoriaId,renderInput:e=>(0,Ve.jsx)(jp,{...e,label:"Subcategor\xeda",fullWidth:!0,onKeyDown:e=>he(e,"sucursalId")}),noOptionsText:"No hay subcategor\xedas",clearText:"Borrar",openText:"Abrir",closeText:"Cerrar"})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:6,children:(0,Ve.jsx)(sA,{id:"sucursalId",options:m,getOptionLabel:e=>e.nombre,value:m.find((e=>e.id.toString()===o.sucursalId))||null,onChange:(e,t)=>{ue("sucursalId",t?t.id.toString():"")},isOptionEqualToValue:(e,t)=>e.id===t.id,renderInput:e=>(0,Ve.jsx)(jp,{...e,label:"Sucursal",fullWidth:!0,onKeyDown:e=>he(e,"observaciones")}),noOptionsText:"No hay sucursales",clearText:"Borrar",openText:"Abrir",closeText:"Cerrar"})}),(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsx)(jp,{label:"Observaciones",value:o.observaciones,onChange:e=>ue("observaciones",e.target.value),fullWidth:!0,multiline:!0,rows:3,id:"observaciones"})}),(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center"},children:[(0,Ve.jsxs)(fs,{variant:"outlined",component:"label",startIcon:(0,Ve.jsx)(lA,{}),children:["Adjuntar Comprobante",(0,Ve.jsx)("input",{type:"file",hidden:!0,onChange:e=>{if(e.target.files&&e.target.files.length>0){const t=e.target.files[0];i({...o,comprobante:t});const r=URL.createObjectURL(t);l(r)}},accept:".pdf,.jpg,.jpeg,.png"})]}),(s||o.comprobante)&&(0,Ve.jsx)(Qo,{title:"Ver comprobante",children:(0,Ve.jsx)(Ir,{color:"primary",onClick:()=>oe(s||o.comprobante),sx:{ml:1},children:(0,Ve.jsx)(cA,{})})}),(s||o.comprobante)&&(0,Ve.jsx)($r,{variant:"body2",sx:{ml:2},children:o.comprobante instanceof File?o.comprobante.name:s?s.split("/").pop():"Comprobante adjunto"})]})})]})}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:()=>x(!1),children:"Cancelar"}),(0,Ve.jsx)(fs,{onClick:async()=>{if((()=>{let e=!0;const t={descripcion:!1,monto:!1,categoriaId:!1};return o.descripcion.trim()||(t.descripcion=!0,e=!1),(!o.monto||parseFloat(o.monto)<=0)&&(t.monto=!0,e=!1),o.categoriaId||(t.categoriaId=!0,e=!1),N(t),e})()){P(!0);try{const e=new FormData;e.append("fecha",o.fecha.toISOString()),e.append("descripcion",o.descripcion);let t=o.monto;if("BRL"===o.moneda){const e=t.replace(/\D/g,"");t=(parseFloat(e)/100).toString(),console.log(`Moneda BRL - Valor original: ${o.monto}, Valor num\xe9rico: ${e}, Valor corregido: ${t}`)}else if("USD"===o.moneda){const e=t.replace(/\D/g,"");t=(parseFloat(e)/100).toString(),console.log(`Moneda USD - Valor original: ${o.monto}, Valor num\xe9rico: ${e}, Valor corregido: ${t}`)}e.append("monto",t),e.append("moneda",o.moneda),e.append("categoriaId",o.categoriaId),o.subcategoriaId&&e.append("subcategoriaId",o.subcategoriaId),o.sucursalId&&e.append("sucursalId",o.sucursalId),o.observaciones&&e.append("observaciones",o.observaciones),o.comprobante&&e.append("comprobante",o.comprobante),"crear"===b?(await ed.post("/api/gastos",e,{headers:{Authorization:`Bearer ${k}`,"Content-Type":"multipart/form-data"}}),T("Gasto creado correctamente")):(await ed.put(`/api/gastos/${o.id}`,e,{headers:{Authorization:`Bearer ${k}`,"Content-Type":"multipart/form-data"}}),T("Gasto actualizado correctamente")),x(!1),le()}catch(e){console.error("Error al guardar gasto:",e),D("Error al guardar el gasto")}finally{P(!1)}}},variant:"contained",color:"primary",disabled:O,children:O?(0,Ve.jsx)(KS,{size:24}):"crear"===b?"Crear":"Actualizar"})]})]}),(0,Ve.jsxs)(Fi,{open:j,onClose:()=>w(!1),children:[(0,Ve.jsx)(Gi,{children:"Confirmar eliminaci\xf3n"}),(0,Ve.jsx)(Ki,{children:(0,Ve.jsx)(Zi,{children:"\xbfEst\xe1 seguro de que desea eliminar este gasto? Esta acci\xf3n no se puede deshacer."})}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:()=>w(!1),children:"Cancelar"}),(0,Ve.jsx)(fs,{onClick:async()=>{if(S){P(!0);try{await ed.delete(`/api/gastos/${S}`,{headers:{Authorization:`Bearer ${k}`}}),T("Gasto eliminado correctamente"),w(!1),le()}catch(e){console.error("Error al eliminar gasto:",e),D("Error al eliminar el gasto")}finally{P(!1),C(null)}}},color:"error",autoFocus:!0,children:O?(0,Ve.jsx)(KS,{size:24}):"Eliminar"})]})]}),(0,Ve.jsx)(tf,{open:!!M,autoHideDuration:6e3,onClose:()=>T(null),anchorOrigin:{vertical:"bottom",horizontal:"right"},children:(0,Ve.jsx)(Ah,{onClose:()=>T(null),severity:"success",variant:"filled",sx:{width:"100%"},children:M})}),(0,Ve.jsx)(tf,{open:!!I,autoHideDuration:6e3,onClose:()=>D(null),anchorOrigin:{vertical:"bottom",horizontal:"right"},children:(0,Ve.jsx)(Ah,{onClose:()=>D(null),severity:"error",variant:"filled",sx:{width:"100%"},children:I})})]})})};var iZ=r(3635);const sZ={tigo:"#0088ce",personal:"#e3006d",claro:"#da291c",aquipago:"#3eb649",wepaguaranies:"#0097d0",wepadolares:"#ffb81c"},lZ={tigo:{minicarga:.05,girosenviados:.01,retiros:.01,cargabilleteras:.01},personal:{maxicarga:.05,girosenviados:.01,retiros:.01,cargabilleteras:.01},claro:{recargaclaro:.05,girosenviados:.01,retiros:.01,cargabilleteras:.01},aquipago:{pagos:.005,retiros:.005},wepaguaranies:{pagos:.005,retiros:.005},wepadolares:{pagos:.005,retiros:.005}},cZ=e=>{const t=isNaN(e)?0:e;return new Intl.NumberFormat("es-PY").format(t)},dZ=e=>{const t=isNaN(e)?0:e;return new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)},uZ=(0,Ot.Ay)($t)((()=>({backgroundColor:"#212121",color:"#fff",borderRadius:8}))),pZ=(0,Ot.Ay)(th)((()=>({color:"#e0e0e0",borderBottom:"1px solid #424242"}))),hZ=((0,Ot.Ay)(Vp)((()=>({backgroundColor:"#333333","& .MuiTableCell-root":{color:"#fff",fontWeight:"bold"}}))),(0,Ot.Ay)($t)((e=>{let{bordercolor:t}=e;return{backgroundColor:"#2d2d2d",borderRadius:8,marginBottom:16,overflow:"hidden",borderLeft:`4px solid ${t}`}}))),fZ=(0,Ot.Ay)(Et)((e=>{let{bgcolor:t}=e;return{backgroundColor:t||"#4caf50",color:"#fff",padding:"8px 12px",borderRadius:4,display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16}})),mZ=(0,Ot.Ay)(Et)((()=>({display:"flex",flexWrap:"wrap",gap:12,marginBottom:16,alignItems:"flex-end"}))),gZ=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)([]),[o,i]=(0,a.useState)(!1),[s,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(new Date),[u,p]=(0,a.useState)(new Date),[h,f]=(0,a.useState)(""),[m,g]=(0,a.useState)(""),[v,x]=(0,a.useState)(0),[b,y]=(0,a.useState)(0),[j,w]=(0,a.useState)([]),[S,C]=(0,a.useState)([]),[A,E]=(0,a.useState)([]),[k,O]=(0,a.useState)(0),[P,I]=(0,a.useState)([]),[D,M]=(0,a.useState)([]),[T,R]=(0,a.useState)([]),[N,$]=(0,a.useState)([]);(0,a.useEffect)((()=>{(async()=>{try{const e=(await cf()).map((e=>e.nombre||e.username));w(e)}catch(e){console.error("Error al cargar usuarios:",e)}})(),(async()=>{try{const e=await iO.getAll();if(e.data&&Array.isArray(e.data)){const t=e.data.map((e=>e.nombre));C(t)}}catch(e){console.error("Error al cargar sucursales:",e)}})()}),[]);(0,a.useEffect)((()=>{if(e.length>0){const t=e.filter((e=>{const t=!h||e.nombreUsuario===h,r=!m||e.nombreSucursal===m;return t&&r})).map((e=>{const t=e.operadora.toLowerCase().replace(/\s+/g,""),r=e.servicio.toLowerCase().replace(/\s+/g,""),n="wepadolares"===t;let o=0;lZ[t]&&lZ[t][r]&&(o=lZ[t][r]);const a=e.monto*o;return{...e,porcentajeLucro:o,lucroEstimado:a,moneda:n?"$":"\u20b2"}}));let r=0,o=0;t.forEach((e=>{"\u20b2"===e.moneda?r+=e.lucroEstimado:o+=e.lucroEstimado})),x(r),y(o),n(t);const a=new Map;t.forEach((e=>{const t=`${e.operadora}-${e.servicio}-${e.moneda}`;a.has(t)||a.set(t,{operadora:e.operadora,servicio:e.servicio,montoTotal:0,lucroTotal:0,porcentaje:e.porcentajeLucro,moneda:e.moneda});const r=a.get(t);r.montoTotal+=e.monto,r.lucroTotal+=e.lucroEstimado})),E(Array.from(a.values())),L(t)}else n([]),x(0),y(0),E([])}),[e,h,m]);const z=(0,a.useMemo)((()=>{if(0===A.length)return[];return Array.from(new Set(A.map((e=>e.operadora.toLowerCase().replace(/\s+/g,""))))).map((e=>{const t=A.filter((t=>t.operadora.toLowerCase().replace(/\s+/g,"")===e)),r=sZ[e]||"#757575";return{operadoraNombre:t.length>0?t[0].operadora:e,servicios:t,color:r}}))}),[A]),L=e=>{if(!e||0===e.length)return;const t=new Map;e.forEach((e=>{const r=e.nombreUsuario||"Sin Usuario";t.set(r,(t.get(r)||0)+e.lucroEstimado)}));const r=Array.from(t.entries()).map((e=>{let[t,r]=e;return{nombre:t,lucro:r}})).sort(((e,t)=>t.lucro-e.lucro));I(r);const n=new Map;e.forEach((e=>{const t=e.nombreSucursal||"Sin Sucursal";n.set(t,(n.get(t)||0)+e.lucroEstimado)}));const o=Array.from(n.entries()).map((e=>{let[t,r]=e;return{nombre:t,lucro:r}})).sort(((e,t)=>t.lucro-e.lucro));M(o);const a=new Map;e.forEach((e=>{a.set(e.operadora,(a.get(e.operadora)||0)+e.lucroEstimado)}));const i=Array.from(a.entries()).map((e=>{let[t,r]=e;return{nombre:t,lucro:r}})).sort(((e,t)=>t.lucro-e.lucro));R(i);const s=["Domingo","Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado"],l=new Map;s.forEach((e=>{l.set(e,{count:0,lucro:0})})),e.forEach((e=>{const t=new Date(e.createdAt),r=s[t.getDay()],n=l.get(r)||{count:0,lucro:0};l.set(r,{count:n.count+1,lucro:n.lucro+e.lucroEstimado})}));const c=s.map((e=>{var t,r;return{dia:e,cantidad:(null===(t=l.get(e))||void 0===t?void 0:t.count)||0,lucro:(null===(r=l.get(e))||void 0===r?void 0:r.lucro)||0}}));$(c)},B=["#0088ce","#e3006d","#da291c","#3eb649","#0097d0","#ffb81c","#8884d8","#82ca9d","#ffc658","#8dd1e1"];return(0,Ve.jsx)(Cm,{dateAdapter:xw,adapterLocale:Cw,children:(0,Ve.jsxs)(Et,{sx:{backgroundColor:"#121212",minHeight:"100vh",color:"#fff",pt:2,pb:4},children:[(0,Ve.jsx)(pt,{styles:{"*::-webkit-scrollbar":{width:"12px",height:"12px"},"*::-webkit-scrollbar-track":{backgroundColor:"#121212"},"*::-webkit-scrollbar-thumb":{backgroundColor:"#333",borderRadius:"6px","&:hover":{backgroundColor:"#444"}},html:{scrollbarColor:"#333 #121212",scrollbarWidth:"thin"},body:{scrollbarColor:"#333 #121212",scrollbarWidth:"thin"}}}),(0,Ve.jsxs)(Jk,{maxWidth:"xl",children:[" ",(0,Ve.jsx)(Et,{sx:{mb:2,display:"flex",alignItems:"center"},children:(0,Ve.jsxs)($r,{variant:"h5",sx:{fontWeight:"medium",color:"#64b5f6"},children:[" ","Reporte de Lucro por Movimientos de Caja"]})}),(0,Ve.jsxs)($t,{sx:{p:2,mb:2,bgcolor:"#212121"},children:[(0,Ve.jsxs)(WA,{value:k,onChange:(e,t)=>{O(t)},sx:{borderBottom:1,borderColor:"divider",mb:2},textColor:"inherit",indicatorColor:"primary",children:[(0,Ve.jsx)(YA,{label:"Resumen de Lucro"}),(0,Ve.jsx)(YA,{label:"Estad\xedsticas"})]}),0===k&&(0,Ve.jsxs)(Et,{children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center",mb:1.5},children:[(0,Ve.jsx)(iZ.A,{sx:{mr:1,color:"#9e9e9e"}}),(0,Ve.jsx)($r,{variant:"subtitle1",sx:{color:"#bdbdbd"},children:"Filtros"})," "]}),(0,Ve.jsxs)(mZ,{children:[(0,Ve.jsx)(Kx,{label:"Fecha Desde",value:c,onChange:e=>d(e),slotProps:{textField:{variant:"outlined",size:"small",sx:{width:{xs:"100%",sm:160},"& .MuiOutlinedInput-root":{color:"#e0e0e0",backgroundColor:"#333","& fieldset":{borderColor:"#555"},"&:hover fieldset":{borderColor:"#777"},"&.Mui-focused fieldset":{borderColor:"#64b5f6"}},"& .MuiInputLabel-root":{color:"#bdbdbd"},"& .MuiSvgIcon-root":{color:"#bdbdbd"}}}}}),(0,Ve.jsx)(Kx,{label:"Fecha Hasta",value:u,onChange:e=>p(e),slotProps:{textField:{variant:"outlined",size:"small",sx:{width:{xs:"100%",sm:160},"& .MuiOutlinedInput-root":{color:"#e0e0e0",backgroundColor:"#333","& fieldset":{borderColor:"#555"},"&:hover fieldset":{borderColor:"#777"},"&.Mui-focused fieldset":{borderColor:"#64b5f6"}},"& .MuiInputLabel-root":{color:"#bdbdbd"},"& .MuiSvgIcon-root":{color:"#bdbdbd"}}}}}),(0,Ve.jsx)(sA,{size:"small",options:["",...j],value:h,onChange:(e,t)=>f(t||""),renderInput:e=>(0,Ve.jsx)(jp,{...e,label:"Usuario",variant:"outlined",InputLabelProps:{style:{color:"#bdbdbd"}}}),renderOption:(e,t)=>(0,Ve.jsx)("li",{...e,style:{color:"#e0e0e0"},children:""===t?"Todos":t}),sx:{width:{xs:"100%",sm:220},"& .MuiOutlinedInput-root":{color:"#e0e0e0",backgroundColor:"#333","& fieldset":{borderColor:"#555"},"&:hover fieldset":{borderColor:"#777"},"&.Mui-focused fieldset":{borderColor:"#64b5f6"}},"& .MuiIconButton-root":{color:"#bdbdbd"},"& .MuiAutocomplete-popupIndicator":{color:"#bdbdbd"},"& .MuiAutocomplete-clearIndicator":{color:"#bdbdbd"}},ListboxProps:{style:{backgroundColor:"#333",color:"#e0e0e0",maxHeight:300}},getOptionLabel:e=>""===e?"Todos":e,isOptionEqualToValue:(e,t)=>""===t&&""===e||e===t}),(0,Ve.jsxs)(lu,{size:"small",variant:"outlined",sx:{minWidth:{xs:"100%",sm:160},"& .MuiOutlinedInput-root":{color:"#e0e0e0",backgroundColor:"#333","& fieldset":{borderColor:"#555"},"&:hover fieldset":{borderColor:"#777"},"&.Mui-focused fieldset":{borderColor:"#64b5f6"}},"& .MuiInputLabel-root":{color:"#bdbdbd"},"& .MuiSelect-icon":{color:"#bdbdbd"}},children:[(0,Ve.jsx)(ou,{id:"sucursal-filtro-label",children:"Sucursal"}),(0,Ve.jsxs)(gp,{labelId:"sucursal-filtro-label",value:m,label:"Sucursal",onChange:e=>g(e.target.value),MenuProps:{PaperProps:{sx:{backgroundColor:"#333",color:"#e0e0e0"}}},children:[(0,Ve.jsx)(_h,{value:"",children:(0,Ve.jsx)("em",{children:"Todas"})}),S.map(((e,t)=>(0,Ve.jsx)(_h,{value:e,children:e},t)))]})]}),(0,Ve.jsx)(fs,{variant:"contained",onClick:()=>{(async()=>{if(c&&u){i(!0),l(null),t([]),n([]);try{const e=await ed.get("http://localhost:3000/api/movimientos-caja/all-movimientos",{params:{fechaDesde:c.toISOString().split("T")[0],fechaHasta:u.toISOString().split("T")[0]}}),r=(e.data.data||e.data||[]).map((e=>{var t,r,n,o;return{...e,monto:parseFloat(e.monto)||0,nombreUsuario:e.nombreUsuario||(null===(t=e.Caja)||void 0===t||null===(r=t.Usuario)||void 0===r?void 0:r.nombre),nombreSucursal:e.nombreSucursal||(null===(n=e.Caja)||void 0===n||null===(o=n.Sucursal)||void 0===o?void 0:o.nombre)}}));t(r)}catch(s){var e,r,o,a;console.error("Error al cargar movimientos:",s);const n=(null===(e=s.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.message)||(null===(o=s.response)||void 0===o||null===(a=o.data)||void 0===a?void 0:a.error)||s.message||"Error desconocido al cargar los movimientos.";l(n),t([])}finally{i(!1)}}else l("Por favor, seleccione un rango de fechas.")})()},disabled:o,startIcon:o?(0,Ve.jsx)(KS,{size:20,color:"inherit"}):(0,Ve.jsx)(rf.A,{}),sx:{height:40,backgroundColor:"#1e88e5","&:hover":{backgroundColor:"#1565c0"},flexShrink:0,width:{xs:"100%",sm:"auto"}},children:"BUSCAR"})]}),(0,Ve.jsxs)($h,{container:!0,spacing:2,sx:{mt:1},children:[(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsxs)(fZ,{bgcolor:"#2e7d32",children:[" ",(0,Ve.jsx)($r,{variant:"subtitle2",children:"Total Lucro (\u20b2)"}),(0,Ve.jsx)($r,{variant:"h6",sx:{fontWeight:"bold"},children:cZ(v)})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsxs)(fZ,{bgcolor:"#0277bd",children:[" ",(0,Ve.jsx)($r,{variant:"subtitle2",children:"Total Lucro ($)"}),(0,Ve.jsx)($r,{variant:"h6",sx:{fontWeight:"bold"},children:dZ(b)})]})})]}),s&&(0,Ve.jsxs)(uZ,{sx:{p:2,mb:2,borderLeft:"4px solid #d32f2f",backgroundColor:"#2a1a1a"},children:[" ",(0,Ve.jsx)($r,{sx:{color:"#ef9a9a"},children:s})," "]}),o&&!s&&(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",py:4},children:(0,Ve.jsx)(KS,{sx:{color:"#64b5f6"}})}),!o&&!s&&e.length>0&&0===z.length&&0===r.length&&(0,Ve.jsx)(uZ,{sx:{p:2,mb:2,textAlign:"center"},children:(0,Ve.jsx)($r,{sx:{color:"#9e9e9e"},children:"No se encontraron movimientos que generen lucro con los criterios seleccionados."})}),!o&&!s&&0===e.length&&(0,Ve.jsx)(uZ,{sx:{p:2,mb:2,textAlign:"center"},children:(0,Ve.jsx)($r,{sx:{color:"#9e9e9e"},children:"No se encontraron movimientos para el rango de fechas seleccionado. Intente con otro rango o verifique los filtros."})}),e.length>0&&(0,Ve.jsx)($h,{container:!0,spacing:2,children:(0,Ve.jsxs)($h,{item:!0,xs:12,children:[(0,Ve.jsx)($r,{variant:"h6",sx:{mb:1.5,color:"#bdbdbd",fontWeight:"medium"},children:"Lucro por Operadora"}),(0,Ve.jsx)($h,{container:!0,spacing:2,children:[...z].reverse().sort(((e,t)=>{const r={tigo:1,personal:2,claro:3,wepaguaranies:4,aquipago:5,wepadolares:6};return(r[e.operadoraNombre.toLowerCase().replace(/\s+/g,"")]||99)-(r[t.operadoraNombre.toLowerCase().replace(/\s+/g,"")]||99)})).map((e=>(0,Ve.jsx)($h,{item:!0,xs:12,sm:4,children:(0,Ve.jsxs)(hZ,{bordercolor:e.color,children:[(0,Ve.jsx)(Et,{sx:{backgroundColor:e.color,p:1},children:(0,Ve.jsx)($r,{variant:"subtitle1",sx:{fontWeight:"bold",color:"#fff",textAlign:"center"},children:e.operadoraNombre.toUpperCase()})}),(0,Ve.jsx)(Dp,{children:(0,Ve.jsxs)(zp,{size:"small",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(pZ,{sx:{pl:1},children:"Servicio"}),(0,Ve.jsx)(pZ,{align:"right",children:"Monto Total"}),(0,Ve.jsx)(pZ,{align:"center",sx:{whiteSpace:"nowrap"},children:"% Lucro"}),(0,Ve.jsx)(pZ,{align:"right",sx:{pr:1},children:"Lucro Total"})]})}),(0,Ve.jsxs)(sh,{children:[e.servicios.map(((t,r)=>(0,Ve.jsxs)(Xp,{sx:{"&:hover":{backgroundColor:"#3c3c3c"}},children:[(0,Ve.jsx)(pZ,{sx:{pl:1,fontWeight:"medium"},children:t.servicio}),(0,Ve.jsxs)(pZ,{align:"right",children:["\u20b2"===t.moneda?cZ(t.montoTotal):dZ(t.montoTotal),(0,Ve.jsxs)($r,{component:"span",variant:"caption",sx:{ml:.5,color:"#9e9e9e"},children:[" ",t.moneda]})]}),(0,Ve.jsxs)(pZ,{align:"center",sx:{color:"#9e9e9e"},children:[(100*t.porcentaje).toFixed(1),"%"]}),(0,Ve.jsxs)(pZ,{align:"right",sx:{pr:1,color:t.lucroTotal>0?"#66bb6a":"#9e9e9e",fontWeight:t.lucroTotal>0?"bold":"normal"},children:["\u20b2"===t.moneda?cZ(t.lucroTotal):dZ(t.lucroTotal),(0,Ve.jsxs)($r,{component:"span",variant:"caption",sx:{ml:.5,color:"#9e9e9e"},children:[" ",t.moneda]})]})]},`${e.operadoraNombre}-${t.servicio}-${r}`))),(0,Ve.jsxs)(Xp,{sx:{backgroundColor:"#2d2d2d"},children:[(0,Ve.jsxs)(pZ,{sx:{pl:1,fontWeight:"bold"},colSpan:3,children:["Total Lucro ",e.operadoraNombre]}),(0,Ve.jsx)(pZ,{align:"right",sx:{pr:1,color:"#66bb6a",fontWeight:"bold",borderTop:"1px solid #555"},children:(()=>{if(1===new Set(e.servicios.map((e=>e.moneda))).size){const t=e.servicios[0].moneda,r=e.servicios.reduce(((e,t)=>e+t.lucroTotal),0);return(0,Ve.jsxs)(Ve.Fragment,{children:["\u20b2"===t?cZ(r):dZ(r),(0,Ve.jsxs)($r,{component:"span",variant:"caption",sx:{ml:.5,color:"#9e9e9e"},children:[" ",t]})]})}{const t=e.servicios.filter((e=>"\u20b2"===e.moneda)).reduce(((e,t)=>e+t.lucroTotal),0),r=e.servicios.filter((e=>"$"===e.moneda)).reduce(((e,t)=>e+t.lucroTotal),0);return(0,Ve.jsxs)(Ve.Fragment,{children:[t>0&&(0,Ve.jsxs)("div",{children:[cZ(t)," ",(0,Ve.jsx)($r,{component:"span",variant:"caption",sx:{color:"#9e9e9e"},children:"\u20b2"})]}),r>0&&(0,Ve.jsxs)("div",{children:[dZ(r)," ",(0,Ve.jsx)($r,{component:"span",variant:"caption",sx:{color:"#9e9e9e"},children:"$"})]})]})}})()})]})]})]})})]})},e.operadoraNombre)))})]})})]}),1===k&&(0,Ve.jsxs)(Et,{children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,sx:{color:"#bdbdbd"},children:"Estad\xedsticas de Lucro"}),o&&(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",py:4},children:(0,Ve.jsx)(KS,{sx:{color:"#64b5f6"}})}),!o&&0===r.length&&(0,Ve.jsx)(uZ,{sx:{p:2,mb:2,textAlign:"center"},children:(0,Ve.jsx)($r,{sx:{color:"#9e9e9e"},children:"No hay datos para mostrar estad\xedsticas. Por favor, realice una b\xfasqueda primero."})}),!o&&r.length>0&&(0,Ve.jsxs)($h,{container:!0,spacing:3,children:[(0,Ve.jsx)($h,{item:!0,xs:12,md:6,children:(0,Ve.jsx)(jk,{variant:"outlined",sx:{bgcolor:"#2d2d2d",height:"100%"},children:(0,Ve.jsxs)(Ak,{children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,sx:{color:"#e0e0e0"},children:"Ranking de Lucro por Usuario"}),(0,Ve.jsx)(Ii,{sx:{mb:2,bgcolor:"#424242"}}),(0,Ve.jsx)(Et,{sx:{height:300},children:(0,Ve.jsx)(GD,{width:"100%",height:"100%",children:(0,Ve.jsxs)(tZ,{data:P.slice(0,10),layout:"vertical",margin:{top:5,right:30,left:20,bottom:5},children:[(0,Ve.jsx)(dX,{strokeDasharray:"3 3",stroke:"#424242"}),(0,Ve.jsx)(RK,{type:"number",stroke:"#9e9e9e"}),(0,Ve.jsx)(GK,{dataKey:"nombre",type:"category",width:120,stroke:"#9e9e9e"}),(0,Ve.jsx)(qM,{formatter:e=>cZ(e),cursor:{fill:"#444444"},contentStyle:{backgroundColor:"#333333",border:"none",color:"#e0e0e0"}}),(0,Ve.jsx)(LG,{dataKey:"lucro",fill:"#0088ce",children:P.slice(0,10).map(((e,t)=>(0,Ve.jsx)(mV,{fill:B[t%B.length]},`cell-${t}`)))})]})})})]})})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:6,children:(0,Ve.jsx)(jk,{variant:"outlined",sx:{bgcolor:"#2d2d2d",height:"100%"},children:(0,Ve.jsxs)(Ak,{children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,sx:{color:"#e0e0e0"},children:"Lucro por Sucursal"}),(0,Ve.jsx)(Ii,{sx:{mb:2,bgcolor:"#424242"}}),(0,Ve.jsx)(Et,{sx:{height:300},children:(0,Ve.jsx)(GD,{width:"100%",height:"100%",children:(0,Ve.jsxs)(eZ,{children:[(0,Ve.jsx)(ZJ,{data:D,cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",dataKey:"lucro",nameKey:"nombre",label:e=>{let{nombre:t,percent:r}=e;return`${t}: ${(100*r).toFixed(0)}%`},labelLine:!1,children:D.map(((e,t)=>(0,Ve.jsx)(mV,{fill:B[t%B.length]},`cell-${t}`)))}),(0,Ve.jsx)(qM,{formatter:e=>cZ(e),contentStyle:{backgroundColor:"#333333",border:"none",color:"#e0e0e0"}}),(0,Ve.jsx)(sR,{layout:"vertical",verticalAlign:"bottom",align:"center",wrapperStyle:{color:"#e0e0e0"}})]})})})]})})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:6,children:(0,Ve.jsx)(jk,{variant:"outlined",sx:{bgcolor:"#2d2d2d",height:"100%"},children:(0,Ve.jsxs)(Ak,{children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,sx:{color:"#e0e0e0"},children:"Lucro por Operadora"}),(0,Ve.jsx)(Ii,{sx:{mb:2,bgcolor:"#424242"}}),(0,Ve.jsx)(Et,{sx:{height:300},children:(0,Ve.jsx)(GD,{width:"100%",height:"100%",children:(0,Ve.jsxs)(tZ,{data:T,margin:{top:5,right:30,left:20,bottom:5},children:[(0,Ve.jsx)(dX,{strokeDasharray:"3 3",stroke:"#424242"}),(0,Ve.jsx)(RK,{dataKey:"nombre",stroke:"#9e9e9e"}),(0,Ve.jsx)(GK,{stroke:"#9e9e9e"}),(0,Ve.jsx)(qM,{formatter:e=>cZ(e),cursor:{fill:"#444444"},contentStyle:{backgroundColor:"#333333",border:"none",color:"#e0e0e0"}}),(0,Ve.jsx)(LG,{dataKey:"lucro",fill:"#0088ce",children:T.map(((e,t)=>{const r=e.nombre.toLowerCase().replace(/\s+/g,""),n=sZ[r]||B[t%B.length];return(0,Ve.jsx)(mV,{fill:n},`cell-${t}`)}))})]})})})]})})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:6,children:(0,Ve.jsx)(jk,{variant:"outlined",sx:{bgcolor:"#2d2d2d",height:"100%"},children:(0,Ve.jsxs)(Ak,{children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,sx:{color:"#e0e0e0"},children:"Movimientos por D\xeda de la Semana"}),(0,Ve.jsx)(Ii,{sx:{mb:2,bgcolor:"#424242"}}),(0,Ve.jsx)(Et,{sx:{height:300},children:(0,Ve.jsx)(GD,{width:"100%",height:"100%",children:(0,Ve.jsxs)(HK,{data:N,margin:{top:5,right:30,left:20,bottom:5},children:[(0,Ve.jsx)(dX,{strokeDasharray:"3 3",stroke:"#424242"}),(0,Ve.jsx)(RK,{dataKey:"dia",stroke:"#9e9e9e"}),(0,Ve.jsx)(GK,{yAxisId:"left",stroke:"#9e9e9e"}),(0,Ve.jsx)(GK,{yAxisId:"right",orientation:"right",stroke:"#82ca9d"}),(0,Ve.jsx)(qM,{formatter:(e,t)=>"lucro"===t?cZ(e):e,contentStyle:{backgroundColor:"#333333",border:"none",color:"#e0e0e0"}}),(0,Ve.jsx)(sR,{wrapperStyle:{color:"#e0e0e0"}}),(0,Ve.jsx)(ZY,{yAxisId:"left",type:"monotone",dataKey:"cantidad",stroke:"#0088ce",activeDot:{r:8},name:"Cantidad"}),(0,Ve.jsx)(ZY,{yAxisId:"right",type:"monotone",dataKey:"lucro",stroke:"#82ca9d",name:"Lucro"})]})})})]})})})]})]})]})]})]})})},vZ=(0,ms.A)((0,Ve.jsx)("path",{d:"M20 4H4v2h16zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6zm-9 4H6v-4h6z"}),"Store"),xZ="http://localhost:3000/api",bZ=()=>{const e=gt(),{user:t}=eC(),{cotizacionVigente:r,convertirDolaresAGuaranies:n,convertirRealesAGuaranies:o,refrescarCotizacion:i}=SC(),[s,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),[u,p]=(0,a.useState)(""),[h,f]=(0,a.useState)("success"),[m,g]=(0,a.useState)([{id:"balance-farmacia",titulo:"Balance con Farmacia",monto:0,moneda:"GS",icon:(0,Ve.jsx)(vZ,{}),color:e.palette.primary.main},{id:"balance-personas",titulo:"Balance con Personas",monto:0,moneda:"GS",icon:(0,Ve.jsx)(LX,{}),color:e.palette.secondary.main},{id:"balance-aquipago",titulo:"Balance Aqui Pago",monto:0,moneda:"GS",icon:(0,Ve.jsx)(Is,{}),color:e.palette.success.main},{id:"balance-wepa-gs",titulo:"Balance Wepa Gs",monto:0,moneda:"GS",icon:(0,Ve.jsx)(Is,{}),color:e.palette.warning.main},{id:"balance-wepa-usd",titulo:"Balance Wepa USD",monto:0,moneda:"USD",icon:(0,Ve.jsx)(Ss,{}),color:e.palette.info.main},{id:"efectivo-cajas",titulo:"Efectivo en Cajas",monto:0,moneda:"GS",icon:(0,Ve.jsx)(DQ,{}),color:e.palette.error.main},{id:"saldos-servicios",titulo:"Saldos en Servicios",monto:0,moneda:"GS",icon:(0,Ve.jsx)(Ps,{}),color:e.palette.grey[700]}]),[v,x]=(0,a.useState)(0),[b,y]=(0,a.useState)(0),[j,w]=(0,a.useState)(0);(0,a.useEffect)((()=>{S()}),[r]),(0,a.useEffect)((()=>{!s&&m.some((e=>e.monto>0))&&O()}),[s,m]);const S=async()=>{l(!0);try{if(r||(console.log("Cotizaci\xf3n no disponible al iniciar cargarBalances, refrescando..."),await i()),!r)return console.error("No se pudo obtener la cotizaci\xf3n vigente para los c\xe1lculos"),p("No se pudo obtener la cotizaci\xf3n vigente"),f("error"),d(!0),void l(!1);console.log("Cotizaci\xf3n vigente lista para c\xe1lculos:",r);const t=[...m];try{await(async()=>{try{if(!r&&(console.log("Cotizaci\xf3n no disponible, esperando que se cargue..."),await i(),!r))throw console.error("No se pudo obtener la cotizaci\xf3n vigente"),new Error("No se pudo obtener la cotizaci\xf3n vigente");console.log("Usando cotizaci\xf3n vigente:",r),await ed.get(`${xZ}/movimientos-farmacia`,{params:{page:1,limit:1}});const e=await ed.get(`${xZ}/movimientos-farmacia`,{params:{monedaCodigo:"PYG",soloTotal:!0}}),t=await ed.get(`${xZ}/movimientos-farmacia`,{params:{monedaCodigo:"USD",soloTotal:!0}}),n=await ed.get(`${xZ}/movimientos-farmacia`,{params:{monedaCodigo:"BRL",soloTotal:!0}}),o=parseFloat(e.data.totalBalancePYG||"0"),a=parseFloat(t.data.totalBalanceUSD||"0"),s=parseFloat(n.data.totalBalanceBRL||"0"),l=a*r.valorDolar,c=s*r.valorReal,d=o+l+c;return console.log("Balance Farmacia - Detalle:",{guaranies:o,dolares:a,cotizacionDolar:r.valorDolar,dolaresEnGs:l,reales:s,cotizacionReal:r.valorReal,realesEnGs:c,balanceTotal:d}),g((e=>{const t=[...e],r=t.findIndex((e=>"balance-farmacia"===e.id));return-1!==r&&(t[r]={...t[r],monto:Math.abs(d),titulo:d<0?"Farmacia nos debe":"Debemos a Farmacia"}),t})),Math.abs(d)}catch(e){throw console.error("Error al cargar el balance de farmacia:",e),e}})(),await(async()=>{try{const e=await QA();if(!r)throw console.error("No hay cotizaci\xf3n vigente disponible"),new Error("No hay cotizaci\xf3n vigente disponible");let t=0,n=0,o=0;return e.forEach((e=>{const a=(e.guaranies||0)+(e.dolares||0)*r.valorDolar+(e.reales||0)*r.valorReal;t+=a,a<0?n+=Math.abs(a):a>0&&(o+=a)})),g((e=>{const t=[...e],r=t.findIndex((e=>"balance-personas"===e.id));if(-1!==r){const e=n>o;t[r]={...t[r],monto:e?n:o,titulo:e?"Personas nos deben":"Debemos a Personas"}}return t})),t}catch(e){throw console.error("Error al cargar el balance de personas:",e),e}})(),await(async()=>{try{const e=(new Date).toISOString().split("T")[0],t=(await ed.get(`${xZ}/aquipago/movimientos`,{params:{fechaInicio:e,fechaFin:e}})).data.totalADepositar||0;return g((e=>{const r=[...e],n=r.findIndex((e=>"balance-aquipago"===e.id));return-1!==n&&(r[n]={...r[n],monto:Math.abs(t),titulo:t>0?"Aqui Pago - Por Depositar":"Aqui Pago - En Haber"}),r})),Math.abs(t)}catch(e){throw console.error("Error al cargar el balance de Aqui Pago:",e),e}})(),await(async()=>{try{const e=(await ed.get(`${xZ}/weno-gs/balance-global`)).data.totalADepositar||0;return g((t=>{const r=[...t],n=r.findIndex((e=>"balance-wepa-gs"===e.id));return-1!==n&&(r[n]={...r[n],monto:Math.abs(e),titulo:e>0?"Wepa Gs - Por Depositar":"Wepa Gs - En Haber"}),r})),Math.abs(e)}catch(e){throw console.error("Error al cargar el balance de Wepa Gs:",e),e}})(),await(async()=>{try{const e=(await ed.get(`${xZ}/wepa-usd/balance-global`)).data.totalADepositar||0;return g((t=>{const r=[...t],n=r.findIndex((e=>"balance-wepa-usd"===e.id));return-1!==n&&(r[n]={...r[n],monto:Math.abs(e),titulo:e>0?"Wepa USD - Por Depositar":"Wepa USD - En Haber"}),r})),Math.abs(e)}catch(e){throw console.error("Error al cargar el balance de Wepa USD:",e),e}})();const e=await C(),n=t.findIndex((e=>"efectivo-cajas"===e.id));-1!==n&&(t[n].monto=e);const o=await E(),a=t.findIndex((e=>"saldos-servicios"===e.id));-1!==a&&(t[a].monto=o),console.log("Balances cargados, actualizando estado:",t)}catch(e){console.error("Error al obtener datos espec\xedficos:",e)}O()}catch(e){console.error("Error al cargar balances:",e),p("Error al cargar los balances"),f("error"),d(!0)}finally{l(!1)}},C=async()=>{try{console.log("Obteniendo efectivo en cajas desde el nuevo endpoint...");const e=await ed.get(`${xZ}/activo-pasivo/efectivo-en-cajas`);if(!e.data||"number"!==typeof e.data.totalEfectivoEnCajas)return console.error("Respuesta inv\xe1lida del endpoint de efectivo en cajas:",e.data),0;const t=e.data.totalEfectivoEnCajas;return console.log(`Total efectivo en cajas: ${t}`),g((e=>{const r=[...e],n=r.findIndex((e=>"efectivo-cajas"===e.id));return-1!==n&&(r[n]={...r[n],monto:t}),r})),t}catch(e){return console.error("Error al obtener efectivo en cajas:",e),console.log("Intentando m\xe9todo alternativo para obtener efectivo en cajas..."),A()}},A=async()=>{if(!r)return console.error("No hay cotizaci\xf3n vigente disponible para convertir monedas"),0;try{const e=new Map;console.log("Obteniendo todas las cajas cerradas...");const t=(await ed.get(`${xZ}/cajas?estado=cerrada`)).data||[];console.log(`Encontradas ${t.length} cajas cerradas`),t.forEach((t=>{if(t.saldoFinal&&t.saldoFinal.total){const r=t.maletinId,n=t.cajaEnteroId;let o=new Date(0);t.fechaCierre&&(o=new Date(t.fechaCierre));const a=t.saldoFinal.total.PYG||0,i=t.saldoFinal.total.USD||0,s=t.saldoFinal.total.BRL||0;if(console.log(`Malet\xedn ${r} - Caja cerrada ${n}: PYG=${a}, USD=${i}, BRL=${s}, Fecha=${o.toISOString()}`),e.has(r)){const l=e.get(r);if("cierre"===l.tipo){const c=new Date(l.fecha);console.log(`Comparando fechas para malet\xedn ${r}:`),console.log(`- Existente: ${c.toISOString()} (${l.cajaId})`),console.log(`- Nueva: ${o.toISOString()} (${n})`),o>c?(e.set(r,{tipo:"cierre",cajaId:n,fecha:o,fechaString:t.fechaCierre,PYG:a,USD:i,BRL:s}),console.log(`\ud83d\udd04 Actualizado malet\xedn ${r} con cierre m\xe1s reciente (caja ${n})`)):console.log(`\u274c Descartado cierre del malet\xedn ${r} (caja ${n}) por ser m\xe1s antiguo`)}else console.log(`\u23e9 Ignorando cierre del malet\xedn ${r} porque ya tiene un registro de apertura`)}else e.set(r,{tipo:"cierre",cajaId:n,fecha:o,fechaString:t.fechaCierre,PYG:a,USD:i,BRL:s}),console.log(`\u2705 Registrado malet\xedn ${r} con saldo de cierre de caja ${n}`)}})),console.log("Obteniendo comparaciones de maletines (verificaci\xf3n adicional)...");const n=(await ed.get(`${xZ}/diferencias/maletines/comparaciones`)).data.comparaciones||[];console.log(`Encontradas ${n.length} comparaciones de maletines`),n.forEach((t=>{if(t.cajaAnterior&&t.cajaAnterior.saldoFinal){const r=t.cajaAnterior.maletinId,n=t.cajaAnterior.cajaEnteroId;let o=new Date(0);if(t.cajaAnterior.fechaCierre&&(o=new Date(t.cajaAnterior.fechaCierre)),e.has(r)){const t=e.get(r);if("cierre"!==t.tipo)return void console.log(`\u23e9 Ignorando comparaci\xf3n de malet\xedn ${r} porque ya tiene un registro de apertura`);if(o<=new Date(t.fecha))return void console.log(`\u23e9 Ignorando comparaci\xf3n de malet\xedn ${r} (caja ${n}) porque ya tenemos un cierre m\xe1s reciente`)}const a=t.cajaAnterior.saldoFinal.total.PYG||0,i=t.cajaAnterior.saldoFinal.total.USD||0,s=t.cajaAnterior.saldoFinal.total.BRL||0;console.log(`Malet\xedn ${r} - Comparaci\xf3n caja ${n}: PYG=${a}, USD=${i}, BRL=${s}, Fecha=${o.toISOString()}`),e.set(r,{tipo:"cierre",cajaId:n,fecha:o,fechaString:t.cajaAnterior.fechaCierre,PYG:a,USD:i,BRL:s}),console.log(`\u2705 Actualizado malet\xedn ${r} con saldo de comparaci\xf3n (caja ${n})`)}})),console.log("Obteniendo cajas abiertas...");const o=(await ed.get(`${xZ}/cajas?estado=abierta`)).data||[];console.log(`Encontradas ${o.length} cajas abiertas`),o.sort(((e,t)=>{const r=e.fechaApertura?new Date(e.fechaApertura).getTime():0;return(t.fechaApertura?new Date(t.fechaApertura).getTime():0)-r})),o.forEach((t=>{if(t.saldoInicial&&t.saldoInicial.total){const r=t.maletinId,n=t.cajaEnteroId;let o=new Date(0);t.fechaApertura&&(o=new Date(t.fechaApertura));const a=t.saldoInicial.total.PYG||0,i=t.saldoInicial.total.USD||0,s=t.saldoInicial.total.BRL||0;if(console.log(`Malet\xedn ${r} - Caja abierta ${n}: PYG=${a}, USD=${i}, BRL=${s}, Fecha=${o.toISOString()}`),e.has(r)&&"apertura"===e.get(r).tipo){const t=e.get(r);if(o<=new Date(t.fecha))return void console.log(`\u274c Ignorando apertura m\xe1s antigua del malet\xedn ${r} (caja ${n})`)}e.set(r,{tipo:"apertura",cajaId:n,fecha:o,fechaString:t.fechaApertura,PYG:a,USD:i,BRL:s}),console.log(`\u2705 Malet\xedn ${r} actualizado con saldo de apertura de caja ${n}`)}}));let a=0;const i=new Map;return e.forEach(((e,t)=>{if(i.has(t)){const r=i.get(t);if("apertura"===r.tipo&&"cierre"===e.tipo)return void console.log(`\u26a0\ufe0f Manteniendo apertura sobre cierre para malet\xedn ${t}`);if(r.tipo===e.tipo){if(new Date(r.fecha)>=new Date(e.fecha))return void console.log(`\u26a0\ufe0f Manteniendo registro m\xe1s reciente para malet\xedn ${t}`)}}i.set(t,e)})),console.log("===== RESUMEN DE MALETINES DESPU\xc9S DE LIMPIEZA ====="),console.log(`Total maletines: ${i.size}`),i.forEach(((e,t)=>{let n=0;n+=e.PYG||0;let o=0;e.USD&&e.USD>0&&(o=e.USD*r.valorDolar,n+=o);let i=0;e.BRL&&e.BRL>0&&(i=e.BRL*r.valorReal,n+=i),a+=n,console.log(`Malet\xedn ${t}, Tipo: ${e.tipo}, Caja: ${e.cajaId}, Fecha: ${new Date(e.fecha).toISOString()}`),console.log(`PYG: ${e.PYG}, USD: ${e.USD} (${o} Gs), BRL: ${e.BRL} (${i} Gs), Subtotal: ${n} Gs`)})),console.log("===== TOTAL ====="),console.log(`Total efectivo en cajas: ${a} Gs (${i.size} maletines)`),a}catch(e){return console.error("Error al obtener efectivo en cajas:",e),0}},E=async()=>{try{console.log("Obteniendo saldos en servicios desde el nuevo endpoint...");const e=await ed.get(`${xZ}/activo-pasivo/saldos-servicios`);if(!e.data||"number"!==typeof e.data.totalSaldosServicios)return console.error("Respuesta inv\xe1lida del endpoint de saldos en servicios:",e.data),k();const t=e.data.totalSaldosServicios;return console.log(`Total saldos en servicios: ${t}`),g((e=>{const r=[...e],n=r.findIndex((e=>"saldos-servicios"===e.id));return-1!==n&&(r[n]={...r[n],monto:t}),r})),t}catch(e){return console.error("Error al obtener saldos en servicios:",e),console.log("Intentando m\xe9todo alternativo para obtener saldos en servicios..."),k()}},k=async()=>{try{const e=new Map;console.log("Obteniendo saldos de servicios de cajas cerradas...");const t=(await ed.get(`${xZ}/cajas?estado=cerrada`)).data||[];console.log(`Encontradas ${t.length} cajas cerradas para verificar saldos de servicios`),t.forEach((t=>{if(t.saldoFinal&&t.saldoFinal.servicios){const r=t.sucursalId,n=t.cajaEnteroId;let o=new Date(0);t.fechaCierre&&(o=new Date(t.fechaCierre));const a=t.saldoFinal.servicios||0;if(console.log(`Sucursal ${r} - Caja cerrada ${n}: Saldo Servicios=${a}, Fecha=${o.toISOString()}`),e.has(r)){const i=e.get(r);if("cierre"===i.tipo){o>new Date(i.fecha)?(e.set(r,{tipo:"cierre",cajaId:n,fecha:o,fechaString:t.fechaCierre,saldoServicios:a}),console.log(`\ud83d\udd04 Actualizada sucursal ${r} con cierre m\xe1s reciente (caja ${n})`)):console.log(`\u274c Descartado cierre de la sucursal ${r} (caja ${n}) por ser m\xe1s antiguo`)}else console.log(`\u23e9 Ignorando cierre de la sucursal ${r} porque ya tiene un registro de apertura`)}else e.set(r,{tipo:"cierre",cajaId:n,fecha:o,fechaString:t.fechaCierre,saldoServicios:a}),console.log(`\u2705 Registrada sucursal ${r} con saldo de servicios de cierre de caja ${n}`)}})),console.log("Obteniendo saldos de servicios de cajas abiertas...");const r=(await ed.get(`${xZ}/cajas?estado=abierta`)).data||[];console.log(`Encontradas ${r.length} cajas abiertas para verificar saldos de servicios`),r.sort(((e,t)=>{const r=e.fechaApertura?new Date(e.fechaApertura).getTime():0;return(t.fechaApertura?new Date(t.fechaApertura).getTime():0)-r})),r.forEach((t=>{if(t.saldoInicial&&void 0!==t.saldoInicial.servicios){const r=t.sucursalId,n=t.cajaEnteroId;let o=new Date(0);t.fechaApertura&&(o=new Date(t.fechaApertura));const a=t.saldoInicial.servicios||0;if(console.log(`Sucursal ${r} - Caja abierta ${n}: Saldo Servicios=${a}, Fecha=${o.toISOString()}`),e.has(r)&&"apertura"===e.get(r).tipo){const t=e.get(r);if(o<=new Date(t.fecha))return void console.log(`\u274c Ignorando apertura m\xe1s antigua de la sucursal ${r} (caja ${n})`)}e.set(r,{tipo:"apertura",cajaId:n,fecha:o,fechaString:t.fechaApertura,saldoServicios:a}),console.log(`\u2705 Sucursal ${r} actualizada con saldo de servicios de apertura de caja ${n}`)}}));let n=0;const o=new Map;return e.forEach(((e,t)=>{if(o.has(t)){const r=o.get(t);if("apertura"===r.tipo&&"cierre"===e.tipo)return void console.log(`\u26a0\ufe0f Manteniendo apertura sobre cierre para sucursal ${t}`);if(r.tipo===e.tipo){if(new Date(r.fecha)>=new Date(e.fecha))return void console.log(`\u26a0\ufe0f Manteniendo registro m\xe1s reciente para sucursal ${t}`)}}o.set(t,e)})),console.log("===== RESUMEN DE SALDOS DE SERVICIOS POR SUCURSAL ====="),console.log(`Total sucursales: ${o.size}`),o.forEach(((e,t)=>{n+=e.saldoServicios||0,console.log(`Sucursal ${t}, Tipo: ${e.tipo}, Caja: ${e.cajaId}, Fecha: ${new Date(e.fecha).toISOString()}`),console.log(`Saldo Servicios: ${e.saldoServicios}`)})),console.log("===== TOTAL SALDOS SERVICIOS ====="),console.log(`Total saldos en servicios: ${n} Gs (${o.size} sucursales)`),n}catch(e){return console.error("Error al obtener saldos en servicios usando el m\xe9todo antiguo:",e),0}},O=()=>{if(!r)return void console.error("Sin cotizaci\xf3n vigente para c\xe1lculo de totales");console.log("Calculando totales con balances:",m);let e=0,t=0;m.forEach((r=>{if(!r)return;const o=r.titulo.toLowerCase(),a=r.monto||0;if("balance-farmacia"===r.id&&o.includes("nos debe"))e+=a,console.log(`Sumando a ACTIVOS (${r.id}): ${a}`);else if("balance-personas"===r.id&&o.includes("nos deben"))e+=a,console.log(`Sumando a ACTIVOS (${r.id}): ${a}`);else if("balance-aquipago"===r.id&&o.includes("en haber"))e+=a,console.log(`Sumando a ACTIVOS (${r.id}): ${a}`);else if("balance-wepa-gs"===r.id&&o.includes("en haber"))e+=a,console.log(`Sumando a ACTIVOS (${r.id}): ${a}`);else if("balance-wepa-usd"===r.id&&o.includes("en haber")){const t="USD"===r.moneda?n(a):a;e+=t,console.log(`Sumando a ACTIVOS (${r.id}): ${t} (convertido de USD: ${a})`)}else("efectivo-cajas"===r.id||"saldos-servicios"===r.id)&&(e+=a,console.log(`Sumando a ACTIVOS (${r.id}): ${a}`));if("balance-farmacia"===r.id&&o.includes("debemos a farmacia"))t+=a,console.log(`Sumando a PASIVOS (${r.id}): ${a}`);else if("balance-personas"===r.id&&o.includes("debemos a personas"))t+=a,console.log(`Sumando a PASIVOS (${r.id}): ${a}`);else if("balance-aquipago"===r.id&&o.includes("por depositar"))t+=a,console.log(`Sumando a PASIVOS (${r.id}): ${a}`);else if("balance-wepa-gs"===r.id&&o.includes("por depositar"))t+=a,console.log(`Sumando a PASIVOS (${r.id}): ${a}`);else if("balance-wepa-usd"===r.id&&o.includes("por depositar")){const e="USD"===r.moneda?n(a):a;t+=e,console.log(`Sumando a PASIVOS (${r.id}): ${e} (convertido de USD: ${a})`)}})),console.log(`Total ACTIVOS: ${e}, Total PASIVOS: ${t}`),x(e),y(t),w(e-t)};(0,a.useEffect)((()=>{!s&&r&&(console.log("Ejecutando c\xe1lculo de totales despu\xe9s de carga..."),O())}),[s,r,m]);const P=(e,t)=>"GS"===t?new Intl.NumberFormat("es-PY").format(e):new Intl.NumberFormat("es-PY",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e);return(0,Ve.jsxs)(Et,{sx:{flexGrow:1},children:[(0,Ve.jsx)(pt,{styles:{"*::-webkit-scrollbar":{width:"12px",height:"12px"},"*::-webkit-scrollbar-track":{backgroundColor:"#121212"},"*::-webkit-scrollbar-thumb":{backgroundColor:"#333",borderRadius:"6px","&:hover":{backgroundColor:"#444"}},html:{scrollbarColor:"#333 #121212",scrollbarWidth:"thin"},body:{scrollbarColor:"#333 #121212",scrollbarWidth:"thin"}}}),(0,Ve.jsxs)($t,{elevation:3,sx:{p:3,mb:3},children:[(0,Ve.jsxs)($h,{container:!0,spacing:2,alignItems:"center",justifyContent:"space-between",sx:{mb:3},children:[(0,Ve.jsx)($h,{item:!0,children:(0,Ve.jsxs)($r,{variant:"h5",component:"h2",gutterBottom:!0,children:[(0,Ve.jsx)(vs,{sx:{mr:1,verticalAlign:"middle"}}),"Activos y Pasivos"]})}),(0,Ve.jsx)($h,{item:!0,children:(0,Ve.jsx)(Qo,{title:"Actualizar balances",children:(0,Ve.jsx)(fs,{variant:"outlined",color:"primary",startIcon:(0,Ve.jsx)(VX,{}),onClick:S,disabled:s,children:"Actualizar"})})})]}),s?(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px"},children:[(0,Ve.jsx)(KS,{}),(0,Ve.jsx)($r,{variant:"body1",sx:{ml:2},children:"Cargando balances..."})]}):(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)($h,{container:!0,spacing:3,sx:{mb:4},children:m.map((t=>(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,md:4,children:(0,Ve.jsx)(jk,{sx:{height:"100%",borderLeft:`4px solid ${t.color}`,transition:"transform 0.2s","&:hover":{transform:"translateY(-5px)",boxShadow:e.shadows[8]}},children:(0,Ve.jsxs)(Ak,{children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,Ve.jsx)(Et,{sx:{display:"flex",alignItems:"center",justifyContent:"center",bgcolor:`${t.color}20`,color:t.color,borderRadius:"50%",p:1,mr:2},children:t.icon}),(0,Ve.jsx)($r,{variant:"h6",component:"div",children:t.titulo})]}),(0,Ve.jsx)(Ii,{sx:{my:1}}),(0,Ve.jsx)($r,{variant:"h5",component:"div",sx:{textAlign:"right",fontWeight:"bold"},children:"GS"===t.moneda?`${P(t.monto,t.moneda)} Gs`:`US$ ${P(t.monto,t.moneda)}`})]})})},t.id)))}),(0,Ve.jsxs)($t,{elevation:2,sx:{p:3,mb:3,bgcolor:e.palette.background.default},children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,children:"Balance General"}),(0,Ve.jsxs)($h,{container:!0,spacing:3,children:[(0,Ve.jsx)($h,{item:!0,xs:12,md:4,children:(0,Ve.jsxs)(Et,{sx:{p:2,bgcolor:"rgba(76, 175, 80, 0.12)",borderRadius:1,color:e.palette.success.main},children:[(0,Ve.jsxs)($r,{variant:"subtitle1",sx:{display:"flex",alignItems:"center"},children:[(0,Ve.jsx)(gC,{fontSize:"small",sx:{mr:1}}),"Total Activos"]}),(0,Ve.jsxs)($r,{variant:"h5",children:[P(v,"GS")," Gs"]})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:4,children:(0,Ve.jsxs)(Et,{sx:{p:2,bgcolor:"rgba(244, 67, 54, 0.12)",borderRadius:1,color:e.palette.error.main},children:[(0,Ve.jsxs)($r,{variant:"subtitle1",sx:{display:"flex",alignItems:"center"},children:[(0,Ve.jsx)(vC,{fontSize:"small",sx:{mr:1}}),"Total Pasivos"]}),(0,Ve.jsxs)($r,{variant:"h5",children:[P(b,"GS")," Gs"]})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:4,children:(0,Ve.jsxs)(Et,{sx:{p:2,bgcolor:j>=0?"rgba(33, 150, 243, 0.12)":"rgba(255, 152, 0, 0.12)",borderRadius:1,color:j>=0?e.palette.info.main:e.palette.warning.main},children:[(0,Ve.jsx)($r,{variant:"subtitle1",children:"Balance Neto"}),(0,Ve.jsxs)($r,{variant:"h5",children:[j>=0?"+":"",P(j,"GS")," Gs"]})]})})]})]})]})]}),(0,Ve.jsx)(tf,{open:c,autoHideDuration:6e3,onClose:()=>d(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,Ve.jsx)(Ah,{onClose:()=>d(!1),severity:h,variant:"filled",sx:{width:"100%"},children:u})})]})};const yZ=function(e){const{badgeContent:t,invisible:r=!1,max:n=99,showZero:o=!1}=e,a=IC({badgeContent:t,max:n});let i=r;!1!==r||0!==t||o||(i=!0);const{badgeContent:s,max:l=n}=i?a:e;return{badgeContent:s,invisible:i,max:l,displayValue:s&&Number(s)>l?`${l}+`:s}};function jZ(e){return(0,Mt.Ay)("MuiBadge",e)}const wZ=(0,St.A)("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),SZ=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],CZ=(0,Ot.Ay)("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),AZ=(0,Ot.Ay)("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.badge,t[r.variant],t[`anchorOrigin${(0,Pt.A)(r.anchorOrigin.vertical)}${(0,Pt.A)(r.anchorOrigin.horizontal)}${(0,Pt.A)(r.overlap)}`],"default"!==r.color&&t[`color${(0,Pt.A)(r.color)}`],r.invisible&&t.invisible]}})((e=>{let{theme:t}=e;var r;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.keys((null!=(r=t.vars)?r:t).palette).filter((e=>{var r,n;return(null!=(r=t.vars)?r:t).palette[e].main&&(null!=(n=t.vars)?n:t).palette[e].contrastText})).map((e=>({props:{color:e},style:{backgroundColor:(t.vars||t).palette[e].main,color:(t.vars||t).palette[e].contrastText}}))),{props:{variant:"dot"},style:{borderRadius:4,height:8,minWidth:8,padding:0}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${wZ.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${wZ.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${wZ.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${wZ.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${wZ.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${wZ.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${wZ.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${wZ.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]}})),EZ=a.forwardRef((function(e,t){var r,n,o,a,i,s;const l=(0,at.b)({props:e,name:"MuiBadge"}),{anchorOrigin:c={vertical:"top",horizontal:"right"},className:d,component:u,components:p={},componentsProps:h={},children:f,overlap:m="rectangular",color:g="default",invisible:v=!1,max:x=99,badgeContent:b,slots:y,slotProps:j,showZero:w=!1,variant:S="standard"}=l,C=(0,Fe.A)(l,SZ),{badgeContent:A,invisible:E,max:k,displayValue:O}=yZ({max:x,invisible:v,badgeContent:b,showZero:w}),P=IC({anchorOrigin:c,color:g,overlap:m,variant:S,badgeContent:b}),I=E||null==A&&"dot"!==S,{color:D=g,overlap:M=m,anchorOrigin:T=c,variant:R=S}=I?P:l,N="dot"!==R?O:void 0,$=(0,Be.A)({},l,{badgeContent:A,invisible:I,max:k,displayValue:N,showZero:w,anchorOrigin:T,color:D,overlap:M,variant:R}),z=(e=>{const{color:t,anchorOrigin:r,invisible:n,overlap:o,variant:a,classes:i={}}=e,s={root:["root"],badge:["badge",a,n&&"invisible",`anchorOrigin${(0,Pt.A)(r.vertical)}${(0,Pt.A)(r.horizontal)}`,`anchorOrigin${(0,Pt.A)(r.vertical)}${(0,Pt.A)(r.horizontal)}${(0,Pt.A)(o)}`,`overlap${(0,Pt.A)(o)}`,"default"!==t&&`color${(0,Pt.A)(t)}`]};return(0,kt.A)(s,jZ,i)})($),L=null!=(r=null!=(n=null==y?void 0:y.root)?n:p.Root)?r:CZ,B=null!=(o=null!=(a=null==y?void 0:y.badge)?a:p.Badge)?o:AZ,F=null!=(i=null==j?void 0:j.root)?i:h.root,_=null!=(s=null==j?void 0:j.badge)?s:h.badge,U=Ao({elementType:L,externalSlotProps:F,externalForwardedProps:C,additionalProps:{ref:t,as:u},ownerState:$,className:(0,vt.A)(null==F?void 0:F.className,z.root,d)}),W=Ao({elementType:B,externalSlotProps:_,ownerState:$,className:(0,vt.A)(z.badge,null==_?void 0:_.className)});return(0,Ve.jsxs)(L,(0,Be.A)({},U,{children:[f,(0,Ve.jsx)(B,(0,Be.A)({},W,{children:N}))]}))}));var kZ=r(5310),OZ=r(1338),PZ=r(8521),IZ=r(1446),DZ=r(4055);const MZ="/api/notificaciones",TZ={verificarApi:async()=>{try{return 200===(await ed.get(`${MZ}/mis-notificaciones/contador`)).status}catch(e){return console.error("Error al verificar API de notificaciones:",(null===e||void 0===e?void 0:e.message)||"Error desconocido"),!1}},obtenerMisNotificaciones:async()=>{try{const e=await ed.get(`${MZ}/mis-notificaciones`);return Array.isArray(e.data)?RZ(e.data):(console.error("La respuesta no es un array:",e.data),[])}catch(e){return console.error("Error al obtener notificaciones:",e),[]}},obtenerMisNotificacionesNoLeidas:async()=>{try{console.log("[SERVICE] Solicitando notificaciones no le\xeddas al servidor");const e=await ed.get(`${MZ}/mis-notificaciones/no-leidas`);if(!Array.isArray(e.data))return console.warn("[SERVICE] La respuesta de no le\xeddas no es un array:",e.data),[];console.log("[SERVICE] Respuesta del backend (no le\xeddas):",JSON.stringify(e.data));const t=RZ(e.data);return console.log("[SERVICE] Notificaciones no le\xeddas despu\xe9s de procesar:",t),t}catch(e){return console.error("[SERVICE] Error al obtener notificaciones no le\xeddas:",(null===e||void 0===e?void 0:e.message)||"Error desconocido"),[]}},contarMisNotificacionesNoLeidas:async()=>{try{console.log("Solicitando contador de notificaciones no le\xeddas");const e=await ed.get(`${MZ}/mis-notificaciones/contador`);let t=0;return e.data&&"number"===typeof e.data.cantidad?(t=e.data.cantidad,console.log("Contador recibido:",t)):(console.warn("La respuesta no contiene una cantidad v\xe1lida:",e.data),e.data&&!isNaN(Number(e.data))&&(t=Number(e.data),console.log("Contador extra\xeddo directamente:",t))),t}catch(e){return console.error("Error al contar notificaciones no le\xeddas:",e),e.response&&console.error("Respuesta del servidor:",e.response.status,e.response.data),0}},marcarComoLeida:async e=>{try{await ed.put(`${MZ}/${e}/leer`)}catch(t){throw console.error(`Error al marcar notificaci\xf3n ${e} como le\xedda:`,t),t}},marcarTodasComoLeidas:async()=>{try{await ed.put(`${MZ}/leer-todas`)}catch(e){throw console.error("Error al marcar todas las notificaciones como le\xeddas:",e),e}},crearNotificacion:async e=>{try{console.log("Enviando notificaci\xf3n:",e);const t=await ed.post(MZ,e);return console.log("Respuesta de creaci\xf3n de notificaci\xf3n:",t.data),t.data}catch(t){throw console.error("Error al crear notificaci\xf3n:",t),t.response&&console.error("Detalles del error:",t.response.status,t.response.data),t}},eliminarNotificacion:async e=>{try{await ed.delete(`${MZ}/${e}`)}catch(t){throw console.error(`Error al eliminar notificaci\xf3n ${e}:`,t),t}},crearNotificacionParaUsuario:async(e,t)=>{try{return(await ed.post(`${MZ}/para-usuario`,{notificacion:e,usuarioId:t},{headers:{"Content-Type":"application/json"}})).data}catch(r){throw console.error("Error al crear notificaci\xf3n para usuario:",r),r}},crearNotificacionParaRol:async(e,t)=>{try{return(await ed.post(`${MZ}/para-rol`,{notificacion:e,rolId:t},{headers:{"Content-Type":"application/json"}})).data}catch(r){throw console.error("Error al crear notificaci\xf3n para rol:",r),r}},actualizarNotificacion:async e=>{try{return(await ed.put(`${MZ}/${e.id}`,e,{headers:{"Content-Type":"application/json"}})).data}catch(t){throw console.error("Error al actualizar notificaci\xf3n:",t),t}}},RZ=e=>(console.log("[SERVICE] Iniciando procesarNotificaciones con datos:",e),e.map((e=>{console.log(`[SERVICE] Procesando notif ID ${e.id}: leida=${e.leida}, tipo=${e.tipo}, titulo=${e.titulo}`);const t=!0===e.leida;return console.log(`[SERVICE] Notif ID ${e.id} - \xbfEst\xe1 le\xedda?: ${t}`),{id:e.id,titulo:e.titulo||"",mensaje:e.mensaje||"",tipo:e.tipo||"info",fechaCreacion:e.fechaCreacion||e.fecha_creacion||(new Date).toISOString(),url:e.url||null,modulo:e.modulo||null,esGlobal:Boolean(e.esGlobal||e.es_global||!1),entidadTipo:e.entidadTipo||e.entidad_tipo||null,entidadId:e.entidadId||e.entidad_id||null,accion:e.accion||null,leida:t,fechaLectura:e.fechaLectura||e.fecha_lectura||null}}))),NZ=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(0),[o,i]=(0,a.useState)(null),[s,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),[u,p]=(0,a.useState)(!1),h=Boolean(o),f=re(),m=(0,a.useRef)(!1);(0,a.useEffect)((()=>{console.log("[MENU] useEffect: Montando NotificacionesMenu y iniciando carga inicial.");m.current=!0,g(),p(!0);let e=null;return e=setInterval((()=>{m.current&&(console.log("[MENU] useEffect: Ejecutando verificaci\xf3n peri\xf3dica de notificaciones"),g())}),2e4),()=>{console.log("[MENU] useEffect: Ejecutando limpieza (desmontando NotificacionesMenu)"),m.current=!1,e&&clearInterval(e)}}),[]);const g=async()=>{if(console.log("[MENU] Ejecutando cargarNotificacionesCompleto..."),m.current){console.log("[MENU] Estableciendo cargando=true"),l(!0),d(!1);try{console.log("[MENU] Antes de await obtenerMisNotificacionesNoLeidas");const e=await TZ.obtenerMisNotificacionesNoLeidas();console.log("[MENU] Despu\xe9s de await. Notificaciones recibidas:",null===e||void 0===e?void 0:e.length),m.current?(console.log("[MENU] Componente sigue montado despu\xe9s del await. Procediendo a actualizar estado."),console.log(`[MENU] Antes de setEstado - Cantidad: ${(null===e||void 0===e?void 0:e.length)||0}, Notificaciones: ${(null===e||void 0===e?void 0:e.length)||0} items`),t(e||[]),n((null===e||void 0===e?void 0:e.length)||0),console.log(`[MENU] Despu\xe9s de setEstado - Cantidad: ${(null===e||void 0===e?void 0:e.length)||0}, Notificaciones: ${(null===e||void 0===e?void 0:e.length)||0} items`),e&&e.length>0&&console.log("[MENU] Primera notificaci\xf3n tras actualizar estado:",JSON.stringify(e[0]))):console.log("[MENU] Componente desmontado DESPU\xc9S del await. No se actualiza el estado.")}catch(o){console.error("[MENU] Error en carga completa de notificaciones:",o),m.current?(console.log("[MENU] Error capturado. Reseteando estado."),t([]),n(0),d(!0)):console.log("[MENU] Error capturado, pero componente desmontado.")}finally{m.current?(console.log(`[MENU] Finally block. Estado antes de setCargando(false): Cantidad=${r}, Notificaciones=${e.length}`),console.log("[MENU] Estableciendo cargando=false"),l(!1)):console.log("[MENU] Finally block. Componente desmontado. No se establece cargando=false.")}}else console.log("[MENU] Componente desmontado al inicio de cargarNotificacionesCompleto. Abortando.")},v=()=>{i(null)},x=()=>{v(),setTimeout((()=>{console.log("Navegando a /notificaciones"),f("/notificaciones")}),100)},b=e=>{switch(e){case"success":return(0,Ve.jsx)(OZ.A,{sx:{color:"success.main"}});case"warning":return(0,Ve.jsx)(PZ.A,{sx:{color:"warning.main"}});case"error":return(0,Ve.jsx)(IZ.A,{sx:{color:"error.main"}});default:return(0,Ve.jsx)(qP.A,{sx:{color:"info.main"}})}},y=e=>{try{return uy(new Date(e),"dd MMM yyyy, HH:mm",{locale:Cw})}catch(a0){return console.error("Error al formatear fecha:",a0),"Fecha desconocida"}};return console.log("[MENU] Renderizando NotificacionesMenu:"),console.log(`[MENU]   - Cargando: ${s}`),console.log(`[MENU]   - Error Carga: ${c}`),console.log(`[MENU]   - Cantidad No Le\xeddas (estado): ${r}`),console.log(`[MENU]   - Notificaciones (estado): ${e.length} items`),e.length>0&&console.log("[MENU]     Primera notificaci\xf3n en estado:",JSON.stringify(e[0])),(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)(Qo,{title:"Notificaciones",children:(0,Ve.jsx)(Ir,{color:"inherit",onClick:e=>{console.log("Bot\xf3n de notificaciones clickeado"),i(e.currentTarget),g()},"aria-haspopup":"true","aria-expanded":h?"true":void 0,"data-testid":"notificaciones-boton",children:(0,Ve.jsx)(EZ,{badgeContent:r,color:"error",invisible:0===r,children:(0,Ve.jsx)(kZ.A,{})})})}),(0,Ve.jsxs)(Uu,{anchorEl:o,open:h,onClose:v,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,minWidth:350,maxWidth:400,maxHeight:"calc(100vh - 100px)","& .MuiMenuItem-root":{px:2,py:1}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[(0,Ve.jsxs)(Et,{sx:{p:2,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ve.jsx)($r,{variant:"h6",component:"div",children:"Notificaciones"}),r>0&&(0,Ve.jsx)(fs,{size:"small",onClick:async()=>{try{await TZ.marcarTodasComoLeidas(),t((e=>e.map((e=>({...e,leida:!0}))))),n(0),v()}catch(e){console.error("Error al marcar notificaciones como le\xeddas:",e)}},sx:{fontWeight:"bold",ml:2},children:"TODAS COMO LE\xcdDAS"})]}),(0,Ve.jsx)(Ii,{}),s?(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",p:3},children:(0,Ve.jsx)(KS,{size:30})}):c?(0,Ve.jsxs)(Et,{sx:{p:2,textAlign:"center"},children:[(0,Ve.jsx)($r,{color:"error",children:"Error al cargar notificaciones"}),(0,Ve.jsx)(fs,{size:"small",onClick:()=>g(),sx:{mt:1},children:"Reintentar"})]}):0===e.length?(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsxs)(Et,{sx:{p:3,textAlign:"center"},children:[(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"No tienes notificaciones nuevas"}),(0,Ve.jsx)(fs,{size:"small",onClick:()=>g(),sx:{mt:2},children:"RECARGAR"})]}),(0,Ve.jsx)(Ii,{}),(0,Ve.jsx)(Et,{sx:{p:1,display:"flex",justifyContent:"center"},children:(0,Ve.jsx)(fs,{size:"small",endIcon:(0,Ve.jsx)(DZ.A,{}),onClick:x,children:"VER HISTORIAL DE NOTIFICACIONES"})})]}):(0,Ve.jsxs)(Ve.Fragment,{children:[e.map((e=>(0,Ve.jsx)(_h,{onClick:()=>(async e=>{try{await TZ.marcarComoLeida(e.id),t((t=>t.map((t=>t.id===e.id?{...t,leida:!0}:t)))),n((e=>Math.max(0,e-1))),v(),e.url&&f(e.url)}catch(r){console.error("Error al procesar clic en notificaci\xf3n:",r)}})(e),sx:{borderLeft:4,borderColor:t=>{switch(e.tipo){case"success":return t.palette.success.main;case"warning":return t.palette.warning.main;case"error":return t.palette.error.main;default:return t.palette.info.main}},backgroundColor:e.leida?"transparent":e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.04)"},children:(0,Ve.jsxs)(Et,{sx:{display:"flex",width:"100%"},children:[(0,Ve.jsx)(Et,{sx:{mr:1.5,pt:.5},children:b(e.tipo)}),(0,Ve.jsxs)(Et,{sx:{flex:1,overflow:"hidden"},children:[(0,Ve.jsx)($r,{variant:"subtitle2",noWrap:!0,children:e.titulo}),(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",noWrap:!0,children:e.mensaje}),(0,Ve.jsx)($r,{variant:"caption",color:"text.secondary",display:"block",children:y(e.fechaCreacion)})]})]})},e.id))),(0,Ve.jsx)(Ii,{}),(0,Ve.jsx)(Et,{sx:{p:1,display:"flex",justifyContent:"center"},children:(0,Ve.jsx)(fs,{size:"small",endIcon:(0,Ve.jsx)(DZ.A,{}),onClick:x,children:"VER HISTORIAL DE NOTIFICACIONES"})})]})]})]})};var $Z=r(697);const zZ=()=>{const[e,t]=(0,a.useState)(0),[r,n]=(0,a.useState)([]),[o,i]=(0,a.useState)(!0),s=re(),{hasPermission:l}=eC();(0,a.useEffect)((()=>{c()}),[e]);const c=async()=>{i(!0);try{let t=[];t=0===e?await TZ.obtenerMisNotificaciones():await TZ.obtenerMisNotificacionesNoLeidas(),n(t)}catch(t){console.error("Error al cargar notificaciones:",t)}finally{i(!1)}},d=async e=>{try{await TZ.marcarComoLeida(e),n((t=>t.map((t=>t.id===e?{...t,leida:!0}:t))))}catch(t){console.error(`Error al marcar notificaci\xf3n ${e} como le\xedda:`,t)}},u=e=>{switch(e){case"success":return(0,Ve.jsx)(OZ.A,{sx:{color:"success.main"}});case"warning":return(0,Ve.jsx)(PZ.A,{sx:{color:"warning.main"}});case"error":return(0,Ve.jsx)(IZ.A,{sx:{color:"error.main"}});default:return(0,Ve.jsx)(qP.A,{sx:{color:"info.main"}})}},p=e=>{try{return uy(new Date(e),"dd MMM yyyy, HH:mm",{locale:Cw})}catch(t){return""}};return(0,Ve.jsxs)(Jk,{maxWidth:"lg",sx:{mt:4,mb:8},children:[(0,Ve.jsx)($r,{variant:"h4",gutterBottom:!0,children:"Notificaciones"}),(0,Ve.jsxs)($t,{sx:{p:2,mb:4},children:[(0,Ve.jsxs)(Et,{sx:{borderBottom:1,borderColor:"divider",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ve.jsxs)(WA,{value:e,onChange:(e,r)=>{t(r)},children:[(0,Ve.jsx)(YA,{label:"Todas"}),(0,Ve.jsx)(YA,{label:"No le\xeddas"})]}),(0,Ve.jsx)(fs,{onClick:async()=>{try{await TZ.marcarTodasComoLeidas(),c()}catch(e){console.error("Error al marcar todas como le\xeddas:",e)}},color:"primary",variant:"text",size:"small",sx:{mr:2},children:"Marcar todas como le\xeddas"})]}),o?(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",p:4},children:(0,Ve.jsx)(KS,{})}):r.length>0?(0,Ve.jsx)(Va,{children:r.map(((e,t)=>(0,Ve.jsxs)(a.Fragment,{children:[t>0&&(0,Ve.jsx)(Ii,{component:"li"}),(0,Ve.jsxs)(ai,{sx:{py:2,borderLeft:3,borderColor:e.leida?"transparent":"primary.main",backgroundColor:e.leida?"inherit":"action.hover","&:hover":{backgroundColor:"action.selected"},cursor:e.url?"pointer":"default"},onClick:()=>e.url&&(e=>{e.leida||d(e.id),e.url&&s(e.url)})(e),children:[(0,Ve.jsx)(di,{children:u(e.tipo)}),(0,Ve.jsx)(mi,{primary:(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center"},children:[(0,Ve.jsx)($r,{variant:"subtitle1",sx:{mr:1},children:e.titulo}),e.modulo&&(0,Ve.jsx)(Pg,{label:e.modulo,size:"small",color:"primary",variant:"outlined",sx:{mr:1}}),e.accion&&(0,Ve.jsx)(Pg,{label:e.accion,size:"small",color:"secondary",variant:"outlined"})]}),secondary:(0,Ve.jsxs)(Ve.Fragment,{children:[(0,Ve.jsx)($r,{variant:"body2",sx:{mb:1},children:e.mensaje}),(0,Ve.jsxs)($r,{variant:"caption",color:"text.secondary",children:[p(e.fechaCreacion),e.leida&&e.fechaLectura&&(0,Ve.jsxs)(Ve.Fragment,{children:[" \xb7 Le\xedda: ",p(e.fechaLectura)]})]})]})}),(0,Ve.jsxs)(Et,{children:[!e.leida&&(0,Ve.jsx)(fs,{size:"small",onClick:t=>{t.stopPropagation(),d(e.id)},children:"Marcar como le\xedda"}),l("eliminar_notificaciones")&&(0,Ve.jsx)(Qo,{title:"Eliminar notificaci\xf3n",children:(0,Ve.jsx)(Ir,{color:"error",size:"small",onClick:t=>{t.stopPropagation(),(async e=>{try{await TZ.eliminarNotificacion(e),n((t=>t.filter((t=>t.id!==e))))}catch(t){console.error(`Error al eliminar notificaci\xf3n ${e}:`,t)}})(e.id)},children:(0,Ve.jsx)($Z.A,{})})})]})]})]},e.id)))}):(0,Ve.jsx)(Et,{sx:{py:8,textAlign:"center"},children:(0,Ve.jsx)($r,{color:"text.secondary",children:0===e?"No tienes notificaciones":"No tienes notificaciones sin leer"})})]})]})},LZ=()=>{const[e,t]=(0,a.useState)(!1),[r,n]=(0,a.useState)({text:"",type:"info"}),[o,i]=(0,a.useState)({titulo:"Notificaci\xf3n de prueba",mensaje:"Este es un mensaje de prueba para el sistema de notificaciones",tipo:"info",esGlobal:!0}),s=e=>{const{name:t,value:r}=e.target;i({...o,[t]:r})},l=()=>{n({text:"",type:"info"})};return(0,Ve.jsxs)(Jk,{maxWidth:"md",sx:{mt:4,mb:8},children:[(0,Ve.jsx)($r,{variant:"h4",gutterBottom:!0,children:"Prueba de Notificaciones"}),(0,Ve.jsx)($t,{sx:{p:3,mb:4},children:(0,Ve.jsx)(Et,{component:"form",onSubmit:async e=>{e.preventDefault(),t(!0);try{console.log("Enviando notificaci\xf3n:",o),await TZ.crearNotificacion({titulo:o.titulo,mensaje:o.mensaje,tipo:o.tipo,esGlobal:o.esGlobal}),n({text:"Notificaci\xf3n enviada correctamente",type:"success"})}catch(r){console.error("Error al enviar notificaci\xf3n:",r),n({text:"Error al enviar la notificaci\xf3n",type:"error"})}finally{t(!1)}},noValidate:!0,children:(0,Ve.jsxs)($h,{container:!0,spacing:3,children:[(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,children:"Contenido de la notificaci\xf3n"})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:8,children:(0,Ve.jsx)(jp,{required:!0,fullWidth:!0,label:"T\xedtulo",name:"titulo",value:o.titulo,onChange:s})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:4,children:(0,Ve.jsxs)(lu,{fullWidth:!0,required:!0,children:[(0,Ve.jsx)(ou,{id:"tipo-label",children:"Tipo"}),(0,Ve.jsxs)(gp,{labelId:"tipo-label",name:"tipo",value:o.tipo,onChange:e=>{const{name:t,value:r}=e.target;i({...o,[t]:r})},label:"Tipo",children:[(0,Ve.jsx)(_h,{value:"info",children:"Informaci\xf3n"}),(0,Ve.jsx)(_h,{value:"success",children:"\xc9xito"}),(0,Ve.jsx)(_h,{value:"warning",children:"Advertencia"}),(0,Ve.jsx)(_h,{value:"error",children:"Error"})]})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsx)(jp,{required:!0,fullWidth:!0,multiline:!0,rows:4,label:"Mensaje",name:"mensaje",value:o.mensaje,onChange:s})}),(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsx)(dS,{control:(0,Ve.jsx)(ES,{checked:o.esGlobal,onChange:e=>{const{name:t,checked:r}=e.target;i({...o,[t]:r})},name:"esGlobal"}),label:"Notificaci\xf3n global (para todos los usuarios)"})}),(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsx)(fs,{type:"submit",variant:"contained",color:"primary",size:"large",disabled:e,startIcon:e?(0,Ve.jsx)(KS,{size:20}):null,children:"Enviar Notificaci\xf3n"})})]})})}),(0,Ve.jsxs)($t,{sx:{p:3,mb:4},children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,children:"Diagn\xf3stico"}),(0,Ve.jsxs)(Et,{sx:{display:"flex",gap:2,mt:2,flexWrap:"wrap"},children:[(0,Ve.jsx)(fs,{variant:"outlined",onClick:async()=>{try{t(!0);const e=await TZ.contarMisNotificacionesNoLeidas();n({text:`Contador de notificaciones no le\xeddas: ${e}`,type:"info"})}catch(e){console.error("Error al verificar contador:",e),n({text:"Error al verificar contador de notificaciones",type:"error"})}finally{t(!1)}},disabled:e,children:"Verificar contador"}),(0,Ve.jsx)(fs,{variant:"outlined",onClick:async()=>{try{t(!0);const e=await TZ.obtenerMisNotificacionesNoLeidas();n({text:`Notificaciones no le\xeddas obtenidas: ${e.length}`,type:"info"}),console.log("Notificaciones no le\xeddas:",e)}catch(e){console.error("Error al cargar notificaciones no le\xeddas:",e),n({text:"Error al cargar notificaciones no le\xeddas",type:"error"})}finally{t(!1)}},disabled:e,children:"Cargar no le\xeddas"}),(0,Ve.jsx)(fs,{variant:"outlined",onClick:async()=>{try{t(!0),await TZ.marcarTodasComoLeidas(),n({text:"Todas las notificaciones marcadas como le\xeddas",type:"success"})}catch(e){console.error("Error al marcar notificaciones como le\xeddas:",e),n({text:"Error al marcar notificaciones como le\xeddas",type:"error"})}finally{t(!1)}},disabled:e,color:"warning",children:"Marcar todas como le\xeddas"}),(0,Ve.jsx)(fs,{variant:"outlined",onClick:()=>{try{console.log("Verificando estado actual del sistema de notificaciones..."),n({text:"Verificando estado del sistema...",type:"info"}),t(!0),Promise.all([TZ.contarMisNotificacionesNoLeidas(),TZ.obtenerMisNotificacionesNoLeidas(),TZ.obtenerMisNotificaciones()]).then((e=>{let[t,r,o]=e;console.log("Resultado del diagn\xf3stico:"),console.log("- Contador:",t),console.log("- No le\xeddas:",r),console.log("- Todas:",o);const a=`Estado del sistema:\n                    \u2022 Contador de no le\xeddas: ${t}\n                    \u2022 Notificaciones no le\xeddas: ${r.length}\n                    \u2022 Total de notificaciones: ${o.length}\n                  `;n({text:a,type:"info"})})).catch((e=>{console.error("Error en diagn\xf3stico:",e),n({text:"Error al realizar diagn\xf3stico: "+((null===e||void 0===e?void 0:e.message)||"Error desconocido"),type:"error"})})).finally((()=>{t(!1)}))}catch(e){console.error("Error general en diagn\xf3stico:",e),t(!1)}},disabled:e,color:"primary",children:"Diagn\xf3stico completo"})]})]}),(0,Ve.jsx)(tf,{open:!!r.text,autoHideDuration:6e3,onClose:l,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,Ve.jsx)(Ah,{onClose:l,severity:r.type,sx:{width:"100%"},children:r.text})})]})},BZ=(0,ms.A)((0,Ve.jsx)("path",{d:"m4.01 6.03 7.51 3.22-7.52-1zm7.5 8.72L4 17.97v-2.22zM2.01 3 2 10l15 2-15 2 .01 7L23 12z"}),"SendOutlined"),FZ=(0,ms.A)((0,Ve.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff"),_Z=(0,ms.A)((0,Ve.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline"),UZ=e=>{const{children:t,value:r,index:n,...o}=e;return(0,Ve.jsx)("div",{role:"tabpanel",hidden:r!==n,id:`simple-tabpanel-${n}`,"aria-labelledby":`simple-tab-${n}`,...o,style:{paddingTop:"20px"},children:r===n&&(0,Ve.jsx)(Et,{children:t})})},WZ=()=>{const{user:e}=eC(),[t,r]=(0,a.useState)(0),[n,o]=(0,a.useState)([]),[i,s]=(0,a.useState)([]),[l,c]=(0,a.useState)([]),[d,u]=(0,a.useState)(!1),[p,h]=(0,a.useState)(!1),[f,m]=(0,a.useState)({text:"",type:"info"}),[g,v]=(0,a.useState)({titulo:"",mensaje:"",tipo:"info",url:"",modulo:"",esGlobal:!1,accion:"",entidadTipo:"",entidadId:"",paraUsuario:!1,usuarioId:0,paraRol:!1,rolId:0}),[x,b]=(0,a.useState)(null),[y,j]=(0,a.useState)(!1);(0,a.useEffect)((()=>{(async()=>{try{u(!0);try{if(!await TZ.verificarApi())return console.warn("El usuario no tiene permisos para crear notificaciones"),m({text:"No tiene permisos para gestionar notificaciones",type:"error"}),o([]),void s([]);try{const e=await fetch("/api/roles",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(e.ok){const t=await e.json();o(Array.isArray(t)?t:[])}else console.error("Error al obtener roles:",e.status),o([])}catch(e){console.error("Error al obtener roles:",e),o([])}try{const e=await fetch("/api/usuarios",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(e.ok){const t=await e.json();s(Array.isArray(t)?t:[])}else console.error("Error al obtener usuarios:",e.status),s([])}catch(t){console.error("Error al obtener usuarios:",t),s([])}await w()}catch(r){console.error("Error al verificar permisos:",r),m({text:"Error al verificar permisos",type:"error"}),o([]),s([])}}catch(n){console.error("Error al cargar datos:",n),m({text:"Error al cargar datos iniciales",type:"error"}),o([]),s([])}finally{u(!1)}})()}),[]);const w=async()=>{try{h(!0);const e=await TZ.obtenerMisNotificaciones();console.log("Notificaciones recibidas del backend:",e),e&&e.length>0&&e.forEach(((e,t)=>{console.log(`Notificaci\xf3n ${t+1} - ID: ${e.id}, Fecha:`,{fechaCreacion:e.fechaCreacion,fechaCreacionISO:e.fechaCreacionISO,tipo:typeof e.fechaCreacion})})),c(e)}catch(e){console.error("Error al cargar notificaciones:",e),m({text:"Error al cargar notificaciones",type:"error"})}finally{h(!1)}},S=e=>{const{name:t,value:r}=e.target;v({...g,[t]:r})},C=e=>{const{name:t,value:r}=e.target;v({...g,[t]:r})},A=e=>{const{name:t,checked:r}=e.target;v("esGlobal"===t&&r?{...g,[t]:r,paraUsuario:!1,paraRol:!1}:"paraUsuario"!==t&&"paraRol"!==t||!r?{...g,[t]:r}:{...g,[t]:r,esGlobal:!1})},E=(e,t)=>{if(t)try{const e=new Date(t);if(!isNaN(e.getTime()))return uy(e,"dd MMM yyyy, HH:mm",{locale:Cw})}catch(r){console.warn("Error al parsear fechaISO:",t,r)}if(!e)return"Fecha no disponible";try{const t=new Date(e);return isNaN(t.getTime())?(console.warn("No se pudo formatear la fecha:",e),"Fecha no disponible"):uy(t,"dd MMM yyyy, HH:mm",{locale:Cw})}catch(r){return console.error("Error al formatear fecha:",r),"Fecha no disponible"}},k=e=>{switch(e){case"success":return"success";case"warning":return"warning";case"error":return"error";default:return"info"}},O=()=>{"No tiene permisos para gestionar notificaciones"!==f.text&&m({text:"",type:"info"})},P=()=>{j(!1),b(null),v({titulo:"",mensaje:"",tipo:"info",url:"",modulo:"",esGlobal:!1,accion:"",entidadTipo:"",entidadId:"",paraUsuario:!1,usuarioId:0,paraRol:!1,rolId:0})};return(0,Ve.jsxs)(Jk,{maxWidth:"lg",sx:{mt:4,mb:8},children:[(0,Ve.jsxs)($t,{sx:{p:3,mb:4},children:[(0,Ve.jsxs)(Et,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,Ve.jsx)(Ts,{sx:{fontSize:32,mr:2,color:"primary.main"}}),(0,Ve.jsx)($r,{variant:"h4",children:"Gesti\xf3n de Notificaciones"})]}),(0,Ve.jsx)(Ii,{sx:{mb:3}}),(0,Ve.jsxs)(WA,{value:t,onChange:(e,t)=>{r(t),1===t&&w()},"aria-label":"tabs de gesti\xf3n de notificaciones",sx:{borderBottom:1,borderColor:"divider"},children:[(0,Ve.jsx)(YA,{label:"Crear Notificaci\xf3n",id:"simple-tab-0","aria-controls":"simple-tabpanel-0"}),(0,Ve.jsx)(YA,{label:"Historial de Notificaciones",id:"simple-tab-1","aria-controls":"simple-tabpanel-1"})]}),(0,Ve.jsx)(UZ,{value:t,index:0,children:(0,Ve.jsx)(Et,{component:"form",onSubmit:async e=>{e.preventDefault(),u(!0);try{if(!g.titulo||!g.mensaje)return m({text:"El t\xedtulo y el mensaje son obligatorios",type:"error"}),void u(!1);const e={titulo:g.titulo,mensaje:g.mensaje,tipo:g.tipo,url:g.url||void 0,modulo:g.modulo||void 0,entidadTipo:g.entidadTipo||void 0,entidadId:g.entidadId||void 0,accion:g.accion||void 0};let t=null;if(g.esGlobal)console.log("Enviando notificaci\xf3n global..."),t=await TZ.crearNotificacion({...e,esGlobal:!0}),m({text:"Notificaci\xf3n global enviada correctamente",type:"success"});else if(g.paraUsuario&&g.usuarioId){if(console.log("Enviando notificaci\xf3n a usuario espec\xedfico..."),0===g.usuarioId)return m({text:"Debe seleccionar un usuario",type:"error"}),void u(!1);t=await TZ.crearNotificacionParaUsuario(e,g.usuarioId),m({text:"Notificaci\xf3n enviada al usuario correctamente",type:"success"})}else{if(!g.paraRol||!g.rolId)return m({text:"Debe seleccionar al menos un destino para la notificaci\xf3n",type:"error"}),void u(!1);if(console.log("Enviando notificaci\xf3n a rol espec\xedfico..."),0===g.rolId)return m({text:"Debe seleccionar un rol",type:"error"}),void u(!1);t=await TZ.crearNotificacionParaRol(e,g.rolId),m({text:"Notificaci\xf3n enviada al rol correctamente",type:"success"})}t&&(console.log("Notificaci\xf3n enviada exitosamente:",t),v({...g,titulo:"",mensaje:"",tipo:"info",url:"",modulo:"",accion:"",entidadTipo:"",entidadId:""}),await w())}catch(t){console.error("Error al enviar notificaci\xf3n:",t);let e="Error al enviar la notificaci\xf3n";t.response&&(console.error("Detalles del error:",t.response.status,t.response.data),t.response.data&&t.response.data.error&&(e=t.response.data.error)),m({text:e,type:"error"})}finally{u(!1)}},noValidate:!0,children:(0,Ve.jsxs)($h,{container:!0,spacing:3,children:[(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,children:"Contenido de la notificaci\xf3n"})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:8,children:(0,Ve.jsx)(jp,{required:!0,fullWidth:!0,label:"T\xedtulo",name:"titulo",value:g.titulo,onChange:S})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:4,children:(0,Ve.jsxs)(lu,{fullWidth:!0,required:!0,children:[(0,Ve.jsx)(ou,{id:"tipo-label",children:"Tipo"}),(0,Ve.jsxs)(gp,{labelId:"tipo-label",name:"tipo",value:g.tipo,onChange:C,label:"Tipo",children:[(0,Ve.jsx)(_h,{value:"info",children:"Informaci\xf3n"}),(0,Ve.jsx)(_h,{value:"success",children:"\xc9xito"}),(0,Ve.jsx)(_h,{value:"warning",children:"Advertencia"}),(0,Ve.jsx)(_h,{value:"error",children:"Error"})]})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsx)(jp,{required:!0,fullWidth:!0,multiline:!0,rows:4,label:"Mensaje",name:"mensaje",value:g.mensaje,onChange:S})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"URL (opcional)",name:"url",value:g.url,onChange:S,placeholder:"/cajas",helperText:"Ruta a la que dirigir al hacer clic (ej: /cajas)"})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"M\xf3dulo (opcional)",name:"modulo",value:g.modulo,onChange:S,placeholder:"CAJA",helperText:"M\xf3dulo al que pertenece esta notificaci\xf3n"})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"Acci\xf3n (opcional)",name:"accion",value:g.accion,onChange:S,placeholder:"APERTURA",helperText:"Acci\xf3n relacionada con esta notificaci\xf3n"})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"Tipo de entidad (opcional)",name:"entidadTipo",value:g.entidadTipo,onChange:S,placeholder:"CAJA",helperText:"Tipo de entidad relacionada (ej: CAJA, USUARIO)"})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"ID de entidad (opcional)",name:"entidadId",value:g.entidadId,onChange:S,placeholder:"123",helperText:"ID de la entidad relacionada"})}),(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsx)($r,{variant:"h6",sx:{mt:2},children:"Destinatarios"})}),(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsx)(dS,{control:(0,Ve.jsx)(ES,{checked:g.esGlobal,onChange:A,name:"esGlobal"}),label:"Notificaci\xf3n global (para todos los usuarios)"})}),(0,Ve.jsxs)($h,{item:!0,xs:12,sm:6,children:[(0,Ve.jsx)(dS,{control:(0,Ve.jsx)(ES,{checked:g.paraUsuario,onChange:A,name:"paraUsuario",disabled:g.esGlobal}),label:"Enviar a un usuario espec\xedfico"}),g.paraUsuario&&(0,Ve.jsxs)(lu,{fullWidth:!0,sx:{mt:2},children:[(0,Ve.jsx)(ou,{id:"usuario-label",children:"Usuario"}),(0,Ve.jsxs)(gp,{labelId:"usuario-label",name:"usuarioId",value:g.usuarioId,onChange:C,label:"Usuario",disabled:g.esGlobal,children:[(0,Ve.jsx)(_h,{value:0,children:"Seleccionar usuario"}),i.map((e=>(0,Ve.jsx)(_h,{value:e.id,children:e.username},e.id)))]})]})]}),(0,Ve.jsxs)($h,{item:!0,xs:12,sm:6,children:[(0,Ve.jsx)(dS,{control:(0,Ve.jsx)(ES,{checked:g.paraRol,onChange:A,name:"paraRol",disabled:g.esGlobal}),label:"Enviar a todos los usuarios con un rol"}),g.paraRol&&(0,Ve.jsxs)(lu,{fullWidth:!0,sx:{mt:2},children:[(0,Ve.jsx)(ou,{id:"rol-label",children:"Rol"}),(0,Ve.jsxs)(gp,{labelId:"rol-label",name:"rolId",value:g.rolId,onChange:C,label:"Rol",disabled:g.esGlobal,children:[(0,Ve.jsx)(_h,{value:0,children:"Seleccionar rol"}),n.map((e=>(0,Ve.jsx)(_h,{value:e.id,children:e.nombre},e.id)))]})]})]}),(0,Ve.jsx)($h,{item:!0,xs:12,sx:{mt:2,display:"flex",justifyContent:"flex-end"},children:(0,Ve.jsx)(fs,{type:"submit",variant:"contained",color:"primary",size:"large",disabled:d||!g.titulo||!g.mensaje,startIcon:d?(0,Ve.jsx)(KS,{size:20}):(0,Ve.jsx)(BZ,{}),children:d?"Enviando...":"Enviar Notificaci\xf3n"})})]})})}),(0,Ve.jsx)(UZ,{value:t,index:1,children:(0,Ve.jsxs)(Et,{sx:{position:"relative"},children:[p&&(0,Ve.jsx)(Et,{sx:{display:"flex",justifyContent:"center",py:3},children:(0,Ve.jsx)(KS,{})}),p||0!==l.length?(0,Ve.jsx)(Dp,{component:$t,elevation:0,sx:{mt:2},children:(0,Ve.jsxs)(zp,{"aria-label":"tabla de notificaciones",children:[(0,Ve.jsx)(Vp,{children:(0,Ve.jsxs)(Xp,{children:[(0,Ve.jsx)(th,{children:"T\xedtulo"}),(0,Ve.jsx)(th,{children:"Tipo"}),(0,Ve.jsx)(th,{children:"Fecha"}),(0,Ve.jsx)(th,{children:"Estado"}),(0,Ve.jsx)(th,{children:"M\xf3dulo"}),(0,Ve.jsx)(th,{align:"right",children:"Acciones"})]})}),(0,Ve.jsx)(sh,{children:l.map((e=>(0,Ve.jsxs)(Xp,{hover:!0,children:[(0,Ve.jsx)(th,{children:e.titulo}),(0,Ve.jsx)(th,{children:(0,Ve.jsx)(Pg,{label:e.tipo.charAt(0).toUpperCase()+e.tipo.slice(1),color:k(e.tipo),size:"small"})}),(0,Ve.jsx)(th,{children:e.fechaCreacion?E(e.fechaCreacion,e.fechaCreacionISO):"Fecha no disponible"}),(0,Ve.jsx)(th,{children:e.leida?(0,Ve.jsx)(Pg,{icon:(0,Ve.jsx)(FZ,{fontSize:"small"}),label:"Le\xedda",color:"default",size:"small"}):(0,Ve.jsx)(Pg,{icon:(0,Ve.jsx)(cA,{fontSize:"small"}),label:"No le\xedda",color:"primary",size:"small"})}),(0,Ve.jsx)(th,{children:e.modulo?(0,Ve.jsx)(Pg,{label:e.modulo,size:"small"}):(0,Ve.jsx)($r,{variant:"body2",color:"text.secondary",children:"-"})}),(0,Ve.jsxs)(th,{align:"right",children:[(0,Ve.jsx)(Qo,{title:"Ver detalles",children:(0,Ve.jsx)(Ir,{size:"small",color:"primary",children:(0,Ve.jsx)(cA,{fontSize:"small"})})}),(0,Ve.jsx)(Qo,{title:"Editar",children:(0,Ve.jsx)(Ir,{size:"small",color:"primary",onClick:()=>(e=>{b(e),j(!0),v({titulo:e.titulo,mensaje:e.mensaje,tipo:e.tipo,url:e.url||"",modulo:e.modulo||"",esGlobal:e.esGlobal||!1,accion:e.accion||"",entidadTipo:e.entidadTipo||"",entidadId:e.entidadId||"",paraUsuario:!1,usuarioId:0,paraRol:!1,rolId:0})})(e),children:(0,Ve.jsx)(yC,{fontSize:"small"})})}),(0,Ve.jsx)(Qo,{title:"Eliminar",children:(0,Ve.jsx)(Ir,{size:"small",color:"error",onClick:()=>(async e=>{try{u(!0),await TZ.eliminarNotificacion(e),m({text:"Notificaci\xf3n eliminada correctamente",type:"success"}),await w()}catch(t){console.error("Error al eliminar notificaci\xf3n:",t),m({text:"Error al eliminar notificaci\xf3n",type:"error"})}finally{u(!1)}})(e.id),children:(0,Ve.jsx)(_Z,{fontSize:"small"})})})]})]},e.id)))})]})}):(0,Ve.jsx)($t,{elevation:0,sx:{p:4,textAlign:"center",bgcolor:"background.default"},children:(0,Ve.jsx)($r,{variant:"h6",color:"text.secondary",children:"No hay notificaciones disponibles"})})]})})]}),(0,Ve.jsx)(Fi,{open:y,onClose:P,maxWidth:"md",fullWidth:!0,children:(0,Ve.jsxs)(Et,{sx:{p:3},children:[(0,Ve.jsx)($r,{variant:"h5",gutterBottom:!0,children:"Editar Notificaci\xf3n"}),(0,Ve.jsx)(Ii,{sx:{mb:3}}),(0,Ve.jsxs)(Et,{component:"form",noValidate:!0,children:[(0,Ve.jsxs)($h,{container:!0,spacing:3,children:[(0,Ve.jsx)($h,{item:!0,xs:12,sm:8,children:(0,Ve.jsx)(jp,{required:!0,fullWidth:!0,label:"T\xedtulo",name:"titulo",value:g.titulo,onChange:S})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:4,children:(0,Ve.jsxs)(lu,{fullWidth:!0,required:!0,children:[(0,Ve.jsx)(ou,{id:"tipo-label-edit",children:"Tipo"}),(0,Ve.jsxs)(gp,{labelId:"tipo-label-edit",name:"tipo",value:g.tipo,onChange:C,label:"Tipo",children:[(0,Ve.jsx)(_h,{value:"info",children:"Informaci\xf3n"}),(0,Ve.jsx)(_h,{value:"success",children:"\xc9xito"}),(0,Ve.jsx)(_h,{value:"warning",children:"Advertencia"}),(0,Ve.jsx)(_h,{value:"error",children:"Error"})]})]})}),(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsx)(jp,{required:!0,fullWidth:!0,multiline:!0,rows:4,label:"Mensaje",name:"mensaje",value:g.mensaje,onChange:S})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"URL (opcional)",name:"url",value:g.url,onChange:S,placeholder:"/cajas",helperText:"Ruta a la que dirigir al hacer clic (ej: /cajas)"})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"M\xf3dulo (opcional)",name:"modulo",value:g.modulo,onChange:S,placeholder:"CAJA",helperText:"M\xf3dulo al que pertenece esta notificaci\xf3n"})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"Acci\xf3n (opcional)",name:"accion",value:g.accion,onChange:S,placeholder:"APERTURA",helperText:"Acci\xf3n relacionada con esta notificaci\xf3n"})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"Tipo de entidad (opcional)",name:"entidadTipo",value:g.entidadTipo,onChange:S,placeholder:"CAJA",helperText:"Tipo de entidad relacionada (ej: CAJA, USUARIO)"})}),(0,Ve.jsx)($h,{item:!0,xs:12,sm:6,children:(0,Ve.jsx)(jp,{fullWidth:!0,label:"ID de entidad (opcional)",name:"entidadId",value:g.entidadId,onChange:S,placeholder:"123",helperText:"ID de la entidad relacionada"})})]}),(0,Ve.jsxs)(Et,{sx:{mt:3,display:"flex",justifyContent:"flex-end",gap:2},children:[(0,Ve.jsx)(fs,{variant:"outlined",onClick:P,children:"Cancelar"}),(0,Ve.jsx)(fs,{variant:"contained",color:"primary",onClick:async()=>{if(x){u(!0);try{const e={id:x.id,titulo:g.titulo,mensaje:g.mensaje,tipo:g.tipo,url:g.url||void 0,modulo:g.modulo||void 0,esGlobal:g.esGlobal,entidadTipo:g.entidadTipo||void 0,entidadId:g.entidadId||void 0,accion:g.accion||void 0,fechaCreacion:x.fechaCreacion,leida:x.leida,fechaLectura:x.fechaLectura};console.log("Enviando actualizaci\xf3n de notificaci\xf3n:",e),await TZ.actualizarNotificacion(e),m({text:"Notificaci\xf3n actualizada correctamente",type:"success"}),P(),await w()}catch(e){console.error("Error al actualizar notificaci\xf3n:",e),m({text:"Error al actualizar la notificaci\xf3n",type:"error"})}finally{u(!1)}}},disabled:d||!g.titulo||!g.mensaje,startIcon:d?(0,Ve.jsx)(KS,{size:20}):null,children:d?"Guardando...":"Guardar Cambios"})]})]})]})}),(0,Ve.jsx)(tf,{open:!!f.text,autoHideDuration:"error"===f.type?1e4:6e3,onClose:O,anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,Ve.jsx)(Ah,{onClose:O,severity:f.type,sx:{width:"100%",..."error"===f.type&&{bgcolor:"error.dark",color:"white",fontWeight:"bold"}},variant:"error"===f.type?"filled":"standard",children:f.text})})]})};var VZ=r(4906);const GZ=()=>{const[e,t]=(0,a.useState)(!0),[r,n]=(0,a.useState)([]),[o,i]=(0,a.useState)({width:"58mm",margin:"0 0 0 0",printerName:"",preview:!1,silent:!0,copies:1,timeOutPerLine:400}),[s,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(!1);(0,a.useEffect)((()=>{(async()=>{try{t(!0);const e=await VZ.default.getPrinterConfig();e.success&&e.config&&i(e.config);const r=await VZ.default.getPrinters();r.success?n(r.printers):r.error&&l({text:`Error al cargar impresoras: ${r.error}`,type:"error"})}catch(e){console.error("Error al cargar datos:",e),l({text:`Error al cargar datos: ${e instanceof Error?e.message:"Desconocido"}`,type:"error"})}finally{t(!1)}})()}),[]);const u=(e,t)=>{i((r=>({...r,[e]:t})))},p=()=>{l(null)};return(0,Ve.jsxs)($t,{sx:{p:2,mb:2},children:[(0,Ve.jsx)($r,{variant:"h5",component:"h2",gutterBottom:!0,children:"Configuraci\xf3n de Impresoras T\xe9rmicas"}),e?(0,Ve.jsx)(Et,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",children:(0,Ve.jsx)(KS,{})}):(0,Ve.jsxs)($h,{container:!0,spacing:3,children:[(0,Ve.jsx)($h,{item:!0,xs:12,md:6,children:(0,Ve.jsx)(jk,{children:(0,Ve.jsxs)(Ak,{children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,children:"Selecci\xf3n de Impresora"}),(0,Ve.jsxs)(lu,{fullWidth:!0,margin:"normal",children:[(0,Ve.jsx)(ou,{id:"printer-select-label",children:"Impresora"}),(0,Ve.jsx)(gp,{labelId:"printer-select-label",id:"printer-select",value:o.printerName,label:"Impresora",onChange:e=>u("printerName",e.target.value),disabled:0===r.length,children:0===r.length?(0,Ve.jsx)(_h,{value:"",children:"No hay impresoras disponibles"}):r.map((e=>(0,Ve.jsxs)(_h,{value:e.name,children:[e.name," ",e.isDefault?"(Predeterminada)":""]},e.name)))})]}),(0,Ve.jsx)(Et,{mt:2,display:"flex",justifyContent:"flex-start",children:(0,Ve.jsx)(fs,{variant:"outlined",startIcon:(0,Ve.jsx)(VX,{}),onClick:async()=>{try{t(!0);const e=await VZ.default.getPrinters();e.success?(n(e.printers),l({text:"Lista de impresoras actualizada",type:"success"})):l({text:`Error al cargar impresoras: ${e.error}`,type:"error"})}catch(e){console.error("Error al cargar impresoras:",e),l({text:`Error al cargar impresoras: ${e instanceof Error?e.message:"Desconocido"}`,type:"error"})}finally{t(!1)}},children:"Actualizar Lista"})})]})})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:6,children:(0,Ve.jsx)(jk,{children:(0,Ve.jsxs)(Ak,{children:[(0,Ve.jsx)($r,{variant:"h6",gutterBottom:!0,children:"Configuraci\xf3n de Impresi\xf3n"}),(0,Ve.jsxs)($h,{container:!0,spacing:2,children:[(0,Ve.jsx)($h,{item:!0,xs:12,md:6,children:(0,Ve.jsx)(jp,{label:"Ancho de papel",value:o.width,onChange:e=>u("width",e.target.value),fullWidth:!0,margin:"normal",helperText:"Ejemplo: 58mm, 80mm"})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:6,children:(0,Ve.jsx)(jp,{label:"Margen",value:o.margin,onChange:e=>u("margin",e.target.value),fullWidth:!0,margin:"normal",helperText:"Formato: arriba derecha abajo izquierda"})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:6,children:(0,Ve.jsx)(jp,{label:"Copias",type:"number",value:o.copies,onChange:e=>u("copies",parseInt(e.target.value)||1),fullWidth:!0,margin:"normal",inputProps:{min:1,max:10}})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:6,children:(0,Ve.jsx)(jp,{label:"Tiempo por l\xednea (ms)",type:"number",value:o.timeOutPerLine,onChange:e=>u("timeOutPerLine",parseInt(e.target.value)||400),fullWidth:!0,margin:"normal",inputProps:{min:100,max:1e3}})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:6,children:(0,Ve.jsx)(dS,{control:(0,Ve.jsx)(sQ,{checked:o.preview,onChange:e=>u("preview",e.target.checked),name:"preview",color:"primary"}),label:"Mostrar vista previa"})}),(0,Ve.jsx)($h,{item:!0,xs:12,md:6,children:(0,Ve.jsx)(dS,{control:(0,Ve.jsx)(sQ,{checked:o.silent,onChange:e=>u("silent",e.target.checked),name:"silent",color:"primary"}),label:"Modo silencioso"})})]})]})})}),(0,Ve.jsx)($h,{item:!0,xs:12,children:(0,Ve.jsxs)(Et,{mt:2,display:"flex",justifyContent:"space-between",children:[(0,Ve.jsx)(fs,{variant:"contained",color:"primary",startIcon:(0,Ve.jsx)(GE,{}),onClick:async()=>{try{t(!0);const e=await VZ.default.savePrinterConfig(o);e.success?l({text:"Configuraci\xf3n guardada correctamente",type:"success"}):l({text:`Error al guardar configuraci\xf3n: ${e.error}`,type:"error"})}catch(e){console.error("Error al guardar configuraci\xf3n:",e),l({text:`Error al guardar configuraci\xf3n: ${e instanceof Error?e.message:"Desconocido"}`,type:"error"})}finally{t(!1)}},disabled:e,children:"Guardar Configuraci\xf3n"}),(0,Ve.jsx)(fs,{variant:"contained",color:"secondary",startIcon:(0,Ve.jsx)(Rs,{}),onClick:async()=>{try{if(d(!0),!o.printerName)return void l({text:"Por favor, seleccione una impresora antes de realizar la prueba",type:"error"});await VZ.default.savePrinterConfig(o);const e=await VZ.default.printTest();e.success?l({text:"Prueba de impresi\xf3n enviada correctamente",type:"success"}):l({text:`Error al realizar prueba de impresi\xf3n: ${e.error}`,type:"error"})}catch(e){console.error("Error al realizar prueba de impresi\xf3n:",e),l({text:`Error al realizar prueba de impresi\xf3n: ${e instanceof Error?e.message:"Desconocido"}`,type:"error"})}finally{d(!1)}},disabled:c||!o.printerName,children:c?(0,Ve.jsx)(KS,{size:24,color:"inherit"}):"Imprimir Prueba"})]})})]}),(0,Ve.jsx)(tf,{open:!!s,autoHideDuration:6e3,onClose:p,children:(0,Ve.jsx)(Ah,{onClose:p,severity:(null===s||void 0===s?void 0:s.type)||"info",sx:{width:"100%"},children:null===s||void 0===s?void 0:s.text})})]})},HZ=e=>{let{onToggleTheme:t,isDarkMode:r}=e;const[n,o]=(0,a.useState)(!0),[i,s]=(0,a.useState)({}),[l,c]=(0,a.useState)(!1),d=gt(),u=re(),{user:p,logout:h,hasPermission:f}=eC();(0,a.useEffect)((()=>{const e=localStorage.getItem("token");e?ed.defaults.headers.common.Authorization=`Bearer ${e}`:u("/login")}),[u]),(0,a.useEffect)((()=>{p&&p.rol&&"OPERADOR"===p.rol.nombre.toUpperCase()&&s((e=>({...e,Operaciones:!0})))}),[p]);const m=()=>{c(!0)},g=()=>{c(!1)},v=e=>{e&&(console.log("Navegando a:",e),u(e),o(!1))},x=[{text:"Principal",icon:(0,Ve.jsx)(gs,{}),path:"/",requiredModule:"PRINCIPAL",requiredAction:"VER"},{text:"Caja Mayor",icon:(0,Ve.jsx)(vs,{}),path:"",isExpandable:!0,requiredModule:"CAJA_MAYOR",requiredAction:"BALANCE",subItems:[{text:"Balance",icon:(0,Ve.jsx)(vs,{}),path:"caja-mayor/balance",requiredModule:"CAJA_MAYOR",requiredAction:"BALANCE"}]},{text:"Saldos Monetarios",icon:(0,Ve.jsx)(xs,{}),path:"saldos-monetarios",isExpandable:!0,requiredModule:"SALDOS_MONETARIOS",requiredAction:"VER",subItems:[{text:"Balance con Farmacia",icon:(0,Ve.jsx)(vs,{}),path:"saldos-monetarios/balance-farmacia",requiredModule:"SALDOS_MONETARIOS",requiredAction:"VER"},{text:"Balance con Personas",icon:(0,Ve.jsx)(bs,{}),path:"saldos-monetarios/balance-personas",requiredModule:"SALDOS_MONETARIOS",requiredAction:"VER"},{text:"Aqui Pago",icon:(0,Ve.jsx)(ys,{}),path:"saldos-monetarios/aqui-pago",requiredModule:"SALDOS_MONETARIOS",requiredAction:"VER"},{text:"Wepa Gs",icon:(0,Ve.jsx)(ys,{}),path:"saldos-monetarios/weno-gs",requiredModule:"SALDOS_MONETARIOS",requiredAction:"VER"},{text:"Wepa USD",icon:(0,Ve.jsx)(ys,{}),path:"saldos-monetarios/wepa-usd",requiredModule:"SALDOS_MONETARIOS",requiredAction:"VER"},{text:"Lucro",icon:(0,Ve.jsx)(ys,{}),path:"saldos-monetarios/lucro",requiredModule:"SALDOS_MONETARIOS",requiredAction:"VER"}]},{text:"Operaciones",icon:(0,Ve.jsx)(js,{}),path:"",isExpandable:!0,requiredModule:"OPERACIONES",requiredAction:"CAJAS",subItems:[{text:"Cajas",icon:(0,Ve.jsx)(js,{}),path:"cajas",requiredModule:"OPERACIONES",requiredAction:"CAJAS"}]},{text:"Controles",icon:(0,Ve.jsx)(js,{}),path:"",isExpandable:!0,requiredModule:"PDV",requiredAction:"CAJAS",subItems:[{text:"Diferencias",icon:(0,Ve.jsx)(ws,{}),path:"diferencias",requiredModule:"PDV",requiredAction:"CONTROL_CAJAS"},{text:"Gastos",icon:(0,Ve.jsx)(Ss,{}),path:"controles/gastos",requiredModule:"PDV",requiredAction:"CONTROL_CAJAS"},{text:"Activo/Pasivo",icon:(0,Ve.jsx)(vs,{}),path:"controles/activo-pasivo",requiredModule:"PDV",requiredAction:"CONTROL_CAJAS"}]},{text:"RRHH",icon:(0,Ve.jsx)(Cs,{}),path:"",isExpandable:!0,requiredModule:"RECURSOS_HUMANOS",requiredAction:"PERSONAS",subItems:[{text:"Personas",icon:(0,Ve.jsx)(bs,{}),path:"recursos-humanos",requiredModule:"RECURSOS_HUMANOS",requiredAction:"PERSONAS"},{text:"Carga de Sueldos",icon:(0,Ve.jsx)(Ss,{}),path:"carga-sueldos",requiredModule:"RECURSOS_HUMANOS",requiredAction:"SUELDOS"},{text:"Resumen Mensual",icon:(0,Ve.jsx)(ws,{}),path:"resumen-mensual",requiredModule:"RECURSOS_HUMANOS",requiredAction:"RESUMEN_MENSUAL"},{text:"IPS",icon:(0,Ve.jsx)(As,{}),path:"ips",requiredModule:"RECURSOS_HUMANOS",requiredAction:"PERSONAS"}]},{text:"Configuraci\xf3n",icon:(0,Ve.jsx)(Es,{}),path:"",isExpandable:!0,requiredModule:"CONFIGURACION",requiredAction:"USUARIOS",subItems:[{text:"Usuarios",icon:(0,Ve.jsx)(bs,{}),path:"usuarios",requiredModule:"CONFIGURACION",requiredAction:"USUARIOS"},{text:"Roles",icon:(0,Ve.jsx)(ks,{}),path:"roles",requiredModule:"CONFIGURACION",requiredAction:"ROLES"},{text:"Cotizaciones",icon:(0,Ve.jsx)(Os,{}),path:"cotizaciones",requiredModule:"CONFIGURACION",requiredAction:"COTIZACIONES"},{text:"Sucursales",icon:(0,Ve.jsx)(gs,{}),path:"sucursales",requiredModule:"CONFIGURACION",requiredAction:"SUCURSALES"},{text:"Maletines",icon:(0,Ve.jsx)(Ps,{}),path:"maletines",requiredModule:"CONFIGURACION",requiredAction:"MALETINES"},{text:"Cuentas Bancarias",icon:(0,Ve.jsx)(vs,{}),path:"cuentas-bancarias",requiredModule:"CONFIGURACION",requiredAction:"SUCURSALES"},{text:"Dispositivos POS",icon:(0,Ve.jsx)(Is,{}),path:"pos",requiredModule:"CONFIGURACION",requiredAction:"SUCURSALES"},{text:"Aquipago",icon:(0,Ve.jsx)(Is,{}),path:"aquipago",requiredModule:"CONFIGURACION",requiredAction:"AQUIPAGO"},{text:"WEPA GS",icon:(0,Ve.jsx)(Is,{}),path:"wepa-gs",requiredModule:"CONFIGURACION",requiredAction:"AQUIPAGO"},{text:"WEPA USD",icon:(0,Ve.jsx)(Is,{}),path:"wepa-usd",requiredModule:"CONFIGURACION",requiredAction:"AQUIPAGO"},{text:"Carrusel",icon:(0,Ve.jsx)(Ds,{}),path:"carrusel",requiredModule:"CONFIGURACION",requiredAction:"USUARIOS"},{text:"Sueldo M\xednimo",icon:(0,Ve.jsx)(ys,{}),path:"sueldo-minimo",requiredModule:"CONFIGURACION",requiredAction:"SUELDO_MINIMO"},{text:"Categor\xedas de Gastos",icon:(0,Ve.jsx)(Ms,{}),path:"categorias-gastos",requiredModule:"CONFIGURACION",requiredAction:"USUARIOS"},{text:"Notificaciones",icon:(0,Ve.jsx)(Ts,{}),path:"gestion-notificaciones",requiredModule:"CONFIGURACION",requiredAction:"USUARIOS"},{text:"Impresoras T\xe9rmicas",icon:(0,Ve.jsx)(Rs,{}),path:"impresoras-termicas",requiredModule:"CONFIGURACION",requiredAction:"USUARIOS"}]}].filter((e=>{if("Principal"===e.text)return!0;if(p&&p.rol&&"OPERADOR"===p.rol.nombre.toUpperCase()&&"Operaciones"===e.text)return e.subItems&&(e.subItems=e.subItems.map((e=>e))),!0;if(!e.requiredModule||!e.requiredAction)return!0;const t=f(e.requiredModule,e.requiredAction);if(e.isExpandable&&e.subItems){const t=e.subItems.filter((e=>!e.requiredModule||!e.requiredAction||f(e.requiredModule,e.requiredAction)));if(0===t.length)return!1;e.subItems=t}return t}));return(0,Ve.jsxs)(Et,{sx:{display:"flex"},children:[(0,Ve.jsx)(_t,{position:"fixed",sx:{zIndex:d.zIndex.drawer+1,width:"100%",transition:d.transitions.create(["width","margin"],{easing:d.transitions.easing.sharp,duration:d.transitions.duration.leavingScreen})},children:(0,Ve.jsxs)(Gt,{children:[(0,Ve.jsx)(Ir,{color:"inherit","aria-label":"open drawer",onClick:()=>{o(!n)},edge:"start",sx:{marginRight:2},children:(0,Ve.jsx)(Ns,{})}),(0,Ve.jsx)(Et,{component:"img",src:"/logo-farmacia.png.png",alt:"Farmacia Franco Logo",sx:{height:"40px",width:"auto",marginRight:2}}),(0,Ve.jsx)($r,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1},children:"Sistema de Servicios"}),p&&(0,Ve.jsx)($r,{variant:"body2",sx:{mr:2},children:p.username}),(0,Ve.jsx)(NZ,{}),(0,Ve.jsx)(nI,{}),(0,Ve.jsx)(Qo,{title:"Herramientas de diagn\xf3stico",children:(0,Ve.jsx)(Ir,{color:"inherit",onClick:()=>u("/notificaciones/test"),sx:{ml:1},children:(0,Ve.jsx)(Es,{})})}),(0,Ve.jsx)(Ir,{color:"inherit",onClick:m,children:(0,Ve.jsx)($s,{})})]})}),(0,Ve.jsx)(Ba,{variant:"permanent",open:n,sx:{width:n?240:d.spacing(7),flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box","& .MuiDrawer-paper":{width:n?240:d.spacing(7),transition:d.transitions.create("width",{easing:d.transitions.easing.sharp,duration:d.transitions.duration.enteringScreen}),overflowX:"hidden",backgroundColor:d.palette.background.paper,borderRight:`1px solid ${d.palette.divider}`,position:"fixed",height:"calc(100% - 64px)",top:"64px"}},children:(0,Ve.jsxs)(Et,{sx:{overflow:"auto",display:"flex",flexDirection:"column",height:"100%","&::-webkit-scrollbar":{width:"8px"},"&::-webkit-scrollbar-track":{background:"rgba(0, 0, 0, 0.1)"},"&::-webkit-scrollbar-thumb":{background:"rgba(0, 0, 0, 0.5)",borderRadius:"4px","&:hover":{background:"rgba(0, 0, 0, 0.7)"}},scrollbarWidth:"thin",scrollbarColor:"rgba(0, 0, 0, 0.5) rgba(0, 0, 0, 0.1)"},children:[(0,Ve.jsx)(Va,{children:x.map((e=>(0,Ve.jsxs)(a.Fragment,{children:[(0,Ve.jsxs)(ai,{button:!0,onClick:()=>{return e.isExpandable?(t=e.text,void s((e=>({...e,[t]:!e[t]})))):v(e.path);var t},sx:{minHeight:40,justifyContent:n?"initial":"center",px:2},children:[(0,Ve.jsx)(di,{sx:{minWidth:0,mr:n?2:"auto",justifyContent:"center"},children:e.icon}),(0,Ve.jsx)(mi,{primary:e.text,sx:{opacity:n?1:0,whiteSpace:"nowrap"}}),e.isExpandable&&n&&(i[e.text]?(0,Ve.jsx)(zs,{}):(0,Ve.jsx)(Ls,{}))]}),e.isExpandable&&e.subItems&&(0,Ve.jsx)(Si,{in:n&&i[e.text],timeout:"auto",unmountOnExit:!0,children:(0,Ve.jsx)(Va,{component:"div",disablePadding:!0,children:e.subItems.map((e=>(0,Ve.jsxs)(ai,{button:!0,onClick:()=>v(e.path),sx:{pl:3,minHeight:36},children:[(0,Ve.jsx)(di,{sx:{minWidth:0,mr:2},children:e.icon}),(0,Ve.jsx)(mi,{primary:e.text})]},e.text)))})})]},e.text)))}),(0,Ve.jsx)(Et,{sx:{flexGrow:1}}),(0,Ve.jsx)(Ii,{}),(0,Ve.jsx)(Va,{children:(0,Ve.jsxs)(ai,{button:!0,onClick:m,sx:{minHeight:40,justifyContent:n?"initial":"center",px:2,mb:1},children:[(0,Ve.jsx)(di,{sx:{minWidth:0,mr:n?2:"auto",justifyContent:"center",color:d.palette.error.main},children:(0,Ve.jsx)($s,{})}),(0,Ve.jsx)(mi,{primary:"Cerrar Sesi\xf3n",sx:{opacity:n?1:0,color:d.palette.error.main}})]})})]})}),(0,Ve.jsx)(Et,{component:"main",sx:{flexGrow:1,p:3,width:{sm:"calc(100% - 240px)"},ml:{sm:`${d.spacing(7)}px`},mt:"64px"},children:(0,Ve.jsxs)(we,{children:[(0,Ve.jsx)(ye,{path:"/",element:(0,Ve.jsx)(WX,{})}),(0,Ve.jsx)(ye,{path:"usuarios",element:f("CONFIGURACION","USUARIOS")?(0,Ve.jsx)(Pf,{}):(0,Ve.jsx)(xe,{to:"acceso-denegado"})}),(0,Ve.jsx)(ye,{path:"recursos-humanos",element:f("RECURSOS_HUMANOS","PERSONAS")?(0,Ve.jsx)(kw,{}):(0,Ve.jsx)(xe,{to:"acceso-denegado"})}),(0,Ve.jsx)(ye,{path:"carga-sueldos",element:f("RECURSOS_HUMANOS","SUELDOS")?(0,Ve.jsx)(ZX,{}):(0,Ve.jsx)(xe,{to:"acceso-denegado"})}),(0,Ve.jsx)(ye,{path:"ips",element:f("RECURSOS_HUMANOS","PERSONAS")?(0,Ve.jsx)(kQ,{}):(0,Ve.jsx)(xe,{to:"acceso-denegado"})}),(0,Ve.jsx)(ye,{path:"roles",element:f("CONFIGURACION","ROLES")?(0,Ve.jsx)(NS,{}):(0,Ve.jsx)(xe,{to:"acceso-denegado"})}),(0,Ve.jsx)(ye,{path:"cotizaciones",element:f("CONFIGURACION","COTIZACIONES")?(0,Ve.jsx)(oC,{}):(0,Ve.jsx)(xe,{to:"acceso-denegado"})}),(0,Ve.jsx)(ye,{path:"resumen-mensual",element:f("RECURSOS_HUMANOS","RESUMEN_MENSUAL")?(0,Ve.jsx)(CQ,{}):(0,Ve.jsx)(xe,{to:"acceso-denegado"})}),(0,Ve.jsx)(ye,{path:"caja-mayor/balance",element:f("CAJA_MAYOR","BALANCE")?(0,Ve.jsx)(vk,{}):(0,Ve.jsx)(xe,{to:"acceso-denegado"})}),(0,Ve.jsx)(ye,{path:"caja-mayor/movimientos",element:f("CAJA_MAYOR","BALANCE")?(0,Ve.jsx)(Pk,{}):(0,Ve.jsx)(xe,{to:"acceso-denegado"})}),(0,Ve.jsx)(ye,{path:"pdv/cajas",element:f("PDV","CAJAS")?(0,Ve.jsx)(DO,{}):(0,Ve.jsx)(xe,{to:"acceso-denegado"})}),(0,Ve.jsx)(ye,{path:"pdv/control-cajas",element:f("PDV","CONTROL_CAJAS")?(0,Ve.jsx)(RO,{}):(0,Ve.jsx)(xe,{to:"acceso-denegado"})}),(0,Ve.jsx)(ye,{path:"diferencias",element:f("PDV","CONTROL_CAJAS")?(0,Ve.jsx)(JP,{}):(0,Ve.jsx)(xe,{to:"acceso-denegado"})}),(0,Ve.jsx)(ye,{path:"saldos-monetarios",element:f("SALDOS_MONETARIOS","VER")?(0,Ve.jsx)(uI,{}):(0,Ve.jsx)(xe,{to:"acceso-denegado"})}),(0,Ve.jsx)(ye,{path:"saldos-monetarios/balance-farmacia",element:f("SALDOS_MONETARIOS","VER")?(0,Ve.jsx)(gI,{}):(0,Ve.jsx)(xe,{to:"acceso-denegado"})}),(0,Ve.jsx)(ye,{path:"saldos-monetarios/balance-personas",element:f("SALDOS_MONETARIOS","VER")?(0,Ve.jsx)(mX,{}):(0,Ve.jsx)(xe,{to:"acceso-denegado"})}),(0,Ve.jsx)(ye,{path:"saldos-monetarios/aqui-pago",element:f("SALDOS_MONETARIOS","VER")?(0,Ve.jsx)(IX,{}):(0,Ve.jsx)(xe,{to:"acceso-denegado"})}),(0,Ve.jsx)(ye,{path:"saldos-monetarios/weno-gs",element:f("SALDOS_MONETARIOS","VER")?(0,Ve.jsx)(MX,{}):(0,Ve.jsx)(xe,{to:"acceso-denegado"})}),(0,Ve.jsx)(ye,{path:"saldos-monetarios/wepa-usd",element:f("SALDOS_MONETARIOS","VER")?(0,Ve.jsx)(TX,{}):(0,Ve.jsx)(xe,{to:"acceso-denegado"})}),(0,Ve.jsx)(ye,{path:"saldos-monetarios/lucro",element:f("SALDOS_MONETARIOS","VER")?(0,Ve.jsx)(gZ,{}):(0,Ve.jsx)(xe,{to:"acceso-denegado"})}),(0,Ve.jsx)(ye,{path:"sucursales",element:f("CONFIGURACION","SUCURSALES")?(0,Ve.jsx)(LO,{}):(0,Ve.jsx)(xe,{to:"acceso-denegado"})}),(0,Ve.jsx)(ye,{path:"maletines",element:f("CONFIGURACION","MALETINES")?(0,Ve.jsx)(UO,{}):(0,Ve.jsx)(xe,{to:"acceso-denegado"})}),(0,Ve.jsx)(ye,{path:"cajas",element:p&&p.rol&&"OPERADOR"===p.rol.nombre.toUpperCase()||f("OPERACIONES","CAJAS")?(0,Ve.jsx)(DO,{}):(0,Ve.jsx)(xe,{to:"acceso-denegado"})}),(0,Ve.jsx)(ye,{path:"cuentas-bancarias",element:f("CONFIGURACION","SUCURSALES")?(0,Ve.jsx)(YO,{}):(0,Ve.jsx)(xe,{to:"acceso-denegado"})}),(0,Ve.jsx)(ye,{path:"pos",element:f("CONFIGURACION","SUCURSALES")?(0,Ve.jsx)(tP,{}):(0,Ve.jsx)(xe,{to:"acceso-denegado"})}),(0,Ve.jsx)(ye,{path:"aquipago",element:f("CONFIGURACION","AQUIPAGO")?(0,Ve.jsx)(DP,{}):(0,Ve.jsx)(xe,{to:"acceso-denegado"})}),(0,Ve.jsx)(ye,{path:"wepa-gs",element:f("CONFIGURACION","AQUIPAGO")?(0,Ve.jsx)(zP,{}):(0,Ve.jsx)(xe,{to:"acceso-denegado"})}),(0,Ve.jsx)(ye,{path:"wepa-usd",element:f("CONFIGURACION","AQUIPAGO")?(0,Ve.jsx)(WP,{}):(0,Ve.jsx)(xe,{to:"acceso-denegado"})}),(0,Ve.jsx)(ye,{path:"carrusel",element:f("CONFIGURACION","USUARIOS")?(0,Ve.jsx)(GX,{}):(0,Ve.jsx)(xe,{to:"acceso-denegado"})}),(0,Ve.jsx)(ye,{path:"sueldo-minimo",element:f("SUELDO_MINIMO","VER")?(0,Ve.jsx)(YX,{}):(0,Ve.jsx)(xe,{to:"acceso-denegado"})}),(0,Ve.jsx)(ye,{path:"categorias-gastos",element:f("CONFIGURACION","USUARIOS")?(0,Ve.jsx)(PQ,{}):(0,Ve.jsx)(xe,{to:"acceso-denegado"})}),(0,Ve.jsx)(ye,{path:"gestion-notificaciones",element:f("CONFIGURACION","USUARIOS")?(0,Ve.jsx)(WZ,{}):(0,Ve.jsx)(xe,{to:"acceso-denegado"})}),(0,Ve.jsx)(ye,{path:"impresoras-termicas",element:f("CONFIGURACION","USUARIOS")?(0,Ve.jsx)(GZ,{}):(0,Ve.jsx)(xe,{to:"acceso-denegado"})}),(0,Ve.jsx)(ye,{path:"controles/gastos",element:f("PDV","CONTROL_CAJAS")?(0,Ve.jsx)(aZ,{}):(0,Ve.jsx)(xe,{to:"acceso-denegado"})}),(0,Ve.jsx)(ye,{path:"controles/activo-pasivo",element:f("PDV","CONTROL_CAJAS")?(0,Ve.jsx)(bZ,{}):(0,Ve.jsx)(xe,{to:"acceso-denegado"})}),(0,Ve.jsx)(ye,{path:"notificaciones",element:(0,Ve.jsx)(zZ,{})}),(0,Ve.jsx)(ye,{path:"notificaciones/test",element:(0,Ve.jsx)(LZ,{})}),(0,Ve.jsx)(ye,{path:"acceso-denegado",element:(0,Ve.jsxs)($t,{elevation:2,sx:{p:3,textAlign:"center",borderRadius:2,boxShadow:d.shadows[3],backgroundImage:"linear-gradient(to bottom right, rgba(255,55,55,0.05), rgba(255,55,55,0))"},children:[(0,Ve.jsx)($r,{variant:"h4",gutterBottom:!0,color:"error",children:"Acceso Denegado"}),(0,Ve.jsx)($r,{variant:"body1",children:"No tienes permisos para acceder a esta secci\xf3n."})]})})]})}),(0,Ve.jsxs)(Fi,{open:l,onClose:g,children:[(0,Ve.jsx)(Gi,{children:"\xbfCerrar sesi\xf3n?"}),(0,Ve.jsx)(Ki,{children:(0,Ve.jsx)(Zi,{children:"\xbfEst\xe1s seguro de que deseas cerrar la sesi\xf3n?"})}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:g,color:"primary",children:"Cancelar"}),(0,Ve.jsx)(fs,{onClick:()=>{h(),c(!1)},color:"error",autoFocus:!0,children:"Cerrar Sesi\xf3n"})]})]})]})};function qZ(e){return(0,Mt.Ay)("MuiLink",e)}const YZ=(0,St.A)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var KZ=r(7162);const XZ={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},QZ=e=>{let{theme:t,ownerState:r}=e;const n=(e=>XZ[e]||e)(r.color),o=(0,KZ.Yn)(t,`palette.${n}`,!1)||r.color,a=(0,KZ.Yn)(t,`palette.${n}Channel`);return"vars"in t&&a?`rgba(${a} / 0.4)`:(0,It.X4)(o,.4)},JZ=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],ZZ=(0,Ot.Ay)($r,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`underline${(0,Pt.A)(r.underline)}`],"button"===r.component&&t.button]}})((e=>{let{theme:t,ownerState:r}=e;return(0,Be.A)({},"none"===r.underline&&{textDecoration:"none"},"hover"===r.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===r.underline&&(0,Be.A)({textDecoration:"underline"},"inherit"!==r.color&&{textDecorationColor:QZ({theme:t,ownerState:r})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===r.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${YZ.focusVisible}`]:{outline:"auto"}})})),e0=a.forwardRef((function(e,t){const r=(0,at.b)({props:e,name:"MuiLink"}),{className:n,color:o="primary",component:i="a",onBlur:s,onFocus:l,TypographyClasses:c,underline:d="always",variant:u="inherit",sx:p}=r,h=(0,Fe.A)(r,JZ),{isFocusVisibleRef:f,onBlur:m,onFocus:g,ref:v}=(0,Yt.A)(),[x,b]=a.useState(!1),y=(0,Ht.A)(t,v),j=(0,Be.A)({},r,{color:o,component:i,focusVisible:x,underline:d,variant:u}),w=(e=>{const{classes:t,component:r,focusVisible:n,underline:o}=e,a={root:["root",`underline${(0,Pt.A)(o)}`,"button"===r&&"button",n&&"focusVisible"]};return(0,kt.A)(a,qZ,t)})(j);return(0,Ve.jsx)(ZZ,(0,Be.A)({color:o,className:(0,vt.A)(w.root,n),classes:c,component:i,onBlur:e=>{m(e),!1===f.current&&b(!1),s&&s(e)},onFocus:e=>{g(e),!0===f.current&&b(!0),l&&l(e)},ref:y,ownerState:j,variant:u,sx:[...Object.keys(XZ).includes(o)?[]:[{color:o}],...Array.isArray(p)?p:[p]]},h))})),t0=e=>{let{onToggleTheme:t,isDarkMode:r}=e;re(),gt();const{login:n,loading:o,error:i}=eC(),[s,l]=(0,a.useState)({username:"",password:""}),[c,d]=(0,a.useState)(""),[u,p]=(0,a.useState)(!1),[h,f]=(0,a.useState)(!1),[m,g]=(0,a.useState)(!1),[v,x]=(0,a.useState)(!1),[b,y]=(0,a.useState)({username:"",oldPassword:"",newPassword:"",confirmPassword:""}),[j,w]=(0,a.useState)(!1),S=e=>{const{name:t,value:r}=e.target;l((e=>({...e,[t]:"username"===t?r.toUpperCase():r})))},C=e=>{const{name:t,value:r}=e.target;y((e=>({...e,[t]:"username"===t?r.toUpperCase():r})))};return(0,Ve.jsxs)(Jk,{component:"main",maxWidth:"xs",children:[(0,Ve.jsx)(Et,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:(0,Ve.jsxs)($t,{elevation:3,sx:{padding:4,display:"flex",flexDirection:"column",alignItems:"center",width:"100%",backgroundColor:"background.paper"},children:[(0,Ve.jsx)(Et,{component:"img",src:"/logo-farmacia.png.png",alt:"Farmacia Franco Logo",sx:{width:"100%",maxWidth:"280px",height:"auto",marginBottom:1,objectFit:"contain"}}),(0,Ve.jsx)($r,{variant:"h6",sx:{mb:4,color:"#808080",fontWeight:"bold",letterSpacing:"2px"},children:"SERVICIOS"}),(c||i)&&(0,Ve.jsx)(Ah,{severity:"error",sx:{width:"100%",mb:2},children:c||i}),(0,Ve.jsxs)(Et,{component:"form",onSubmit:async e=>{e.preventDefault(),d("");try{await n(s.username,s.password)}catch(t){d(i||"Error al iniciar sesi\xf3n. Verifique sus credenciales.")}},noValidate:!0,sx:{mt:1,width:"100%"},children:[(0,Ve.jsx)(jp,{margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Usuario",name:"username",autoComplete:"username",autoFocus:!0,value:s.username,onChange:S,InputProps:{sx:{borderRadius:2}}}),(0,Ve.jsx)(jp,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Contrase\xf1a",type:h?"text":"password",id:"password",autoComplete:"current-password",value:s.password,onChange:S,InputProps:{sx:{borderRadius:2},endAdornment:(0,Ve.jsx)(kp,{position:"end",children:(0,Ve.jsx)(Ir,{"aria-label":"toggle password visibility",onClick:()=>f(!h),onMouseDown:e=>e.preventDefault(),edge:"end",children:h?(0,Ve.jsx)(FZ,{}):(0,Ve.jsx)(cA,{})})})}}),(0,Ve.jsxs)(Et,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:1},children:[(0,Ve.jsx)(e0,{component:"button",type:"button",variant:"body2",onClick:()=>x(!0),sx:{textDecoration:"none"},children:"Cambiar Contrase\xf1a"}),(0,Ve.jsxs)(e0,{component:"button",type:"button",variant:"body2",onClick:t,sx:{textDecoration:"none"},children:["Modo ",r?"Claro":"Oscuro"]})]}),(0,Ve.jsx)(fs,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,py:1.5,borderRadius:2},disabled:o,children:o?(0,Ve.jsx)(KS,{size:24}):"Iniciar Sesi\xf3n"})]})]})}),(0,Ve.jsxs)(Fi,{open:v,onClose:()=>x(!1),maxWidth:"xs",fullWidth:!0,children:[(0,Ve.jsx)(Gi,{children:"Cambiar Contrase\xf1a"}),(0,Ve.jsx)(Ki,{children:j?(0,Ve.jsx)(Ah,{severity:"success",sx:{mt:2},children:"Contrase\xf1a actualizada con \xe9xito"}):(0,Ve.jsxs)(Ve.Fragment,{children:[c&&(0,Ve.jsx)(Ah,{severity:"error",sx:{mt:2,mb:2},children:c}),(0,Ve.jsx)(jp,{autoFocus:!0,margin:"dense",id:"username",name:"username",label:"Usuario",type:"text",fullWidth:!0,variant:"outlined",value:b.username,onChange:C}),(0,Ve.jsx)(jp,{margin:"dense",id:"oldPassword",name:"oldPassword",label:"Contrase\xf1a Actual",type:"password",fullWidth:!0,variant:"outlined",value:b.oldPassword,onChange:C}),(0,Ve.jsx)(jp,{margin:"dense",id:"newPassword",name:"newPassword",label:"Nueva Contrase\xf1a",type:"password",fullWidth:!0,variant:"outlined",value:b.newPassword,onChange:C}),(0,Ve.jsx)(jp,{margin:"dense",id:"confirmPassword",name:"confirmPassword",label:"Confirmar Nueva Contrase\xf1a",type:"password",fullWidth:!0,variant:"outlined",value:b.confirmPassword,onChange:C})]})}),(0,Ve.jsxs)(ns,{children:[(0,Ve.jsx)(fs,{onClick:()=>x(!1),color:"primary",children:"Cancelar"}),(0,Ve.jsx)(fs,{onClick:async()=>{if(b.username&&b.oldPassword&&b.newPassword)if(b.newPassword===b.confirmPassword){p(!0),d("");try{await ed.post("http://localhost:3000/api/auth/cambiar-password",{username:b.username.toUpperCase(),oldPassword:b.oldPassword,newPassword:b.newPassword}),w(!0),y({username:"",oldPassword:"",newPassword:"",confirmPassword:""}),setTimeout((()=>{x(!1),w(!1)}),2e3)}catch(r){var e,t;console.error("Error al cambiar contrase\xf1a:",r),d((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Error al cambiar la contrase\xf1a. Verifique sus datos.")}finally{p(!1)}}else d("Las contrase\xf1as nuevas no coinciden");else d("Todos los campos son obligatorios")},color:"primary",disabled:u||j,children:u?(0,Ve.jsx)(KS,{size:24}):"Cambiar"})]})]})]})};ed.defaults.baseURL="http://localhost:3000";const r0=localStorage.getItem("token");r0&&(ed.defaults.headers.common.Authorization=`Bearer ${r0}`),ed.interceptors.response.use((e=>e),(e=>{var t;!e.response||401!==e.response.status&&403!==e.response.status||(console.error(`%c[Interceptor Auth Error] ${e.response.status} en ${null===(t=e.config.method)||void 0===t?void 0:t.toUpperCase()} ${e.config.url}`,"color: red; font-weight: bold;"),console.error("[Interceptor Auth Error] Respuesta del servidor:",e.response.data),console.error("[Interceptor Auth Error] Configuraci\xf3n de la petici\xf3n:",e.config),e.config.url&&e.config.url.includes("/api/rrhh/")?console.warn("[Interceptor] Ignorando error de autenticaci\xf3n en m\xf3dulo RRHH para debugging"):(localStorage.removeItem("token"),localStorage.removeItem("user"),delete ed.defaults.headers.common.Authorization,window.location.href="/login"));return Promise.reject(e)}));const n0=()=>{const{user:e,loading:t}=eC();return t?null:e?(0,Ve.jsx)(be,{}):(0,Ve.jsx)(xe,{to:"/login",replace:!0})},o0=()=>{const[e,t]=(0,a.useState)("dark"===localStorage.getItem("themeMode")?"dark":"light"),r=()=>{const r="light"===e?"dark":"light";t(r),localStorage.setItem("themeMode",r)},n=a.useMemo((()=>(0,Le.A)({palette:{mode:e,primary:{main:"#1976d2"},secondary:{main:"#dc004e"}}})),[e]);return(0,Ve.jsxs)(ot,{theme:n,children:[(0,Ve.jsx)(mt,{}),(0,Ve.jsx)(Ie,{children:(0,Ve.jsx)(tC,{children:(0,Ve.jsx)(CC,{children:(0,Ve.jsx)(Nk,{children:(0,Ve.jsx)(rI,{children:(0,Ve.jsxs)(we,{children:[(0,Ve.jsx)(ye,{path:"/login",element:(0,Ve.jsx)(t0,{onToggleTheme:r,isDarkMode:"dark"===e})}),(0,Ve.jsx)(ye,{element:(0,Ve.jsx)(n0,{}),children:(0,Ve.jsx)(ye,{path:"/*",element:(0,Ve.jsx)(HZ,{onToggleTheme:r,isDarkMode:"dark"===e})})})]})})})})})})]})};s.createRoot(document.getElementById("root")).render((0,Ve.jsx)(a.StrictMode,{children:(0,Ve.jsx)(o0,{})}))})()})();
//# sourceMappingURL=main.e996c8c2.js.map